{"version":3,"sources":["../../../core/src/index.tsx","../../../core/src/components/pages/error/index.tsx","../../../core/src/contexts/auth/index.tsx","../../../core/src/hooks/auth/usePermissions/index.ts","../../../core/src/hooks/auth/useGetIdentity/index.ts","../../../core/src/hooks/auth/useLogout/index.ts","../../../core/src/hooks/auth/useInvaliteAuthStore/index.ts","../../../core/src/hooks/auth/useLogin/index.ts","../../../core/src/hooks/auth/useRegister/index.ts","../../../core/src/hooks/auth/useForgotPassword/index.ts","../../../core/src/hooks/auth/useUpdatePassword/index.ts","../../../core/src/hooks/auth/useIsAuthenticated/index.ts","../../../core/src/hooks/auth/useOnError/index.ts","../../../core/src/hooks/auth/useIsExistAuthentication/index.ts","../../../core/src/hooks/data/useList.ts","../../../core/src/definitions/helpers/userFriendlySeconds/index.ts","../../../core/src/definitions/helpers/importCSVMapper/index.ts","../../../core/src/definitions/helpers/userFriendlyResourceName/index.ts","../../../core/src/definitions/table/index.ts","../../../core/src/definitions/upload/file2Base64/index.ts","../../../core/src/definitions/helpers/handleUseParams/index.tsx","../../../core/src/definitions/helpers/pickNotDeprecated/index.ts","../../../core/src/definitions/helpers/queryKeys/index.ts","../../../core/src/definitions/helpers/hasPermission/index.ts","../../../core/src/definitions/helpers/router/is-parameter.ts","../../../core/src/definitions/helpers/router/split-to-segments.ts","../../../core/src/definitions/helpers/router/is-segment-counts-same.ts","../../../core/src/definitions/helpers/router/remove-leading-trailing-slashes.ts","../../../core/src/definitions/helpers/router/check-by-segments.ts","../../../core/src/definitions/helpers/router/get-default-action-path.ts","../../../core/src/definitions/helpers/router/get-parent-resource.ts","../../../core/src/definitions/helpers/router/get-parent-prefix-for-resource.ts","../../../core/src/definitions/helpers/router/get-action-routes-from-resource.ts","../../../core/src/definitions/helpers/router/pick-matched-route.ts","../../../core/src/definitions/helpers/router/match-resource-from-route.ts","../../../core/src/definitions/helpers/routeGenerator/index.ts","../../../core/src/definitions/helpers/treeView/createTreeView/index.ts","../../../core/src/definitions/helpers/humanizeString/index.ts","../../../core/src/contexts/refine/index.tsx","../../../core/src/components/layoutWrapper/defaultLayout/index.tsx","../../../core/src/definitions/helpers/handleRefineOptions/index.ts","../../../core/src/definitions/helpers/redirectPage/index.ts","../../../core/src/definitions/helpers/sequentialPromises/index.ts","../../../core/src/definitions/helpers/pick-resource/index.ts","../../../core/src/definitions/helpers/pickDataProvider/index.ts","../../../core/src/definitions/helpers/handleMultiple/index.ts","../../../core/src/definitions/helpers/useInfinitePagination/index.ts","../../../core/src/definitions/helpers/legacy-resource-transform/index.ts","../../../core/src/definitions/helpers/router/pick-route-params.ts","../../../core/src/definitions/helpers/router/prepare-route-params.ts","../../../core/src/definitions/helpers/router/compose-route.ts","../../../core/src/definitions/helpers/useActiveAuthProvider/index.ts","../../../core/src/definitions/helpers/handlePaginationParams/index.ts","../../../core/src/hooks/data/useOne.ts","../../../core/src/hooks/data/useMany.ts","../../../core/src/hooks/data/useUpdate.ts","../../../core/src/contexts/undoableQueue/undoableQueueContext.tsx","../../../core/src/hooks/data/useCreate.ts","../../../core/src/hooks/data/useDelete.ts","../../../core/src/hooks/data/useCreateMany.ts","../../../core/src/hooks/data/useUpdateMany.ts","../../../core/src/hooks/data/useDeleteMany.ts","../../../core/src/hooks/data/useApiUrl.ts","../../../core/src/hooks/data/useCustom.ts","../../../core/src/hooks/data/useCustomMutation.ts","../../../core/src/hooks/data/useDataProvider.tsx","../../../core/src/contexts/data/index.tsx","../../../core/src/hooks/data/useInfiniteList.ts","../../../core/src/hooks/live/useResourceSubscription/index.ts","../../../core/src/contexts/live/index.tsx","../../../core/src/hooks/live/useLiveMode/index.ts","../../../core/src/hooks/live/useSubscription/index.ts","../../../core/src/hooks/live/usePublish/index.ts","../../../core/src/hooks/resource/useResource/index.ts","../../../core/src/contexts/resource/index.tsx","../../../core/src/hooks/deepMemo/index.tsx","../../../core/src/hooks/memoized/index.tsx","../../../core/src/contexts/router-picker/index.tsx","../../../core/src/hooks/router/use-parsed/index.tsx","../../../core/src/contexts/router/index.tsx","../../../core/src/hooks/router/use-parse/index.tsx","../../../core/src/hooks/resource/useResourceWithRoute/index.ts","../../../core/src/hooks/notification/useCancelNotification/index.tsx","../../../core/src/hooks/notification/useNotification/index.ts","../../../core/src/contexts/notification/index.tsx","../../../core/src/hooks/notification/useHandleNotification/index.ts","../../../core/src/hooks/translate/useSetLocale.ts","../../../core/src/contexts/translation/index.tsx","../../../core/src/hooks/translate/useTranslate.ts","../../../core/src/hooks/translate/useGetLocale.ts","../../../core/src/hooks/refine/useMutationMode.ts","../../../core/src/hooks/refine/useWarnAboutChange/index.ts","../../../core/src/contexts/unsavedWarn/index.tsx","../../../core/src/hooks/refine/useSyncWithLocation.ts","../../../core/src/hooks/refine/useTitle.tsx","../../../core/src/hooks/refine/useRefineContext.ts","../../../core/src/hooks/export/index.ts","../../../core/src/hooks/form/useForm.ts","../../../core/src/hooks/redirection/index.ts","../../../core/src/hooks/router/use-go/index.tsx","../../../core/src/hooks/router/use-back/index.tsx","../../../core/src/hooks/navigation/index.ts","../../../core/src/hooks/show/useShow.ts","../../../core/src/hooks/import/index.tsx","../../../core/src/hooks/modal/useModal/index.tsx","../../../core/src/hooks/router/use-get-to-path/index.ts","../../../core/src/hooks/router/use-to-path/index.ts","../../../core/src/hooks/router/use-link/index.tsx","../../../core/src/hooks/legacy-router/useRouterContext.ts","../../../core/src/contexts/legacy-router/index.tsx","../../../core/src/hooks/accessControl/useCan/index.ts","../../../core/src/contexts/accessControl/index.tsx","../../../core/src/definitions/helpers/sanitize-resource/index.ts","../../../core/src/hooks/accessControl/useCanWithoutCache.ts","../../../core/src/hooks/useSelect/index.ts","../../../core/src/hooks/useTable/index.ts","../../../core/src/hooks/auditLog/useLog/index.ts","../../../core/src/contexts/auditLog/index.tsx","../../../core/src/hooks/auditLog/useLogList/index.ts","../../../core/src/hooks/invalidate/index.tsx","../../../core/src/hooks/breadcrumb/index.ts","../../../core/src/hooks/menu/useMenu.tsx","../../../core/src/definitions/helpers/menu/create-resource-key.ts","../../../core/src/definitions/helpers/menu/create-tree.ts","../../../core/src/components/pages/login/index.tsx","../../../core/src/components/pages/auth/index.tsx","../../../core/src/components/pages/auth/components/login/index.tsx","../../../core/src/components/pages/auth/components/register/index.tsx","../../../core/src/components/pages/auth/components/forgotPassword/index.tsx","../../../core/src/components/pages/auth/components/updatePassword/index.tsx","../../../core/src/components/pages/ready/index.tsx","../../../core/src/components/pages/welcome/index.tsx","../../../core/src/components/containers/refine/index.tsx","../../../core/src/components/telemetry/index.tsx","../../../core/src/hooks/useTelemetryData/index.ts","../../../core/src/definitions/helpers/check-router-prop-misuse/index.ts","../../../core/src/hooks/router/use-router-misuse-warning/index.ts","../../../core/src/components/undoableQueue/index.tsx","../../../core/src/components/layoutWrapper/index.tsx","../../../core/src/components/authenticated/index.tsx","../../../core/src/components/routeChangeHandler/index.tsx","../../../core/src/components/canAccess/index.tsx","../../../core/src/components/gh-banner/index.tsx","../../../core/src/components/gh-banner/styles.ts","../../../react-table/src/index.ts","../../../react-table/src/useTable/index.ts","../../../react-hook-form/src/index.ts","../../../react-hook-form/src/useForm/index.ts","../../../react-hook-form/src/useStepsForm/index.ts","../../../react-hook-form/src/useModalForm/index.ts","../../src/inferencers/headless/index.tsx","../../src/create-inferencer/index.tsx","../../src/utilities/get-fieldable-keys/index.ts","../../src/utilities/pick-data-provider/index.tsx","../../src/utilities/pick-inferred-field/index.ts","../../src/utilities/prettier-format/index.ts","../../src/utilities/pretty-spaces/index.ts","../../src/field-inferencers/relation.ts","../../src/utilities/remove-relation-suffix/index.ts","../../src/utilities/pretty-string/index.ts","../../src/utilities/replace-exports/index.ts","../../src/utilities/replace-imports/index.ts","../../src/utilities/resource-from-inferred/index.ts","../../src/utilities/component-name/index.ts","../../src/utilities/jsx/index.ts","../../src/utilities/prepare-live-code/index.ts","../../src/utilities/remove-hidden-code/index.ts","../../src/utilities/accessor/index.ts","../../src/utilities/print-imports/index.ts","../../src/utilities/to-singular/index.ts","../../src/utilities/to-plural/index.ts","../../src/utilities/is-id-key/index.ts","../../src/utilities/get-option-label/index.ts","../../src/utilities/no-op/index.ts","../../src/utilities/get-variable-name/index.ts","../../src/compose-inferencers/index.ts","../../src/compose-transformers/index.ts","../../src/field-inferencers/array.ts","../../src/field-inferencers/boolean.ts","../../src/field-inferencers/date.ts","../../src/field-inferencers/email.ts","../../src/field-inferencers/image.ts","../../src/field-inferencers/nullish.ts","../../src/field-inferencers/number.ts","../../src/field-inferencers/object.ts","../../src/field-inferencers/richtext.ts","../../src/field-inferencers/text.ts","../../src/field-inferencers/url.ts","../../src/field-inferencers/index.ts","../../src/field-transformers/basic-to-relation.ts","../../src/field-transformers/image-by-key.ts","../../src/field-transformers/relation-by-resource.ts","../../src/field-transformers/relation-to-fieldable.ts","../../src/field-transformers/index.ts","../../src/components/code-highlight/index.tsx","../../src/components/live/index.tsx","../../src/use-infer-fetch/index.tsx","../../src/use-relation-fetch/index.ts","../../src/inferencers/headless/error.tsx","../../src/inferencers/headless/loading.tsx","../../src/inferencers/headless/code-viewer.tsx","../../src/inferencers/headless/show.tsx","../../src/inferencers/headless/list.tsx","../../src/inferencers/headless/create.tsx","../../src/inferencers/headless/edit.tsx"],"sourcesContent":["export * from \"./components\";\nexport * from \"./hooks\";\n\nexport {\n    Action,\n    ActionWithPage,\n    AccessControlProvider,\n    AuditLogProvider,\n    LegacyAuthProvider,\n    AuthBindings,\n    BaseKey,\n    BaseRecord,\n    CanParams,\n    CanReturnType,\n    ConditionalFilter,\n    CreateManyResponse,\n    CreateResponse,\n    CrudFilter,\n    CrudFilters,\n    CrudOperators,\n    CrudSort,\n    CrudSorting,\n    CustomResponse,\n    DeleteManyResponse,\n    DeleteOneResponse,\n    FormAction,\n    GetListResponse,\n    GetManyResponse,\n    GetOneResponse,\n    HttpError,\n    LayoutProps,\n    LiveEvent,\n    LiveModeProps,\n    LogicalFilter,\n    LogParams,\n    MapDataFn,\n    MetaQuery,\n    MetaDataQuery,\n    MutationMode,\n    NotificationProvider,\n    OpenNotificationParams,\n    Option,\n    Pagination,\n    PromptProps,\n    RedirectionTypes,\n    RedirectAction,\n    ResourceErrorRouterParams,\n    ResourceProps,\n    ResourceRouterParams,\n    RouteAction,\n    SortOrder,\n    SuccessErrorNotification,\n    TitleProps,\n    TranslationProvider,\n    UpdateManyResponse,\n    UpdateResponse,\n    I18nProvider,\n    IAccessControlContext,\n    ILegacyAuthContext,\n    IDataContextProvider as DataProvider,\n    ILiveContext as LiveProvider,\n    ILog,\n    ILogData,\n    ILoginForm,\n    INotificationContext,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext as ResourceProvider,\n    ITranslationContext,\n    IResourceItem,\n    IRouterProvider,\n    ITreeMenu,\n    IQueryKeys,\n    AccessControlBindings,\n    DataBindings,\n    i18nBindings,\n    LiveBindings,\n    NotificationsBindings,\n    ResourceBindings,\n    RouterBindings,\n    ParseResponse,\n    ParsedParams,\n    GoConfig,\n    BackFunction,\n    GoFunction,\n    ParseFunction,\n    Prettify,\n    FormWithSyncWithLocationParams,\n} from \"./interfaces\";\n\n// all auth types\nexport * from \"./interfaces/auth\";\n\nexport {\n    getDefaultFilter,\n    getDefaultSortOrder,\n    parseTableParams,\n    parseTableParamsFromQuery,\n    setInitialFilters,\n    setInitialSorters,\n    stringifyTableParams,\n    unionFilters,\n    unionSorters,\n} from \"./definitions/table\";\nexport {\n    createTreeView,\n    handleUseParams,\n    importCSVMapper,\n    routeGenerator,\n    userFriendlyResourceName,\n    getNextPageParam,\n    getPreviousPageParam,\n    pickNotDeprecated,\n    legacyResourceTransform,\n    matchResourceFromRoute,\n    useActiveAuthProvider,\n} from \"./definitions/helpers\";\nexport { file2Base64 } from \"./definitions/upload\";\n\nexport { ResourceContext } from \"./contexts/resource/index\";\n","import React, { useEffect, useState } from \"react\";\n\nimport {\n    useNavigation,\n    useTranslate,\n    useResource,\n    useGo,\n    useRouterType,\n} from \"@hooks\";\n\n/**\n * When the app is navigated to a non-existent route, refine shows a default error page.\n * A custom error component can be used for this error page.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#catchall} for more details.\n */\nexport const ErrorComponent: React.FC = () => {\n    const [errorMessage, setErrorMessage] = useState<string>();\n    const translate = useTranslate();\n    const { push } = useNavigation();\n    const go = useGo();\n    const routerType = useRouterType();\n\n    const { resource, action } = useResource();\n\n    useEffect(() => {\n        if (resource && action) {\n            setErrorMessage(\n                translate(\n                    \"pages.error.info\",\n                    {\n                        action: action,\n                        resource: resource?.name,\n                    },\n                    `You may have forgotten to add the \"${action}\" component to \"${resource?.name}\" resource.`,\n                ),\n            );\n        }\n    }, [resource, action]);\n\n    return (\n        <>\n            <h1>\n                {translate(\n                    \"pages.error.404\",\n                    undefined,\n                    \"Sorry, the page you visited does not exist.\",\n                )}\n            </h1>\n            {errorMessage && <p>{errorMessage}</p>}\n            <button\n                onClick={() => {\n                    if (routerType === \"legacy\") {\n                        push(\"/\");\n                    } else {\n                        go({ to: \"/\" });\n                    }\n                }}\n            >\n                {translate(\"pages.error.backHome\", undefined, \"Back Home\")}\n            </button>\n        </>\n    );\n};\n","import React, { PropsWithChildren } from \"react\";\n\nimport { useNavigation } from \"@hooks\";\nimport { ILegacyAuthContext, IAuthBindingsContext } from \"../../interfaces\";\n\n/**\n * @deprecated `LegacyAuthContext` is deprecated with refine@4, use `AuthBindingsContext` instead, however, we still support `LegacyAuthContext` for backward compatibility.\n */\nexport const LegacyAuthContext = React.createContext<ILegacyAuthContext>({});\n\n/**\n * @deprecated `LegacyAuthContextProvider` is deprecated with refine@4, use `AuthBindingsContextProvider` instead, however, we still support `LegacyAuthContextProvider` for backward compatibility.\n */\nexport const LegacyAuthContextProvider: React.FC<\n    ILegacyAuthContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, isProvided, ...authOperations }) => {\n    const { replace } = useNavigation();\n\n    const loginFunc = async (params: any) => {\n        try {\n            const result = await authOperations.login?.(params);\n\n            return result;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const registerFunc = async (params: any) => {\n        try {\n            const result = await authOperations.register?.(params);\n\n            return result;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const logoutFunc = async (params: any) => {\n        try {\n            const redirectPath = await authOperations.logout?.(params);\n\n            return redirectPath;\n        } catch (error) {\n            return Promise.reject(error);\n        }\n    };\n\n    const checkAuthFunc = async (params: any) => {\n        try {\n            await authOperations.checkAuth?.(params);\n            return Promise.resolve();\n        } catch (error) {\n            if ((error as { redirectPath?: string })?.redirectPath) {\n                replace((error as { redirectPath: string }).redirectPath);\n            }\n\n            return Promise.reject(error);\n        }\n    };\n\n    return (\n        <LegacyAuthContext.Provider\n            value={{\n                ...authOperations,\n                login: loginFunc,\n                logout: logoutFunc,\n                checkAuth: checkAuthFunc,\n                register: registerFunc,\n                isProvided,\n            }}\n        >\n            {children}\n        </LegacyAuthContext.Provider>\n    );\n};\n\nexport const AuthBindingsContext = React.createContext<\n    Partial<IAuthBindingsContext>\n>({});\n\nexport const AuthBindingsContextProvider: React.FC<\n    PropsWithChildren<IAuthBindingsContext>\n> = ({ children, isProvided, ...authBindings }) => {\n    const handleLogin = async (params: unknown) => {\n        try {\n            const result = await authBindings.login?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in login: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleRegister = async (params: unknown) => {\n        try {\n            const result = await authBindings.register?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in register: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleLogout = async (params: unknown) => {\n        try {\n            const result = await authBindings.logout?.(params);\n\n            return result;\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in logout: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleCheck = async (params: unknown) => {\n        try {\n            const result = await authBindings.check?.(params);\n\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in check: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleForgotPassword = async (params: unknown) => {\n        try {\n            const result = await authBindings.forgotPassword?.(params);\n\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in forgotPassword: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    const handleUpdatePassword = async (params: unknown) => {\n        try {\n            const result = await authBindings.updatePassword?.(params);\n            return Promise.resolve(result);\n        } catch (error) {\n            console.warn(\n                \"Unhandled Error in updatePassword: refine always expects a resolved promise.\",\n                error,\n            );\n            return Promise.reject(error);\n        }\n    };\n\n    return (\n        <AuthBindingsContext.Provider\n            value={{\n                ...authBindings,\n                login: handleLogin as IAuthBindingsContext[\"login\"],\n                logout: handleLogout as IAuthBindingsContext[\"logout\"],\n                check: handleCheck as IAuthBindingsContext[\"check\"],\n                register: handleRegister as IAuthBindingsContext[\"register\"],\n                forgotPassword:\n                    handleForgotPassword as IAuthBindingsContext[\"forgotPassword\"],\n                updatePassword:\n                    handleUpdatePassword as IAuthBindingsContext[\"updatePassword\"],\n                isProvided,\n            }}\n        >\n            {children}\n        </AuthBindingsContext.Provider>\n    );\n};\n\n/**\n * @deprecated `useLegacyAuthContext` is deprecated with refine@4, use `useAuthBindingsContext` instead, however, we still support `useLegacyAuthContext` for backward compatibility.\n */\nexport const useLegacyAuthContext = () => {\n    const context = React.useContext(LegacyAuthContext);\n\n    return context;\n};\n\nexport const useAuthBindingsContext = () => {\n    const context = React.useContext(AuthBindingsContext);\n\n    return context;\n};\n","import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { PermissionResponse } from \"../../../interfaces\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nexport type UsePermissionsLegacyProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: true;\n    options?: UseQueryOptions<TData>;\n};\n\nexport type UsePermissionsProps<TData = PermissionResponse> = {\n    v3LegacyAuthProviderCompatible?: false;\n    options?: UseQueryOptions<TData>;\n};\n\nexport type UsePermissionsCombinedProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    options?: UseQueryOptions<TData> | UseQueryOptions<PermissionResponse>;\n};\n\nexport type UsePermissionsLegacyReturnType<TData = any> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UsePermissionsReturnType<TData = PermissionResponse> =\n    UseQueryResult<TData, unknown>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n    | UseQueryResult<TData, unknown>\n    | UseQueryResult<PermissionResponse, unknown>;\n\nexport function usePermissions<TData = any>(\n    props: UsePermissionsLegacyProps<TData>,\n): UsePermissionsLegacyReturnType<TData>;\n\nexport function usePermissions<TData = PermissionResponse>(\n    props?: UsePermissionsProps<TData>,\n): UsePermissionsReturnType<TData>;\n\nexport function usePermissions<TData = any>(\n    props?: UsePermissionsCombinedProps<TData>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `usePermissions` calls the `getPermissions` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/usePermissions} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport function usePermissions<TData = any>({\n    v3LegacyAuthProviderCompatible = false,\n    options,\n}: UsePermissionsProps<TData> | UsePermissionsLegacyProps<TData> = {}):\n    | UsePermissionsReturnType\n    | UsePermissionsLegacyReturnType<TData> {\n    const { getPermissions: legacyGetPermission } = useLegacyAuthContext();\n    const { getPermissions } = useAuthBindingsContext();\n\n    const queryResponse = useQuery<TData>(\n        [\"usePermissions\"],\n        // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        (getPermissions as (params?: unknown) => Promise<TData>) ??\n            (() => Promise.resolve(undefined)),\n        {\n            enabled: !v3LegacyAuthProviderCompatible && !!getPermissions,\n            ...(v3LegacyAuthProviderCompatible ? {} : options),\n        },\n    );\n\n    const legacyQueryResponse = useQuery<TData>(\n        [\"usePermissions\", \"v3LegacyAuthProviderCompatible\"],\n        // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        legacyGetPermission ?? (() => Promise.resolve(undefined)),\n        {\n            enabled: v3LegacyAuthProviderCompatible && !!legacyGetPermission,\n            ...(v3LegacyAuthProviderCompatible ? options : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n","import {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { IdentityResponse } from \"../../../interfaces\";\n\nexport type UseGetIdentityLegacyProps<TData> = {\n    v3LegacyAuthProviderCompatible: true;\n    queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityProps<TData = IdentityResponse> = {\n    v3LegacyAuthProviderCompatible?: false;\n    queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityCombinedProps<TData = any> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    queryOptions?: UseQueryOptions<TData> | UseQueryOptions<IdentityResponse>;\n};\n\nexport type UseGetIdentityLegacyReturnType<TData> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UseGetIdentityReturnType<TData = IdentityResponse> = UseQueryResult<\n    TData,\n    unknown\n>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n    | UseQueryResult<TData, unknown>\n    | UseQueryResult<IdentityResponse, unknown>;\n\nexport function useGetIdentity<TData = any>(\n    props: UseGetIdentityLegacyProps<TData>,\n): UseGetIdentityLegacyReturnType<TData>;\n\nexport function useGetIdentity<TData = IdentityResponse>(\n    props?: UseGetIdentityProps<TData>,\n): UseGetIdentityReturnType<TData>;\n\nexport function useGetIdentity<TData = any>(\n    props?: UseGetIdentityCombinedProps<TData>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `useGetIdentity` calls the `getUserIdentity` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useGetIdentity} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport function useGetIdentity<TData = any>({\n    v3LegacyAuthProviderCompatible = false,\n    queryOptions,\n}: UseGetIdentityProps<TData> | UseGetIdentityLegacyProps<TData> = {}):\n    | UseGetIdentityReturnType<TData>\n    | UseGetIdentityLegacyReturnType<TData> {\n    const { getUserIdentity: legacyGetUserIdentity } = useLegacyAuthContext();\n    const { getIdentity } = useAuthBindingsContext();\n\n    const queryResponse = useQuery<TData>(\n        [\"getUserIdentity\"],\n        // Enabled check for `getIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        (getIdentity as (params?: unknown) => Promise<TData>) ??\n            (() => Promise.resolve({})),\n        {\n            enabled: !v3LegacyAuthProviderCompatible && !!getIdentity,\n            retry: false,\n            ...(v3LegacyAuthProviderCompatible === true ? {} : queryOptions),\n        },\n    );\n\n    const legacyQueryResponse = useQuery<TData>(\n        [\"getUserIdentity\", \"v3LegacyAuthProviderCompatible\"],\n        // Enabled check for `getUserIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        legacyGetUserIdentity ?? (() => Promise.resolve({})),\n        {\n            enabled: v3LegacyAuthProviderCompatible && !!legacyGetUserIdentity,\n            retry: false,\n            ...(v3LegacyAuthProviderCompatible ? queryOptions : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport { useGo, useNavigation, useNotification, useRouterType } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { OpenNotificationParams, TLogoutData } from \"../../../interfaces\";\nimport { AuthActionResponse } from \"src/interfaces/bindings/auth\";\nimport { useInvalidateAuthStore } from \"../useInvaliteAuthStore\";\n\ntype Variables = {\n    redirectPath?: string | false;\n};\n\nexport type UseLogoutLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            TLogoutData,\n            Error,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseLogoutProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse,\n            Error,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLogoutCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TLogoutData,\n            Error,\n            (TVariables & Variables) | void,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLogoutLegacyReturnType<TVariables> = UseMutationResult<\n    TLogoutData,\n    Error,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport type UseLogoutReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport type UseLogoutCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLogoutData,\n    Error,\n    (TVariables & Variables) | void,\n    unknown\n>;\n\nexport function useLogout<TVariables = {}>(\n    props: UseLogoutLegacyProps<TVariables>,\n): UseLogoutLegacyReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n    props?: UseLogoutProps<TVariables>,\n): UseLogoutReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n    props?: UseLogoutCombinedProps<TVariables>,\n): UseLogoutCombinedReturnType<TVariables>;\n\n/**\n * `useLogout` calls the `logout` method from the {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useLogout} for more details.\n *\n */\nexport function useLogout<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseLogoutProps<TVariables> | UseLogoutLegacyProps<TVariables> = {}):\n    | UseLogoutLegacyReturnType<TVariables>\n    | UseLogoutReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n    const go = useGo();\n    const { push } = useNavigation();\n    const { open, close } = useNotification();\n    const { logout: legacyLogoutFromContext } = useLegacyAuthContext();\n    const { logout: logoutFromContext } = useAuthBindingsContext();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        (TVariables & Variables) | void,\n        unknown\n    >([\"useLogout\"], logoutFromContext, {\n        onSuccess: (data, variables) => {\n            const { success, error, redirectTo } = data;\n            const { redirectPath } = variables ?? {};\n\n            const redirect = redirectPath ?? redirectTo;\n\n            if (success) {\n                close?.(\"useLogout-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            if (redirect !== false) {\n                if (routerType === \"legacy\") {\n                    push(redirect ?? \"/login\");\n                } else {\n                    if (redirect) {\n                        go({ to: redirect });\n                    }\n                }\n            }\n\n            invalidateAuthStore();\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TLogoutData,\n        Error,\n        (TVariables & Variables) | void,\n        unknown\n    >(\n        [\"useLogout\", \"v3LegacyAuthProviderCompatible\"],\n        legacyLogoutFromContext,\n        {\n            onSuccess: (data, variables) => {\n                const redirectPath = variables?.redirectPath ?? data;\n\n                if (redirectPath === false) {\n                    return;\n                }\n\n                if (redirectPath) {\n                    if (routerType === \"legacy\") {\n                        push(redirectPath);\n                    } else {\n                        go({ to: redirectPath });\n                    }\n                    return;\n                }\n\n                if (routerType === \"legacy\") {\n                    push(\"/login\");\n                } else {\n                    go({ to: \"/login\" });\n                }\n\n                invalidateAuthStore();\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (error?: Error): OpenNotificationParams => {\n    return {\n        key: \"useLogout-error\",\n        type: \"error\",\n        message: error?.name || \"Logout Error\",\n        description: error?.message || \"Something went wrong during logout\",\n    };\n};\n","import { useQueryClient } from \"@tanstack/react-query\";\n\nexport const useInvalidateAuthStore = () => {\n    const queryClient = useQueryClient();\n\n    const invalidate = () => {\n        queryClient.invalidateQueries([\"useAuthenticated\"]);\n        queryClient.invalidateQueries([\"getUserIdentity\"]);\n        queryClient.invalidateQueries([\"usePermissions\"]);\n    };\n\n    return invalidate;\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport {\n    useNavigation,\n    useRouterContext,\n    useNotification,\n    useRouterType,\n    useParsed,\n    useGo,\n} from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport { OpenNotificationParams, TLoginData } from \"../../../interfaces\";\nimport { AuthActionResponse } from \"src/interfaces/bindings/auth\";\nimport React from \"react\";\nimport { useInvalidateAuthStore } from \"../useInvaliteAuthStore\";\n\nexport type UseLoginLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<TLoginData, Error, TVariables, unknown>,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseLoginProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<AuthActionResponse, Error, TVariables, unknown>,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLoginCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TLoginData,\n            Error,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseLoginLegacyReturnType<TVariables> = UseMutationResult<\n    TLoginData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseLoginReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseLoginCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLoginData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport function useLogin<TVariables = {}>(\n    props: UseLoginLegacyProps<TVariables>,\n): UseLoginLegacyReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n    props?: UseLoginProps<TVariables>,\n): UseLoginReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n    props?: UseLoginCombinedProps<TVariables>,\n): UseLoginCombinedReturnType<TVariables>;\n\n/**\n * `useLogin` calls `login` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useLogin} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useLogin<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseLoginProps<TVariables> | UseLoginLegacyProps<TVariables> = {}):\n    | UseLoginLegacyReturnType<TVariables>\n    | UseLoginReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n\n    const go = useGo();\n    const { replace } = useNavigation();\n\n    const parsed = useParsed();\n\n    const { useLocation } = useRouterContext();\n    const { search } = useLocation();\n\n    const { close, open } = useNotification();\n    const { login: legacyLoginFromContext } = useLegacyAuthContext();\n    const { login: loginFromContext } = useAuthBindingsContext();\n\n    const to = React.useMemo(() => {\n        if (routerType === \"legacy\") {\n            const legacySearch = qs.parse(search, {\n                ignoreQueryPrefix: true,\n            });\n            return legacySearch.to;\n        } else {\n            return parsed.params?.to;\n        }\n    }, [routerType, parsed.params, search]);\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        TVariables,\n        unknown\n    >([\"useLogin\"], loginFromContext, {\n        onSuccess: ({ success, redirectTo, error }) => {\n            if (success) {\n                close?.(\"login-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            if (to && success) {\n                if (routerType === \"legacy\") {\n                    replace(to as string);\n                } else {\n                    go({ to: to as string, type: \"replace\" });\n                }\n            } else if (redirectTo) {\n                if (routerType === \"legacy\") {\n                    replace(redirectTo);\n                } else {\n                    go({ to: redirectTo, type: \"replace\" });\n                }\n            } else {\n                if (routerType === \"legacy\") {\n                    replace(\"/\");\n                }\n            }\n\n            setTimeout(() => {\n                invalidateAuthStore();\n            });\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TLoginData,\n        Error,\n        TVariables,\n        unknown\n    >([\"useLogin\", \"v3LegacyAuthProviderCompatible\"], legacyLoginFromContext, {\n        onSuccess: (redirectPathFromAuth) => {\n            if (to) {\n                replace(to as string);\n            }\n\n            if (redirectPathFromAuth !== false && !to) {\n                if (typeof redirectPathFromAuth === \"string\") {\n                    if (routerType === \"legacy\") {\n                        replace(redirectPathFromAuth);\n                    } else {\n                        go({ to: redirectPathFromAuth, type: \"replace\" });\n                    }\n                } else {\n                    if (routerType === \"legacy\") {\n                        replace(\"/\");\n                    } else {\n                        go({ to: \"/\", type: \"replace\" });\n                    }\n                }\n            }\n\n            close?.(\"login-error\");\n\n            setTimeout(() => {\n                invalidateAuthStore();\n            });\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    });\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (error?: Error): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Login Error\",\n        description: error?.message || \"Invalid credentials\",\n        key: \"login-error\",\n        type: \"error\",\n    };\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport { useNavigation, useRouterType, useGo, useNotification } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport {\n    AuthActionResponse,\n    OpenNotificationParams,\n    TLoginData,\n    TRegisterData,\n} from \"../../../interfaces\";\nimport { useInvalidateAuthStore } from \"../useInvaliteAuthStore\";\n\nexport type UseRegisterLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<TRegisterData, Error, TVariables, unknown>,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseRegisterProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<AuthActionResponse, Error, TVariables, unknown>,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseRegisterCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TRegisterData,\n            Error,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseRegisterLegacyReturnType<TVariables> = UseMutationResult<\n    TRegisterData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseRegisterReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseRegisterCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TLoginData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport function useRegister<TVariables = {}>(\n    props: UseRegisterLegacyProps<TVariables>,\n): UseRegisterLegacyReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n    props?: UseRegisterProps<TVariables>,\n): UseRegisterReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n    props?: UseRegisterCombinedProps<TVariables>,\n): UseRegisterCombinedReturnType<TVariables>;\n\n/**\n * `useRegister` calls `register` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useRegister} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useRegister<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}: UseRegisterProps<TVariables> | UseRegisterLegacyProps<TVariables> = {}):\n    | UseRegisterReturnType<TVariables>\n    | UseRegisterLegacyReturnType<TVariables> {\n    const invalidateAuthStore = useInvalidateAuthStore();\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n    const { register: legacyRegisterFromContext } = useLegacyAuthContext();\n    const { register: registerFromContext } = useAuthBindingsContext();\n    const { close, open } = useNotification();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        TVariables,\n        unknown\n    >([\"useRegister\"], registerFromContext, {\n        onSuccess: ({ success, redirectTo, error }) => {\n            if (success) {\n                close?.(\"register-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            if (redirectTo) {\n                if (routerType === \"legacy\") {\n                    replace(redirectTo);\n                } else {\n                    go({ to: redirectTo, type: \"replace\" });\n                }\n            } else {\n                if (routerType === \"legacy\") {\n                    replace(\"/\");\n                }\n            }\n\n            invalidateAuthStore();\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TRegisterData,\n        Error,\n        TVariables,\n        unknown\n    >(\n        [\"useRegister\", \"v3LegacyAuthProviderCompatible\"],\n        legacyRegisterFromContext,\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    } else {\n                        if (routerType === \"legacy\") {\n                            replace(\"/\");\n                        } else {\n                            go({ to: \"/\", type: \"replace\" });\n                        }\n                    }\n                    close?.(\"register-error\");\n                }\n\n                invalidateAuthStore();\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (error?: Error): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Register Error\",\n        description: error?.message || \"Error while registering\",\n        key: \"register-error\",\n        type: \"error\",\n    };\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport { useGo, useNavigation, useNotification, useRouterType } from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\nimport {\n    AuthActionResponse,\n    OpenNotificationParams,\n    TForgotPasswordData,\n} from \"../../../interfaces\";\n\nexport type UseForgotPasswordLegacyProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<TForgotPasswordData, Error, TVariables, unknown>,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseForgotPasswordProps<TVariables> = {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n        UseMutationOptions<AuthActionResponse, Error, TVariables, unknown>,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseForgotPasswordCombinedProps<TVariables> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TForgotPasswordData,\n            Error,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseForgotPasswordLegacyReturnType<TVariables> = UseMutationResult<\n    TForgotPasswordData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseForgotPasswordReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport type UseForgotPasswordCombinedReturnType<TVariables> = UseMutationResult<\n    AuthActionResponse | TForgotPasswordData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props: UseForgotPasswordLegacyProps<TVariables>,\n): UseForgotPasswordLegacyReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props?: UseForgotPasswordProps<TVariables>,\n): UseForgotPasswordReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n    props?: UseForgotPasswordCombinedProps<TVariables>,\n): UseForgotPasswordCombinedReturnType<TVariables>;\n\n/**\n * `useForgotPassword` calls `forgotPassword` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useForgotPassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useForgotPassword<TVariables = {}>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}:\n    | UseForgotPasswordProps<TVariables>\n    | UseForgotPasswordLegacyProps<TVariables> = {}):\n    | UseForgotPasswordReturnType<TVariables>\n    | UseForgotPasswordLegacyReturnType<TVariables> {\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n    const {\n        forgotPassword: v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n    } = useLegacyAuthContext();\n    const { forgotPassword: forgotPasswordFromContext } =\n        useAuthBindingsContext();\n    const { close, open } = useNotification();\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        TVariables,\n        unknown\n    >([\"useForgotPassword\"], forgotPasswordFromContext, {\n        onSuccess: ({ success, redirectTo, error }) => {\n            if (success) {\n                close?.(\"forgot-password-error\");\n            }\n\n            if (error || !success) {\n                open?.(buildNotification(error));\n            }\n\n            if (redirectTo) {\n                if (routerType === \"legacy\") {\n                    replace(redirectTo);\n                } else {\n                    go({ to: redirectTo, type: \"replace\" });\n                }\n            }\n        },\n        onError: (error: any) => {\n            open?.(buildNotification(error));\n        },\n        ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TForgotPasswordData,\n        Error,\n        TVariables,\n        unknown\n    >(\n        [\"useForgotPassword\", \"v3LegacyAuthProviderCompatible\"],\n        v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    }\n                }\n                close?.(\"forgot-password-error\");\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (error?: Error): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Forgot Password Error\",\n        description: error?.message || \"Error while resetting password\",\n        key: \"forgot-password-error\",\n        type: \"error\",\n    };\n};\n","import React from \"react\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport {\n    useNavigation,\n    useRouterType,\n    useGo,\n    useParsed,\n    useNotification,\n    useRouterContext,\n} from \"@hooks\";\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n    AuthActionResponse,\n    OpenNotificationParams,\n    TUpdatePasswordData,\n    UpdatePasswordFormTypes,\n} from \"../../../interfaces\";\n\nexport type UseUpdatePasswordLegacyProps<\n    TVariables extends UpdatePasswordFormTypes,\n> = {\n    v3LegacyAuthProviderCompatible: true;\n    mutationOptions?: Omit<\n        UseMutationOptions<TUpdatePasswordData, Error, TVariables, unknown>,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\nexport type UseUpdatePasswordProps<TVariables extends UpdatePasswordFormTypes> =\n    {\n        v3LegacyAuthProviderCompatible?: false;\n        mutationOptions?: Omit<\n            UseMutationOptions<AuthActionResponse, Error, TVariables, unknown>,\n            \"mutationFn\"\n        >;\n    };\n\nexport type UseUpdatePasswordCombinedProps<\n    TVariables extends UpdatePasswordFormTypes,\n> = {\n    v3LegacyAuthProviderCompatible: boolean;\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            AuthActionResponse | TUpdatePasswordData,\n            Error,\n            TVariables,\n            unknown\n        >,\n        \"mutationFn\"\n    >;\n};\n\nexport type UseUpdatePasswordLegacyReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<TUpdatePasswordData, Error, TVariables, unknown>;\n\nexport type UseUpdatePasswordReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<AuthActionResponse, Error, TVariables, unknown>;\n\nexport type UseUpdatePasswordCombinedReturnType<\n    TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n    AuthActionResponse | TUpdatePasswordData,\n    Error,\n    TVariables,\n    unknown\n>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props: UseUpdatePasswordLegacyProps<TVariables>,\n): UseUpdatePasswordLegacyReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props?: UseUpdatePasswordProps<TVariables>,\n): UseUpdatePasswordReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n    props?: UseUpdatePasswordCombinedProps<TVariables>,\n): UseUpdatePasswordCombinedReturnType<TVariables>;\n\n/**\n * `useUpdatePassword` calls `updatePassword` method from {@link https://refine.dev/docs/api-references/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useUpdatePassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useUpdatePassword<\n    TVariables extends UpdatePasswordFormTypes = {},\n>({\n    v3LegacyAuthProviderCompatible,\n    mutationOptions,\n}:\n    | UseUpdatePasswordProps<TVariables>\n    | UseUpdatePasswordLegacyProps<TVariables> = {}):\n    | UseUpdatePasswordReturnType<TVariables>\n    | UseUpdatePasswordLegacyReturnType<TVariables> {\n    const routerType = useRouterType();\n\n    const go = useGo();\n    const { replace } = useNavigation();\n    const { updatePassword: legacyUpdatePasswordFromContext } =\n        useLegacyAuthContext();\n    const { updatePassword: updatePasswordFromContext } =\n        useAuthBindingsContext();\n    const { close, open } = useNotification();\n\n    const parsed = useParsed();\n    const { useLocation } = useRouterContext();\n    const { search } = useLocation();\n\n    const params = React.useMemo(() => {\n        if (routerType === \"legacy\") {\n            const queryStrings = qs.parse(search, {\n                ignoreQueryPrefix: true,\n            });\n            return queryStrings ?? {};\n        } else {\n            return parsed.params ?? {};\n        }\n    }, [search, parsed, routerType]);\n\n    const mutation = useMutation<\n        AuthActionResponse,\n        Error,\n        TVariables,\n        unknown\n    >(\n        [\"useUpdatePassword\"],\n        async (variables) => {\n            return updatePasswordFromContext?.({\n                ...params,\n                ...variables,\n            }) as Promise<AuthActionResponse>;\n        },\n        {\n            onSuccess: ({ success, redirectTo, error }) => {\n                if (success) {\n                    close?.(\"update-password-error\");\n                }\n\n                if (error || !success) {\n                    open?.(buildNotification(error));\n                }\n\n                if (redirectTo) {\n                    if (routerType === \"legacy\") {\n                        replace(redirectTo);\n                    } else {\n                        go({ to: redirectTo, type: \"replace\" });\n                    }\n                }\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n        },\n    );\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation<\n        TUpdatePasswordData,\n        Error,\n        TVariables,\n        unknown\n    >(\n        [\"useUpdatePassword\", \"v3LegacyAuthProviderCompatible\"],\n        async (variables) => {\n            return legacyUpdatePasswordFromContext?.({\n                ...params,\n                ...variables,\n            });\n        },\n        {\n            onSuccess: (redirectPathFromAuth) => {\n                if (redirectPathFromAuth !== false) {\n                    if (redirectPathFromAuth) {\n                        if (routerType === \"legacy\") {\n                            replace(redirectPathFromAuth);\n                        } else {\n                            go({ to: redirectPathFromAuth, type: \"replace\" });\n                        }\n                    }\n                }\n                close?.(\"update-password-error\");\n            },\n            onError: (error: any) => {\n                open?.(buildNotification(error));\n            },\n            ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\nconst buildNotification = (error?: Error): OpenNotificationParams => {\n    return {\n        message: error?.name || \"Update Password Error\",\n        description: error?.message || \"Error while updating password\",\n        key: \"update-password-error\",\n        type: \"error\",\n    };\n};\n","import { useQuery, UseQueryResult } from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { CheckResponse } from \"../../../interfaces\";\n\nexport type UseIsAuthenticatedLegacyProps = {\n    v3LegacyAuthProviderCompatible: true;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedProps = {\n    v3LegacyAuthProviderCompatible?: false;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedCombinedProps = {\n    v3LegacyAuthProviderCompatible: boolean;\n    params?: any;\n};\n\nexport type UseIsAuthenticatedLegacyReturnType = UseQueryResult<any, any>;\n\nexport type UseIsAuthenticatedReturnType = UseQueryResult<CheckResponse, any>;\n\nexport type UseIsAuthenticatedCombinedReturnType = UseQueryResult<\n    CheckResponse | any,\n    any\n>;\n\nexport function useIsAuthenticated(\n    props: UseIsAuthenticatedLegacyProps,\n): UseIsAuthenticatedLegacyReturnType;\n\nexport function useIsAuthenticated(\n    props?: UseIsAuthenticatedProps,\n): UseIsAuthenticatedReturnType;\n\nexport function useIsAuthenticated(\n    props?: UseIsAuthenticatedCombinedProps,\n): UseIsAuthenticatedCombinedReturnType;\n\n/**\n *  `useIsAuthenticated` calls the `checkAuth` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useAuthenticated} for more details.\n */\nexport function useIsAuthenticated({\n    v3LegacyAuthProviderCompatible = false,\n    params,\n}: UseIsAuthenticatedProps | UseIsAuthenticatedLegacyProps = {}):\n    | UseIsAuthenticatedReturnType\n    | UseIsAuthenticatedLegacyReturnType {\n    const { checkAuth } = useLegacyAuthContext();\n    const { check } = useAuthBindingsContext();\n\n    const queryResponse = useQuery(\n        [\"useAuthenticated\", params],\n        async () => (await check?.(params)) ?? {},\n        {\n            retry: false,\n            enabled: !v3LegacyAuthProviderCompatible,\n        },\n    );\n\n    const legacyQueryResponse = useQuery(\n        [\"useAuthenticated\", \"v3LegacyAuthProviderCompatible\", params],\n        async () => (await checkAuth?.(params)) ?? {},\n        {\n            retry: false,\n            enabled: v3LegacyAuthProviderCompatible,\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n\n/**\n * @deprecated `useAuthenticated` is deprecated with refine@4, use `useIsAuthenticated` instead, however, we still support `useAuthenticated` for backward compatibility.\n */\nexport const useAuthenticated = useIsAuthenticated;\n","import { useMutation, UseMutationResult } from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { OnErrorResponse } from \"../../../interfaces\";\nimport { useGo, useLogout, useNavigation, useRouterType } from \"@hooks\";\n\nexport type UseOnErrorLegacyProps = {\n    v3LegacyAuthProviderCompatible: true;\n};\n\nexport type UseOnErrorProps = {\n    v3LegacyAuthProviderCompatible?: false;\n};\n\nexport type UseOnErrorCombinedProps = {\n    v3LegacyAuthProviderCompatible: boolean;\n};\n\nexport type UseOnErrorLegacyReturnType = UseMutationResult<\n    void,\n    string | undefined,\n    any,\n    unknown\n>;\n\nexport type UseOnErrorReturnType = UseMutationResult<\n    OnErrorResponse,\n    unknown,\n    unknown,\n    unknown\n>;\nexport type UseOnErrorCombinedReturnType = UseMutationResult<\n    OnErrorResponse | void,\n    unknown,\n    unknown,\n    unknown\n>;\n\nexport function useOnError(\n    props: UseOnErrorLegacyProps,\n): UseOnErrorLegacyReturnType;\n\nexport function useOnError(props?: UseOnErrorProps): UseOnErrorReturnType;\n\nexport function useOnError(\n    props?: UseOnErrorCombinedProps,\n): UseOnErrorCombinedReturnType;\n\n/**\n * `useOnError` calls the `checkError` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/auth/useCheckError} for more details.\n *\n */\nexport function useOnError({\n    v3LegacyAuthProviderCompatible = false,\n}: UseOnErrorProps | UseOnErrorLegacyProps = {}):\n    | UseOnErrorReturnType\n    | UseOnErrorLegacyReturnType {\n    const routerType = useRouterType();\n    const go = useGo();\n    const { replace } = useNavigation();\n\n    const { checkError: legacyCheckErrorFromContext } = useLegacyAuthContext();\n    const { onError: onErrorFromContext } = useAuthBindingsContext();\n\n    const { mutate: legacyLogout } = useLogout({\n        v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n    });\n    const { mutate: logout } = useLogout({\n        v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n    });\n\n    const mutation = useMutation([\"useCheckError\"], onErrorFromContext, {\n        onSuccess: ({ logout: shouldLogout, redirectTo }) => {\n            if (shouldLogout) {\n                logout({ redirectPath: redirectTo });\n                return;\n            }\n\n            if (redirectTo) {\n                if (routerType === \"legacy\") {\n                    replace(redirectTo);\n                } else {\n                    go({ to: redirectTo, type: \"replace\" });\n                }\n                return;\n            }\n        },\n    });\n\n    const v3LegacyAuthProviderCompatibleMutation = useMutation(\n        [\"useCheckError\", \"v3LegacyAuthProviderCompatible\"],\n        legacyCheckErrorFromContext,\n        {\n            onError: (redirectPath?: string) => {\n                legacyLogout({ redirectPath });\n            },\n        },\n    );\n\n    return v3LegacyAuthProviderCompatible\n        ? v3LegacyAuthProviderCompatibleMutation\n        : mutation;\n}\n\n/**\n * @deprecated `useCheckError` is deprecated with refine@4, use `useOnError` instead, however, we still support `useCheckError` for backward compatibility.\n */\nexport const useCheckError = useOnError;\n","import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * A hook that the UI uses\n * @internal\n */\nexport const useIsExistAuthentication = (): boolean => {\n    const { isProvided: legacyIsProvided } = useLegacyAuthContext();\n    const { isProvided } = useAuthBindingsContext();\n\n    return Boolean(isProvided || legacyIsProvided);\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\nimport {\n    GetListResponse,\n    CrudFilters,\n    Pagination,\n    BaseRecord,\n    HttpError,\n    CrudSorting,\n    MetaQuery,\n    SuccessErrorNotification,\n    LiveModeProps,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useHandleNotification,\n    useResourceSubscription,\n    useTranslate,\n    useDataProvider,\n    useOnError,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n    handlePaginationParams,\n} from \"@definitions/helpers\";\n\nexport interface UseListConfig {\n    pagination?: Pagination;\n    hasPagination?: boolean;\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n}\n\nexport type UseListProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource?: string;\n    /**\n     * Configuration for pagination, sorting and filtering\n     * @type [`UseListConfig`](/docs/api-reference/core/hooks/data/useList/#config-parameters)\n     * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n     */\n    config?: UseListConfig;\n    /**\n     * Pagination properties\n     */\n    pagination?: Pagination;\n    /**\n     * Whether to use server-side pagination or not\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sorter parameters\n     */\n    sorters?: CrudSorting;\n    /**\n     * Filter parameters\n     */\n    filters?: CrudFilters;\n    /**\n     * Tanstack Query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     * Meta data query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useList` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useList} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useList = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    config,\n    filters,\n    hasPagination,\n    pagination,\n    sorters,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseListProps<TData, TError>): QueryObserverResult<\n    GetListResponse<TData>,\n    TError\n> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n\n    const pickedDataProvider = pickDataProvider(\n        resource,\n        dataProviderName,\n        resources,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n    const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n    const prefferedHasPagination = pickNotDeprecated(\n        hasPagination,\n        config?.hasPagination,\n    );\n    const prefferedPagination = handlePaginationParams({\n        pagination,\n        configPagination: config?.pagination,\n        hasPagination: prefferedHasPagination,\n    });\n    const isServerPagination = prefferedPagination.mode === \"server\";\n    const notificationValues = {\n        meta: preferredMeta,\n        metaData: preferredMeta,\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        pagination: prefferedPagination,\n        sorters: prefferedSorters,\n        config: {\n            ...config,\n            sort: prefferedSorters,\n        },\n    };\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    const queryKey = queryKeys(\n        resource,\n        pickedDataProvider,\n        preferredMeta,\n        preferredMeta,\n    );\n\n    const { getList } = dataProvider(pickedDataProvider);\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        params: {\n            meta: preferredMeta,\n            metaData: preferredMeta,\n            pagination: prefferedPagination,\n            hasPagination: isServerPagination,\n            sort: prefferedSorters,\n            sorters: prefferedSorters,\n            filters: prefferedFilters,\n            subscriptionType: \"useList\",\n            ...liveParams,\n        },\n        channel: `resources/${resource}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetListResponse<TData>, TError>(\n        queryKey.list({\n            filters: prefferedFilters,\n            hasPagination: isServerPagination,\n            ...(isServerPagination && {\n                pagination: prefferedPagination,\n            }),\n            ...(sorters && {\n                sorters,\n            }),\n            ...(config?.sort && {\n                sort: config?.sort,\n            }),\n        }),\n        ({ queryKey, pageParam, signal }) => {\n            return getList<TData>({\n                resource: resource!,\n                pagination: prefferedPagination,\n                hasPagination: isServerPagination,\n                filters: prefferedFilters,\n                sort: prefferedSorters,\n                sorters: prefferedSorters,\n                meta: {\n                    ...(preferredMeta || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...(preferredMeta || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            });\n        },\n        {\n            ...queryOptions,\n            enabled:\n                typeof queryOptions?.enabled !== \"undefined\"\n                    ? queryOptions?.enabled\n                    : !!resource,\n            select: (rawData) => {\n                let data = rawData;\n\n                const { current, mode, pageSize } = prefferedPagination;\n\n                if (mode === \"client\") {\n                    data = {\n                        ...data,\n                        data: data.data.slice(\n                            (current - 1) * pageSize,\n                            current * pageSize,\n                        ),\n                        total: data.total,\n                    };\n                }\n\n                if (queryOptions?.select) {\n                    return queryOptions?.select?.(data);\n                }\n\n                return data;\n            },\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              notificationValues,\n                              resource,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, notificationValues, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${resource}-useList-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","export const userFriendlySecond = (miliseconds: number): number => {\n    return miliseconds / 1000; //convert to seconds\n};\n","import zip from \"lodash/zip\";\nimport fromPairs from \"lodash/fromPairs\";\nimport { MapDataFn } from \"../../../interfaces\";\n\nexport const importCSVMapper = <TItem = any, TVariables = any>(\n    data: any[][],\n    mapData: MapDataFn<TItem, TVariables> = (item) => item as any,\n): TVariables[] => {\n    const [headers, ...body] = data;\n    return body\n        .map((entry) => fromPairs(zip(headers, entry)))\n        .map((item: any, index, array: any) =>\n            mapData.call(undefined, item, index, array),\n        );\n};\n","import pluralize from \"pluralize\";\nimport { humanizeString } from \"@definitions\";\n\n/**\n * A method that the internal uses\n * @internal\n */\nexport const userFriendlyResourceName = (\n    resource = \"\",\n    type: \"singular\" | \"plural\",\n): string => {\n    const humanizeResource = humanizeString(resource);\n    if (type === \"singular\") {\n        return pluralize.singular(humanizeResource);\n    }\n    return pluralize.plural(humanizeResource);\n};\n","import qs, { IStringifyOptions } from \"qs\";\nimport unionWith from \"lodash/unionWith\";\nimport differenceWith from \"lodash/differenceWith\";\nimport warnOnce from \"warn-once\";\n\nimport {\n    CrudFilters,\n    CrudSorting,\n    CrudFilter,\n    CrudSort,\n    CrudOperators,\n    SortOrder,\n} from \"../../interfaces\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nexport const parseTableParams = (url: string) => {\n    const { current, pageSize, sorter, sorters, filters } = qs.parse(\n        url.substring(1), // remove first ? character\n    );\n\n    return {\n        parsedCurrent: current && Number(current),\n        parsedPageSize: pageSize && Number(pageSize),\n        parsedSorter: (pickNotDeprecated(sorters, sorter) as CrudSorting) ?? [],\n        parsedFilters: (filters as CrudFilters) ?? [],\n    };\n};\n\nexport const parseTableParamsFromQuery = (params: any) => {\n    const url = qs.stringify(params);\n    return parseTableParams(`/${url}`);\n};\n\n/**\n * @internal This function is used to stringify table params from the useTable hook.\n */\nexport const stringifyTableParams = (params: {\n    pagination?: { current?: number; pageSize?: number };\n    sorters: CrudSorting;\n    filters: CrudFilters;\n    [key: string]: any;\n}): string => {\n    const options: IStringifyOptions = {\n        skipNulls: true,\n        arrayFormat: \"indices\",\n        encode: false,\n    };\n    const { pagination, sorter, sorters, filters, ...rest } = params;\n\n    const queryString = qs.stringify(\n        {\n            ...rest,\n            ...(pagination ? pagination : {}),\n            sorters: pickNotDeprecated(sorters, sorter),\n            filters,\n        },\n        options,\n    );\n\n    return queryString;\n};\n\nexport const compareFilters = (\n    left: CrudFilter,\n    right: CrudFilter,\n): boolean => {\n    if (\n        left.operator !== \"and\" &&\n        left.operator !== \"or\" &&\n        right.operator !== \"and\" &&\n        right.operator !== \"or\"\n    ) {\n        return (\n            (\"field\" in left ? left.field : undefined) ==\n                (\"field\" in right ? right.field : undefined) &&\n            left.operator == right.operator\n        );\n    }\n\n    return (\n        (\"key\" in left ? left.key : undefined) ==\n            (\"key\" in right ? right.key : undefined) &&\n        left.operator == right.operator\n    );\n};\n\nexport const compareSorters = (left: CrudSort, right: CrudSort): boolean =>\n    left.field == right.field;\n// Keep only one CrudFilter per type according to compareFilters\n// Items in the array that is passed first to unionWith have higher priority\n// CrudFilter items with undefined values are necessary to signify no filter\n// After union, don't keep CrudFilter items with undefined value in the result\n// Items in the arrays with higher priority are put at the end.\nexport const unionFilters = (\n    permanentFilter: CrudFilters,\n    newFilters: CrudFilters,\n    prevFilters: CrudFilters = [],\n): CrudFilters => {\n    const isKeyRequired = newFilters.filter(\n        (f) => (f.operator === \"or\" || f.operator === \"and\") && !f.key,\n    );\n\n    if (isKeyRequired.length > 1) {\n        warnOnce(\n            true,\n            `[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. \\nFor more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`,\n        );\n    }\n\n    return unionWith(\n        permanentFilter,\n        newFilters,\n        prevFilters,\n        compareFilters,\n    ).filter(\n        (crudFilter) =>\n            crudFilter.value !== undefined &&\n            crudFilter.value !== null &&\n            (crudFilter.operator !== \"or\" ||\n                (crudFilter.operator === \"or\" &&\n                    crudFilter.value.length !== 0)) &&\n            (crudFilter.operator !== \"and\" ||\n                (crudFilter.operator === \"and\" &&\n                    crudFilter.value.length !== 0)),\n    );\n};\n\nexport const unionSorters = (\n    permanentSorter: CrudSorting,\n    newSorters: CrudSorting,\n): CrudSorting =>\n    unionWith(permanentSorter, newSorters, compareSorters).filter(\n        (crudSorter) =>\n            crudSorter.order !== undefined && crudSorter.order !== null,\n    );\n// Prioritize filters in the permanentFilter and put it at the end of result array\nexport const setInitialFilters = (\n    permanentFilter: CrudFilters,\n    defaultFilter: CrudFilters,\n): CrudFilters => [\n    ...differenceWith(defaultFilter, permanentFilter, compareFilters),\n    ...permanentFilter,\n];\n\nexport const setInitialSorters = (\n    permanentSorter: CrudSorting,\n    defaultSorter: CrudSorting,\n): CrudSorting => [\n    ...differenceWith(defaultSorter, permanentSorter, compareSorters),\n    ...permanentSorter,\n];\n\nexport const getDefaultSortOrder = (\n    columnName: string,\n    sorter?: CrudSorting,\n): SortOrder | undefined => {\n    if (!sorter) {\n        return undefined;\n    }\n\n    const sortItem = sorter.find((item) => item.field === columnName);\n\n    if (sortItem) {\n        return sortItem.order as SortOrder;\n    }\n\n    return undefined;\n};\n\nexport const getDefaultFilter = (\n    columnName: string,\n    filters?: CrudFilters,\n    operatorType: CrudOperators = \"eq\",\n): CrudFilter[\"value\"] | undefined => {\n    const filter = filters?.find((filter) => {\n        if (\n            filter.operator !== \"or\" &&\n            filter.operator !== \"and\" &&\n            \"field\" in filter\n        ) {\n            const { operator, field } = filter;\n            return field === columnName && operator === operatorType;\n        }\n        return undefined;\n    });\n\n    if (filter) {\n        return filter.value || [];\n    }\n\n    return undefined;\n};\n","export const file2Base64 = (file: any): Promise<string> => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n\n        const resultHandler = () => {\n            if (reader.result) {\n                reader.removeEventListener(\"load\", resultHandler, false);\n\n                resolve(reader.result as string);\n            }\n        };\n\n        reader.addEventListener(\"load\", resultHandler, false);\n\n        reader.readAsDataURL(file.originFileObj as Blob);\n        reader.onerror = (error) => {\n            reader.removeEventListener(\"load\", resultHandler, false);\n            return reject(error);\n        };\n    });\n};\n","export const handleUseParams = (params: any = {}): any => {\n    if (params?.id) {\n        return {\n            ...params,\n            id: decodeURIComponent(params.id),\n        };\n    }\n    return params;\n};\n","/*\n * Returns first value that is not undefined.\n * @internal This is an internal helper function. Please do not use externally.\n */\nexport const pickNotDeprecated = <T extends unknown[]>(\n    ...args: T\n): T[never] => {\n    return args.find((arg) => typeof arg !== \"undefined\");\n};\n","import { IQueryKeys } from \"src/interfaces\";\nimport { QueryKey } from \"@tanstack/react-query\";\n\nimport { MetaQuery } from \"src/interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\nexport const queryKeys = (\n    resource?: string,\n    dataProviderName?: string,\n    meta?: MetaQuery,\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery | undefined,\n): IQueryKeys => {\n    const providerName = dataProviderName || \"default\";\n    const keys: IQueryKeys = {\n        all: [providerName],\n        resourceAll: [providerName, resource || \"\"],\n        list: (config) => [\n            ...keys.resourceAll,\n            \"list\",\n            {\n                ...config,\n                ...(pickNotDeprecated(meta, metaData) || {}),\n            } as QueryKey,\n        ],\n        many: (ids) =>\n            [\n                ...keys.resourceAll,\n                \"getMany\",\n                (ids && ids.map(String)) as QueryKey,\n                { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n            ].filter((item) => item !== undefined),\n        detail: (id) => [\n            ...keys.resourceAll,\n            \"detail\",\n            id?.toString(),\n            { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n        ],\n        logList: (meta) =>\n            [\"logList\", resource, meta as any, metaData as QueryKey].filter(\n                (item) => item !== undefined,\n            ),\n    };\n    return keys;\n};\n","export const hasPermission = (\n    permissions: string[] | undefined,\n    action: string | undefined,\n): boolean => {\n    if (!permissions || !action) {\n        return false;\n    }\n    return !!permissions.find((i) => i === action);\n};\n","/**\n * Check if a segment is a parameter. (e.g. :id)\n */\nexport const isParameter = (segment: string) => {\n    return segment.startsWith(\":\");\n};\n","/**\n * Split a path to segments.\n */\nexport const splitToSegments = (path: string) => {\n    const segments = path.split(\"/\").filter((segment) => segment !== \"\");\n    return segments;\n};\n","import { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Checks if the both routes have the same number of segments.\n */\nexport const isSegmentCountsSame = (route: string, resourceRoute: string) => {\n    const routeSegments = splitToSegments(route);\n    const resourceRouteSegments = splitToSegments(resourceRoute);\n\n    return routeSegments.length === resourceRouteSegments.length;\n};\n","/**\n * Remove leading and trailing slashes from a route.\n */\nexport const removeLeadingTrailingSlashes = (route: string) => {\n    return route.replace(/^\\/|\\/$/g, \"\");\n};\n","import { isParameter } from \"./is-parameter\";\nimport { isSegmentCountsSame } from \"./is-segment-counts-same\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * This function if the route and resourceRoute match by segments.\n * - First, trailing and leading slashes are removed\n * - Then, the route and resourceRoute are split to segments and checked if they have the same number of segments\n * - Then, each segment is checked if it is a parameter or if it matches the resourceRoute segment\n * - If all segments match, the function returns true, otherwise false\n */\nexport const checkBySegments = (route: string, resourceRoute: string) => {\n    const stdRoute = removeLeadingTrailingSlashes(route);\n    const stdResourceRoute = removeLeadingTrailingSlashes(resourceRoute);\n    // we need to check if the route and resourceRoute have the same number of segments\n    // if not, we can't match them\n    if (!isSegmentCountsSame(stdRoute, stdResourceRoute)) {\n        return false;\n    }\n\n    const routeSegments = splitToSegments(stdRoute);\n    const resourceRouteSegments = splitToSegments(stdResourceRoute);\n\n    return resourceRouteSegments.every((segment, index) => {\n        return isParameter(segment) || segment === routeSegments[index];\n    });\n};\n","import { Action } from \"src/interfaces\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * This helper function returns the default path for a given action and resource.\n * It also applies the parentPrefix if provided.\n * This is used by the legacy router and the new router if the resource doesn't provide a custom path.\n */\nexport const getDefaultActionPath = (\n    resourceName: string,\n    action: Action,\n    parentPrefix?: string,\n): string => {\n    const cleanParentPrefix = removeLeadingTrailingSlashes(parentPrefix || \"\");\n\n    let path = `${cleanParentPrefix}${\n        cleanParentPrefix ? \"/\" : \"\"\n    }${resourceName}`;\n\n    if (action === \"list\") {\n        path = `${path}`;\n    } else if (action === \"create\") {\n        path = `${path}/create`;\n    } else if (action === \"edit\") {\n        path = `${path}/edit/:id`;\n    } else if (action === \"show\") {\n        path = `${path}/show/:id`;\n    } else if (action === \"clone\") {\n        path = `${path}/clone/:id`;\n    }\n\n    return `/${path.replace(/^\\//, \"\")}`;\n};\n","import { IResourceItem } from \"src/interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Returns the parent resource of the given resource.\n * Works both with the deprecated `parentName` and the new `parent` property.\n */\nexport const getParentResource = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n): IResourceItem | undefined => {\n    const parentName = pickNotDeprecated(\n        resource.meta?.parent,\n        resource.options?.parent,\n        resource.parentName,\n    );\n\n    if (!parentName) {\n        return undefined;\n    }\n\n    const parentResource = resources.find(\n        (resource) => (resource.identifier ?? resource.name) === parentName,\n    );\n\n    /**\n     * If the parent resource is not found, we return a resource object with the name of the parent resource.\n     * Because we still want to have nesting and prefixing for the resource even if the parent is not explicitly defined.\n     */\n    return parentResource ?? { name: parentName };\n};\n","import { ResourceProps } from \"src/interfaces/bindings/resource\";\nimport { getParentResource } from \"./get-parent-resource\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * Returns the parent prefix for a resource\n * - If `legacy` is provided, the computation is based on the `route` option of the resource\n */\nexport const getParentPrefixForResource = (\n    resource: ResourceProps,\n    resources: ResourceProps[],\n    /**\n     * Uses legacy route if true (`options.route`)\n     */\n    legacy?: boolean,\n): string | undefined => {\n    const parents: ResourceProps[] = [];\n\n    let parent = getParentResource(resource, resources);\n\n    while (parent) {\n        parents.push(parent);\n        parent = getParentResource(parent, resources);\n    }\n\n    if (parents.length === 0) {\n        return undefined;\n    }\n\n    return `/${parents\n        .reverse()\n        .map((parent) => {\n            const v = legacy\n                ? parent.options?.route ?? parent.name\n                : parent.name;\n            return removeLeadingTrailingSlashes(v);\n        })\n        .join(\"/\")}`;\n};\n","import { Action, IResourceItem } from \"src/interfaces\";\nimport { getDefaultActionPath } from \"./get-default-action-path\";\nimport { getParentPrefixForResource } from \"./get-parent-prefix-for-resource\";\n\nexport type ResourceActionRoute = {\n    action: Action;\n    resource: IResourceItem;\n    route: string;\n};\n\n/**\n * This function returns all the routes for available actions for a resource.\n * - If the action is a function, it means we're fallbacking to default path for the action\n * - If the action is a string, it means we don't have the component, but we have the route\n * - If the action is an object, it means we have the component and the route\n * - It will return an array of objects with the action, the resource and the route\n */\nexport const getActionRoutesFromResource = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n    /**\n     * Uses legacy route if true (`options.route`)\n     */\n    legacy?: boolean,\n) => {\n    const actions: ResourceActionRoute[] = [];\n\n    const actionList: Action[] = [\"list\", \"show\", \"edit\", \"create\", \"clone\"];\n\n    const parentPrefix = getParentPrefixForResource(\n        resource,\n        resources,\n        legacy,\n    );\n\n    actionList.forEach((action) => {\n        const item =\n            legacy && action === \"clone\" ? resource.create : resource[action];\n\n        let route: string | undefined = undefined;\n\n        if (typeof item === \"function\" || legacy) {\n            // means we're fallbacking to default path for the action\n            route = getDefaultActionPath(\n                legacy\n                    ? resource.meta?.route ??\n                          resource.options?.route ??\n                          resource.name\n                    : resource.name,\n                action,\n                legacy ? parentPrefix : undefined,\n            );\n        } else if (typeof item === \"string\") {\n            // means we don't have the component, but we have the route\n            route = item;\n        } else if (typeof item === \"object\") {\n            // means we have the component and the route\n            route = item.path;\n        }\n\n        if (route) {\n            actions.push({\n                action,\n                resource,\n                route: `/${route.replace(/^\\//, \"\")}`,\n            });\n        }\n    });\n\n    return actions;\n};\n","import { ResourceActionRoute } from \"./get-action-routes-from-resource\";\nimport { isParameter } from \"./is-parameter\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Picks the most eligible route from the given matched routes.\n * - If there's only one route, it returns it.\n * - If there's more than one route, it picks the best non-greedy match.\n */\nexport const pickMatchedRoute = (\n    routes: ResourceActionRoute[],\n): ResourceActionRoute | undefined => {\n    // these routes are all matched, we should pick the least parametrized one\n\n    // no routes, no match\n    if (routes.length === 0) {\n        return undefined;\n    }\n\n    // no need to calculate the route segments if there's only one route\n    if (routes.length === 1) {\n        return routes[0];\n    }\n\n    // remove trailing and leading slashes\n    // split them to segments\n    const sanitizedRoutes = routes.map((route) => ({\n        ...route,\n        splitted: splitToSegments(removeLeadingTrailingSlashes(route.route)),\n    }));\n\n    // at this point, before calling this function, we already checked for segment lenghts and expect all of them to be the same\n    const segmentsCount = sanitizedRoutes[0]?.splitted.length ?? 0;\n\n    let eligibleRoutes: Array<(typeof sanitizedRoutes)[number]> = [\n        ...sanitizedRoutes,\n    ];\n\n    // loop through the segments\n    for (let i = 0; i < segmentsCount; i++) {\n        const nonParametrizedRoutes = eligibleRoutes.filter(\n            (route) => !isParameter(route.splitted[i]),\n        );\n\n        if (nonParametrizedRoutes.length === 0) {\n            // keep the eligible routes as they are\n            continue;\n        }\n        if (nonParametrizedRoutes.length === 1) {\n            // no need to continue, we found the route\n            eligibleRoutes = nonParametrizedRoutes;\n            break;\n        }\n\n        // we have more than one non-parametrized route, we need to check the next segment\n        eligibleRoutes = nonParametrizedRoutes;\n    }\n\n    return eligibleRoutes[0];\n};\n","import { Action, IResourceItem } from \"../../../interfaces\";\nimport { checkBySegments } from \"./check-by-segments\";\nimport { getActionRoutesFromResource } from \"./get-action-routes-from-resource\";\nimport { pickMatchedRoute } from \"./pick-matched-route\";\n\n/**\n * Match the resource from the route\n * - It will calculate all possible routes for resources and their actions\n * - It will check if the route matches any of the possible routes\n * - It will return the most eligible resource and action\n */\nexport const matchResourceFromRoute = (\n    route: string,\n    resources: IResourceItem[],\n): {\n    found: boolean;\n    resource?: IResourceItem;\n    action?: Action;\n    matchedRoute?: string;\n} => {\n    const allActionRoutes = resources.flatMap((resource) => {\n        return getActionRoutesFromResource(resource, resources);\n    });\n\n    const allFound = allActionRoutes.filter((actionRoute) => {\n        return checkBySegments(route, actionRoute.route);\n    });\n\n    const mostEligible = pickMatchedRoute(allFound);\n\n    return {\n        found: !!mostEligible,\n        resource: mostEligible?.resource,\n        action: mostEligible?.action,\n        matchedRoute: mostEligible?.route,\n    };\n};\n","import { ResourceProps } from \"src/interfaces/bindings/resource\";\nimport { getParentPrefixForResource } from \"../router\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * generates route for the resource based on parents and custom routes\n * @deprecated this is a **legacy** function and works only with the old resource definition\n */\nexport const routeGenerator = (\n    item: ResourceProps,\n    resourcesFromProps: ResourceProps[],\n): string | undefined => {\n    let route;\n\n    const parentPrefix = getParentPrefixForResource(\n        item,\n        resourcesFromProps,\n        true,\n    );\n\n    if (parentPrefix) {\n        const meta = pickNotDeprecated(item.meta, item.options);\n        route = `${parentPrefix}/${meta?.route ?? item.name}`;\n    } else {\n        route = item.options?.route ?? item.name;\n    }\n\n    return `/${route.replace(/^\\//, \"\")}`;\n};\n","import { pickNotDeprecated } from \"@definitions/helpers/pickNotDeprecated\";\nimport { IResourceItem, ITreeMenu, IMenuItem } from \"src/interfaces\";\n\n/**\n * @deprecated This helper is deprecated. Please use `createTree` instead.\n */\nexport const createTreeView = (\n    resources: IResourceItem[] | IMenuItem[],\n): ITreeMenu[] | ITreeMenu[] => {\n    const tree = [];\n    const resourcesRouteObject: { [key: string]: any } = {};\n    const resourcesNameObject: { [key: string]: any } = {};\n    let parent: IResourceItem | IMenuItem;\n    let child: ITreeMenu;\n\n    for (let i = 0; i < resources.length; i++) {\n        parent = resources[i];\n\n        const route =\n            parent.route ??\n            pickNotDeprecated(parent?.meta, parent.options)?.route ??\n            \"\";\n\n        resourcesRouteObject[route] = parent;\n        resourcesRouteObject[route][\"children\"] = [];\n\n        resourcesNameObject[parent.name] = parent;\n        resourcesNameObject[parent.name][\"children\"] = [];\n    }\n\n    for (const name in resourcesRouteObject) {\n        if (resourcesRouteObject.hasOwnProperty(name)) {\n            child = resourcesRouteObject[name];\n\n            if (child.parentName && resourcesNameObject[child.parentName]) {\n                resourcesNameObject[child.parentName][\"children\"].push(child);\n            } else {\n                tree.push(child);\n            }\n        }\n    }\n\n    return tree;\n};\n","export const humanizeString = (text: string): string => {\n    text = text.replace(/([a-z]{1})([A-Z]{1})/g, \"$1-$2\");\n    text = text.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g, \"$1-$2$3\");\n\n    text = text\n        .toLowerCase()\n        .replace(/[_-]+/g, \" \")\n        .replace(/\\s{2,}/g, \" \")\n        .trim();\n    text = text.charAt(0).toUpperCase() + text.slice(1);\n\n    return text;\n};\n// https://www.npmjs.com/package/humanize-string\n","import React from \"react\";\n\nimport {\n    IRefineContextOptions,\n    IRefineContext,\n    IRefineContextProvider,\n} from \"./IRefineContext\";\nimport { DefaultLayout } from \"@components/layoutWrapper/defaultLayout\";\n\nimport { LoginPage as DefaultLoginPage } from \"@components/pages\";\n\nexport const defaultRefineOptions: IRefineContextOptions = {\n    mutationMode: \"pessimistic\",\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    warnWhenUnsavedChanges: false,\n    liveMode: \"off\",\n    redirect: {\n        afterCreate: \"list\",\n        afterClone: \"list\",\n        afterEdit: \"list\",\n    },\n};\n\nexport const RefineContext = React.createContext<IRefineContext>({\n    hasDashboard: false,\n    mutationMode: \"pessimistic\",\n    warnWhenUnsavedChanges: false,\n    syncWithLocation: false,\n    undoableTimeout: 5000,\n    Title: undefined,\n    Sider: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Layout: DefaultLayout,\n    OffLayoutArea: undefined,\n    liveMode: \"off\",\n    onLiveEvent: undefined,\n    options: defaultRefineOptions,\n});\n\nexport const RefineContextProvider: React.FC<IRefineContextProvider> = ({\n    hasDashboard,\n    mutationMode,\n    warnWhenUnsavedChanges,\n    syncWithLocation,\n    undoableTimeout,\n    children,\n    DashboardPage,\n    Title,\n    Layout = DefaultLayout,\n    Header,\n    Sider,\n    Footer,\n    OffLayoutArea,\n    LoginPage = DefaultLoginPage,\n    catchAll,\n    liveMode = \"off\",\n    onLiveEvent,\n    options,\n}) => {\n    return (\n        <RefineContext.Provider\n            value={{\n                hasDashboard,\n                mutationMode,\n                warnWhenUnsavedChanges,\n                syncWithLocation,\n                Title,\n                undoableTimeout,\n                Layout,\n                Header,\n                Sider,\n                Footer,\n                OffLayoutArea,\n                DashboardPage,\n                LoginPage,\n                catchAll,\n                liveMode,\n                onLiveEvent,\n                options,\n            }}\n        >\n            {children}\n        </RefineContext.Provider>\n    );\n};\n","import React from \"react\";\n\nimport { LayoutProps } from \"../../../interfaces\";\n\nexport const DefaultLayout: React.FC<LayoutProps> = ({ children }) => {\n    return <div>{children}</div>;\n};\n","import { QueryClient, QueryClientConfig } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\n\nimport { defaultRefineOptions } from \"@contexts/refine\";\nimport {\n    IRefineContextOptions,\n    IRefineOptions,\n    LiveModeProps,\n    MutationMode,\n} from \"src/interfaces\";\n\ntype HandleRefineOptionsProps = {\n    options?: IRefineOptions;\n    mutationMode?: MutationMode;\n    syncWithLocation?: boolean;\n    warnWhenUnsavedChanges?: boolean;\n    undoableTimeout?: number;\n    liveMode?: LiveModeProps[\"liveMode\"];\n    disableTelemetry?: boolean;\n    reactQueryClientConfig?: QueryClientConfig;\n    reactQueryDevtoolConfig?:\n        | React.ComponentProps<typeof ReactQueryDevtools>\n        | false;\n};\n\ntype HandleRefineOptionsReturnValues = {\n    optionsWithDefaults: IRefineContextOptions;\n    disableTelemetryWithDefault: boolean;\n    reactQueryWithDefaults: {\n        clientConfig: QueryClientConfig | InstanceType<typeof QueryClient>;\n        devtoolConfig: false | React.ComponentProps<typeof ReactQueryDevtools>;\n    };\n};\n\nexport const handleRefineOptions = ({\n    options,\n    disableTelemetry,\n    liveMode,\n    mutationMode,\n    reactQueryClientConfig,\n    reactQueryDevtoolConfig,\n    syncWithLocation,\n    undoableTimeout,\n    warnWhenUnsavedChanges,\n}: HandleRefineOptionsProps = {}): HandleRefineOptionsReturnValues => {\n    const optionsWithDefaults: IRefineContextOptions = {\n        breadcrumb: options?.breadcrumb,\n        mutationMode:\n            options?.mutationMode ??\n            mutationMode ??\n            defaultRefineOptions.mutationMode,\n        undoableTimeout:\n            options?.undoableTimeout ??\n            undoableTimeout ??\n            defaultRefineOptions.undoableTimeout,\n        syncWithLocation:\n            options?.syncWithLocation ??\n            syncWithLocation ??\n            defaultRefineOptions.syncWithLocation,\n        warnWhenUnsavedChanges:\n            options?.warnWhenUnsavedChanges ??\n            warnWhenUnsavedChanges ??\n            defaultRefineOptions.warnWhenUnsavedChanges,\n        liveMode:\n            options?.liveMode ?? liveMode ?? defaultRefineOptions.liveMode,\n        redirect: {\n            afterCreate:\n                options?.redirect?.afterCreate ??\n                defaultRefineOptions.redirect.afterCreate,\n            afterClone:\n                options?.redirect?.afterClone ??\n                defaultRefineOptions.redirect.afterClone,\n            afterEdit:\n                options?.redirect?.afterEdit ??\n                defaultRefineOptions.redirect.afterEdit,\n        },\n    };\n\n    const disableTelemetryWithDefault =\n        options?.disableTelemetry ?? disableTelemetry ?? false;\n\n    const reactQueryWithDefaults = {\n        clientConfig:\n            options?.reactQuery?.clientConfig ?? reactQueryClientConfig ?? {},\n        devtoolConfig:\n            options?.reactQuery?.devtoolConfig ?? reactQueryDevtoolConfig ?? {},\n    };\n\n    return {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    };\n};\n","import { Action, IRefineContextOptions, RedirectAction } from \"src/interfaces\";\n\ntype RedirectPageProps = {\n    redirectFromProps?: RedirectAction;\n    action: Action;\n    redirectOptions: IRefineContextOptions[\"redirect\"];\n};\n\nexport const redirectPage = ({\n    redirectFromProps,\n    action,\n    redirectOptions,\n}: RedirectPageProps): RedirectAction => {\n    if (redirectFromProps || redirectFromProps === false) {\n        return redirectFromProps;\n    }\n\n    switch (action) {\n        case \"clone\":\n            return redirectOptions.afterClone;\n        case \"create\":\n            return redirectOptions.afterCreate;\n        case \"edit\":\n            return redirectOptions.afterEdit;\n        default:\n            return false;\n    }\n};\n","type EachResolve<TResolve, Response> = (\n    result: TResolve,\n    index: number,\n) => Response;\ntype EachReject<TReject, Response> = (\n    error: TReject,\n    index: number,\n) => Response;\n\nexport const sequentialPromises = async <\n    TResolve = unknown,\n    TReject = unknown,\n    TResolveResponse = unknown,\n    TRejectResponse = unknown,\n>(\n    promises: (() => Promise<TResolve>)[],\n    onEachResolve: EachResolve<TResolve, TResolveResponse>,\n    onEachReject: EachReject<TReject, TRejectResponse>,\n): Promise<(TResolveResponse | TRejectResponse)[]> => {\n    const results = [];\n    // @ts-expect-error Remove this when we enable `downLevelIterations`\n    for (const [index, promise] of promises.entries()) {\n        try {\n            const result = await promise();\n\n            results.push(onEachResolve(result, index));\n        } catch (error) {\n            results.push(onEachReject(error as TReject, index));\n        }\n    }\n    return results;\n};\n","import { IResourceItem } from \"src/interfaces/bindings/resource\";\nimport { removeLeadingTrailingSlashes } from \"../router/remove-leading-trailing-slashes\";\n\n/**\n * Picks the resource based on the provided identifier.\n * Identifier fallbacks to `name` if `identifier` is not explicitly provided to the resource.\n * If legacy is true, then resource is matched by `route` first and then by `name`.\n */\nexport const pickResource = (\n    identifier?: string,\n    resources: IResourceItem[] = [],\n    /**\n     * If true, the identifier will be checked for `route` and `name` properties\n     */\n    legacy = false,\n): IResourceItem | undefined => {\n    if (!identifier) {\n        return undefined;\n    }\n\n    if (legacy) {\n        const resourceByRoute = resources.find(\n            (r) =>\n                removeLeadingTrailingSlashes(r.route ?? \"\") ===\n                removeLeadingTrailingSlashes(identifier),\n        );\n\n        const resource = resourceByRoute\n            ? resourceByRoute\n            : resources.find((r) => r.name === identifier);\n\n        return resource;\n    }\n\n    const resource = resources.find(\n        (r) => (r.identifier ?? r.name) === identifier,\n    );\n\n    return resource;\n};\n","import { IResourceItem } from \"src/interfaces/bindings/resource\";\nimport { pickResource } from \"../pick-resource\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Picks the data provider name based on the provided name or fallbacks to resource definition, or `default`.\n */\nexport const pickDataProvider = (\n    resourceName?: string,\n    dataProviderName?: string,\n    resources?: IResourceItem[],\n) => {\n    if (dataProviderName) {\n        return dataProviderName;\n    }\n\n    /**\n     * In this helper, we don't do `route` based matching therefore there's no need to check for `legacy` behaviors.\n     */\n    const resource = pickResource(resourceName, resources);\n\n    const meta = pickNotDeprecated(resource?.meta, resource?.options);\n\n    if (meta?.dataProviderName) {\n        return meta.dataProviderName;\n    }\n\n    return \"default\";\n};\n","export const handleMultiple = async <TData = unknown>(\n    promises: Promise<{ data: TData }>[],\n): Promise<{ data: TData[] }> => {\n    return {\n        data: (await Promise.all(promises)).map((res) => res.data),\n    };\n};\n","import { GetListResponse } from \"../../../interfaces\";\n\nexport const getNextPageParam = (lastPage: GetListResponse) => {\n    const { pagination, cursor } = lastPage;\n\n    // cursor pagination\n    if (cursor?.next) {\n        return cursor.next;\n    }\n\n    const current = pagination?.current || 1;\n\n    const pageSize = pagination?.pageSize || 10;\n    const totalPages = Math.ceil((lastPage.total || 0) / pageSize);\n\n    return current < totalPages ? Number(current) + 1 : undefined;\n};\n\nexport const getPreviousPageParam = (lastPage: GetListResponse) => {\n    const { pagination, cursor } = lastPage;\n\n    // cursor pagination\n    if (cursor?.prev) {\n        return cursor.prev;\n    }\n\n    const current = pagination?.current || 1;\n\n    return current === 1 ? undefined : current - 1;\n};\n","import {\n    IResourceItem,\n    ResourceProps,\n} from \"../../../interfaces/bindings/resource\";\n\nimport { routeGenerator } from \"../routeGenerator\";\n\n/**\n * For the legacy definition of resources, we did a basic transformation for provided resources\n * - This is meant to provide an easier way to access properties.\n * - In the new definition, we don't need to do transformations and properties can be accessed via helpers or manually.\n * This is kept for backward compability\n */\nexport const legacyResourceTransform = (resources: ResourceProps[]) => {\n    const _resources: IResourceItem[] = [];\n\n    resources?.forEach((resource) => {\n        _resources.push({\n            ...resource,\n            label: resource.meta?.label ?? resource.options?.label,\n            route: routeGenerator(resource, resources),\n            canCreate: !!resource.create,\n            canEdit: !!resource.edit,\n            canShow: !!resource.show,\n            canDelete: resource.canDelete,\n        });\n    });\n\n    return _resources;\n};\n","import { splitToSegments } from \"./split-to-segments\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { isParameter } from \"./is-parameter\";\n\n/**\n * Picks the route parameters from the given route.\n * (e.g. /users/:id/posts/:postId => ['id', 'postId'])\n */\nexport const pickRouteParams = (route: string) => {\n    const segments = splitToSegments(removeLeadingTrailingSlashes(route));\n\n    return segments.flatMap((s) => {\n        if (isParameter(s)) {\n            return [s.slice(1)];\n        }\n\n        return [];\n    });\n};\n","import { MetaDataQuery, ParseResponse } from \"../../../interfaces\";\n\n/**\n * Prepares the route params by checking the existing params and meta data.\n * Meta data is prioritized over params.\n * Params are prioritized over predetermined id, action and resource.\n * This means, we can use `meta` for user supplied params (both manually or from the query string)\n */\nexport const prepareRouteParams = <\n    TRouteParams extends Record<\n        string,\n        string | number | undefined | Symbol\n    > = Record<string, string | number | undefined | Symbol>,\n>(\n    routeParams: (keyof TRouteParams)[],\n    params: ParseResponse = {},\n    meta: MetaDataQuery = {},\n): Partial<TRouteParams> => {\n    // meta is prioritized over params\n    return routeParams.reduce((acc, key) => {\n        const value =\n            meta[key as string] ||\n            params.params?.[key as string] ||\n            (key === \"id\" ? params.id : undefined) ||\n            (key === \"action\" ? params.action : undefined) ||\n            (key === \"resource\" ? params.resource : undefined);\n        if (typeof value !== \"undefined\") {\n            acc[key] = value;\n        }\n        return acc;\n    }, {} as Partial<TRouteParams>);\n};\n","import { MetaDataQuery, ParseResponse } from \"../../../interfaces\";\n\nimport { pickRouteParams } from \"./pick-route-params\";\nimport { prepareRouteParams } from \"./prepare-route-params\";\n\n/**\n * This function will compose a route with the given params and meta.\n * - A route can have parameters like (eg: /users/:id)\n * - First we pick the route params from the route (eg: [id])\n * - Then we prepare the route params with the given params and meta (eg: { id: 1 })\n * - Then we replace the route params with the prepared route params (eg: /users/1)\n */\nexport const composeRoute = (\n    designatedRoute: string,\n    params: ParseResponse = {},\n    meta: MetaDataQuery = {},\n): string => {\n    // pickRouteParams (from the route)\n    const routeParams = pickRouteParams(designatedRoute);\n    // prepareRouteParams (from route params, params and meta)\n    const preparedRouteParams = prepareRouteParams(routeParams, params, meta);\n    // replace route params with prepared route params\n    return designatedRoute.replace(/:([^\\/]+)/g, (match, key) => {\n        const fromParams = preparedRouteParams[key];\n        if (typeof fromParams !== \"undefined\") {\n            return `${fromParams}`;\n        }\n        return match;\n    });\n};\n","import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * @returns authProvider or legacyAuthProvider if provided, otherwise null\n * @internal\n * NOTE: Will be removed in v5\n */\nexport const useActiveAuthProvider = () => {\n    const legacyAuthProvider = useLegacyAuthContext();\n    const authProvider = useAuthBindingsContext();\n\n    if (authProvider.isProvided) {\n        return { isLegacy: false, ...authProvider };\n    }\n\n    if (legacyAuthProvider.isProvided) {\n        // legacyAuthProvider interface is different from authProvider interface\n        // we need to convert it to authProvider interface for simple usage\n        // in the future, we will remove legacyAuthProvider\n        return {\n            isLegacy: true,\n            ...legacyAuthProvider,\n            check: legacyAuthProvider.checkAuth,\n            onError: legacyAuthProvider.checkError,\n            getIdentity: legacyAuthProvider.getUserIdentity,\n        };\n    }\n\n    return null;\n};\n","import { Pagination } from \"../../../interfaces\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\ntype HandlePaginationParamsProps = {\n    hasPagination?: boolean;\n    pagination?: Pagination;\n    configPagination?: Pagination;\n};\n\nexport const handlePaginationParams = ({\n    hasPagination,\n    pagination,\n    configPagination,\n}: HandlePaginationParamsProps = {}): Required<Pagination> => {\n    const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n    const mode = pagination?.mode ?? hasPaginationString;\n\n    const current =\n        pickNotDeprecated(pagination?.current, configPagination?.current) ?? 1;\n\n    const pageSize =\n        pickNotDeprecated(pagination?.pageSize, configPagination?.pageSize) ??\n        10;\n\n    return {\n        current,\n        pageSize,\n        mode,\n    };\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    GetOneResponse,\n    HttpError,\n    BaseRecord,\n    BaseKey,\n    LiveModeProps,\n    SuccessErrorNotification,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useResourceSubscription,\n    useHandleNotification,\n    useDataProvider,\n    useOnError,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions\";\n\nexport type UseOneProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource?: string;\n    /**\n     * id of the item in the resource\n     * @type [`BaseKey`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    id?: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, TError>;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data query for `dataProvider`,\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `\"default\"``\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useOne` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving single items from a `resource`.\n *\n * It uses `getOne` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useOne} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useOne = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    id,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseOneProps<TData, TError>): QueryObserverResult<GetOneResponse<TData>> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const queryKey = queryKeys(\n        resource,\n        pickDataProvider(resource, dataProviderName, resources),\n        pickNotDeprecated(meta, metaData),\n        pickNotDeprecated(meta, metaData),\n    );\n\n    const { getOne } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        channel: `resources/${resource}`,\n        params: {\n            ids: id ? [id] : [],\n            id: id,\n            meta: pickNotDeprecated(meta, metaData),\n            metaData: pickNotDeprecated(meta, metaData),\n            subscriptionType: \"useOne\",\n            ...liveParams,\n        },\n        enabled:\n            typeof queryOptions?.enabled !== \"undefined\"\n                ? queryOptions?.enabled\n                : typeof resource !== \"undefined\" && typeof id !== \"undefined\",\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetOneResponse<TData>, TError>(\n        queryKey.detail(id),\n        ({ queryKey, pageParam, signal }) =>\n            getOne<TData>({\n                resource: resource!,\n                id: id!,\n                meta: {\n                    ...(pickNotDeprecated(meta, metaData) || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...(pickNotDeprecated(meta, metaData) || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            }),\n        {\n            ...queryOptions,\n            enabled:\n                typeof queryOptions?.enabled !== \"undefined\"\n                    ? queryOptions?.enabled\n                    : typeof id !== \"undefined\",\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              {\n                                  id,\n                                  ...(pickNotDeprecated(meta, metaData) || {}),\n                              },\n                              resource,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(\n                              err,\n                              {\n                                  id,\n                                  ...(pickNotDeprecated(meta, metaData) || {}),\n                              },\n                              resource,\n                          )\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-getOne-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    BaseRecord,\n    BaseKey,\n    GetManyResponse,\n    HttpError,\n    LiveModeProps,\n    SuccessErrorNotification,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useResourceSubscription,\n    useHandleNotification,\n    useDataProvider,\n    useOnError,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    handleMultiple,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\n\nexport type UseManyProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * ids of the item in the resource\n     * @type [`BaseKey[]`](/docs/api-reference/core/interfaceReferences/#basekey)\n     */\n    ids: BaseKey[];\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetManyResponse<TData>, TError>;\n    /**\n     * Metadata query for `dataProvider`,\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for `dataProvider`,\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving multiple items from a `resource`.\n *\n * It uses `getMany` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    ids,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseManyProps<TData, TError>): QueryObserverResult<\n    GetManyResponse<TData>\n> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const queryKey = queryKeys(\n        resource,\n        pickDataProvider(resource, dataProviderName, resources),\n        pickNotDeprecated(meta, metaData),\n        pickNotDeprecated(meta, metaData),\n    );\n\n    const { getMany, getOne } = dataProvider(\n        pickDataProvider(resource, dataProviderName, resources),\n    );\n\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        params: {\n            ids: ids ?? [],\n            meta: pickNotDeprecated(meta, metaData),\n            metaData: pickNotDeprecated(meta, metaData),\n            subscriptionType: \"useMany\",\n            ...liveParams,\n        },\n        channel: `resources/${resource}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useQuery<GetManyResponse<TData>, TError>(\n        queryKey.many(ids),\n        ({ queryKey, pageParam, signal }) => {\n            if (getMany) {\n                return getMany({\n                    resource,\n                    ids,\n                    metaData: {\n                        ...(pickNotDeprecated(meta, metaData) || {}),\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                });\n            } else {\n                return handleMultiple(\n                    ids.map((id) =>\n                        getOne<TData>({\n                            resource,\n                            id,\n                            metaData: {\n                                ...(pickNotDeprecated(meta, metaData) || {}),\n                                queryContext: {\n                                    queryKey,\n                                    pageParam,\n                                    signal,\n                                },\n                            },\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, ids, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, ids, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids[0]}-${resource}-getMany-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    BaseRecord,\n    BaseKey,\n    UpdateResponse,\n    MutationMode,\n    PrevContext as UpdateContext,\n    HttpError,\n    SuccessErrorNotification,\n    MetaQuery,\n    PreviousQuery,\n    GetListResponse,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport pluralize from \"pluralize\";\nimport {\n    useResource,\n    useMutationMode,\n    useCancelNotification,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n    useOnError,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\n\nexport type UpdateParams<TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * id for mutation function\n     */\n    id: BaseKey;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Duration to wait before executing the mutation when `mutationMode = \"undoable\"`\n     */\n    undoableTimeout?: number;\n    /**\n     * Callback that runs when undo button is clicked on `mutationMode = \"undoable\"`\n     */\n    onCancel?: (cancelMutation: () => void) => void;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default \"default\"\n     */\n    dataProviderName?: string;\n    /**\n     *  You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseUpdateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateResponse<TData>,\n    TError,\n    UpdateParams<TVariables>,\n    UpdateContext<TData>\n>;\n\nexport type UseUpdateProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            UpdateResponse<TData>,\n            TError,\n            UpdateParams<TVariables>,\n            UpdateContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n};\n\n/**\n * `useUpdate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for update mutations.\n *\n * It uses `update` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useUpdate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseUpdateProps<TData, TError, TVariables> = {}): UseUpdateReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const publish = usePublish();\n    const { log } = useLog();\n    const { notificationDispatch } = useCancelNotification();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        UpdateResponse<TData>,\n        TError,\n        UpdateParams<TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            id,\n            values,\n            resource,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n        }) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(resource, dataProviderName, resources),\n                ).update<TData, TVariables>({\n                    resource,\n                    id,\n                    variables: values,\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                });\n            }\n            const updatePromise = new Promise<UpdateResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                resource,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .update<TData, TVariables>({\n                                resource,\n                                id,\n                                variables: values,\n                                meta: pickNotDeprecated(meta, metaData),\n                                metaData: pickNotDeprecated(meta, metaData),\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: id,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                resource,\n                id,\n                mutationMode,\n                values,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.map((record: TData) => {\n                                if (record.id?.toString() === id?.toString()) {\n                                    return {\n                                        id,\n                                        ...record,\n                                        ...values,\n                                    } as unknown as TData;\n                                }\n                                return record;\n                            });\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (record.id?.toString() === id?.toString()) {\n                                    record = {\n                                        id,\n                                        ...record,\n                                        ...values,\n                                    } as unknown as TData;\n                                }\n                                return record;\n                            });\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.detail(id),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            return {\n                                ...previous,\n                                data: {\n                                    ...previous.data,\n                                    ...values,\n                                },\n                            };\n                        },\n                    );\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\", \"detail\"],\n                },\n            ) => {\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                    id,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource },\n                });\n            },\n            onSuccess: (\n                data,\n                {\n                    id,\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    values,\n                    meta,\n                    metaData,\n                },\n                context,\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { id, values }, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: data.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                });\n\n                let previousData: any;\n                if (context) {\n                    const queryData = queryClient.getQueryData<\n                        UpdateResponse<TData>\n                    >(context.queryKey.detail(id));\n\n                    previousData = Object.keys(values || {}).reduce<any>(\n                        (acc, item) => {\n                            acc[item] = queryData?.data?.[item];\n                            return acc;\n                        },\n                        {},\n                    );\n                }\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"update\",\n                    resource,\n                    data: values,\n                    previousData,\n                    meta: {\n                        id,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { id, resource, errorNotification, values },\n                context,\n            ) => {\n                // set back the queries to the context:\n\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { id, values }, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: translate(\n                                    `${resource}.${resource}`,\n                                    resourceSingular,\n                                ),\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import React, { ReactNode, useReducer } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nimport { UndoableQueue } from \"@components\";\n\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../interfaces\";\nimport { ActionTypes } from \"./actionTypes\";\n\nexport const UndoableQueueContext = React.createContext<IUndoableQueueContext>({\n    notifications: [],\n    notificationDispatch: () => false,\n});\n\nconst initialState: IUndoableQueue[] = [];\n\nexport const undoableQueueReducer = (state: IUndoableQueue[], action: any) => {\n    switch (action.type) {\n        case ActionTypes.ADD:\n            const newState = state.filter(\n                (notificationItem: IUndoableQueue) => {\n                    return !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    );\n                },\n            );\n\n            return [\n                ...newState,\n                {\n                    ...action.payload,\n                    isRunning: true,\n                },\n            ];\n        case ActionTypes.REMOVE:\n            return state.filter(\n                (notificationItem: IUndoableQueue) =>\n                    !(\n                        isEqual(notificationItem.id, action.payload.id) &&\n                        notificationItem.resource == action.payload.resource\n                    ),\n            );\n        case ActionTypes.DECREASE_NOTIFICATION_SECOND:\n            return state.map((notificationItem: IUndoableQueue) => {\n                if (\n                    isEqual(notificationItem.id, action.payload.id) &&\n                    notificationItem.resource == action.payload.resource\n                ) {\n                    return {\n                        ...notificationItem,\n                        seconds: action.payload.seconds - 1000,\n                    };\n                }\n                return notificationItem;\n            });\n        default:\n            return state;\n    }\n};\n\nexport const UndoableQueueContextProvider: React.FC<{\n    children: ReactNode;\n}> = ({ children }) => {\n    const [notifications, notificationDispatch] = useReducer(\n        undoableQueueReducer,\n        initialState,\n    );\n\n    const notificationData = { notifications, notificationDispatch };\n\n    return (\n        <UndoableQueueContext.Provider value={notificationData}>\n            {children}\n            {typeof window !== \"undefined\" &&\n                notifications.map((notification) => (\n                    <UndoableQueue\n                        key={`${notification.id}-${notification.resource}-queue`}\n                        notification={notification}\n                    />\n                ))}\n        </UndoableQueueContext.Provider>\n    );\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\nimport {\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\n\nimport {\n    CreateResponse,\n    BaseRecord,\n    HttpError,\n    SuccessErrorNotification,\n    MetaQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n    useOnError,\n} from \"@hooks\";\n\ntype useCreateParams<TVariables> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Values for mutation function\n     */\n    values: TVariables;\n    /**\n     * Meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseCreateReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCreateParams<TVariables>,\n    unknown\n>;\n\nexport type UseCreateProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateResponse<TData>,\n            TError,\n            useCreateParams<TVariables>,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\n/**\n * `useCreate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses `create` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useCreate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCreate = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseCreateProps<TData, TError, TVariables> = {}): UseCreateReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const dataProvider = useDataProvider();\n    const invalidateStore = useInvalidate();\n\n    const { resources } = useResource();\n\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCreateParams<TVariables>,\n        unknown\n    >(\n        ({\n            resource,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n        }: useCreateParams<TVariables>) => {\n            return dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            ).create<TData, TVariables>({\n                resource,\n                variables: values,\n                meta: pickNotDeprecated(meta, metaData),\n                metaData: pickNotDeprecated(meta, metaData),\n            });\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    resource,\n                    successNotification: successNotificationFromProp,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, values, resource)\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${resource}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully created ${resourceSingular}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"created\",\n                    payload: {\n                        ids: data?.data?.id ? [data.data.id] : undefined,\n                    },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"create\",\n                    resource,\n                    data: values,\n                    meta: {\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        id: data?.data?.id ?? undefined,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                {\n                    resource,\n                    errorNotification: errorNotificationFromProp,\n                    values,\n                },\n            ) => {\n                checkError(err);\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, values, resource)\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `create-${resource}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${resourceSingular} (status code: ${err.statusCode})`,\n                    ),\n                    type: \"error\",\n                });\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useQueryClient,\n    useMutation,\n    UseMutationResult,\n    UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    useResource,\n    useMutationMode,\n    useCancelNotification,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useLog,\n    useInvalidate,\n    useOnError,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    DeleteOneResponse,\n    MutationMode,\n    PrevContext as DeleteContext,\n    BaseRecord,\n    BaseKey,\n    HttpError,\n    GetListResponse,\n    SuccessErrorNotification,\n    PreviousQuery,\n    IQueryKeys,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\n\nexport type DeleteParams<TVariables> = {\n    id: BaseKey;\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n    values?: TVariables;\n} & SuccessErrorNotification;\n\nexport type UseDeleteReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteOneResponse<TData>,\n    TError,\n    DeleteParams<TVariables>,\n    DeleteContext<TData>\n>;\n\nexport type UseDeleteProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            DeleteOneResponse<TData>,\n            TError,\n            DeleteParams<TVariables>,\n            DeleteContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n};\n\n/**\n * `useDelete` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for delete mutations.\n *\n * It uses `deleteOne` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useDelete} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDelete = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseDeleteProps<TData, TError, TVariables> = {}): UseDeleteReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const dataProvider = useDataProvider();\n\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const { log } = useLog();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n\n    const mutation = useMutation<\n        DeleteOneResponse<TData>,\n        TError,\n        DeleteParams<TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            id,\n            mutationMode,\n            undoableTimeout,\n            resource,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n            values,\n        }) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return dataProvider(\n                    pickDataProvider(resource, dataProviderName, resources),\n                ).deleteOne<TData, TVariables>({\n                    resource,\n                    id,\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                    variables: values,\n                });\n            }\n\n            const deletePromise = new Promise<DeleteOneResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        dataProvider(\n                            pickDataProvider(\n                                resource,\n                                dataProviderName,\n                                resources,\n                            ),\n                        )\n                            .deleteOne<TData, TVariables>({\n                                resource,\n                                id,\n                                meta: pickNotDeprecated(meta, metaData),\n                                variables: values,\n                            })\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return deletePromise;\n        },\n        {\n            onMutate: async ({\n                id,\n                resource,\n                mutationMode,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) =>\n                                    record.id?.toString() !== id.toString(),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    return (\n                                        record.id?.toString() !== id?.toString()\n                                    );\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (\n                _data,\n                _error,\n                {\n                    id,\n                    resource,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id, resource },\n                });\n            },\n            onSuccess: (\n                _data,\n                {\n                    id,\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    meta,\n                    metaData,\n                },\n                context,\n            ) => {\n                const resourceSingular = pluralize.singular(resource ?? \"\");\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, id, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${id}-${resource}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resourceSingular,\n                            ),\n                        },\n                        `Successfully deleted a ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"deleted\",\n                    payload: {\n                        ids: id ? [id] : [],\n                    },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"delete\",\n                    resource,\n                    meta: {\n                        id,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n\n                // Remove the queries from the cache:\n                queryClient.removeQueries(context?.queryKey.detail(id));\n            },\n            onError: (\n                err: TError,\n                { id, resource, errorNotification },\n                context,\n            ) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n\n                    const resourceSingular = pluralize.singular(resource ?? \"\");\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, id, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${id}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    BaseRecord,\n    CreateManyResponse,\n    HttpError,\n    SuccessErrorNotification,\n    MetaQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n    useLog,\n} from \"@hooks\";\nimport {\n    handleMultiple,\n    pickDataProvider,\n    pickNotDeprecated,\n} from \"@definitions\";\n\ntype useCreateManyParams<TVariables> = {\n    resource: string;\n    values: TVariables[];\n    meta?: MetaQuery;\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\nexport type UseCreateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateManyResponse<TData>,\n    TError,\n    useCreateManyParams<TVariables>,\n    unknown\n>;\n\nexport type UseCreateManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateManyResponse<TData>,\n            TError,\n            useCreateManyParams<TVariables>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\n/**\n * `useCreateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple create mutations.\n *\n * It uses `createMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useCreateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useCreateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseCreateManyProps<TData, TError, TVariables> = {}): UseCreateManyReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const dataProvider = useDataProvider();\n\n    const { resources } = useResource();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n\n    const mutation = useMutation<\n        CreateManyResponse<TData>,\n        TError,\n        useCreateManyParams<TVariables>\n    >(\n        ({\n            resource,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n        }: useCreateManyParams<TVariables>) => {\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            if (selectedDataProvider.createMany) {\n                return selectedDataProvider.createMany<TData, TVariables>({\n                    resource,\n                    variables: values,\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                });\n            } else {\n                return handleMultiple(\n                    values.map((val) =>\n                        selectedDataProvider.create<TData, TVariables>({\n                            resource,\n                            variables: val,\n                            meta: pickNotDeprecated(meta, metaData),\n                            metaData: pickNotDeprecated(meta, metaData),\n                        }),\n                    ),\n                );\n            }\n        },\n        {\n            onSuccess: (\n                response,\n                {\n                    resource,\n                    successNotification,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                    values,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const resourcePlural = pluralize.plural(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(response, values, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${resource}-notification`,\n                    message: translate(\n                        \"notifications.createSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully created ${resourcePlural}`,\n                    ),\n                    description: translate(\"notifications.success\", \"Success\"),\n                    type: \"success\",\n                });\n\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                const ids = response?.data\n                    .filter((item) => item?.id !== undefined)\n                    .map((item) => item.id!);\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"created\",\n                    payload: {\n                        ids,\n                    },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"createMany\",\n                    resource,\n                    data: values,\n                    meta: {\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ids,\n                        ...rest,\n                    },\n                });\n            },\n            onError: (err: TError, { resource, errorNotification, values }) => {\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, values, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `createMany-${resource}-notification`,\n                    description: err.message,\n                    message: translate(\n                        \"notifications.createError\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                            statusCode: err.statusCode,\n                        },\n                        `There was an error creating ${resource} (status code: ${err.statusCode}`,\n                    ),\n                    type: \"error\",\n                });\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    useResource,\n    useCancelNotification,\n    useMutationMode,\n    useTranslate,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n    useLog,\n    useOnError,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    BaseRecord,\n    BaseKey,\n    UpdateManyResponse,\n    HttpError,\n    MutationMode,\n    QueryResponse,\n    PrevContext as UpdateContext,\n    SuccessErrorNotification,\n    MetaQuery,\n    GetListResponse,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    handleMultiple,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions/helpers\";\n\ntype UpdateManyParams<TVariables> = {\n    ids: BaseKey[];\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    values: TVariables;\n    /**\n     * meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification;\n\ntype UseUpdateManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    UpdateManyResponse<TData>,\n    TError,\n    UpdateManyParams<TVariables>,\n    UpdateContext<TData>\n>;\n\nexport type UseUpdateManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            UpdateManyResponse<TData>,\n            TError,\n            UpdateManyParams<TVariables>,\n            UpdateContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n};\n\n/**\n * `useUpdateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple update mutations.\n *\n * It uses `updateMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useUpdateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdateMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseUpdateManyProps<TData, TError, TVariables> = {}): UseUpdateManyReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const { notificationDispatch } = useCancelNotification();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n\n    const mutation = useMutation<\n        UpdateManyResponse<TData>,\n        TError,\n        UpdateManyParams<TVariables>,\n        UpdateContext<TData>\n    >(\n        ({\n            ids,\n            values,\n            resource,\n            onCancel,\n            mutationMode,\n            undoableTimeout,\n            meta,\n            metaData,\n            dataProviderName,\n        }: UpdateManyParams<TVariables>) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.updateMany) {\n                    return selectedDataProvider.updateMany<TData, TVariables>({\n                        resource,\n                        ids,\n                        variables: values,\n                        meta: pickNotDeprecated(meta, metaData),\n                        metaData: pickNotDeprecated(meta, metaData),\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.update<TData, TVariables>({\n                                resource,\n                                id,\n                                variables: values,\n                                meta: pickNotDeprecated(meta, metaData),\n                                metaData: pickNotDeprecated(meta, metaData),\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<UpdateManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n\n        {\n            onMutate: async ({\n                resource,\n                ids,\n                values,\n                mutationMode,\n                dataProviderName,\n                meta,\n                metaData,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                    pickNotDeprecated(meta, metaData),\n                    pickNotDeprecated(meta, metaData),\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries = queryClient.getQueriesData<\n                    QueryResponse<TData>\n                >(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (\n                                    record.id !== undefined &&\n                                    ids\n                                        .filter((id) => id !== undefined)\n                                        .map(String)\n                                        .includes(record.id.toString())\n                                ) {\n                                    return {\n                                        ...record,\n                                        ...values,\n                                    };\n                                }\n\n                                return record;\n                            });\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.map((record: TData) => {\n                                if (\n                                    record.id !== undefined &&\n                                    ids\n                                        .filter((id) => id !== undefined)\n                                        .map(String)\n                                        .includes(record.id.toString())\n                                ) {\n                                    return {\n                                        ...record,\n                                        ...values,\n                                    };\n                                }\n                                return record;\n                            });\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n                    for (const id of ids) {\n                        queryClient.setQueriesData(\n                            queryKey.detail(id),\n                            (previous?: GetListResponse<TData> | null) => {\n                                if (!previous) {\n                                    return null;\n                                }\n\n                                const data = {\n                                    ...previous.data,\n                                    ...values,\n                                };\n                                return {\n                                    ...previous,\n                                    data,\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            onSettled: (_data, _error, { ids, resource, dataProviderName }) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    invalidates: [\"list\", \"many\"],\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                });\n\n                ids.forEach((id) =>\n                    invalidateStore({\n                        resource,\n                        invalidates: [\"detail\"],\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        id,\n                    }),\n                );\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource },\n                });\n            },\n            onSuccess: (\n                data,\n                {\n                    ids,\n                    resource,\n                    meta,\n                    metaData,\n                    dataProviderName,\n                    successNotification,\n                    values,\n                },\n                context,\n            ) => {\n                const resourceSingular = pluralize.singular(resource);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(data, { ids, values }, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${resource}-notification`,\n                    description: translate(\n                        \"notifications.success\",\n                        \"Successful\",\n                    ),\n                    message: translate(\n                        \"notifications.editSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully updated ${resourceSingular}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"updated\",\n                    payload: {\n                        ids: ids.map(String),\n                    },\n                    date: new Date(),\n                });\n\n                const previousData: any[] = [];\n                if (context) {\n                    ids.forEach((id) => {\n                        const queryData = queryClient.getQueryData<\n                            UpdateManyResponse<TData>\n                        >(context.queryKey.detail(id));\n\n                        previousData.push(\n                            Object.keys(values || {}).reduce<any>(\n                                (acc, item: any) => {\n                                    acc[item] = queryData?.data?.[item];\n                                    return acc;\n                                },\n                                {},\n                            ),\n                        );\n                    });\n                }\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"updateMany\",\n                    resource,\n                    data: values,\n                    previousData,\n                    meta: {\n                        ids,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n            },\n            onError: (\n                err: TError,\n                { ids, resource, errorNotification, values },\n                context,\n            ) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError?.(err);\n\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, { ids, values }, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${resource}-updateMany-error-notification`,\n                        message: translate(\n                            \"notifications.editError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import {\n    useQueryClient,\n    useMutation,\n    UseMutationResult,\n    UseMutationOptions,\n} from \"@tanstack/react-query\";\nimport pluralize from \"pluralize\";\n\nimport {\n    DeleteManyResponse,\n    HttpError,\n    BaseRecord,\n    BaseKey,\n    MutationMode,\n    PreviousQuery,\n    GetListResponse,\n    PrevContext as DeleteContext,\n    SuccessErrorNotification,\n    MetaQuery,\n    IQueryKeys,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useTranslate,\n    useMutationMode,\n    useCancelNotification,\n    usePublish,\n    useHandleNotification,\n    useDataProvider,\n    useInvalidate,\n    useLog,\n    useOnError,\n} from \"@hooks\";\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    handleMultiple,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n} from \"@definitions\";\n\nexport type DeleteManyParams<TVariables> = {\n    ids: BaseKey[];\n    resource: string;\n    mutationMode?: MutationMode;\n    undoableTimeout?: number;\n    onCancel?: (cancelMutation: () => void) => void;\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    invalidates?: Array<keyof IQueryKeys>;\n    values?: TVariables;\n} & SuccessErrorNotification;\n\nexport type UseDeleteManyReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    DeleteManyResponse<TData>,\n    TError,\n    DeleteManyParams<TVariables>,\n    unknown\n>;\n\nexport type UseDeleteManyProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            DeleteManyResponse<TData>,\n            TError,\n            DeleteManyParams<TVariables>,\n            DeleteContext<TData>\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n    >;\n};\n\n/**\n * `useDeleteMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple delete mutations.\n *\n * It uses `deleteMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useDeleteMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDeleteMany = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseDeleteManyProps<TData, TError, TVariables> = {}): UseDeleteManyReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const {\n        mutationMode: mutationModeContext,\n        undoableTimeout: undoableTimeoutContext,\n    } = useMutationMode();\n    const dataProvider = useDataProvider();\n\n    const { notificationDispatch } = useCancelNotification();\n    const translate = useTranslate();\n    const publish = usePublish();\n    const handleNotification = useHandleNotification();\n    const invalidateStore = useInvalidate();\n    const { log } = useLog();\n\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const mutation = useMutation<\n        DeleteManyResponse<TData>,\n        TError,\n        DeleteManyParams<TVariables>,\n        DeleteContext<TData>\n    >(\n        ({\n            resource,\n            ids,\n            mutationMode,\n            undoableTimeout,\n            onCancel,\n            meta,\n            metaData,\n            dataProviderName,\n            values,\n        }: DeleteManyParams<TVariables>) => {\n            const mutationModePropOrContext =\n                mutationMode ?? mutationModeContext;\n\n            const undoableTimeoutPropOrContext =\n                undoableTimeout ?? undoableTimeoutContext;\n\n            const selectedDataProvider = dataProvider(\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            const mutationFn = () => {\n                if (selectedDataProvider.deleteMany) {\n                    return selectedDataProvider.deleteMany<TData, TVariables>({\n                        resource,\n                        ids,\n                        meta: pickNotDeprecated(meta, metaData),\n                        metaData: pickNotDeprecated(meta, metaData),\n                        variables: values,\n                    });\n                } else {\n                    return handleMultiple(\n                        ids.map((id) =>\n                            selectedDataProvider.deleteOne<TData, TVariables>({\n                                resource,\n                                id,\n                                meta: pickNotDeprecated(meta, metaData),\n                                metaData: pickNotDeprecated(meta, metaData),\n                                variables: values,\n                            }),\n                        ),\n                    );\n                }\n            };\n\n            if (!(mutationModePropOrContext === \"undoable\")) {\n                return mutationFn();\n            }\n\n            const updatePromise = new Promise<DeleteManyResponse<TData>>(\n                (resolve, reject) => {\n                    const doMutation = () => {\n                        mutationFn()\n                            .then((result) => resolve(result))\n                            .catch((err) => reject(err));\n                    };\n\n                    const cancelMutation = () => {\n                        reject({ message: \"mutationCancelled\" });\n                    };\n\n                    if (onCancel) {\n                        onCancel(cancelMutation);\n                    }\n\n                    notificationDispatch({\n                        type: ActionTypes.ADD,\n                        payload: {\n                            id: ids,\n                            resource: resource,\n                            cancelMutation: cancelMutation,\n                            doMutation: doMutation,\n                            seconds: undoableTimeoutPropOrContext,\n                            isSilent: !!onCancel,\n                        },\n                    });\n                },\n            );\n            return updatePromise;\n        },\n        {\n            onMutate: async ({\n                ids,\n                resource,\n                mutationMode,\n                dataProviderName,\n            }) => {\n                const queryKey = queryKeys(\n                    resource,\n                    pickDataProvider(resource, dataProviderName, resources),\n                );\n\n                const mutationModePropOrContext =\n                    mutationMode ?? mutationModeContext;\n\n                await queryClient.cancelQueries(\n                    queryKey.resourceAll,\n                    undefined,\n                    {\n                        silent: true,\n                    },\n                );\n\n                const previousQueries: PreviousQuery<TData>[] =\n                    queryClient.getQueriesData(queryKey.resourceAll);\n\n                if (!(mutationModePropOrContext === \"pessimistic\")) {\n                    // Set the previous queries to the new ones:\n                    queryClient.setQueriesData(\n                        queryKey.list(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (item) =>\n                                    item.id &&\n                                    !ids\n                                        .map(String)\n                                        .includes(item.id.toString()),\n                            );\n\n                            return {\n                                data,\n                                total: previous.total - 1,\n                            };\n                        },\n                    );\n\n                    queryClient.setQueriesData(\n                        queryKey.many(),\n                        (previous?: GetListResponse<TData> | null) => {\n                            if (!previous) {\n                                return null;\n                            }\n\n                            const data = previous.data.filter(\n                                (record: TData) => {\n                                    if (record.id) {\n                                        return !ids\n                                            .map(String)\n                                            .includes(record.id.toString());\n                                    }\n                                    return false;\n                                },\n                            );\n\n                            return {\n                                ...previous,\n                                data,\n                            };\n                        },\n                    );\n\n                    for (const id of ids) {\n                        queryClient.setQueriesData(\n                            queryKey.detail(id),\n                            (previous?: any | null) => {\n                                if (!previous || previous.data.id == id) {\n                                    return null;\n                                }\n                                return {\n                                    ...previous,\n                                };\n                            },\n                        );\n                    }\n                }\n\n                return {\n                    previousQueries,\n                    queryKey,\n                };\n            },\n            // Always refetch after error or success:\n            onSettled: (\n                _data,\n                _error,\n                {\n                    resource,\n                    ids,\n                    dataProviderName,\n                    invalidates = [\"list\", \"many\"],\n                },\n            ) => {\n                // invalidate the cache for the list and many queries:\n                invalidateStore({\n                    resource,\n                    dataProviderName: pickDataProvider(\n                        resource,\n                        dataProviderName,\n                        resources,\n                    ),\n                    invalidates,\n                });\n\n                notificationDispatch({\n                    type: ActionTypes.REMOVE,\n                    payload: { id: ids, resource },\n                });\n            },\n            onSuccess: (\n                _data,\n                {\n                    ids,\n                    resource,\n                    meta,\n                    metaData,\n                    dataProviderName,\n                    successNotification,\n                },\n                context,\n            ) => {\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(_data, ids, resource)\n                        : successNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${ids}-${resource}-notification`,\n                    description: translate(\"notifications.success\", \"Success\"),\n                    message: translate(\n                        \"notifications.deleteSuccess\",\n                        {\n                            resource: translate(\n                                `${resource}.${resource}`,\n                                resource,\n                            ),\n                        },\n                        `Successfully deleted ${resource}`,\n                    ),\n                    type: \"success\",\n                });\n\n                publish?.({\n                    channel: `resources/${resource}`,\n                    type: \"deleted\",\n                    payload: { ids },\n                    date: new Date(),\n                });\n\n                const { fields, operation, variables, ...rest } =\n                    pickNotDeprecated(meta, metaData) || {};\n\n                log?.mutate({\n                    action: \"deleteMany\",\n                    resource,\n                    meta: {\n                        ids,\n                        dataProviderName: pickDataProvider(\n                            resource,\n                            dataProviderName,\n                            resources,\n                        ),\n                        ...rest,\n                    },\n                });\n\n                // Remove the queries from the cache:\n                ids.forEach((id) =>\n                    queryClient.removeQueries(context?.queryKey.detail(id)),\n                );\n            },\n            onError: (err, { ids, resource, errorNotification }, context) => {\n                // set back the queries to the context:\n                if (context) {\n                    for (const query of context.previousQueries) {\n                        queryClient.setQueryData(query[0], query[1]);\n                    }\n                }\n\n                if (err.message !== \"mutationCancelled\") {\n                    checkError(err);\n                    const resourceSingular = pluralize.singular(resource);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, ids, resource)\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${ids}-${resource}-notification`,\n                        message: translate(\n                            \"notifications.deleteError\",\n                            {\n                                resource: resourceSingular,\n                                statusCode: err.statusCode,\n                            },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                }\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import { useDataProvider } from \"@hooks\";\n\nexport const useApiUrl = (dataProviderName?: string): string => {\n    const dataProvider = useDataProvider();\n\n    const { getApiUrl } = dataProvider(dataProviderName);\n\n    return getApiUrl();\n};\n","import {\n    QueryObserverResult,\n    useQuery,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport {\n    CustomResponse,\n    CrudSorting,\n    CrudFilters,\n    BaseRecord,\n    HttpError,\n    MetaQuery,\n    SuccessErrorNotification,\n} from \"../../interfaces\";\nimport {\n    useTranslate,\n    useHandleNotification,\n    useDataProvider,\n    useOnError,\n} from \"@hooks\";\nimport { pickNotDeprecated, useActiveAuthProvider } from \"@definitions/helpers\";\n\ninterface UseCustomConfig<TQuery, TPayload> {\n    /**\n     * @deprecated `sort` is deprecated, use `sorters` instead.\n     */\n    sort?: CrudSorting;\n    sorters?: CrudSorting;\n    filters?: CrudFilters;\n    query?: TQuery;\n    payload?: TPayload;\n    headers?: {};\n}\n\nexport type UseCustomProps<TData, TError, TQuery, TPayload> = {\n    /**\n     * request's URL\n     */\n    url: string;\n    /**\n     * request's method (`GET`, `POST`, etc.)\n     */\n    method: \"get\" | \"delete\" | \"head\" | \"options\" | \"post\" | \"put\" | \"patch\";\n    /**\n     * The config of your request. You can send headers, payload, query, filters and sorters using this field\n     */\n    config?: UseCustomConfig<TQuery, TPayload>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\"\n     */\n    queryOptions?: UseQueryOptions<CustomResponse<TData>, TError>;\n    /**\n     * meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification;\n\n/**\n * `useCustom` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for custom requests.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useCustom} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TQuery - Values for query params\n * @typeParam TPayload - Values for params\n *\n */\nexport const useCustom = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TQuery = unknown,\n    TPayload = unknown,\n>({\n    url,\n    method,\n    config,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    dataProviderName,\n}: UseCustomProps<TData, TError, TQuery, TPayload>): QueryObserverResult<\n    CustomResponse<TData>,\n    TError\n> => {\n    const dataProvider = useDataProvider();\n\n    const { custom } = dataProvider(dataProviderName);\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const translate = useTranslate();\n    const handleNotification = useHandleNotification();\n\n    if (custom) {\n        const queryResponse = useQuery<CustomResponse<TData>, TError>(\n            [\n                dataProviderName,\n                \"custom\",\n                method,\n                url,\n                { ...config, ...(pickNotDeprecated(meta, metaData) || {}) },\n            ],\n            ({ queryKey, pageParam, signal }) =>\n                custom<TData>({\n                    url,\n                    method,\n                    ...config,\n                    metaData: {\n                        ...(pickNotDeprecated(meta, metaData) || {}),\n                        queryContext: {\n                            queryKey,\n                            pageParam,\n                            signal,\n                        },\n                    },\n                }),\n            {\n                ...queryOptions,\n                onSuccess: (data) => {\n                    queryOptions?.onSuccess?.(data);\n\n                    const notificationConfig =\n                        typeof successNotification === \"function\"\n                            ? successNotification(data, {\n                                  ...config,\n                                  ...(pickNotDeprecated(meta, metaData) || {}),\n                              })\n                            : successNotification;\n\n                    handleNotification(notificationConfig);\n                },\n                onError: (err: TError) => {\n                    checkError(err);\n                    queryOptions?.onError?.(err);\n\n                    const notificationConfig =\n                        typeof errorNotification === \"function\"\n                            ? errorNotification(err, {\n                                  ...config,\n                                  ...(pickNotDeprecated(meta, metaData) || {}),\n                              })\n                            : errorNotification;\n\n                    handleNotification(notificationConfig, {\n                        key: `${method}-notification`,\n                        message: translate(\n                            \"notifications.error\",\n                            { statusCode: err.statusCode },\n                            `Error (status code: ${err.statusCode})`,\n                        ),\n                        description: err.message,\n                        type: \"error\",\n                    });\n                },\n            },\n        );\n        return queryResponse;\n    } else {\n        throw Error(\"Not implemented custom on data provider.\");\n    }\n};\n","import {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n} from \"@tanstack/react-query\";\n\nimport {\n    useDataProvider,\n    useHandleNotification,\n    useTranslate,\n    useOnError,\n} from \"@hooks\";\nimport {\n    CreateResponse,\n    BaseRecord,\n    HttpError,\n    SuccessErrorNotification,\n    MetaQuery,\n} from \"../../interfaces\";\nimport { pickNotDeprecated, useActiveAuthProvider } from \"@definitions/helpers\";\n\ninterface UseCustomMutationConfig {\n    headers?: {};\n}\n\ntype useCustomMutationParams<TVariables> = {\n    url: string;\n    method: \"post\" | \"put\" | \"patch\" | \"delete\";\n    values: TVariables;\n    /**\n     * Meta data for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     * Meta data for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    dataProviderName?: string;\n    config?: UseCustomMutationConfig;\n} & SuccessErrorNotification;\n\nexport type UseCustomMutationReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = UseMutationResult<\n    CreateResponse<TData>,\n    TError,\n    useCustomMutationParams<TVariables>,\n    unknown\n>;\n\nexport type UseCustomMutationProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    mutationOptions?: Omit<\n        UseMutationOptions<\n            CreateResponse<TData>,\n            TError,\n            useCustomMutationParams<TVariables>,\n            unknown\n        >,\n        \"mutationFn\" | \"onError\" | \"onSuccess\"\n    >;\n};\n\n/**\n * `useCustomMutation` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/data/useCustomMutation} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCustomMutation = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    mutationOptions,\n}: UseCustomMutationProps<\n    TData,\n    TError,\n    TVariables\n> = {}): UseCustomMutationReturnType<TData, TError, TVariables> => {\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n\n    const mutation = useMutation<\n        CreateResponse<TData>,\n        TError,\n        useCustomMutationParams<TVariables>,\n        unknown\n    >(\n        ({\n            url,\n            method,\n            values,\n            meta,\n            metaData,\n            dataProviderName,\n            config,\n        }: useCustomMutationParams<TVariables>) => {\n            const { custom } = dataProvider(dataProviderName);\n\n            if (custom) {\n                return custom<TData>({\n                    url,\n                    method,\n                    payload: values,\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                    headers: { ...config?.headers },\n                });\n            }\n\n            throw Error(\"Not implemented custom on data provider.\");\n        },\n        {\n            onSuccess: (\n                data,\n                {\n                    successNotification: successNotificationFromProp,\n                    config,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                const notificationConfig =\n                    typeof successNotificationFromProp === \"function\"\n                        ? successNotificationFromProp(data, {\n                              ...config,\n                              ...(pickNotDeprecated(meta, metaData) || {}),\n                          })\n                        : successNotificationFromProp;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (\n                err: TError,\n                {\n                    errorNotification: errorNotificationFromProp,\n                    method,\n                    config,\n                    meta,\n                    metaData,\n                },\n            ) => {\n                checkError(err);\n\n                const notificationConfig =\n                    typeof errorNotificationFromProp === \"function\"\n                        ? errorNotificationFromProp(err, {\n                              ...config,\n                              ...(pickNotDeprecated(meta, metaData) || {}),\n                          })\n                        : errorNotificationFromProp;\n\n                handleNotification(notificationConfig, {\n                    key: `${method}-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n            ...mutationOptions,\n        },\n    );\n\n    return mutation;\n};\n","import { useCallback, useContext } from \"react\";\n\nimport { DataContext } from \"@contexts/data\";\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const useDataProvider = (): ((\n    /**\n     * The name of the `data provider` you want to access\n     */\n    dataProviderName?: string,\n) => IDataContextProvider) => {\n    const context = useContext<IDataMultipleContextProvider>(DataContext);\n\n    const handleDataProvider = useCallback(\n        (dataProviderName?: string) => {\n            if (dataProviderName) {\n                const dataProvider = context[dataProviderName];\n                if (!dataProvider) {\n                    throw new Error(\n                        `\"${dataProviderName}\" Data provider not found`,\n                    );\n                }\n                return context[dataProviderName];\n            }\n            if (context.default) {\n                return context.default;\n            } else\n                throw new Error(\n                    `There is no \"default\" data provider. Please pass dataProviderName.`,\n                );\n        },\n        [context],\n    );\n\n    return handleDataProvider;\n};\n","import React from \"react\";\nimport { ReactNode } from \"react\";\n\nimport {\n    IDataContextProvider,\n    IDataMultipleContextProvider,\n} from \"../../interfaces\";\n\nexport const defaultDataProvider = () => {\n    return {\n        default: {\n            create: () => Promise.resolve({ data: { id: 1 } }),\n            createMany: () => Promise.resolve({ data: [] }),\n            deleteOne: () => Promise.resolve({ data: { id: 1 } }),\n            deleteMany: () => Promise.resolve({ data: [] }),\n            getList: () => Promise.resolve({ data: [], total: 0 }),\n            getMany: () => Promise.resolve({ data: [] }),\n            getOne: () => Promise.resolve({ data: { id: 1 } }),\n            update: () => Promise.resolve({ data: { id: 1 } }),\n            updateMany: () => Promise.resolve({ data: [] }),\n            custom: () => Promise.resolve({ data: {} }),\n            getApiUrl: () => \"\",\n        },\n    };\n};\n\nexport const DataContext = React.createContext<IDataMultipleContextProvider>(\n    defaultDataProvider() as IDataMultipleContextProvider,\n);\n\nexport const DataContextProvider: React.FC<\n    | IDataMultipleContextProvider\n    | (IDataContextProvider & {\n          children: ReactNode;\n      })\n> = ({ children, ...rest }) => {\n    let dataProviders;\n    if (!rest.getList || !rest.getOne) {\n        dataProviders = rest as IDataMultipleContextProvider;\n    } else {\n        dataProviders = {\n            default: rest,\n        } as IDataMultipleContextProvider;\n    }\n    return (\n        <DataContext.Provider value={dataProviders}>\n            {children}\n        </DataContext.Provider>\n    );\n};\n","import {\n    useInfiniteQuery,\n    UseInfiniteQueryOptions,\n    InfiniteQueryObserverResult,\n} from \"@tanstack/react-query\";\nimport {\n    CrudFilters,\n    Pagination,\n    BaseRecord,\n    HttpError,\n    CrudSorting,\n    MetaQuery,\n    SuccessErrorNotification,\n    LiveModeProps,\n    GetListResponse,\n} from \"../../interfaces\";\nimport {\n    useResource,\n    useHandleNotification,\n    useResourceSubscription,\n    useTranslate,\n    useDataProvider,\n    useOnError,\n} from \"@hooks\";\nimport {\n    queryKeys,\n    pickDataProvider,\n    getNextPageParam,\n    getPreviousPageParam,\n    pickNotDeprecated,\n    useActiveAuthProvider,\n    handlePaginationParams,\n} from \"@definitions/helpers\";\n\nexport interface UseInfiniteListConfig {\n    pagination?: Pagination;\n    hasPagination?: boolean;\n    sort?: CrudSorting;\n    filters?: CrudFilters;\n}\n\nexport type UseInfiniteListProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Configuration for pagination, sorting and filtering\n     * @type [`useInfiniteListConfig`](/docs/api-reference/core/hooks/data/useInfiniteList/#config-parameters)\n     * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n     */\n    config?: UseInfiniteListConfig;\n    /**\n     * Pagination properties\n     */\n    pagination?: Pagination;\n    /**\n     * Whether to use server-side pagination or not\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sorter parameters\n     */\n    sorters?: CrudSorting;\n    /**\n     * Filter parameters\n     */\n    filters?: CrudFilters;\n    /**\n     * Tanstack Query's [useInfiniteQuery](https://tanstack.com/query/v4/docs/react/reference/useInfiniteQuery) options\n     */\n    queryOptions?: UseInfiniteQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     *  @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\n/**\n * `useInfiniteList` is a modified version of `react-query`'s {@link https://tanstack.com/query/latest/docs/react/guides/infinite-queries `useInfiniteQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/core/hooks/data/useInfiniteList} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n *\n */\nexport const useInfiniteList = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource,\n    config,\n    filters,\n    hasPagination,\n    pagination,\n    sorters,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    dataProviderName,\n}: UseInfiniteListProps<TData, TError>): InfiniteQueryObserverResult<\n    GetListResponse<TData>,\n    TError\n> => {\n    const { resources } = useResource();\n    const dataProvider = useDataProvider();\n    const translate = useTranslate();\n    const authProvider = useActiveAuthProvider();\n    const { mutate: checkError } = useOnError({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n    const handleNotification = useHandleNotification();\n\n    const pickedDataProvider = pickDataProvider(\n        resource,\n        dataProviderName,\n        resources,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n    const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n    const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n    const prefferedHasPagination = pickNotDeprecated(\n        hasPagination,\n        config?.hasPagination,\n    );\n    const prefferedPagination = handlePaginationParams({\n        pagination,\n        configPagination: config?.pagination,\n        hasPagination: prefferedHasPagination,\n    });\n    const isServerPagination = prefferedPagination.mode === \"server\";\n    const notificationValues = {\n        meta: preferredMeta,\n        metaData: preferredMeta,\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        pagination: prefferedPagination,\n        sorters: prefferedSorters,\n        config: {\n            ...config,\n            sort: prefferedSorters,\n        },\n    };\n\n    const isEnabled =\n        queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n    const queryKey = queryKeys(\n        resource,\n        pickedDataProvider,\n        preferredMeta,\n        preferredMeta,\n    );\n\n    const { getList } = dataProvider(pickedDataProvider);\n\n    useResourceSubscription({\n        resource,\n        types: [\"*\"],\n        params: {\n            meta: preferredMeta,\n            metaData: preferredMeta,\n            pagination: prefferedPagination,\n            hasPagination: isServerPagination,\n            sort: prefferedSorters,\n            sorters: prefferedSorters,\n            filters: prefferedFilters,\n            subscriptionType: \"useList\",\n            ...liveParams,\n        },\n        channel: `resources/${resource}`,\n        enabled: isEnabled,\n        liveMode,\n        onLiveEvent,\n    });\n\n    const queryResponse = useInfiniteQuery<GetListResponse<TData>, TError>(\n        queryKey.list({\n            filters: prefferedFilters,\n            hasPagination: isServerPagination,\n            ...(isServerPagination && {\n                pagination: prefferedPagination,\n            }),\n            ...(sorters && {\n                sorters,\n            }),\n            ...(config?.sort && {\n                sort: config?.sort,\n            }),\n        }),\n        ({ queryKey, pageParam, signal }) => {\n            const paginationProperties = {\n                ...prefferedPagination,\n                current: pageParam,\n            };\n\n            return getList<TData>({\n                resource,\n                pagination: paginationProperties,\n                hasPagination: isServerPagination,\n                filters: prefferedFilters,\n                sort: prefferedSorters,\n                sorters: prefferedSorters,\n                meta: {\n                    ...(preferredMeta || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n                metaData: {\n                    ...(preferredMeta || {}),\n                    queryContext: {\n                        queryKey,\n                        pageParam,\n                        signal,\n                    },\n                },\n            }).then(({ data, total, ...rest }) => {\n                return {\n                    data,\n                    total,\n                    pagination: paginationProperties,\n                    ...rest,\n                };\n            });\n        },\n        {\n            getNextPageParam: (lastPage) => getNextPageParam(lastPage),\n            getPreviousPageParam: (lastPage) => getPreviousPageParam(lastPage),\n            ...queryOptions,\n            onSuccess: (data) => {\n                queryOptions?.onSuccess?.(data);\n\n                const notificationConfig =\n                    typeof successNotification === \"function\"\n                        ? successNotification(\n                              data,\n                              notificationValues,\n                              resource,\n                          )\n                        : successNotification;\n\n                handleNotification(notificationConfig);\n            },\n            onError: (err: TError) => {\n                checkError(err);\n                queryOptions?.onError?.(err);\n\n                const notificationConfig =\n                    typeof errorNotification === \"function\"\n                        ? errorNotification(err, notificationValues, resource)\n                        : errorNotification;\n\n                handleNotification(notificationConfig, {\n                    key: `${resource}-useInfiniteList-notification`,\n                    message: translate(\n                        \"notifications.error\",\n                        { statusCode: err.statusCode },\n                        `Error (status code: ${err.statusCode})`,\n                    ),\n                    description: err.message,\n                    type: \"error\",\n                });\n            },\n        },\n    );\n\n    return queryResponse;\n};\n","import { useContext, useEffect } from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    IRefineContext,\n    LiveEvent,\n    LiveModeProps,\n    MetaQuery,\n    Pagination,\n} from \"../../../interfaces\";\nimport { LiveContext } from \"@contexts/live\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { queryKeys } from \"@definitions\";\n\nexport type UseResourceSubscriptionProps = {\n    channel: string;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        meta?: MetaQuery;\n        /**\n         * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n         */\n        metaData?: MetaQuery;\n        pagination?: Pagination;\n        /**\n         * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n         */\n        hasPagination?: boolean;\n        /**\n         * @deprecated `sort` is deprecated. Use `sorters` instead.\n         */\n        sort?: CrudSorting;\n        sorters?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType: \"useList\" | \"useOne\" | \"useMany\";\n        [key: string]: any;\n    };\n    types: LiveEvent[\"type\"][];\n    resource?: string;\n    enabled?: boolean;\n} & LiveModeProps;\n\nexport type PublishType = {\n    (event: LiveEvent): void;\n};\n\nexport const useResourceSubscription = ({\n    resource,\n    params,\n    channel,\n    types,\n    enabled = true,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n}: UseResourceSubscriptionProps): void => {\n    const queryClient = useQueryClient();\n    const queryKey = queryKeys(resource);\n\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n    const {\n        liveMode: liveModeFromContext,\n        onLiveEvent: onLiveEventContextCallback,\n    } = useContext<IRefineContext>(RefineContext);\n\n    const liveMode = liveModeFromProp ?? liveModeFromContext;\n\n    useEffect(() => {\n        let subscription: any;\n\n        if (liveMode && liveMode !== \"off\" && enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params: {\n                    resource,\n                    ...params,\n                },\n                types,\n                callback: (event) => {\n                    if (liveMode === \"auto\") {\n                        queryClient.invalidateQueries(queryKey.resourceAll);\n                    }\n\n                    onLiveEvent?.(event);\n                    onLiveEventContextCallback?.(event);\n                },\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import React from \"react\";\n\nimport { ILiveContext, ILiveContextProvider } from \"./ILiveContext\";\n\nexport const LiveContext = React.createContext<ILiveContext>(undefined);\n\nexport const LiveContextProvider: React.FC<ILiveContextProvider> = ({\n    liveProvider,\n    children,\n}) => {\n    return (\n        <LiveContext.Provider value={liveProvider}>\n            {children}\n        </LiveContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport { LiveModeProps, IRefineContext } from \"../../../interfaces\";\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useLiveMode = (\n    liveMode: LiveModeProps[\"liveMode\"],\n): LiveModeProps[\"liveMode\"] => {\n    const { liveMode: liveModeFromContext } =\n        useContext<IRefineContext>(RefineContext);\n\n    return liveMode ?? liveModeFromContext;\n};\n","import { useContext, useEffect } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport {\n    BaseKey,\n    CrudFilters,\n    CrudSorting,\n    ILiveContext,\n    LiveEvent,\n    MetaQuery,\n    Pagination,\n} from \"../../../interfaces\";\n\nexport type UseSubscriptionProps = {\n    /**\n     * Channel name to subscribe.\n     */\n    channel: string;\n    /**\n     * Callback that is run when new events from subscription arrive.\n     */\n    onLiveEvent: (event: LiveEvent) => void;\n    /**\n     * Type of events to subscribe. `\"*\"` means all events.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    types?: LiveEvent[\"type\"][];\n    /**\n     * Determines subscription should subscribe or not.\n     * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n     */\n    enabled?: boolean;\n    params?: {\n        ids?: BaseKey[];\n        id?: BaseKey;\n        meta?: MetaQuery;\n        /**\n         * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n         */\n        metaData?: MetaQuery;\n        pagination?: Pagination;\n        /**\n         * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n         */\n        hasPagination?: boolean;\n        /**\n         * @deprecated `sort` is deprecated, use `sorters` instead.\n         */\n        sort?: CrudSorting;\n        sorters?: CrudSorting;\n        filters?: CrudFilters;\n        subscriptionType?: \"useList\" | \"useOne\" | \"useMany\";\n        resource?: string;\n        [key: string]: any;\n    };\n};\n\nexport const useSubscription = ({\n    params,\n    channel,\n    types = [\"*\"],\n    enabled = true,\n    onLiveEvent,\n}: UseSubscriptionProps): void => {\n    const liveDataContext = useContext<ILiveContext>(LiveContext);\n\n    useEffect(() => {\n        let subscription: any;\n\n        if (enabled) {\n            subscription = liveDataContext?.subscribe({\n                channel,\n                params,\n                types,\n                callback: onLiveEvent,\n            });\n        }\n\n        return () => {\n            if (subscription) {\n                liveDataContext?.unsubscribe(subscription);\n            }\n        };\n    }, [enabled]);\n};\n","import { useContext } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport { ILiveContext } from \"../../../interfaces\";\n\nexport const usePublish: () => NonNullable<ILiveContext>[\"publish\"] = () => {\n    const liveContext = useContext<ILiveContext>(LiveContext);\n\n    return liveContext?.publish;\n};\n","import { useContext } from \"react\";\n\nimport { ResourceContext } from \"@contexts/resource\";\nimport {\n    Action,\n    BaseKey,\n    IResourceItem,\n    ResourceRouterParams,\n} from \"../../../interfaces\";\nimport { useRouterContext, useResourceWithRoute } from \"@hooks\";\nimport { useRouterType } from \"../../../contexts/router-picker\";\nimport { useParsed } from \"../../router/use-parsed\";\nimport { pickResource } from \"../../../definitions/helpers/pick-resource\";\n\nexport type UseResourceLegacyProps = {\n    /**\n     * Determines which resource to use for redirection\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    resourceName?: string;\n    /**\n     * Determines which resource to use for redirection\n     * @default Resource name that it reads from route\n     */\n    resourceNameOrRouteName?: string;\n    /**\n     * Adds id to the end of the URL\n     * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n     */\n    recordItemId?: BaseKey;\n};\n\n/**\n * Matches the resource by identifier.\n * If not provided, the resource from the route will be returned.\n * If your resource does not explicitly define an identifier, the resource name will be used.\n */\nexport type UseResourceParam = string | undefined;\n\ntype UseResourceReturnType = {\n    resources: IResourceItem[];\n    resource?: IResourceItem;\n    /**\n     * @deprecated Use `resource.name` instead when you need to get the resource name.\n     */\n    resourceName?: string;\n    id?: BaseKey;\n    action?: Action;\n};\n\ntype UseResourceReturnTypeWithResource = UseResourceReturnType & {\n    resource: IResourceItem;\n};\n\n/**\n * @deprecated Use `useResource` with `identifier` property instead. (`identifier` does not check by route name in new router)\n */\nexport function useResource(\n    props: UseResourceLegacyProps,\n): UseResourceReturnType;\nexport function useResource(): UseResourceReturnType;\nexport function useResource<TIdentifier = UseResourceParam>(\n    identifier: TIdentifier,\n): TIdentifier extends NonNullable<UseResourceParam>\n    ? UseResourceReturnTypeWithResource\n    : UseResourceReturnType;\n/**\n * `useResource` is used to get `resources` that are defined as property of the `<Refine>` component.\n *\n * @see {@link https://refine.dev/docs/core/hooks/resource/useResource} for more details.\n */\nexport function useResource(\n    args?: UseResourceLegacyProps | UseResourceParam,\n): UseResourceReturnType {\n    const { resources } = useContext(ResourceContext);\n\n    const routerType = useRouterType();\n\n    const params = useParsed();\n\n    const oldProps = {\n        resourceName:\n            args && typeof args !== \"string\" ? args.resourceName : args,\n        resourceNameOrRouteName:\n            args && typeof args !== \"string\"\n                ? args.resourceNameOrRouteName\n                : args,\n        recordItemId:\n            args && typeof args !== \"string\" ? args.recordItemId : undefined,\n    };\n\n    /**\n     * Legacy Router - Start\n     *\n     * using `useParams` and `route` to match resource and get params.\n     */\n    const resourceWithRoute = useResourceWithRoute();\n\n    const { useParams } = useRouterContext();\n\n    const legacyParams = useParams<Partial<ResourceRouterParams>>();\n\n    if (routerType === \"legacy\") {\n        const resourceKeyToCheck = oldProps.resourceNameOrRouteName\n            ? oldProps.resourceNameOrRouteName\n            : legacyParams.resource;\n\n        const legacyResource = resourceKeyToCheck\n            ? resourceWithRoute(resourceKeyToCheck)\n            : undefined;\n        const legacyId = oldProps?.recordItemId ?? legacyParams.id;\n        const legacyAction = legacyParams.action;\n        const legacyResourceName =\n            oldProps?.resourceName ?? legacyResource?.name;\n\n        return {\n            resources,\n            resource: legacyResource,\n            resourceName: legacyResourceName,\n            id: legacyId,\n            action: legacyAction,\n        };\n    }\n    /** Legacy Router - End */\n\n    /** New Router */\n    let resource: IResourceItem | undefined = undefined;\n    // we try to pick the resource from props first\n    const identifier =\n        typeof args === \"string\" ? args : oldProps?.resourceNameOrRouteName;\n    if (identifier) {\n        const pickedFromProps = pickResource(identifier, resources);\n        if (pickedFromProps) {\n            resource = pickedFromProps;\n        } else {\n            resource = {\n                name: identifier as string,\n            };\n        }\n    } else if (params?.resource) {\n        resource = params.resource;\n    }\n\n    return {\n        resources,\n        resource,\n        resourceName: resource?.name,\n        id: params.id,\n        action: params.action,\n    };\n}\n","import React from \"react\";\n\nimport { IResourceContext } from \"./IResourceContext\";\nimport {\n    IResourceItem,\n    ResourceProps,\n} from \"../../interfaces/bindings/resource\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\nimport { legacyResourceTransform } from \"@definitions/helpers\";\n\nexport {\n    IResourceItem,\n    IResourceComponents,\n    IResourceComponentsProps,\n    IResourceContext,\n} from \"../../interfaces/bindings/resource\";\n\nexport const ResourceContext = React.createContext<IResourceContext>({\n    resources: [],\n});\n\nexport const ResourceContextProvider: React.FC<\n    React.PropsWithChildren<{ resources: ResourceProps[] }>\n> = ({ resources: providedResources, children }) => {\n    const resources: IResourceItem[] = useDeepMemo(() => {\n        return legacyResourceTransform(providedResources ?? []);\n    }, [providedResources]);\n\n    return (\n        <ResourceContext.Provider value={{ resources }}>\n            {children}\n        </ResourceContext.Provider>\n    );\n};\n","import React, { useMemo } from \"react\";\nimport { useMemoized } from \"@hooks/memoized\";\n\n/**\n * Hook that memoizes the given dependency array and checks the consecutive calls with deep equality and returns the same value as the first call if dependencies are not changed.\n * @internal\n */\nexport const useDeepMemo = <T,>(\n    fn: () => T,\n    dependencies: React.DependencyList,\n): T => {\n    const memoizedDependencies = useMemoized(dependencies);\n\n    const value = useMemo(fn, memoizedDependencies);\n\n    return value;\n};\n","import { useRef } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\n/**\n * Hook that memoizes the given value with deep equality.\n * @internal\n */\nexport const useMemoized = <T = unknown,>(value: T): T => {\n    const ref = useRef(value);\n\n    if (!isEqual(ref.current, value)) {\n        ref.current = value;\n    }\n\n    return ref.current;\n};\n","import React from \"react\";\n\n/**\n * This context is used to determine which router to use.\n *\n * This is a temporary solution until we remove the legacy router.\n */\n\nexport const RouterPickerContext = React.createContext<\"legacy\" | \"new\">(\"new\");\n\nexport const RouterPickerProvider = RouterPickerContext.Provider;\n\n/**\n * This is a temporary hook to determine which router to use.\n * It will be removed once the legacy router is removed.\n * @internal This is an internal hook.\n */\nexport const useRouterType = () => {\n    const value = React.useContext(RouterPickerContext);\n    return value;\n};\n","import React from \"react\";\nimport { useParse } from \"../use-parse\";\n\nexport const useParsed = () => {\n    const parse = useParse();\n\n    const parsed = React.useMemo(() => parse(), [parse]);\n\n    return parsed;\n};\n","import React, { createContext, PropsWithChildren } from \"react\";\nimport { RouterBindings } from \"src/interfaces\";\n\nconst defaultBindings = {};\n\nexport const RouterBindingsContext =\n    createContext<RouterBindings>(defaultBindings);\n\nexport const RouterBindingsProvider: React.FC<\n    PropsWithChildren<{ router?: RouterBindings }>\n> = ({ children, router }) => {\n    return (\n        <RouterBindingsContext.Provider value={router ?? defaultBindings}>\n            {children}\n        </RouterBindingsContext.Provider>\n    );\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\nimport { ParseFunction } from \"src/interfaces\";\n\nexport const useParse = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    const useParse = React.useMemo(\n        () =>\n            bindings?.parse ??\n            (() =>\n                (() => {\n                    return {};\n                }) as ParseFunction),\n        [bindings?.parse],\n    );\n\n    const parse = useParse();\n\n    return parse;\n};\n","import { useContext, useCallback } from \"react\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { IResourceItem } from \"../../../interfaces\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\n\nexport type UseResourceWithRouteReturnType = (route: string) => IResourceItem;\n\n/**\n * @deprecated Use `useResource` hook instead.\n * @internal This hook is for internal use only. And is kept for backward compatibility.\n */\nexport const useResourceWithRoute = (): UseResourceWithRouteReturnType => {\n    const { resources } = useContext(ResourceContext);\n\n    const resourceWithRoute = useCallback(\n        (route: string) => {\n            const picked = pickResource(route, resources, true);\n            if (picked) {\n                return picked;\n            }\n            return { name: route, route: route } as IResourceItem;\n        },\n        [resources],\n    );\n\n    return resourceWithRoute;\n};\n","import { useContext } from \"react\";\n\nimport { UndoableQueueContext } from \"@contexts/undoableQueue\";\nimport { IUndoableQueue, IUndoableQueueContext } from \"../../../interfaces\";\n\nexport type UseCancelNotificationType = () => {\n    notifications: IUndoableQueue[];\n    notificationDispatch: React.Dispatch<any>;\n};\n\nexport const useCancelNotification: UseCancelNotificationType = () => {\n    const { notifications, notificationDispatch } =\n        useContext<IUndoableQueueContext>(UndoableQueueContext);\n\n    return { notifications, notificationDispatch };\n};\n","import { useContext } from \"react\";\n\nimport { NotificationContext } from \"@contexts/notification\";\nimport { INotificationContext } from \"../../../interfaces\";\n\nexport const useNotification = (): INotificationContext => {\n    const { open, close } = useContext(NotificationContext);\n\n    return { open, close };\n};\n","import React, { createContext } from \"react\";\n\nimport { INotificationContext } from \"./INotificationContext\";\n\n/** @deprecated default value for notification context has no use and is an empty object.  */\nexport const defaultNotificationProvider: INotificationContext = {};\n\nexport const NotificationContext = createContext<INotificationContext>({});\n\nexport const NotificationContextProvider: React.FC<\n    INotificationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ open, close, children }) => {\n    return (\n        <NotificationContext.Provider value={{ open, close }}>\n            {children}\n        </NotificationContext.Provider>\n    );\n};\n","import { useCallback } from \"react\";\n\nimport { OpenNotificationParams } from \"../../../interfaces\";\nimport { useNotification } from \"@hooks\";\n\nexport const useHandleNotification = (): typeof handleNotification => {\n    const { open } = useNotification();\n\n    const handleNotification = useCallback(\n        (\n            notification: OpenNotificationParams | false | undefined,\n            fallbackNotification?: OpenNotificationParams,\n        ) => {\n            if (notification !== false) {\n                if (notification) {\n                    open?.(notification);\n                } else if (fallbackNotification) {\n                    open?.(fallbackNotification);\n                }\n            }\n        },\n        [],\n    );\n\n    return handleNotification;\n};\n","import { useCallback, useContext } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to change the locale at runtime, refine provides the `useSetLocale` hook.\n * It returns the changeLocale method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useSetLocale} for more details.\n */\nexport const useSetLocale = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback((lang: string) => i18nProvider?.changeLocale(lang), []);\n};\n","import React from \"react\";\n\nimport { ITranslationContext } from \"../../interfaces\";\n\n/** @deprecated default value for translation context has no use and is an empty object.  */\nexport const defaultProvider: ITranslationContext = {};\n\nexport const TranslationContext = React.createContext<ITranslationContext>({});\n\nexport const TranslationContextProvider: React.FC<\n    ITranslationContext & {\n        children?: React.ReactNode;\n    }\n> = ({ children, i18nProvider }) => {\n    return (\n        <TranslationContext.Provider\n            value={{\n                i18nProvider: i18nProvider,\n            }}\n        >\n            {children}\n        </TranslationContext.Provider>\n    );\n};\n","import { useContext, useMemo } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\n/**\n * If you need to translate the texts in your own components, refine provides the `useTranslate` hook.\n * It returns the translate method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useTranslate} for more details.\n */\nexport const useTranslate = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    const fn = useMemo(() => {\n        function translate(\n            key: string,\n            options?: any,\n            defaultMessage?: string,\n        ): string;\n        function translate(key: string, defaultMessage?: string): string;\n\n        function translate(\n            key: string,\n            options?: string | any,\n            defaultMessage?: string,\n        ) {\n            return (\n                i18nProvider?.translate(key, options, defaultMessage) ??\n                defaultMessage ??\n                (typeof options === \"string\" &&\n                typeof defaultMessage === \"undefined\"\n                    ? options\n                    : key)\n            );\n        }\n\n        return translate;\n    }, [i18nProvider]);\n\n    return fn;\n};\n","import { useContext, useCallback } from \"react\";\nimport { TranslationContext } from \"@contexts/translation\";\n\nexport type UseGetLocaleType = () => () => string | undefined;\n\n/**\n * If you need to know the current locale, refine provides the `useGetLocale` hook.\n * It returns the `getLocale` method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/core/hooks/translate/useGetLocale} for more details.\n */\nexport const useGetLocale: UseGetLocaleType = () => {\n    const { i18nProvider } = useContext(TranslationContext);\n\n    return useCallback(() => i18nProvider?.getLocale(), []);\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseMutationModeType = () => {\n    mutationMode: IRefineContextOptions[\"mutationMode\"];\n    undoableTimeout: IRefineContextOptions[\"undoableTimeout\"];\n};\n\n/**\n * Mutation mode determines which mode the mutation runs with.\n * Mutations can run under three different modes: `pessimistic`, `optimistic` and `undoable`.\n * Each mode corresponds to a different type of user experience.\n *\n * @see {@link https://refine.dev/docs/guides-and-concepts/mutation-mode} for more details.\n */\nexport const useMutationMode: UseMutationModeType = () => {\n    const { mutationMode, undoableTimeout } = useContext(RefineContext);\n\n    return { mutationMode, undoableTimeout };\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { UnsavedWarnContext } from \"@contexts/unsavedWarn\";\nimport {\n    IRefineContextOptions,\n    IUnsavedWarnContext,\n} from \"../../../interfaces\";\n\ntype UseWarnAboutChangeType = () => {\n    warnWhenUnsavedChanges: IRefineContextOptions[\"warnWhenUnsavedChanges\"];\n    warnWhen: NonNullable<IUnsavedWarnContext[\"warnWhen\"]>;\n    setWarnWhen: NonNullable<IUnsavedWarnContext[\"setWarnWhen\"]>;\n};\n\n/**\n * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n * To activate this feature, set the `warnWhenUnsavedChanges` to `true`.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#warnwhenunsavedchanges} for more details.\n */\nexport const useWarnAboutChange: UseWarnAboutChangeType = () => {\n    const { warnWhenUnsavedChanges } = useContext(RefineContext);\n\n    const { warnWhen, setWarnWhen } = useContext(UnsavedWarnContext);\n\n    return {\n        warnWhenUnsavedChanges,\n        warnWhen: Boolean(warnWhen),\n        setWarnWhen: setWarnWhen ?? (() => undefined),\n    };\n};\n","import React, { ReactNode, useState } from \"react\";\n\nimport { IUnsavedWarnContext } from \"./IUnsavedWarnContext\";\n\nexport const UnsavedWarnContext = React.createContext<IUnsavedWarnContext>({});\n\nexport const UnsavedWarnContextProvider: React.FC<{ children: ReactNode }> = ({\n    children,\n}) => {\n    const [warnWhen, setWarnWhen] = useState(false);\n\n    return (\n        <UnsavedWarnContext.Provider value={{ warnWhen, setWarnWhen }}>\n            {children}\n        </UnsavedWarnContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../interfaces\";\n\ntype UseSyncWithLocationType = () => {\n    syncWithLocation: IRefineContextOptions[\"syncWithLocation\"];\n};\n\n/**\n * List query parameter values can be edited manually by typing directly in the URL.\n * To activate this feature `syncWithLocation` needs to be set to `true`.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#syncwithlocation} for more details.\n */\nexport const useSyncWithLocation: UseSyncWithLocationType = () => {\n    const { syncWithLocation } = useContext(RefineContext);\n\n    return { syncWithLocation };\n};\n","import { useContext } from \"react\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { TitleProps } from \"../../interfaces\";\n\n/**\n * `useTitle` returns a component that calls the `<Title>` passed to the `<Refine>`.\n * In this way, it becomes easier for us to access this component in various parts of the application.\n *\n * @see {@link https://refine.dev/docs/core/hooks/refine/useTitle} for more details.\n */\nexport const useTitle: () => React.FC<TitleProps> | undefined = () => {\n    const { Title } = useContext(RefineContext);\n\n    return Title;\n};\n","import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useRefineContext = () => {\n    const {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    } = useContext(RefineContext);\n\n    return {\n        Footer,\n        Header,\n        Layout,\n        OffLayoutArea,\n        Sider,\n        Title,\n        hasDashboard,\n        mutationMode,\n        syncWithLocation,\n        undoableTimeout,\n        warnWhenUnsavedChanges,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        options,\n    };\n};\n","import { useState } from \"react\";\nimport { useResource, useDataProvider } from \"@hooks\";\nimport {\n    BaseRecord,\n    MapDataFn,\n    CrudSorting,\n    CrudFilters,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    userFriendlyResourceName,\n    pickDataProvider,\n    pickNotDeprecated,\n} from \"@definitions\";\nimport { ExportToCsv, Options } from \"export-to-csv-fix-source-map\";\n\ntype UseExportOptionsType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     * @deprecated `resourceName` is deprecated. Use `resource` instead.\n     */\n    resourceName?: string;\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents\n     */\n    mapData?: MapDataFn<TData, TVariables>;\n    /**\n     *  Sorts records\n     *  @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter?: CrudSorting;\n    /**\n     *  Sorts records\n     */\n    sorters?: CrudSorting;\n    /**\n     *  Filters records\n     */\n    filters?: CrudFilters;\n    maxItemCount?: number;\n    /**\n     *  Requests to fetch data are made as batches by page size. By default, it is 20. Used for `getList` method of `DataProvider`\n     */\n    pageSize?: number;\n    /**\n     *  Used for exporting options\n     *  @type [Options](https://github.com/alexcaza/export-to-csv)\n     */\n    exportOptions?: Options;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     *  Callback to handle error events of this hook\n     */\n    onError?: (error: any) => void;\n};\n\ntype UseExportReturnType = {\n    isLoading: boolean;\n    triggerExport: () => Promise<void>;\n};\n\n/**\n * `useExport` hook allows you to make your resources exportable.\n *\n * @see {@link https://refine.dev/docs/core/hooks/import-export/useExport} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TVariables - Values for params.\n *\n */\nexport const useExport = <\n    TData extends BaseRecord = BaseRecord,\n    TVariables = any,\n>({\n    resourceName,\n    resource: resourceFromProps,\n    sorter,\n    sorters,\n    filters,\n    maxItemCount,\n    pageSize = 20,\n    mapData = (item) => item as any,\n    exportOptions,\n    meta,\n    metaData,\n    dataProviderName,\n    onError,\n}: UseExportOptionsType<TData, TVariables> = {}): UseExportReturnType => {\n    const [isLoading, setIsLoading] = useState(false);\n\n    const dataProvider = useDataProvider();\n\n    const { resource, resources } = useResource();\n\n    const filename = `${userFriendlyResourceName(\n        resource?.name,\n        \"plural\",\n    )}-${new Date().toLocaleString()}`;\n\n    const { getList } = dataProvider(\n        pickDataProvider(\n            resource?.identifier ?? resource?.name,\n            dataProviderName,\n            resources,\n        ),\n    );\n\n    const triggerExport = async () => {\n        setIsLoading(true);\n\n        let rawData: BaseRecord[] = [];\n\n        let current = 1;\n        let preparingData = true;\n        while (preparingData) {\n            try {\n                const { data, total } = await getList<TData>({\n                    resource: resource?.name ?? \"\",\n                    filters,\n                    sort: pickNotDeprecated(sorters, sorter),\n                    sorters: pickNotDeprecated(sorters, sorter),\n                    pagination: {\n                        current,\n                        pageSize,\n                        mode: \"server\",\n                    },\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                });\n\n                current++;\n\n                rawData.push(...data);\n\n                if (maxItemCount && rawData.length >= maxItemCount) {\n                    rawData = rawData.slice(0, maxItemCount);\n                    preparingData = false;\n                }\n\n                if (total === rawData.length) {\n                    preparingData = false;\n                }\n            } catch (error) {\n                setIsLoading(false);\n                preparingData = false;\n\n                onError?.(error);\n\n                return;\n            }\n        }\n\n        const csvExporter = new ExportToCsv({\n            filename,\n            useKeysAsHeaders: true,\n            ...exportOptions,\n        });\n\n        csvExporter.generateCsv(rawData.map(mapData as any));\n\n        setIsLoading(false);\n    };\n\n    return {\n        isLoading,\n        triggerExport,\n    };\n};\n","import React, { Dispatch, SetStateAction } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\n\nimport {\n    useResourceWithRoute,\n    useRouterContext,\n    useWarnAboutChange,\n    useCreate,\n    useUpdate,\n    useRedirectionAfterSubmission,\n    useMutationMode,\n    useOne,\n    useRefineContext,\n} from \"@hooks\";\n\nimport {\n    BaseRecord,\n    CreateResponse,\n    GetOneResponse,\n    HttpError,\n    LiveModeProps,\n    ResourceRouterParams,\n    RedirectAction,\n    SuccessErrorNotification,\n    UpdateResponse,\n    MutationMode,\n    BaseKey,\n    IQueryKeys,\n    FormAction,\n    IResourceItem,\n    MetaQuery,\n} from \"../../interfaces\";\nimport {\n    UpdateParams,\n    UseUpdateProps,\n    UseUpdateReturnType,\n} from \"../data/useUpdate\";\nimport { UseCreateProps, UseCreateReturnType } from \"../data/useCreate\";\nimport { redirectPage } from \"@definitions/helpers\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useResource } from \"../resource/useResource\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nexport type ActionParams = {\n    /**\n     * Type of the form mode\n     * @default Action that it reads from route otherwise \"create\" is used\n     */\n    action?: FormAction;\n};\n\ntype ActionFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Record id for fetching\n     * @default Id that it reads from the URL\n     */\n    id?: BaseKey;\n    /**\n     * Page to redirect after a succesfull mutation\n     * @type `\"show\" | \"edit\" | \"list\" | \"create\" | false`\n     * @default `\"list\"`\n     */\n    redirect?: RedirectAction;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n     * @default `\"pessimistic\"*`\n     */\n    mutationMode?: MutationMode;\n    /**\n     * Called when a mutation is successful\n     */\n    onMutationSuccess?: (\n        data: CreateResponse<TData> | UpdateResponse<TData>,\n        variables: TVariables,\n        context: any,\n    ) => void;\n    /**\n     * Called when a mutation encounters an error\n     */\n    onMutationError?: (\n        error: TError,\n        variables: TVariables,\n        context: any,\n    ) => void;\n    /**\n     * Duration to wait before executing mutations when `mutationMode = \"undoable\"`\n     * @default `5000*`\n     */\n    undoableTimeout?: number;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n    /**\n     * You can use it to manage the invalidations that will occur at the end of the mutation.\n     * @type  `all`, `resourceAll`, `list`, `many`, `detail`, `false`\n     * @default `[\"list\", \"many\", \"detail\"]`\n     */\n    invalidates?: Array<keyof IQueryKeys>;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options of useOne hook used while in edit mode.\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, HttpError>;\n    /**\n     * react-query's [useMutation](https://tanstack.com/query/v4/docs/reference/useMutation) options of useCreate hook used while submitting in create and clone modes.\n     */\n    createMutationOptions?: UseCreateProps<\n        TData,\n        TError,\n        TVariables\n    >[\"mutationOptions\"];\n    /**\n     * react-query's [useMutation](https://tanstack.com/query/v4/docs/reference/useMutation) options of useUpdate hook used while submitting in edit mode.\n     */\n    updateMutationOptions?: UseUpdateProps<\n        TData,\n        TError,\n        TVariables\n    >[\"mutationOptions\"];\n} & SuccessErrorNotification &\n    ActionParams &\n    LiveModeProps;\n\nexport type UseFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = ActionFormProps<TData, TError, TVariables> & ActionParams & LiveModeProps;\n\nexport type UseFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n> = {\n    id?: BaseKey;\n    setId: Dispatch<SetStateAction<BaseKey | undefined>>;\n\n    queryResult?: QueryObserverResult<GetOneResponse<TData>>;\n    mutationResult:\n        | UseUpdateReturnType<TData, TError, TVariables>\n        | UseCreateReturnType<TData, TError, TVariables>;\n    formLoading: boolean;\n    onFinish: (\n        values: TVariables,\n    ) => Promise<CreateResponse<TData> | UpdateResponse<TData> | void>;\n    redirect: (\n        redirect: RedirectAction,\n        idFromFunction?: BaseKey | undefined,\n        routeParams?: Record<string, string | number>,\n    ) => void;\n};\n\n/**\n * `useForm` is used to manage forms. It uses Ant Design {@link https://ant.design/components/form/ Form} data scope management under the hood and returns the required props for managing the form actions.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/form/useForm} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n *\n */\nexport const useForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = {},\n>({\n    resource: resourceFromProps,\n    action: actionFromProps,\n    id: idFromProps,\n    onMutationSuccess,\n    onMutationError,\n    redirect: redirectFromProps,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    mutationMode: mutationModeProp,\n    liveMode,\n    onLiveEvent,\n    liveParams,\n    undoableTimeout,\n    dataProviderName,\n    invalidates,\n    queryOptions,\n    createMutationOptions,\n    updateMutationOptions,\n}: UseFormProps<TData, TError, TVariables> = {}): UseFormReturnType<\n    TData,\n    TError,\n    TVariables\n> => {\n    const { options } = useRefineContext();\n    const { resources } = useResource();\n    const routerType = useRouterType();\n    const {\n        resource: resourceFromRouter,\n        id: idFromRouter,\n        action: actionFromRouter,\n    } = useParsed();\n    const { useParams } = useRouterContext();\n    const {\n        resource: legacyResourceFromRoute,\n        action: legacyActionFromRoute,\n        id: legacyIdFromParams,\n    } = useParams<ResourceRouterParams>();\n\n    const newResourceNameFromRouter =\n        typeof resourceFromRouter === \"string\"\n            ? resourceFromRouter\n            : resourceFromRouter?.name;\n\n    /** We only accept `id` from URL params if `resource` is not explicitly passed. */\n    /** This is done to avoid sending wrong requests for custom `resource` and an async `id` */\n    const defaultId =\n        !resourceFromProps ||\n        resourceFromProps ===\n            (routerType === \"legacy\"\n                ? legacyResourceFromRoute\n                : newResourceNameFromRouter)\n            ? idFromProps ??\n              (routerType === \"legacy\" ? legacyIdFromParams : idFromRouter)\n            : idFromProps;\n\n    // id state is needed to determine selected record in a context for example useModal\n    const [id, setId] = React.useState<BaseKey | undefined>(defaultId);\n\n    React.useEffect(() => {\n        if (defaultId !== id) {\n            setId(idFromProps);\n        }\n    }, [idFromProps]);\n\n    /** `resourceName` fallback value depends on the router type */\n    const resourceName =\n        resourceFromProps ??\n        (routerType === \"legacy\"\n            ? legacyResourceFromRoute\n            : newResourceNameFromRouter);\n    /** `action` fallback value depends on the router type */\n    /**\n     * In earlier versions, we've trivially inferred the action type as `create` in `show` types.\n     * This is probably done to cover cases with modals and drawers.\n     *\n     * This is not right, as we should not do trivial inference of the action type.\n     * Users should explicitly pass the action type when needed.\n     */\n    const fallbackAction =\n        routerType === \"legacy\" ? legacyActionFromRoute : actionFromRouter;\n    const action =\n        actionFromProps ??\n        (fallbackAction === \"edit\" || fallbackAction === \"clone\"\n            ? fallbackAction\n            : \"create\");\n\n    const resourceWithRoute = useResourceWithRoute();\n    let resource: IResourceItem | undefined;\n\n    if (routerType === \"legacy\") {\n        if (resourceName) {\n            resource = resourceWithRoute(resourceName);\n        }\n    } else {\n        /** If `resource` is provided by the user, then try to pick the resource of create a dummy one */\n        if (resourceFromProps) {\n            const picked = pickResource(resourceFromProps, resources);\n            if (picked) {\n                resource = picked;\n            } else {\n                resource = {\n                    name: resourceFromProps,\n                    route: resourceFromProps,\n                };\n            }\n        } else {\n            /** If `resource` is not provided, check the resource from the router params */\n            if (typeof resourceFromRouter === \"string\") {\n                const picked = pickResource(resourceFromRouter, resources);\n                if (picked) {\n                    resource = picked;\n                } else {\n                    resource = {\n                        name: resourceFromRouter,\n                        route: resourceFromRouter,\n                    };\n                }\n            } else {\n                /** If `resource` is passed as an IResourceItem, use it or `resource` is undefined and cannot be inferred. */\n                resource = resourceFromRouter;\n            }\n        }\n    }\n\n    const { mutationMode: mutationModeContext } = useMutationMode();\n    const mutationMode = mutationModeProp ?? mutationModeContext;\n\n    const isCreate = action === \"create\";\n    const isEdit = action === \"edit\";\n    const isClone = action === \"clone\";\n\n    /**\n     * Designated `redirect` route\n     */\n    const designatedRedirectAction = redirectPage({\n        redirectFromProps,\n        action,\n        redirectOptions: options.redirect,\n    });\n\n    const enableQuery = id !== undefined && (isEdit || isClone);\n\n    const queryResult = useOne<TData>({\n        resource: resource?.name,\n        id: id ?? \"\",\n        queryOptions: {\n            enabled: enableQuery,\n            ...queryOptions,\n        },\n        liveMode,\n        onLiveEvent,\n        liveParams,\n        meta: pickNotDeprecated(meta, metaData),\n        metaData: pickNotDeprecated(meta, metaData),\n        dataProviderName,\n    });\n\n    const { isFetching: isFetchingQuery } = queryResult;\n\n    const mutationResultCreate = useCreate<TData, TError, TVariables>({\n        mutationOptions: createMutationOptions,\n    });\n    const { mutate: mutateCreate, isLoading: isLoadingCreate } =\n        mutationResultCreate;\n\n    const mutationResultUpdate = useUpdate<TData, TError, TVariables>({\n        mutationOptions: updateMutationOptions,\n    });\n    const { mutate: mutateUpdate, isLoading: isLoadingUpdate } =\n        mutationResultUpdate;\n\n    const { setWarnWhen } = useWarnAboutChange();\n\n    const handleSubmitWithRedirect = useRedirectionAfterSubmission();\n\n    const onFinishCreate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        const onSuccess = (id?: BaseKey) => {\n            handleSubmitWithRedirect({\n                redirect: designatedRedirectAction,\n                resource,\n                id,\n                meta: metaData,\n            });\n        };\n\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        return new Promise<CreateResponse<TData> | void>((resolve, reject) => {\n            if (mutationMode !== \"pessimistic\") {\n                resolve();\n            }\n\n            if (!resource) return;\n\n            return mutateCreate(\n                {\n                    values,\n                    resource: resource.name,\n                    successNotification,\n                    errorNotification,\n                    meta: pickNotDeprecated(meta, metaData),\n                    metaData: pickNotDeprecated(meta, metaData),\n                    dataProviderName,\n                    invalidates,\n                },\n                {\n                    onSuccess: (data, _, context) => {\n                        if (onMutationSuccess) {\n                            onMutationSuccess(data, values, context);\n                        }\n\n                        const responseId = data?.data?.id;\n\n                        onSuccess(responseId);\n\n                        resolve(data);\n                    },\n                    onError: (error: TError, _, context) => {\n                        if (onMutationError) {\n                            return onMutationError(error, values, context);\n                        }\n                        reject();\n                    },\n                },\n            );\n        });\n    };\n\n    const onFinishUpdate = async (values: TVariables) => {\n        setWarnWhen(false);\n\n        if (!resource) return;\n\n        const variables: UpdateParams<TVariables> = {\n            id: id ?? \"\",\n            values,\n            resource: resource.name,\n            mutationMode,\n            undoableTimeout,\n            successNotification,\n            errorNotification,\n            meta: pickNotDeprecated(meta, metaData),\n            metaData: pickNotDeprecated(meta, metaData),\n            dataProviderName,\n            invalidates,\n        };\n\n        const onSuccess = () => {\n            // If it is in modal mode set it to undefined. Otherwise set it to current id from route.\n            setId(defaultId);\n            handleSubmitWithRedirect({\n                redirect: designatedRedirectAction,\n                resource,\n                id,\n                meta: metaData,\n            });\n        };\n\n        // setWarnWhen is set to \"false\" at the start of the mutation. With the help of setTimeout we guarantee that the value false is set.\n        if (mutationMode !== \"pessimistic\") {\n            setTimeout(() => {\n                onSuccess();\n            });\n        }\n\n        // setTimeout is required to make onSuccess e.g. callbacks to work if component unmounts i.e. on route change\n        return new Promise<UpdateResponse<TData> | void>((resolve, reject) => {\n            if (mutationMode !== \"pessimistic\") {\n                resolve();\n            }\n            return setTimeout(() => {\n                mutateUpdate(variables, {\n                    onSuccess: (data, _, context) => {\n                        if (onMutationSuccess) {\n                            onMutationSuccess(data, values, context);\n                        }\n\n                        if (mutationMode === \"pessimistic\") {\n                            onSuccess();\n                        }\n\n                        resolve(data);\n                    },\n                    onError: (error: TError, _, context) => {\n                        if (onMutationError) {\n                            return onMutationError(error, values, context);\n                        }\n                        reject();\n                    },\n                });\n            });\n        });\n    };\n\n    const createResult = {\n        formLoading: isFetchingQuery || isLoadingCreate,\n        mutationResult: mutationResultCreate,\n        onFinish: onFinishCreate,\n    };\n\n    const editResult = {\n        formLoading: isFetchingQuery || isLoadingUpdate,\n        mutationResult: mutationResultUpdate,\n        onFinish: onFinishUpdate,\n    };\n\n    const result = isCreate || isClone ? createResult : editResult;\n\n    return {\n        ...result,\n        queryResult,\n        id,\n        setId,\n        redirect: (redirect, idFromFunction?: BaseKey | undefined) => {\n            handleSubmitWithRedirect({\n                redirect:\n                    redirect !== undefined\n                        ? redirect\n                        : isEdit\n                        ? \"list\"\n                        : \"edit\",\n                resource,\n                id: idFromFunction ?? id,\n                meta: metaData,\n            });\n        },\n    };\n};\n","import { useCallback } from \"react\";\n\nimport {\n    BaseKey,\n    IResourceItem,\n    MetaDataQuery,\n    RedirectAction,\n} from \"../../interfaces\";\nimport { useNavigation } from \"@hooks\";\n\nexport type UseRedirectionAfterSubmissionType = () => (options: {\n    redirect: RedirectAction;\n    resource?: IResourceItem;\n    id?: BaseKey;\n    meta?: MetaDataQuery;\n}) => void;\n\nexport const useRedirectionAfterSubmission: UseRedirectionAfterSubmissionType =\n    () => {\n        const { show, edit, list, create } = useNavigation();\n\n        const handleSubmitWithRedirect = useCallback(\n            ({\n                redirect,\n                resource,\n                id,\n                meta = {},\n            }: {\n                redirect: RedirectAction;\n                resource?: IResourceItem;\n                id?: BaseKey;\n                meta?: MetaDataQuery;\n            }) => {\n                if (redirect && resource) {\n                    if (!!resource.show && redirect === \"show\" && id) {\n                        return show(resource, id, undefined, meta);\n                    }\n\n                    if (!!resource.edit && redirect === \"edit\" && id) {\n                        return edit(resource, id, undefined, meta);\n                    }\n\n                    if (!!resource.create && redirect === \"create\") {\n                        return create(resource, undefined, meta);\n                    }\n\n                    return list(resource, \"push\", meta);\n                } else {\n                    return;\n                }\n            },\n            [],\n        );\n\n        return handleSubmitWithRedirect;\n    };\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useGo = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    const useGo = React.useMemo(\n        () => bindings?.go ?? (() => () => undefined),\n        [bindings?.go],\n    );\n\n    const go = useGo();\n\n    return go;\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useBack = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    const useBack = React.useMemo(\n        () => bindings?.back ?? (() => () => undefined),\n        [bindings?.back],\n    );\n\n    const back = useBack();\n\n    return back;\n};\n","import { useRouterContext, useResource } from \"@hooks\";\nimport { BaseKey, IResourceItem, MetaDataQuery } from \"../../interfaces\";\nimport { useGo } from \"@hooks/router/use-go\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useBack } from \"@hooks/router/use-back\";\n\nexport type HistoryType = \"push\" | \"replace\";\n\n/**\n * `refine` uses {@link https://reactrouter.com/web/api/Hooks `React Router`} and comes with all redirects out of the box.\n * It allows you to manage your routing operations in refine.\n * Using this hook, you can manage all the routing operations of your application very easily.\n *\n * @internal This is an internal hook of refine. Do not use it directly.\n *\n * @see {@link https://refine.dev/docs/core/hooks/navigation/useNavigation} for more details.\n */\nexport const useNavigation = () => {\n    const { resources } = useResource();\n    const routerType = useRouterType();\n    const { useHistory } = useRouterContext();\n    const history = useHistory();\n    const parsed = useParsed();\n    const go = useGo();\n    const back = useBack();\n\n    const handleUrl = (url: string, type: HistoryType = \"push\") => {\n        if (routerType === \"legacy\") {\n            history[type](url);\n        } else {\n            go({ to: url, type });\n        }\n    };\n\n    const createUrl = (\n        resource: string | IResourceItem,\n        meta: MetaDataQuery = {},\n    ) => {\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const createActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"create\");\n\n            if (!createActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(createActionRoute.route, parsed, meta);\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const createActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"create\")?.route;\n\n            if (!createActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(createActionRoute, parsed, meta),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const editUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const editActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"edit\");\n\n            if (!editActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(editActionRoute.route, parsed, {\n                ...meta,\n                id: encodedId,\n            });\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const editActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"edit\")?.route;\n\n            if (!editActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(editActionRoute, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const cloneUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const cloneActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"clone\");\n\n            if (!cloneActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(cloneActionRoute.route, parsed, {\n                ...meta,\n                id: encodedId,\n            });\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const cloneActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"clone\")?.route;\n\n            if (!cloneActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(cloneActionRoute, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const showUrl = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        meta: MetaDataQuery = {},\n    ) => {\n        const encodedId = encodeURIComponent(id);\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const showActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"show\");\n\n            if (!showActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(showActionRoute.route, parsed, {\n                ...meta,\n                id: encodedId,\n            });\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const showActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"show\")?.route;\n\n            if (!showActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(showActionRoute, parsed, {\n                    ...meta,\n                    id: encodedId,\n                }),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const listUrl = (\n        resource: string | IResourceItem,\n        meta: MetaDataQuery = {},\n    ) => {\n        if (routerType === \"legacy\") {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources, true) ?? {\n                          name: resource,\n                          route: resource,\n                      }\n                    : resource;\n\n            const listActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n                true,\n            ).find((r) => r.action === \"list\");\n\n            if (!listActionRoute) {\n                return \"\";\n            }\n\n            return composeRoute(listActionRoute.route, parsed, meta);\n        } else {\n            const resourceItem =\n                typeof resource === \"string\"\n                    ? pickResource(resource, resources) ?? { name: resource }\n                    : resource;\n\n            const listActionRoute = getActionRoutesFromResource(\n                resourceItem,\n                resources,\n            ).find((r) => r.action === \"list\")?.route;\n\n            if (!listActionRoute) {\n                return \"\";\n            }\n\n            return go({\n                to: composeRoute(listActionRoute, parsed, meta),\n                type: \"path\",\n            }) as string;\n        }\n    };\n\n    const create = (\n        resource: string | IResourceItem,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(createUrl(resource, meta), type);\n    };\n\n    const edit = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(editUrl(resource, id, meta), type);\n    };\n\n    const clone = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(cloneUrl(resource, id, meta), type);\n    };\n\n    const show = (\n        resource: string | IResourceItem,\n        id: BaseKey,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(showUrl(resource, id, meta), type);\n    };\n\n    const list = (\n        resource: string | IResourceItem,\n        type: HistoryType = \"push\",\n        meta: MetaDataQuery = {},\n    ) => {\n        handleUrl(listUrl(resource, meta), type);\n    };\n\n    /**\n     * @deprecated Please use `useGo` hook instead.\n     */\n    const push = (path: string, ...rest: unknown[]) => {\n        if (routerType === \"legacy\") {\n            history.push(path, ...rest);\n        } else {\n            go({ to: path, type: \"push\" });\n        }\n    };\n\n    /**\n     * @deprecated Please use `useGo` hook instead.\n     */\n    const replace = (path: string, ...rest: unknown[]) => {\n        if (routerType === \"legacy\") {\n            history.replace(path, ...rest);\n        } else {\n            go({ to: path, type: \"replace\" });\n        }\n    };\n\n    /**\n     * @deprecated Please use `useBack` hook instead.\n     */\n    const goBack = () => {\n        if (routerType === \"legacy\") {\n            history.goBack();\n        } else {\n            back();\n        }\n    };\n\n    return {\n        create,\n        createUrl,\n        edit,\n        editUrl,\n        clone,\n        cloneUrl,\n        show,\n        showUrl,\n        list,\n        listUrl,\n        push,\n        replace,\n        goBack,\n    };\n};\n","import React, { useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\n\nimport { useOne, useResourceWithRoute, useRouterContext } from \"@hooks\";\n\nimport {\n    ResourceRouterParams,\n    BaseRecord,\n    GetOneResponse,\n    SuccessErrorNotification,\n    MetaQuery,\n    LiveModeProps,\n    BaseKey,\n    HttpError,\n    IResourceItem,\n} from \"../../interfaces\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useResource } from \"../resource/useResource\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nexport type useShowReturnType<TData extends BaseRecord = BaseRecord> = {\n    queryResult: QueryObserverResult<GetOneResponse<TData>>;\n    showId?: BaseKey;\n    setShowId: React.Dispatch<React.SetStateAction<BaseKey | undefined>>;\n};\n\nexport type useShowProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = {\n    /**\n     * Resource name for API data interactions\n     * @default Reads `:resource` from the URL\n     */\n    resource?: string;\n    /**\n     * Data item ID for API data interactions\n     * @default Reads `:id` from the URL\n     */\n    id?: BaseKey;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetOneResponse<TData>, HttpError>;\n    /**\n     * Additional meta data to pass to the data provider's `getOne`\n     */\n    meta?: MetaQuery;\n    /**\n     * Additional meta data to pass to the data provider's `getOne`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * Target data provider name for API call to be made\n     * @default `\"default\"`\n     */\n    dataProviderName?: string;\n} & LiveModeProps &\n    SuccessErrorNotification;\n\n/**\n * `useShow` hook allows you to fetch the desired record.\n * It uses `getOne` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/api-references/components/refine-config `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/core/hooks/show/useShow} for more details.\n */\nexport const useShow = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    resource: resourceFromProp,\n    id,\n    successNotification,\n    errorNotification,\n    meta,\n    metaData,\n    liveMode,\n    onLiveEvent,\n    dataProviderName,\n    queryOptions,\n}: useShowProps<TData, TError> = {}): useShowReturnType<TData> => {\n    const routerType = useRouterType();\n    const { resources } = useResource();\n    const { useParams } = useRouterContext();\n    const { resource: resourceFromRouter, id: idFromRouter } = useParsed();\n\n    const { resource: legacyResourceFromRoute, id: legacyIdFromParams } =\n        useParams<ResourceRouterParams>();\n\n    const newResourceNameFromRouter = resourceFromRouter?.name;\n\n    /** We only accept `id` from URL params if `resource` is not explicitly passed. */\n    /** This is done to avoid sending wrong requests for custom `resource` and an async `id` */\n    const defaultId =\n        !resourceFromProp ||\n        resourceFromProp ===\n            (routerType === \"legacy\"\n                ? legacyResourceFromRoute\n                : newResourceNameFromRouter)\n            ? id ??\n              (routerType === \"legacy\" ? legacyIdFromParams : idFromRouter)\n            : id;\n\n    const [showId, setShowId] = useState<BaseKey | undefined>(defaultId);\n\n    React.useEffect(() => {\n        if (defaultId !== showId) {\n            setShowId(defaultId);\n        }\n    }, [defaultId]);\n\n    /** `resourceName` fallback value depends on the router type */\n    const resourceName =\n        resourceFromProp ??\n        (routerType === \"legacy\"\n            ? legacyResourceFromRoute\n            : newResourceNameFromRouter);\n\n    let resource: IResourceItem | undefined;\n\n    const resourceWithRoute = useResourceWithRoute();\n\n    if (routerType === \"legacy\") {\n        if (resourceName) {\n            resource = resourceWithRoute(resourceName);\n        }\n    } else {\n        /** If `resource` is provided by the user, then try to pick the resource of create a dummy one */\n        if (resourceFromProp) {\n            const picked = pickResource(resourceFromProp, resources);\n            if (picked) {\n                resource = picked;\n            } else {\n                resource = {\n                    name: resourceFromProp,\n                    route: resourceFromProp,\n                };\n            }\n        } else {\n            /** If `resource` is not provided, check the resource from the router params */\n            if (typeof resourceFromRouter === \"string\") {\n                const picked = pickResource(resourceFromRouter, resources);\n                if (picked) {\n                    resource = picked;\n                } else {\n                    resource = {\n                        name: resourceFromRouter,\n                        route: resourceFromRouter,\n                    };\n                }\n            } else {\n                /** If `resource` is passed as an IResourceItem, use it or `resource` is undefined and cannot be inferred. */\n                resource = resourceFromRouter;\n            }\n        }\n    }\n\n    const queryResult = useOne<TData>({\n        resource: resource?.name,\n        id: showId ?? \"\",\n        queryOptions: {\n            enabled: showId !== undefined,\n            ...queryOptions,\n        },\n        successNotification,\n        errorNotification,\n        meta: pickNotDeprecated(meta, metaData),\n        metaData: pickNotDeprecated(meta, metaData),\n        liveMode,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    return {\n        queryResult,\n        showId,\n        setShowId,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { parse, ParseConfig } from \"papaparse\";\nimport chunk from \"lodash/chunk\";\n\nimport { useCreate, useCreateMany, useResource } from \"@hooks\";\nimport { MapDataFn, BaseRecord, HttpError, MetaQuery } from \"../../interfaces\";\nimport {\n    importCSVMapper,\n    sequentialPromises,\n    pickNotDeprecated,\n} from \"@definitions\";\nimport { UseCreateReturnType } from \"../../hooks/data/useCreate\";\nimport { UseCreateManyReturnType } from \"../../hooks/data/useCreateMany\";\n\nexport type ImportSuccessResult<TVariables, TData> = {\n    request: TVariables[];\n    type: \"success\";\n    response: TData[];\n};\n\nexport type ImportErrorResult<TVariables> = {\n    request: TVariables[];\n    type: \"error\";\n    response: HttpError[];\n};\n\nexport type OnFinishParams<TVariables, TData> = {\n    succeeded: ImportSuccessResult<TVariables, TData>[];\n    errored: ImportErrorResult<TVariables>[];\n};\n\nexport type OnProgressParams = {\n    totalAmount: number;\n    processedAmount: number;\n};\n\nexport type ImportOptions<\n    TItem,\n    TVariables = any,\n    TData extends BaseRecord = BaseRecord,\n> = {\n    /**\n     * Resource name for API data interactions.\n     * @default Resource name that it reads from route\n     * @deprecated `resourceName` is deprecated. Use `resource` instead.\n     */\n    resourceName?: string;\n    /**\n     * Resource name for API data interactions.\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * A mapping function that runs for every record. Mapped data will be included in the file contents.\n     */\n    mapData?: MapDataFn<TItem, TVariables>;\n    /**\n     * Custom Papa Parse options.\n     * @type [`ParseConfig`](https://www.papaparse.com/docs)\n     */\n    paparseOptions?: ParseConfig;\n    /**\n     * Requests batch size. If it is 1, all records are sent one by one. By default, it is [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER) to send all records in one batch. If it is more than 1, `createMany` should be implemented on DataProvider.\n     */\n    batchSize?: number;\n    /**\n     * Called with errors and successful responses when all requests are sent.\n     */\n    onFinish?: (results: OnFinishParams<TVariables, TData>) => void;\n    /**\n     *  Metadata query for `dataProvider`\n     */\n    meta?: MetaQuery;\n    /**\n     *  Metadata query for `dataProvider`\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     *  A callback function that returns a current state of uploading process.\n     *\n     *  Ex: `percentage = onProgressParams.processedAmount / onProgressParams.totalAmount * 100`\n     */\n    onProgress?: (onProgressParams: OnProgressParams) => void;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n};\n\nexport type CreatedValuesType<TVariables, TData> =\n    | ImportSuccessResult<TVariables, TData>\n    | ImportErrorResult<TVariables>;\n\nexport type HandleChangeType<TVariables, TData> = (onChangeParams: {\n    file: Partial<File>;\n}) => Promise<CreatedValuesType<TVariables, TData>[]>;\n\nexport type UseImportInputPropsType = {\n    type: \"file\";\n    accept: string;\n    onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport type UseImportReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TVariables = {},\n    TError extends HttpError = HttpError,\n> = {\n    inputProps: UseImportInputPropsType;\n    mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n    isLoading: boolean;\n    handleChange: HandleChangeType<TVariables, TData>;\n};\n\n/**\n * `useImport` hook allows you to handle your csv import logic easily.\n *\n * @see {@link https://refine.dev/docs/core/hooks/import-export/useImport} for more details.\n *\n * @typeParam TItem - Interface of parsed csv data\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-references/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-references/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useImport = <\n    TItem = any,\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables = any,\n>({\n    resourceName,\n    resource: resourceFromProps,\n    mapData = (item) => item as unknown as TVariables,\n    paparseOptions,\n    batchSize = Number.MAX_SAFE_INTEGER,\n    onFinish,\n    meta,\n    metaData,\n    onProgress,\n    dataProviderName,\n}: ImportOptions<TItem, TVariables, TData> = {}): UseImportReturnType<\n    TData,\n    TVariables,\n    TError\n> => {\n    const [processedAmount, setProcessedAmount] = useState<number>(0);\n    const [totalAmount, setTotalAmount] = useState<number>(0);\n    const [isLoading, setIsLoading] = useState(false);\n\n    const { resource } = useResource(resourceFromProps ?? resourceName);\n\n    const createMany = useCreateMany<TData, TError, TVariables>();\n    const create = useCreate<TData, TError, TVariables>();\n\n    let mutationResult:\n        | UseCreateReturnType<TData, TError, TVariables>\n        | UseCreateManyReturnType<TData, TError, TVariables>;\n\n    if (batchSize === 1) {\n        mutationResult = create;\n    } else {\n        mutationResult = createMany;\n    }\n\n    const handleCleanup = () => {\n        setTotalAmount(0);\n        setProcessedAmount(0);\n        setIsLoading(false);\n    };\n\n    const handleFinish = (\n        createdValues: CreatedValuesType<TVariables, TData>[],\n    ) => {\n        const result = {\n            succeeded: createdValues.filter(\n                (item) => item.type === \"success\",\n            ) as unknown as ImportSuccessResult<TVariables, TData>[],\n            errored: createdValues.filter(\n                (item) => item.type === \"error\",\n            ) as unknown as ImportErrorResult<TVariables>[],\n        };\n\n        onFinish?.(result);\n        setIsLoading(false);\n    };\n\n    useEffect(() => {\n        onProgress?.({ totalAmount, processedAmount });\n    }, [totalAmount, processedAmount]);\n\n    const handleChange: HandleChangeType<TVariables, TData> = ({ file }) => {\n        handleCleanup();\n        return new Promise<CreatedValuesType<TVariables, TData>[]>(\n            (resolve) => {\n                setIsLoading(true);\n                parse(file as any, {\n                    complete: async ({ data }: { data: unknown[][] }) => {\n                        const values = importCSVMapper(data, mapData);\n\n                        setTotalAmount(values.length);\n\n                        if (batchSize === 1) {\n                            // Create Processor Functions\n                            const valueFns = values.map((value) => {\n                                const fn = async () => {\n                                    const response = await create.mutateAsync({\n                                        resource: resource?.name ?? \"\",\n                                        values: value,\n                                        successNotification: false,\n                                        errorNotification: false,\n                                        dataProviderName,\n                                        meta: pickNotDeprecated(meta, metaData),\n                                        metaData: pickNotDeprecated(\n                                            meta,\n                                            metaData,\n                                        ),\n                                    });\n\n                                    return { response, value };\n                                };\n                                return fn;\n                            });\n                            // Sequentially run processor functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                valueFns,\n                                ({ response, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return currentAmount + 1;\n                                    });\n\n                                    return {\n                                        response: [response.data],\n                                        type: \"success\",\n                                        request: [value],\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: [values[index]],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // Resolve with created values\n                            resolve(createdValues);\n                        } else {\n                            // Create Chunks\n                            const chunks = chunk(values, batchSize);\n                            // Create Chunk Processor Functions\n                            const chunkedFns = chunks.map((chunkedValues) => {\n                                const fn = async () => {\n                                    const response =\n                                        await createMany.mutateAsync({\n                                            resource: resource?.name ?? \"\",\n                                            values: chunkedValues,\n                                            successNotification: false,\n                                            errorNotification: false,\n                                            dataProviderName,\n                                            meta: pickNotDeprecated(\n                                                meta,\n                                                metaData,\n                                            ),\n                                            metaData: pickNotDeprecated(\n                                                meta,\n                                                metaData,\n                                            ),\n                                        });\n\n                                    return {\n                                        response,\n                                        value: chunkedValues,\n                                        currentBatchLength:\n                                            chunkedValues.length,\n                                    };\n                                };\n\n                                return fn;\n                            });\n                            // Sequentially run chunked functions and process resolves/rejects\n                            const createdValues = await sequentialPromises(\n                                chunkedFns,\n                                ({ response, currentBatchLength, value }) => {\n                                    setProcessedAmount((currentAmount) => {\n                                        return (\n                                            currentAmount + currentBatchLength\n                                        );\n                                    });\n\n                                    return {\n                                        response: response.data,\n                                        type: \"success\",\n                                        request: value,\n                                    } as ImportSuccessResult<TVariables, TData>;\n                                },\n                                (error: HttpError, index) => {\n                                    return {\n                                        response: [error],\n                                        type: \"error\",\n                                        request: chunks[index],\n                                    } as ImportErrorResult<TVariables>;\n                                },\n                            );\n                            // resolve with all created values\n                            resolve(createdValues);\n                        }\n                    },\n\n                    ...paparseOptions,\n                });\n            },\n        ).then((createdValues) => {\n            handleFinish(createdValues);\n            return createdValues;\n        });\n    };\n\n    return {\n        inputProps: {\n            type: \"file\",\n            accept: \".csv\",\n            onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n                if (event.target.files && event.target.files.length > 0) {\n                    handleChange({ file: event.target.files[0] });\n                }\n            },\n        },\n        mutationResult,\n        isLoading,\n        handleChange,\n    };\n};\n","import { useCallback, useState } from \"react\";\n\nexport type useModalReturnType = {\n    visible: boolean;\n    show: () => void;\n    close: () => void;\n};\n\nexport type useModalProps = {\n    /**\n     * Initial state of the modal\n     */\n    defaultVisible?: boolean;\n};\n\nexport const useModal = ({\n    defaultVisible = false,\n}: useModalProps = {}): useModalReturnType => {\n    const [visible, setVisible] = useState(defaultVisible);\n\n    const show = useCallback(() => setVisible(true), [visible]);\n    const close = useCallback(() => setVisible(false), [visible]);\n\n    return {\n        visible,\n        show,\n        close,\n    };\n};\n","import React from \"react\";\nimport { useResource } from \"../../resource\";\nimport { Action, IResourceItem } from \"../../../interfaces\";\nimport { getActionRoutesFromResource } from \"../../../definitions/helpers/router\";\nimport { useParsed } from \"../use-parsed\";\nimport { composeRoute } from \"../../../definitions/helpers/router/compose-route\";\nimport { useRouterType } from \"./../../../contexts/router-picker\";\n\ntype UseToPathParams = {\n    resource?: IResourceItem;\n    action: Action;\n    meta?: Record<string, unknown>;\n    legacy?: boolean;\n};\n\ntype GetToPathFn = (params: UseToPathParams) => string | undefined;\n\n/**\n * Returns a function to get the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useGetToPath = (): GetToPathFn => {\n    const routerType = useRouterType();\n    const { resource: resourceFromRoute, resources } = useResource();\n    const parsed = useParsed();\n\n    const fn = React.useCallback(\n        ({ resource, action, meta }: UseToPathParams): string | undefined => {\n            const selectedResource = resource || resourceFromRoute;\n\n            if (!selectedResource) {\n                return undefined;\n            }\n\n            const actionRoutes = getActionRoutesFromResource(\n                selectedResource,\n                resources,\n                routerType === \"legacy\",\n            );\n\n            const actionRoute = actionRoutes.find(\n                (item) => item.action === action,\n            )?.route;\n\n            if (!actionRoute) {\n                return undefined;\n            }\n\n            const composed = composeRoute(actionRoute, parsed, meta);\n\n            return composed;\n        },\n        [resources, resourceFromRoute, parsed],\n    );\n\n    return fn;\n};\n","import { Action, IResourceItem } from \"../../../interfaces\";\nimport { useGetToPath } from \"../use-get-to-path\";\n\ntype UseToPathParams = {\n    resource?: IResourceItem;\n    action: Action;\n    meta?: Record<string, unknown>;\n    legacy?: boolean;\n};\n\n/**\n * Returns the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useToPath = ({\n    resource,\n    action,\n    meta,\n    legacy,\n}: UseToPathParams): string | undefined => {\n    const getToPath = useGetToPath();\n\n    return getToPath({ resource, action, meta, legacy });\n};\n","import { RouterBindingsContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useLink = () => {\n    const bindings = useContext(RouterBindingsContext);\n\n    if (bindings?.Link) {\n        return bindings.Link;\n    }\n\n    const FallbackLink: Required<typeof bindings>[\"Link\"] = ({\n        to,\n        ...rest\n    }) => <a href={to} {...rest} />;\n\n    return FallbackLink;\n};\n","import { useContext } from \"react\";\nimport { RouterContext, defaultProvider } from \"@contexts/legacy-router\";\n\nexport const useRouterContext = () => {\n    const routerContextValues = useContext(RouterContext);\n\n    const { useHistory, useLocation, useParams, Prompt, Link, routes } =\n        routerContextValues ?? defaultProvider;\n\n    return {\n        useHistory,\n        useLocation,\n        useParams,\n        Prompt,\n        Link,\n        routes,\n    };\n};\n","import React from \"react\";\n\nimport { IRouterContext } from \"../../interfaces\";\n\nexport const defaultProvider: IRouterContext = {\n    useHistory: () => false,\n    useLocation: () => false,\n    useParams: () => ({} as any),\n    Prompt: () => null,\n    Link: () => null,\n};\n\nexport const LegacyRouterContext =\n    React.createContext<IRouterContext>(defaultProvider);\n\nexport const RouterContext = LegacyRouterContext;\n\nexport const LegacyRouterContextProvider: React.FC<\n    Partial<IRouterContext> & {\n        children?: React.ReactNode;\n    }\n> = ({\n    children,\n    useHistory,\n    useLocation,\n    useParams,\n    Prompt,\n    Link,\n    routes,\n}) => {\n    return (\n        <RouterContext.Provider\n            value={{\n                useHistory: useHistory ?? defaultProvider.useHistory,\n                useLocation: useLocation ?? defaultProvider.useLocation,\n                useParams: useParams ?? defaultProvider.useParams,\n                Prompt: Prompt ?? defaultProvider.Prompt,\n                Link: Link ?? defaultProvider.Link,\n                routes: routes ?? defaultProvider.routes,\n            }}\n        >\n            {children}\n        </RouterContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { CanParams, CanReturnType } from \"../../../interfaces\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\n\nexport type UseCanProps = CanParams & {\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<CanReturnType>;\n};\n\n/**\n * `useCan` uses the `can` as the query function for `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`}. It takes the parameters that `can` takes. It can also be configured with `queryOptions` for `useQuery`. Returns the result of `useQuery`.\n * @see {@link https://refine.dev/docs/core/hooks/accessControl/useCan} for more details.\n *\n * @typeParam CanParams {@link https://refine.dev/docs/core/interfaceReferences#canparams}\n * @typeParam CanReturnType {@link https://refine.dev/docs/core/interfaceReferences#canreturntype}\n *\n */\nexport const useCan = ({\n    action,\n    resource,\n    params,\n    queryOptions,\n}: UseCanProps): UseQueryResult<CanReturnType> => {\n    const { can } = useContext(AccessControlContext);\n\n    /**\n     * Since `react-query` stringifies the query keys, it will throw an error for a circular dependency if we include `React.ReactNode` elements inside the keys.\n     * The feature in #2220(https://github.com/refinedev/refine/issues/2220) includes such change and to fix this, we need to remove `icon` property in the `resource`\n     */\n    const { resource: _resource, ...paramsRest } = params ?? {};\n\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    const sanitizedResource = sanitizeResource(_resource ?? {});\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n\n    const queryResponse = useQuery<CanReturnType>(\n        [\n            \"useCan\",\n            {\n                action,\n                resource,\n                params: { ...paramsRest, resource: sanitizedResource },\n                enabled: queryOptions?.enabled,\n            },\n        ],\n        // Enabled check for `can` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n        () =>\n            can?.({ action, resource, params }) ??\n            Promise.resolve({ can: true }),\n        {\n            enabled: typeof can !== \"undefined\",\n            ...queryOptions,\n            retry: false,\n        },\n    );\n\n    return typeof can === \"undefined\"\n        ? ({ data: { can: true } } as typeof queryResponse)\n        : queryResponse;\n};\n","import React from \"react\";\n\nimport { IAccessControlContext } from \"./IAccessControlContext\";\n\n/** @deprecated default value for access control context has no use and is an empty object. */\nexport const defaultAccessControlContext: IAccessControlContext = {};\n\nexport const AccessControlContext = React.createContext<IAccessControlContext>(\n    {},\n);\n\nexport const AccessControlContextProvider: React.FC<\n    IAccessControlContext & {\n        children?: React.ReactNode;\n    }\n> = ({ can, children }) => {\n    return (\n        <AccessControlContext.Provider value={{ can }}>\n            {children}\n        </AccessControlContext.Provider>\n    );\n};\n","import { IResourceItem } from \"../../../interfaces/bindings/resource\";\n\n/**\n * Remove all properties that are non-serializable from a resource object.\n */\nexport const sanitizeResource = (\n    resource: Partial<IResourceItem> & { children?: unknown },\n): Partial<IResourceItem> => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const {\n        icon,\n        list,\n        edit,\n        create,\n        show,\n        clone,\n        children,\n        meta,\n        options,\n        ...restResource\n    } = resource;\n\n    const { icon: _metaIcon, ...restMeta } = meta ?? {};\n    const { icon: _optionsIcon, ...restOptions } = options ?? {};\n\n    return {\n        ...restResource,\n        ...(meta ? { meta: restMeta } : {}),\n        ...(options ? { options: restOptions } : {}),\n    };\n};\n","import { useContext } from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { IAccessControlContext } from \"../../interfaces\";\n\nexport const useCanWithoutCache = (): IAccessControlContext => {\n    const { can } = useContext(AccessControlContext);\n\n    return { can };\n};\n","import { useCallback, useMemo, useState } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport uniqBy from \"lodash/uniqBy\";\nimport debounce from \"lodash/debounce\";\nimport get from \"lodash/get\";\n\nimport { useList, useMany } from \"@hooks\";\nimport {\n    CrudSorting,\n    Option,\n    BaseRecord,\n    GetManyResponse,\n    GetListResponse,\n    CrudFilters,\n    SuccessErrorNotification,\n    HttpError,\n    LiveModeProps,\n    BaseKey,\n    Pagination,\n    MetaQuery,\n    Prettify,\n} from \"../../interfaces\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useResource } from \"../resource/useResource/index\";\n\nexport type UseSelectProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     */\n    resource: string;\n    /**\n     * Set the option's value\n     * @default `\"title\"`\n     */\n    optionLabel?: keyof TData extends string ? keyof TData : never;\n    /**\n     * Set the option's label value\n     * @default `\"id\"`\n     */\n    optionValue?: keyof TData extends string ? keyof TData : never;\n    /**\n     * Allow us to sort the options\n     * @deprecated Use `sorters` instead\n     */\n    sort?: CrudSorting;\n    /**\n     * Allow us to sort the options\n     */\n    sorters?: CrudSorting;\n    /**\n     * Resource name for API data interactions\n     */\n    filters?: CrudFilters;\n    /**\n     * Adds extra `options`\n     */\n    defaultValue?: BaseKey | BaseKey[];\n    /**\n     * The number of milliseconds to delay\n     * @default `300`\n     */\n    debounce?: number;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     * Pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type {  current?: number; pageSize?: number;}\n     * @default `undefined`\n     */\n    pagination?: Prettify<\n        Omit<Pagination, \"mode\"> & {\n            /**\n             * Whether to use server side pagination or not.\n             * @default \"off\"\n             */\n            mode?: Pagination[\"mode\"];\n        }\n    >;\n    /**\n     * Disabling pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n     * @type boolean\n     * @default `false`\n     * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n     */\n    defaultValueQueryOptions?: UseQueryOptions<GetManyResponse<TData>, TError>;\n    /**\n     * If defined, this callback allows us to override all filters for every search request.\n     * @default `undefined`\n     */\n    onSearch?: (value: string) => CrudFilters;\n    /**\n     * Additional meta data to pass to the `useMany` from the data provider\n     */\n    meta?: MetaQuery;\n    /**\n     * Additional meta data to pass to the `useMany` from the data provider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     * @default `default`\n     */\n    dataProviderName?: string;\n    /**\n     * Amount of records to fetch in select box list.\n     * @deprecated use [`pagination`](https://refine.dev/docs/api-reference/core/interfaceReferences/#pagination) instead\n     * @default `undefined`\n     */\n    fetchSize?: number;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\nexport type UseSelectReturnType<TData extends BaseRecord = BaseRecord> = {\n    queryResult: QueryObserverResult<GetListResponse<TData>>;\n    defaultValueQueryResult: QueryObserverResult<GetManyResponse<TData>>;\n    onSearch: (value: string) => void;\n    options: Option[];\n};\n\nexport const useSelect = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>(\n    props: UseSelectProps<TData, TError>,\n): UseSelectReturnType<TData> => {\n    const [search, setSearch] = useState<CrudFilters>([]);\n    const [options, setOptions] = useState<Option[]>([]);\n    const [selectedOptions, setSelectedOptions] = useState<Option[]>([]);\n\n    const {\n        resource: resourceFromProps,\n        sort,\n        sorters,\n        filters = [],\n        optionLabel = \"title\",\n        optionValue = \"id\",\n        debounce: debounceValue = 300,\n        successNotification,\n        errorNotification,\n        defaultValueQueryOptions: defaultValueQueryOptionsFromProps,\n        queryOptions,\n        fetchSize,\n        pagination,\n        hasPagination = false,\n        liveMode,\n        defaultValue = [],\n        onLiveEvent,\n        onSearch: onSearchFromProp,\n        liveParams,\n        meta,\n        metaData,\n        dataProviderName,\n    } = props;\n\n    const { resources } = useResource();\n\n    /**\n     * Since `identifier` is an optional but prioritized way to match resources, users can provide identifier instead of resource name.\n     */\n    const pickedResource = pickResource(resourceFromProps, resources);\n\n    const resource = pickedResource?.name ?? resourceFromProps;\n\n    const defaultValues = Array.isArray(defaultValue)\n        ? defaultValue\n        : [defaultValue];\n\n    const defaultValueQueryOnSuccess = useCallback(\n        (data: GetManyResponse<TData>) => {\n            setSelectedOptions(\n                data.data.map((item) => ({\n                    label: get(item, optionLabel) as string,\n                    value: get(item, optionValue) as string,\n                })),\n            );\n        },\n        [optionLabel, optionValue],\n    );\n\n    const defaultValueQueryOptions =\n        defaultValueQueryOptionsFromProps ?? (queryOptions as any);\n\n    const defaultValueQueryResult = useMany<TData, TError>({\n        resource,\n        ids: defaultValues,\n        queryOptions: {\n            ...defaultValueQueryOptions,\n            enabled:\n                defaultValues.length > 0 &&\n                (defaultValueQueryOptionsFromProps?.enabled ?? true),\n            onSuccess: (data) => {\n                defaultValueQueryOnSuccess(data);\n                defaultValueQueryOptions?.onSuccess?.(data);\n            },\n        },\n        meta: pickNotDeprecated(meta, metaData),\n        metaData: pickNotDeprecated(meta, metaData),\n        liveMode: \"off\",\n        dataProviderName,\n    });\n\n    const defaultQueryOnSuccess = useCallback(\n        (data: GetListResponse<TData>) => {\n            {\n                setOptions(\n                    data.data.map((item) => ({\n                        label: get(item, optionLabel) as string,\n                        value: get(item, optionValue) as string,\n                    })),\n                );\n            }\n        },\n        [optionLabel, optionValue],\n    );\n\n    const queryResult = useList<TData, TError>({\n        resource,\n        sorters: pickNotDeprecated(sorters, sort),\n        filters: filters.concat(search),\n        pagination: {\n            current: pagination?.current,\n            pageSize: pagination?.pageSize ?? fetchSize,\n            mode: pagination?.mode,\n        },\n        hasPagination,\n        queryOptions: {\n            ...queryOptions,\n            onSuccess: (data) => {\n                defaultQueryOnSuccess(data);\n                queryOptions?.onSuccess?.(data);\n            },\n        },\n        successNotification,\n        errorNotification,\n        meta: pickNotDeprecated(meta, metaData),\n        metaData: pickNotDeprecated(meta, metaData),\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const onSearch = (value: string) => {\n        if (onSearchFromProp) {\n            setSearch(onSearchFromProp(value));\n            return;\n        }\n\n        if (!value) {\n            setSearch([]);\n            return;\n        } else {\n            setSearch([\n                {\n                    field: optionLabel,\n                    operator: \"contains\",\n                    value,\n                },\n            ]);\n        }\n    };\n\n    return {\n        queryResult,\n        defaultValueQueryResult,\n        options: useMemo(\n            () => uniqBy([...options, ...selectedOptions], \"value\"),\n            [options, selectedOptions],\n        ),\n        onSearch: debounce(onSearch, debounceValue),\n    };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport qs from \"qs\";\nimport differenceWith from \"lodash/differenceWith\";\nimport isEqual from \"lodash/isEqual\";\n\nimport {\n    useRouterContext,\n    useSyncWithLocation,\n    useNavigation,\n    useList,\n    useLiveMode,\n    useRouterType,\n    useResource,\n    useParsed,\n} from \"@hooks\";\nimport {\n    stringifyTableParams,\n    parseTableParams,\n    unionFilters,\n    setInitialFilters,\n    setInitialSorters,\n    unionSorters,\n} from \"@definitions/table\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nimport {\n    BaseRecord,\n    CrudFilters,\n    CrudSorting,\n    GetListResponse,\n    SuccessErrorNotification,\n    HttpError,\n    MetaQuery,\n    LiveModeProps,\n    Pagination,\n} from \"../../interfaces\";\nimport { useParse } from \"@hooks/router/use-parse\";\nimport { useGo } from \"@hooks/router/use-go\";\nimport warnOnce from \"warn-once\";\n\ntype SetFilterBehavior = \"merge\" | \"replace\";\n\nexport type useTableProps<TData, TError> = {\n    /**\n     * Resource name for API data interactions\n     * @default Resource name that it reads from route\n     */\n    resource?: string;\n    /**\n     * Configuration for pagination\n     */\n    pagination?: Pagination;\n    /**\n     * Initial page index\n     * @default 1\n     * @deprecated `initialCurrent` property is deprecated. Use `pagination.current` instead.\n     */\n    initialCurrent?: number;\n    /**\n     * Initial number of items per page\n     * @default 10\n     * @deprecated `initialPageSize` property is deprecated. Use `pagination.pageSize` instead.\n     */\n    initialPageSize?: number;\n    /**\n     * Sort configs\n     */\n    sorters?: {\n        /**\n         * Initial sorter state\n         */\n        initial?: CrudSorting;\n        /**\n         * Default and unchangeable sorter state\n         *  @default `[]`\n         */\n        permanent?: CrudSorting;\n    };\n    /**\n     * Initial sorter state\n     * @deprecated `initialSorter` property is deprecated. Use `sorters.initial` instead.\n     */\n    initialSorter?: CrudSorting;\n    /**\n     * Default and unchangeable sorter state\n     *  @default `[]`\n     *  @deprecated `permanentSorter` property is deprecated. Use `sorters.permanent` instead.\n     */\n    permanentSorter?: CrudSorting;\n    /**\n     * Filter configs\n     */\n    filters?: {\n        /**\n         * Initial filter state\n         */\n        initial?: CrudFilters;\n        /**\n         * Default and unchangeable filter state\n         *  @default `[]`\n         */\n        permanent?: CrudFilters;\n        /**\n         * Default behavior of the `setFilters` function\n         * @default `\"merge\"`\n         */\n        defaultBehavior?: SetFilterBehavior;\n    };\n    /**\n     * Initial filter state\n     * @deprecated `initialFilter` property is deprecated. Use `filters.initial` instead.\n     */\n    initialFilter?: CrudFilters;\n    /**\n     * Default and unchangeable filter state\n     * @default `[]`\n     * @deprecated `permanentFilter` property is deprecated. Use `filters.permanent` instead.\n     */\n    permanentFilter?: CrudFilters;\n    /**\n     * Default behavior of the `setFilters` function\n     * @default `\"merge\"`\n     * @deprecated `defaultSetFilterBehavior` property is deprecated. Use `filters.defaultBehavior` instead.\n     */\n    defaultSetFilterBehavior?: SetFilterBehavior;\n    /**\n     * Whether to use server side pagination or not.\n     * @default `true`\n     * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * Sortings, filters, page index and records shown per page are tracked by browser history\n     * @default Value set in [Refine](/docs/api-reference/core/components/refine-config/#syncwithlocation). If a custom resource is given, it will be `false`\n     */\n    syncWithLocation?: boolean;\n    /**\n     * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n     */\n    queryOptions?: UseQueryOptions<GetListResponse<TData>, TError>;\n    /**\n     * Metadata query for dataProvider\n     */\n    meta?: MetaQuery;\n    /**\n     * Metadata query for dataProvider\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    /**\n     * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n     */\n    dataProviderName?: string;\n} & SuccessErrorNotification &\n    LiveModeProps;\n\ntype ReactSetState<T> = React.Dispatch<React.SetStateAction<T>>;\n\ntype SyncWithLocationParams = {\n    pagination: { current?: number; pageSize?: number };\n    /**\n     * @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter?: CrudSorting;\n    sorters: CrudSorting;\n    filters: CrudFilters;\n};\n\nexport type useTableReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = {\n    tableQueryResult: QueryObserverResult<GetListResponse<TData>, TError>;\n    /**\n     * @deprecated `sorter` is deprecated. Use `sorters` instead.\n     */\n    sorter: CrudSorting;\n    sorters: CrudSorting;\n    /**\n     * @deprecated `setSorter` is deprecated. Use `setSorters` instead.\n     */\n    setSorter: (sorter: CrudSorting) => void;\n    setSorters: (sorter: CrudSorting) => void;\n    filters: CrudFilters;\n    setFilters: ((filters: CrudFilters, behavior?: SetFilterBehavior) => void) &\n        ((setter: (prevFilters: CrudFilters) => CrudFilters) => void);\n    createLinkForSyncWithLocation: (params: SyncWithLocationParams) => string;\n    current: number;\n    setCurrent: ReactSetState<useTableReturnType[\"current\"]>;\n    pageSize: number;\n    setPageSize: ReactSetState<useTableReturnType[\"pageSize\"]>;\n    pageCount: number;\n};\n\n/**\n * By using useTable, you are able to get properties that are compatible with\n * Ant Design {@link https://ant.design/components/table/ `<Table>`} component.\n * All features such as sorting, filtering and pagination comes as out of box.\n *\n * @see {@link https://refine.dev/docs/api-references/hooks/table/useTable} for more details.\n */\n\nconst defaultPermanentFilter: CrudFilters = [];\nconst defaultPermanentSorter: CrudSorting = [];\n\nexport function useTable<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    initialCurrent,\n    initialPageSize,\n    hasPagination = true,\n    pagination,\n    initialSorter,\n    permanentSorter = defaultPermanentSorter,\n    defaultSetFilterBehavior,\n    initialFilter,\n    permanentFilter = defaultPermanentFilter,\n    filters: filtersFromProp,\n    sorters: sortersFromProp,\n    syncWithLocation: syncWithLocationProp,\n    resource: resourceFromProp,\n    successNotification,\n    errorNotification,\n    queryOptions,\n    liveMode: liveModeFromProp,\n    onLiveEvent,\n    liveParams,\n    meta,\n    metaData,\n    dataProviderName,\n}: useTableProps<TData, TError> = {}): useTableReturnType<TData, TError> {\n    const { syncWithLocation: syncWithLocationContext } = useSyncWithLocation();\n\n    const syncWithLocation = syncWithLocationProp ?? syncWithLocationContext;\n\n    const liveMode = useLiveMode(liveModeFromProp);\n\n    const routerType = useRouterType();\n    const { useLocation } = useRouterContext();\n    const { search, pathname } = useLocation();\n\n    const parsedParams = useParsed();\n\n    const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n    const isPaginationEnabled =\n        (pagination?.mode ?? hasPaginationString) !== \"off\";\n    const prefferedCurrent = pickNotDeprecated(\n        pagination?.current,\n        initialCurrent,\n    );\n    const prefferedPageSize = pickNotDeprecated(\n        pagination?.pageSize,\n        initialPageSize,\n    );\n    const preferredMeta = pickNotDeprecated(meta, metaData);\n\n    /** `parseTableParams` is redundant with the new routing */\n    // We want to always parse the query string even when syncWithLocation is\n    // deactivated, for hotlinking to work properly\n    const { parsedCurrent, parsedPageSize, parsedSorter, parsedFilters } =\n        parseTableParams(search ?? \"?\");\n\n    const preferredInitialFilters = pickNotDeprecated(\n        filtersFromProp?.initial,\n        initialFilter,\n    );\n    const preferredPermanentFilters =\n        pickNotDeprecated(filtersFromProp?.permanent, permanentFilter) ??\n        defaultPermanentFilter;\n\n    const preferredInitialSorters = pickNotDeprecated(\n        sortersFromProp?.initial,\n        initialSorter,\n    );\n    const preferredPermanentSorters =\n        pickNotDeprecated(sortersFromProp?.permanent, permanentSorter) ??\n        defaultPermanentSorter;\n\n    const prefferedFilterBehavior =\n        pickNotDeprecated(\n            filtersFromProp?.defaultBehavior,\n            defaultSetFilterBehavior,\n        ) ?? \"merge\";\n\n    let defaultCurrent: number;\n    let defaultPageSize: number;\n    let defaultSorter: CrudSorting | undefined;\n    let defaultFilter: CrudFilters | undefined;\n\n    if (syncWithLocation) {\n        defaultCurrent =\n            parsedParams?.params?.current ||\n            parsedCurrent ||\n            prefferedCurrent ||\n            1;\n        defaultPageSize =\n            parsedParams?.params?.pageSize ||\n            parsedPageSize ||\n            prefferedPageSize ||\n            10;\n        defaultSorter =\n            parsedParams?.params?.sorters ||\n            (parsedSorter.length ? parsedSorter : preferredInitialSorters);\n        defaultFilter =\n            parsedParams?.params?.filters ||\n            (parsedFilters.length ? parsedFilters : preferredInitialFilters);\n    } else {\n        defaultCurrent = prefferedCurrent || 1;\n        defaultPageSize = prefferedPageSize || 10;\n        defaultSorter = preferredInitialSorters;\n        defaultFilter = preferredInitialFilters;\n    }\n\n    const { replace } = useNavigation();\n    /** New way of `replace` calls to the router is using `useGo` */\n    const go = useGo();\n\n    const { resource } = useResource(resourceFromProp);\n\n    const resourceInUse = resource?.name;\n\n    React.useEffect(() => {\n        warnOnce(\n            typeof resourceInUse === \"undefined\",\n            `useTable: \\`resource\\` is not defined.`,\n        );\n    }, [resourceInUse]);\n\n    const [sorters, setSorters] = useState<CrudSorting>(\n        setInitialSorters(preferredPermanentSorters, defaultSorter ?? []),\n    );\n    const [filters, setFilters] = useState<CrudFilters>(\n        setInitialFilters(preferredPermanentFilters, defaultFilter ?? []),\n    );\n    const [current, setCurrent] = useState<number>(defaultCurrent);\n    const [pageSize, setPageSize] = useState<number>(defaultPageSize);\n\n    const createLinkForSyncWithLocation = ({\n        pagination: { current, pageSize },\n        sorter,\n        filters,\n    }: SyncWithLocationParams) => {\n        if (routerType === \"new\") {\n            return (\n                go({\n                    type: \"path\",\n                    options: {\n                        keepHash: true,\n                        keepQuery: true,\n                    },\n                    query: {\n                        ...(isPaginationEnabled ? { current, pageSize } : {}),\n                        sorters: sorter,\n                        filters,\n                        ...currentQueryParams(),\n                    },\n                }) ?? \"\"\n            );\n        } else {\n            const currentQueryParams = qs.parse(search?.substring(1)); // remove first ? character\n\n            const stringifyParams = stringifyTableParams({\n                pagination: {\n                    pageSize,\n                    current,\n                },\n                sorters: sorters ?? sorter,\n                filters,\n                ...currentQueryParams,\n            });\n            return `${pathname ?? \"\"}?${stringifyParams ?? \"\"}`;\n        }\n    };\n\n    useEffect(() => {\n        if (search === \"\") {\n            setCurrent(defaultCurrent);\n            setPageSize(defaultPageSize);\n            setSorters(\n                setInitialSorters(\n                    preferredPermanentSorters,\n                    defaultSorter ?? [],\n                ),\n            );\n            setFilters(\n                setInitialFilters(\n                    preferredPermanentFilters,\n                    defaultFilter ?? [],\n                ),\n            );\n        }\n    }, [search]);\n\n    const currentQueryParams = (): object => {\n        if (routerType === \"new\") {\n            // We get QueryString parameters that are uncontrolled by refine.\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { sorters, filters, pageSize, current, ...rest } =\n                parsedParams?.params ?? {};\n\n            return rest;\n        } else {\n            // We get QueryString parameters that are uncontrolled by refine.\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { sorter, filters, pageSize, current, ...rest } = qs.parse(\n                search,\n                {\n                    ignoreQueryPrefix: true,\n                },\n            );\n\n            return rest;\n        }\n    };\n\n    useEffect(() => {\n        if (syncWithLocation) {\n            // Careful! This triggers render\n            const queryParams = currentQueryParams();\n\n            if (routerType === \"new\") {\n                go({\n                    type: \"replace\",\n                    options: {\n                        keepQuery: true,\n                    },\n                    query: {\n                        ...(isPaginationEnabled ? { pageSize, current } : {}),\n                        sorters: differenceWith(\n                            sorters,\n                            preferredPermanentSorters,\n                            isEqual,\n                        ),\n                        filters: differenceWith(\n                            filters,\n                            preferredPermanentFilters,\n                            isEqual,\n                        ),\n                        // ...queryParams,\n                    },\n                });\n            } else {\n                const stringifyParams = stringifyTableParams({\n                    ...(isPaginationEnabled\n                        ? {\n                              pagination: {\n                                  pageSize,\n                                  current,\n                              },\n                          }\n                        : {}),\n                    sorters: differenceWith(\n                        sorters,\n                        preferredPermanentSorters,\n                        isEqual,\n                    ),\n                    filters: differenceWith(\n                        filters,\n                        preferredPermanentFilters,\n                        isEqual,\n                    ),\n                    ...queryParams,\n                });\n                return replace?.(`${pathname}?${stringifyParams}`, undefined, {\n                    shallow: true,\n                });\n            }\n        }\n    }, [syncWithLocation, current, pageSize, sorters, filters]);\n\n    const queryResult = useList<TData, TError>({\n        resource: resourceInUse,\n        hasPagination,\n        pagination: { current, pageSize, mode: pagination?.mode },\n        filters: unionFilters(preferredPermanentFilters, filters),\n        sorters: unionSorters(preferredPermanentSorters, sorters),\n        queryOptions,\n        successNotification,\n        errorNotification,\n        meta: preferredMeta,\n        metaData: preferredMeta,\n        liveMode,\n        liveParams,\n        onLiveEvent,\n        dataProviderName,\n    });\n\n    const setFiltersAsMerge = (newFilters: CrudFilters) => {\n        setFilters((prevFilters) =>\n            unionFilters(preferredPermanentFilters, newFilters, prevFilters),\n        );\n    };\n\n    const setFiltersAsReplace = (newFilters: CrudFilters) => {\n        setFilters(unionFilters(preferredPermanentFilters, newFilters));\n    };\n\n    const setFiltersWithSetter = (\n        setter: (prevFilters: CrudFilters) => CrudFilters,\n    ) => {\n        setFilters((prev) =>\n            unionFilters(preferredPermanentFilters, setter(prev)),\n        );\n    };\n\n    const setFiltersFn: useTableReturnType<TData>[\"setFilters\"] = (\n        setterOrFilters,\n        behavior: SetFilterBehavior = prefferedFilterBehavior,\n    ) => {\n        if (typeof setterOrFilters === \"function\") {\n            setFiltersWithSetter(setterOrFilters);\n        } else {\n            if (behavior === \"replace\") {\n                setFiltersAsReplace(setterOrFilters);\n            } else {\n                setFiltersAsMerge(setterOrFilters);\n            }\n        }\n    };\n\n    const setSortWithUnion = (newSorter: CrudSorting) => {\n        setSorters(() => unionSorters(preferredPermanentSorters, newSorter));\n    };\n\n    return {\n        tableQueryResult: queryResult,\n        sorters,\n        setSorters: setSortWithUnion,\n        sorter: sorters,\n        setSorter: setSortWithUnion,\n        filters,\n        setFilters: setFiltersFn,\n        current,\n        setCurrent,\n        pageSize,\n        setPageSize,\n        pageCount: pageSize\n            ? Math.ceil((queryResult.data?.total ?? 0) / pageSize)\n            : 1,\n        createLinkForSyncWithLocation,\n    };\n}\n","import { useContext } from \"react\";\nimport {\n    useMutation,\n    UseMutationOptions,\n    UseMutationResult,\n    useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { useGetIdentity } from \"@hooks/auth\";\nimport { BaseKey, LogParams } from \"../../../interfaces\";\nimport {\n    hasPermission,\n    pickNotDeprecated,\n    queryKeys,\n} from \"@definitions/helpers\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype LogRenameData =\n    | {\n          resource?: string;\n      }\n    | undefined;\n\nexport type UseLogReturnType<TLogData, TLogRenameData> = {\n    log: UseMutationResult<TLogData, Error, LogParams>;\n    rename: UseMutationResult<\n        TLogRenameData,\n        Error,\n        {\n            id: BaseKey;\n            name: string;\n        }\n    >;\n};\n\nexport type UseLogMutationProps<\n    TLogData,\n    TLogRenameData extends LogRenameData = LogRenameData,\n> = {\n    logMutationOptions?: Omit<\n        UseMutationOptions<TLogData, Error, LogParams, unknown>,\n        \"mutationFn\"\n    >;\n    renameMutationOptions?: Omit<\n        UseMutationOptions<\n            TLogRenameData,\n            Error,\n            { id: BaseKey; name: string },\n            unknown\n        >,\n        \"mutationFn\" | \"onSuccess\"\n    >;\n};\n\n/**\n * useLog is used to `create` a new and `rename` the existing audit log.\n * @see {@link https://refine.dev/docs/core/hooks/audit-log/useLog} for more details.\n */\n\nexport const useLog = <\n    TLogData,\n    TLogRenameData extends LogRenameData = LogRenameData,\n>({\n    logMutationOptions,\n    renameMutationOptions,\n}: UseLogMutationProps<TLogData, TLogRenameData> = {}): UseLogReturnType<\n    TLogData,\n    TLogRenameData\n> => {\n    const queryClient = useQueryClient();\n    const auditLogContext = useContext(AuditLogContext);\n\n    const authProvider = useActiveAuthProvider();\n\n    const { resources } = useContext(ResourceContext);\n    const {\n        data: identityData,\n        refetch,\n        isLoading,\n    } = useGetIdentity({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n        queryOptions: {\n            enabled: !!auditLogContext,\n        },\n    });\n\n    const log = useMutation<TLogData, Error, LogParams, unknown>(\n        async (params) => {\n            const resource = pickResource(params.resource, resources);\n            const logPermissions = pickNotDeprecated(\n                resource?.meta?.audit,\n                resource?.options?.audit,\n                resource?.options?.auditLog?.permissions,\n            );\n\n            if (logPermissions) {\n                if (!hasPermission(logPermissions, params.action)) {\n                    return;\n                }\n            }\n\n            let authorData;\n            if (isLoading) {\n                authorData = await refetch();\n            }\n\n            return await auditLogContext.create?.({\n                ...params,\n                author: identityData ?? authorData?.data,\n            });\n        },\n        logMutationOptions,\n    );\n\n    const rename = useMutation<\n        TLogRenameData,\n        Error,\n        { id: BaseKey; name: string },\n        unknown\n    >(\n        async (params) => {\n            return await auditLogContext.update?.(params);\n        },\n        {\n            onSuccess: (data) => {\n                if (data?.resource) {\n                    const queryKey = queryKeys(data?.resource);\n                    queryClient.invalidateQueries(queryKey.logList());\n                }\n            },\n            ...renameMutationOptions,\n        },\n    );\n\n    return { log, rename };\n};\n","import React from \"react\";\n\nimport { IAuditLogContext } from \"./IAuditLogContext\";\n\nexport const AuditLogContext = React.createContext<IAuditLogContext>({});\n\nexport const AuditLogContextProvider: React.FC<\n    IAuditLogContext & {\n        children: React.ReactNode;\n    }\n> = ({ create, get, update, children }) => {\n    return (\n        <AuditLogContext.Provider value={{ create, get, update }}>\n            {children}\n        </AuditLogContext.Provider>\n    );\n};\n","import { useContext } from \"react\";\nimport {\n    useQuery,\n    UseQueryResult,\n    UseQueryOptions,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { queryKeys } from \"@definitions/helpers\";\nimport { HttpError, MetaDataQuery } from \"../../../interfaces\";\n\nexport type UseLogProps<TData, TError> = {\n    resource: string;\n    action?: string;\n    meta?: Record<number | string, any>;\n    author?: Record<number | string, any>;\n    queryOptions?: UseQueryOptions<TData, TError>;\n    metaData?: MetaDataQuery;\n};\n\n/**\n * useLogList is used to get and filter audit logs.\n * @see {@link https://refine.dev/docs/core/hooks/audit-log/useLogList} for more details.\n */\nexport const useLogList = <TData = any, TError extends HttpError = HttpError>({\n    resource,\n    action,\n    meta,\n    author,\n    metaData,\n    queryOptions,\n}: UseLogProps<TData, TError>): UseQueryResult<TData> => {\n    const { get } = useContext(AuditLogContext);\n\n    const queryKey = queryKeys(resource, undefined, metaData);\n\n    const queryResponse = useQuery<TData, TError>(\n        queryKey.logList(meta),\n        () =>\n            get?.({\n                resource,\n                action,\n                author,\n                meta,\n                metaData,\n            }) ?? Promise.resolve([]),\n        {\n            enabled: typeof get !== \"undefined\",\n            ...queryOptions,\n            retry: false,\n        },\n    );\n\n    return queryResponse;\n};\n","import { useCallback } from \"react\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nimport { useResource } from \"@hooks/resource\";\nimport { queryKeys, pickDataProvider } from \"@definitions\";\nimport { BaseKey, IQueryKeys } from \"../../interfaces\";\n\nexport type UseInvalidateProp = {\n    resource?: string;\n    id?: BaseKey;\n    dataProviderName?: string;\n    invalidates: Array<keyof IQueryKeys> | false;\n};\n\nexport const useInvalidate = (): ((props: UseInvalidateProp) => void) => {\n    const { resources } = useResource();\n    const queryClient = useQueryClient();\n\n    const invalidate = useCallback(\n        ({\n            resource,\n            dataProviderName,\n            invalidates,\n            id,\n        }: UseInvalidateProp) => {\n            if (invalidates === false) {\n                return;\n            }\n            const queryKey = queryKeys(\n                resource,\n                pickDataProvider(resource, dataProviderName, resources),\n            );\n\n            invalidates.forEach((key) => {\n                switch (key) {\n                    case \"all\":\n                        queryClient.invalidateQueries(queryKey.all);\n                        break;\n                    case \"list\":\n                        queryClient.invalidateQueries(queryKey.list());\n                        break;\n                    case \"many\":\n                        queryClient.invalidateQueries(queryKey.many());\n                        break;\n                    case \"resourceAll\":\n                        queryClient.invalidateQueries(queryKey.resourceAll);\n                        break;\n                    case \"detail\":\n                        queryClient.invalidateQueries(\n                            queryKey.detail(id || \"\"),\n                        );\n                        break;\n                    default:\n                        break;\n                }\n            });\n        },\n        [],\n    );\n\n    return invalidate;\n};\n","import React, { useContext } from \"react\";\nimport warnOnce from \"warn-once\";\n\nimport { useResource, useTranslate } from \"@hooks\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { humanizeString, pickNotDeprecated } from \"@definitions\";\n\nimport { IResourceItem } from \"../../interfaces\";\nimport { useRouterType } from \"@contexts/router-picker\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { pickResource } from \"../../definitions/helpers/pick-resource/index\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\n\nexport type BreadcrumbsType = {\n    label: string;\n    href?: string;\n    icon?: React.ReactNode;\n};\n\ntype UseBreadcrumbReturnType = {\n    breadcrumbs: BreadcrumbsType[];\n};\n\ntype UseBreadcrumbProps = {\n    /**\n     * Additional params to be used in the route generation process.\n     */\n    meta?: Record<string, string | number>;\n};\n\nexport const useBreadcrumb = ({\n    meta: metaFromProps = {},\n}: UseBreadcrumbProps = {}): UseBreadcrumbReturnType => {\n    const routerType = useRouterType();\n    const { i18nProvider } = useContext(TranslationContext);\n    const parsed = useParsed();\n\n    const translate = useTranslate();\n\n    const { resources, resource, action } = useResource();\n\n    const breadcrumbs: BreadcrumbsType[] = [];\n\n    if (!resource?.name) {\n        return { breadcrumbs };\n    }\n\n    const addBreadcrumb = (parentName: string | IResourceItem) => {\n        const parentResource =\n            typeof parentName === \"string\"\n                ? pickResource(\n                      parentName,\n                      resources,\n                      routerType === \"legacy\",\n                  ) ?? { name: parentName }\n                : parentName;\n\n        if (parentResource) {\n            const grandParentName = pickNotDeprecated(\n                parentResource?.meta?.parent,\n                parentResource?.parentName,\n            );\n            if (grandParentName) {\n                addBreadcrumb(grandParentName);\n            }\n            const listActionOfResource = getActionRoutesFromResource(\n                parentResource,\n                resources,\n                routerType === \"legacy\",\n            ).find((r) => r.action === \"list\");\n\n            const hrefRaw = listActionOfResource?.resource?.list\n                ? listActionOfResource?.route\n                : undefined;\n\n            const href = hrefRaw\n                ? routerType === \"legacy\"\n                    ? hrefRaw\n                    : composeRoute(hrefRaw, parsed, metaFromProps)\n                : undefined;\n\n            breadcrumbs.push({\n                label:\n                    pickNotDeprecated(\n                        parentResource.meta?.label,\n                        parentResource.options?.label,\n                    ) ??\n                    translate(\n                        `${parentResource.name}.${parentResource.name}`,\n                        humanizeString(parentResource.name),\n                    ),\n                href: href,\n                icon: pickNotDeprecated(\n                    parentResource.meta?.icon,\n                    parentResource.options?.icon,\n                    parentResource.icon,\n                ),\n            });\n        }\n    };\n\n    addBreadcrumb(resource);\n\n    if (action && action !== \"list\") {\n        const key = `actions.${action}`;\n        const actionLabel = translate(key);\n        if (typeof i18nProvider !== \"undefined\" && actionLabel === key) {\n            warnOnce(\n                true,\n                `[useBreadcrumb]: Breadcrumb missing translate key for the \"${action}\" action. Please add \"actions.${action}\" key to your translation file.\\nFor more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`,\n            );\n            breadcrumbs.push({\n                label: translate(`buttons.${action}`, humanizeString(action)),\n            });\n        } else {\n            breadcrumbs.push({\n                label: translate(key, humanizeString(action)),\n            });\n        }\n    }\n\n    return {\n        breadcrumbs,\n    };\n};\n","import React from \"react\";\nimport { useTranslate, useResource, useParsed, useRouterContext } from \"..\";\nimport { userFriendlyResourceName, pickNotDeprecated } from \"@definitions\";\nimport { useRouterType } from \"../../contexts/router-picker\";\nimport { createResourceKey } from \"../../definitions/helpers/menu/create-resource-key\";\nimport { useGetToPath } from \"../router/use-get-to-path/index\";\nimport { getParentResource } from \"@definitions/helpers/router\";\nimport {\n    FlatTreeItem,\n    createTree,\n} from \"@definitions/helpers/menu/create-tree\";\n\ntype UseMenuReturnType = {\n    defaultOpenKeys: string[];\n    selectedKey: string;\n    menuItems: TreeMenuItem[];\n};\n\nexport type UseMenuProps = {\n    meta?: Record<string, any>;\n    hideOnMissingParameter?: boolean;\n};\n\nexport type TreeMenuItem = FlatTreeItem & {\n    route?: string;\n    icon?: React.ReactNode;\n    label?: string;\n    children: TreeMenuItem[];\n};\n\nconst getCleanPath = (pathname: string) => {\n    return pathname\n        .split(\"?\")[0]\n        .split(\"#\")[0]\n        .replace(/(.+)(\\/$)/, \"$1\");\n};\n\n/**\n * `useMenu` is used to get menu items of the default sidebar.\n * These items include a link to dashboard page (if it exists) and links to the user defined resources\n * (passed as children to {@link https://refine.dev/docs/core/components/refine-config `<Refine>`}).\n * This hook can also be used to build custom menus, which is also used by default sidebar to show menu items.\n *\n * @see {@link https://refine.dev/docs/core/hooks/ui/useMenu} for more details.\n */\nexport const useMenu = (\n    { meta, hideOnMissingParameter }: UseMenuProps = {\n        hideOnMissingParameter: true,\n    },\n): UseMenuReturnType => {\n    const translate = useTranslate();\n\n    const getToPath = useGetToPath();\n    const routerType = useRouterType();\n    const { resource, resources } = useResource();\n    const { pathname } = useParsed();\n    const { useLocation } = useRouterContext();\n    const { pathname: legacyPath } = useLocation();\n\n    const cleanPathname =\n        routerType === \"legacy\"\n            ? getCleanPath(legacyPath)\n            : pathname\n            ? getCleanPath(pathname)\n            : undefined;\n\n    const cleanRoute = `/${(cleanPathname ?? \"\").replace(/^\\//, \"\")}`;\n\n    const selectedKey = resource\n        ? createResourceKey(resource, resources, routerType === \"legacy\")\n        : cleanRoute ?? \"\";\n\n    const defaultOpenKeys = React.useMemo(() => {\n        if (!resource) return [];\n        let parent = getParentResource(resource, resources);\n        const keys = [createResourceKey(resource, resources)];\n        while (parent) {\n            keys.push(createResourceKey(parent, resources));\n            parent = getParentResource(parent, resources);\n        }\n        return keys;\n    }, []);\n\n    const prepareItem = React.useCallback(\n        (item: FlatTreeItem): TreeMenuItem | undefined => {\n            if (item?.meta?.hide ?? item?.options?.hide) return undefined;\n            if (!item?.list && item.children.length === 0) return undefined;\n\n            const composed = item.list\n                ? getToPath({\n                      resource: item,\n                      action: \"list\",\n                      legacy: routerType === \"legacy\",\n                      meta,\n                  })\n                : undefined;\n\n            if (\n                hideOnMissingParameter &&\n                composed &&\n                composed.match(/(\\/|^):(.+?)(\\/|$){1}/)\n            )\n                return undefined;\n\n            return {\n                ...item,\n                route: composed,\n                icon: pickNotDeprecated(\n                    item.meta?.icon,\n                    item.options?.icon,\n                    item.icon,\n                ),\n                label:\n                    pickNotDeprecated(\n                        item?.meta?.label,\n                        item?.options?.label,\n                    ) ??\n                    translate(\n                        `${item.name}.${item.name}`,\n                        userFriendlyResourceName(item.name, \"plural\"),\n                    ),\n            };\n        },\n        [routerType, meta, translate, hideOnMissingParameter],\n    );\n\n    const treeItems = React.useMemo(() => {\n        const treeMenuItems = createTree(resources, routerType === \"legacy\");\n\n        // add paths to items and their nodes recursively\n        const prepare = (items: TreeMenuItem[]): TreeMenuItem[] => {\n            return items.flatMap((item) => {\n                const preparedNodes = prepare(item.children);\n                const newItem = prepareItem({\n                    ...item,\n                    children: preparedNodes,\n                });\n\n                if (!newItem) return [];\n\n                return [newItem];\n            });\n        };\n\n        return prepare(treeMenuItems);\n    }, [resources, routerType, prepareItem]);\n\n    return {\n        defaultOpenKeys,\n        selectedKey,\n        menuItems: treeItems,\n    };\n};\n","import { IResourceItem } from \"../../../interfaces\";\nimport {\n    getParentResource,\n    removeLeadingTrailingSlashes,\n} from \"../../helpers/router\";\n\nexport const createResourceKey = (\n    resource: IResourceItem,\n    resources: IResourceItem[],\n    legacy = false,\n) => {\n    const parents: IResourceItem[] = [];\n\n    let currentParentResource = getParentResource(resource, resources);\n    while (currentParentResource) {\n        parents.push(currentParentResource);\n        currentParentResource = getParentResource(\n            currentParentResource,\n            resources,\n        );\n    }\n    parents.reverse();\n\n    const key = [...parents, resource]\n        .map((r) =>\n            removeLeadingTrailingSlashes(\n                (legacy ? r.route : undefined) ?? r.identifier ?? r.name,\n            ),\n        )\n        .join(\"/\");\n\n    return `/${key.replace(/^\\//, \"\")}`;\n};\n","import { IResourceItem } from \"@contexts/resource\";\nimport { getParentResource } from \"../router\";\nimport { createResourceKey } from \"./create-resource-key\";\n\nexport type Tree = {\n    item: IResourceItem;\n    children: { [key: string]: Tree };\n};\n\nexport type FlatTreeItem = IResourceItem & {\n    key: string;\n    children: FlatTreeItem[];\n};\n\nexport const createTree = (\n    resources: IResourceItem[],\n    legacy = false,\n): FlatTreeItem[] => {\n    const root: Tree = {\n        item: {\n            name: \"__root__\",\n        },\n        children: {},\n    };\n\n    resources.forEach((resource) => {\n        const parents: IResourceItem[] = [];\n\n        let currentParent = getParentResource(resource, resources);\n        while (currentParent) {\n            parents.push(currentParent);\n            currentParent = getParentResource(currentParent, resources);\n        }\n        parents.reverse();\n\n        let currentTree = root;\n\n        parents.forEach((parent) => {\n            const key =\n                (legacy ? parent.route : undefined) ??\n                parent.identifier ??\n                parent.name;\n\n            if (!currentTree.children[key]) {\n                currentTree.children[key] = {\n                    item: parent,\n                    children: {},\n                };\n            }\n            currentTree = currentTree.children[key];\n        });\n\n        const key =\n            (legacy ? resource.route : undefined) ??\n            resource.identifier ??\n            resource.name;\n\n        if (!currentTree.children[key]) {\n            currentTree.children[key] = {\n                item: resource,\n                children: {},\n            };\n        }\n    });\n\n    const flatten = (tree: Tree): FlatTreeItem[] => {\n        const items: FlatTreeItem[] = [];\n\n        Object.keys(tree.children).forEach((key) => {\n            const itemKey = createResourceKey(\n                tree.children[key].item,\n                resources,\n                legacy,\n            );\n            const item: FlatTreeItem = {\n                ...tree.children[key].item,\n                key: itemKey,\n                children: flatten(tree.children[key]),\n            };\n            items.push(item);\n        });\n\n        return items;\n    };\n\n    return flatten(root);\n};\n","import React, { useState } from \"react\";\n\nimport { useLogin, useTranslate } from \"@hooks\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nexport interface ILoginForm {\n    username: string;\n    password: string;\n}\n\n/**\n * @deprecated LoginPage is deprecated. Use AuthPage instead. @see {@link https://refine.dev/docs/core/components/auth-page} for more details.\n * **refine** has a default login page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#loginpage} for more details.\n */\nexport const LoginPage: React.FC = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: login } = useLogin<ILoginForm>({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    return (\n        <>\n            <h1>{translate(\"pages.login.title\", \"Sign in your account\")}</h1>\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ username, password });\n                }}\n            >\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.username\",\n                                    undefined,\n                                    \"username\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"text\"\n                                    size={20}\n                                    autoCorrect=\"off\"\n                                    spellCheck={false}\n                                    autoCapitalize=\"off\"\n                                    autoFocus\n                                    required\n                                    value={username}\n                                    onChange={(e) =>\n                                        setUsername(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td>\n                                {translate(\n                                    \"pages.login.password\",\n                                    undefined,\n                                    \"password\",\n                                )}\n                                :\n                            </td>\n                            <td>\n                                <input\n                                    type=\"password\"\n                                    required\n                                    size={20}\n                                    value={password}\n                                    onChange={(e) =>\n                                        setPassword(e.target.value)\n                                    }\n                                />\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <br />\n                <input type=\"submit\" value=\"login\" />\n            </form>\n        </>\n    );\n};\n","import React, {\n    DetailedHTMLProps,\n    HTMLAttributes,\n    FormHTMLAttributes,\n} from \"react\";\n\nimport {\n    LoginPage,\n    RegisterPage,\n    ForgotPasswordPage,\n    UpdatePasswordPage,\n} from \"./components\";\n\nimport { AuthPageProps } from \"../../../interfaces\";\n\nexport type DivPropsType = DetailedHTMLProps<\n    HTMLAttributes<HTMLDivElement>,\n    HTMLDivElement\n>;\nexport type FormPropsType = DetailedHTMLProps<\n    FormHTMLAttributes<HTMLFormElement>,\n    HTMLFormElement\n>;\n\nexport type AuthProps = AuthPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\n/**\n * **refine** has a default auth page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#authpage} for more details.\n */\nexport const AuthPage: React.FC<AuthProps> = (props) => {\n    const { type } = props;\n    const renderView = () => {\n        switch (type) {\n            case \"register\":\n                return <RegisterPage {...props} />;\n            case \"forgotPassword\":\n                return <ForgotPasswordPage {...props} />;\n            case \"updatePassword\":\n                return <UpdatePasswordPage {...props} />;\n            default:\n                return <LoginPage {...props} />;\n        }\n    };\n\n    return <>{renderView()}</>;\n};\n","import React, { useState } from \"react\";\nimport { LoginPageProps, LoginFormTypes } from \"../../../../../interfaces\";\n\nimport { useRouterContext, useLink, useRouterType, useLogin } from \"@hooks\";\nimport { useTranslate } from \"@hooks/translate\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype LoginProps = LoginPageProps<DivPropsType, DivPropsType, FormPropsType>;\n\nexport const LoginPage: React.FC<LoginProps> = ({\n    providers,\n    registerLink,\n    forgotPasswordLink,\n    rememberMe,\n    contentProps,\n    wrapperProps,\n    renderContent,\n    formProps,\n}) => {\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [remember, setRemember] = useState(false);\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: login } = useLogin<LoginFormTypes>({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <ActiveLink to={link}>{text}</ActiveLink>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            login({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.login.title\", \"Sign in to your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    login({ email, password, remember });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\"pages.login.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"text\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label>\n                        {translate(\"pages.login.fields.password\", \"Password\")}\n                    </label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    {rememberMe ?? (\n                        <>\n                            <label>\n                                {translate(\n                                    \"pages.login.buttons.rememberMe\",\n                                    \"Remember me\",\n                                )}\n                                <input\n                                    name=\"remember\"\n                                    type=\"checkbox\"\n                                    size={20}\n                                    checked={remember}\n                                    value={remember.toString()}\n                                    onChange={() => {\n                                        setRemember(!remember);\n                                    }}\n                                />\n                            </label>\n                        </>\n                    )}\n                    <br />\n                    {forgotPasswordLink ??\n                        renderLink(\n                            \"/forgot-password\",\n                            translate(\n                                \"pages.login.buttons.forgotPassword\",\n                                \"Forgot password?\",\n                            ),\n                        )}\n                    <input\n                        type=\"submit\"\n                        value={translate(\"pages.login.signin\", \"Sign in\")}\n                    />\n                    {registerLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.login.buttons.noAccount\",\n                                \"Don’t have an account?\",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/register\",\n                                translate(\"pages.login.register\", \"Sign up\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport { RegisterPageProps } from \"../../../../../interfaces\";\n\nimport {\n    useTranslate,\n    useRouterContext,\n    useLink,\n    useRouterType,\n    useRegister,\n} from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype RegisterProps = RegisterPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const RegisterPage: React.FC<RegisterProps> = ({\n    providers,\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: register, isLoading } = useRegister({\n        v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <ActiveLink to={link}>{text}</ActiveLink>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const renderProviders = () => {\n        if (providers) {\n            return providers.map((provider) => (\n                <div\n                    key={provider.name}\n                    style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        marginBottom: \"1rem\",\n                    }}\n                >\n                    <button\n                        onClick={() =>\n                            register({\n                                providerName: provider.name,\n                            })\n                        }\n                        style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                        }}\n                    >\n                        {provider?.icon}\n                        {provider.label ?? <label>{provider.label}</label>}\n                    </button>\n                </div>\n            ));\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.register.title\", \"Sign up for your account\")}\n            </h1>\n            {renderProviders()}\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    register({ email, password });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\"pages.register.fields.email\", \"Email\")}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"email\"\n                        size={20}\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <label>\n                        {translate(\n                            \"pages.register.fields.password\",\n                            \"Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        value={translate(\n                            \"pages.register.buttons.submit\",\n                            \"Sign up\",\n                        )}\n                        disabled={isLoading}\n                    />\n                    {loginLink ?? (\n                        <>\n                            <span>\n                                {translate(\n                                    \"pages.login.buttons.haveAccount\",\n                                    \"Have an account?\",\n                                )}{\" \"}\n                                {renderLink(\n                                    \"/login\",\n                                    translate(\"pages.login.signin\", \"Sign in\"),\n                                )}\n                            </span>\n                        </>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\n\nimport {\n    useTranslate,\n    useRouterContext,\n    useLink,\n    useRouterType,\n    useForgotPassword,\n} from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport {\n    ForgotPasswordFormTypes,\n    ForgotPasswordPageProps,\n} from \"../../../../../interfaces\";\n\ntype ForgotPasswordProps = ForgotPasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const ForgotPasswordPage: React.FC<ForgotPasswordProps> = ({\n    loginLink,\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const translate = useTranslate();\n    const routerType = useRouterType();\n    const Link = useLink();\n    const { Link: LegacyLink } = useRouterContext();\n\n    const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n    const [email, setEmail] = useState(\"\");\n\n    const { mutate: forgotPassword, isLoading } =\n        useForgotPassword<ForgotPasswordFormTypes>();\n\n    const renderLink = (link: React.ReactNode, text?: string) => {\n        if (link) {\n            if (typeof link === \"string\") {\n                return <ActiveLink to={link}>{text}</ActiveLink>;\n            }\n            return link;\n        }\n        return null;\n    };\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\n                    \"pages.forgotPassword.title\",\n                    \"Forgot your password?\",\n                )}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    forgotPassword({ email });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\n                            \"pages.forgotPassword.fields.email\",\n                            \"Email\",\n                        )}\n                    </label>\n                    <input\n                        name=\"email\"\n                        type=\"mail\"\n                        autoCorrect=\"off\"\n                        spellCheck={false}\n                        autoCapitalize=\"off\"\n                        required\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.forgotPassword.buttons.submit\",\n                            \"Send reset instructions\",\n                        )}\n                    />\n                    <br />\n                    {loginLink ?? (\n                        <span>\n                            {translate(\n                                \"pages.register.buttons.haveAccount\",\n                                \"Have an account? \",\n                            )}{\" \"}\n                            {renderLink(\n                                \"/login\",\n                                translate(\"pages.login.signin\", \"Sign in\"),\n                            )}\n                        </span>\n                    )}\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React, { useState } from \"react\";\nimport {\n    UpdatePasswordFormTypes,\n    UpdatePasswordPageProps,\n} from \"../../../../../interfaces\";\n\nimport { useTranslate, useUpdatePassword } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\ntype UpdatePasswordProps = UpdatePasswordPageProps<\n    DivPropsType,\n    DivPropsType,\n    FormPropsType\n>;\n\nexport const UpdatePasswordPage: React.FC<UpdatePasswordProps> = ({\n    wrapperProps,\n    contentProps,\n    renderContent,\n    formProps,\n}) => {\n    const translate = useTranslate();\n\n    const authProvider = useActiveAuthProvider();\n    const { mutate: updatePassword, isLoading } =\n        useUpdatePassword<UpdatePasswordFormTypes>({\n            v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n        });\n\n    const [newPassword, setNewPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n    const content = (\n        <div {...contentProps}>\n            <h1 style={{ textAlign: \"center\" }}>\n                {translate(\"pages.updatePassword.title\", \"Update Password\")}\n            </h1>\n            <hr />\n            <form\n                onSubmit={(e) => {\n                    e.preventDefault();\n                    updatePassword({\n                        password: newPassword,\n                        confirmPassword,\n                    });\n                }}\n                {...formProps}\n            >\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        padding: 25,\n                    }}\n                >\n                    <label>\n                        {translate(\n                            \"pages.updatePassword.fields.password\",\n                            \"New Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"password\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={newPassword}\n                        onChange={(e) => setNewPassword(e.target.value)}\n                    />\n                    <label>\n                        {translate(\n                            \"pages.updatePassword.fields.confirmPassword\",\n                            \"Confirm New Password\",\n                        )}\n                    </label>\n                    <input\n                        name=\"confirmPassword\"\n                        type=\"password\"\n                        required\n                        size={20}\n                        value={confirmPassword}\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                    />\n                    <input\n                        type=\"submit\"\n                        disabled={isLoading}\n                        value={translate(\n                            \"pages.updatePassword.buttons.submit\",\n                            \"Update\",\n                        )}\n                    />\n                </div>\n            </form>\n        </div>\n    );\n\n    return (\n        <div {...wrapperProps}>\n            {renderContent ? renderContent(content) : content}\n        </div>\n    );\n};\n","import React from \"react\";\n\n/**\n * **refine** shows a default ready page on root route when no `resources` is passed to the `<Refine>` component as a property.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config#readypage} for more details.\n * @deprecated `ReadyPage` is deprecated and will be removed in the next major release.\n */\nexport const ReadyPage: React.FC = () => {\n    return (\n        <>\n            <h1>Welcome on board</h1>\n            <p>Your configuration is completed.</p>\n            <p>\n                Now you can get started by adding your resources to the{\" \"}\n                <code>`resources`</code> property of <code>{\"`<Refine>`\"}</code>\n            </p>\n            <div style={{ display: \"flex\", gap: 8 }}>\n                <a href=\"https://refine.dev\" target=\"_blank\" rel=\"noreferrer\">\n                    <button>Documentation</button>\n                </a>\n                <a\n                    href=\"https://refine.dev/examples\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Examples</button>\n                </a>\n                <a\n                    href=\"https://discord.gg/refine\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Community</button>\n                </a>\n            </div>\n        </>\n    );\n};\n","import React from \"react\";\n\n/**\n * It is a page that welcomes you after the configuration is completed.\n */\nexport const WelcomePage: React.FC = () => {\n    return (\n        <>\n            <h1>Welcome on board</h1>\n            <p>Your configuration is completed.</p>\n            <div style={{ display: \"flex\", gap: 8 }}>\n                <a href=\"https://refine.dev\" target=\"_blank\" rel=\"noreferrer\">\n                    <button>Documentation</button>\n                </a>\n                <a\n                    href=\"https://refine.dev/examples\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Examples</button>\n                </a>\n                <a\n                    href=\"https://discord.gg/refine\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                >\n                    <button>Community</button>\n                </a>\n            </div>\n        </>\n    );\n};\n","import React from \"react\";\nimport { QueryClientProvider, QueryClient } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\n\nimport {\n    AuthBindingsContextProvider,\n    LegacyAuthContextProvider,\n} from \"@contexts/auth\";\nimport { DataContextProvider } from \"@contexts/data\";\nimport { LiveContextProvider } from \"@contexts/live\";\nimport { TranslationContextProvider } from \"@contexts/translation\";\nimport { ResourceContextProvider } from \"@contexts/resource\";\nimport { RefineContextProvider } from \"@contexts/refine\";\nimport { UndoableQueueContextProvider } from \"@contexts/undoableQueue\";\nimport { UnsavedWarnContextProvider } from \"@contexts/unsavedWarn\";\nimport { LegacyRouterContextProvider } from \"@contexts/legacy-router\";\nimport { AccessControlContextProvider } from \"@contexts/accessControl\";\nimport { NotificationContextProvider } from \"@contexts/notification\";\nimport { AuditLogContextProvider } from \"@contexts/auditLog\";\nimport { ReadyPage as DefaultReadyPage, RouteChangeHandler } from \"@components\";\nimport { handleRefineOptions } from \"@definitions\";\nimport { Telemetry } from \"@components/telemetry\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\nimport { RouterBindings } from \"src/interfaces/bindings\";\n\nimport {\n    IDataContextProvider,\n    I18nProvider,\n    LayoutProps,\n    TitleProps,\n    IRouterProvider,\n    ILiveContext,\n    LiveModeProps,\n    IDataMultipleContextProvider,\n    LegacyAuthProvider,\n    NotificationProvider,\n    AccessControlProvider,\n    AuditLogProvider,\n    DashboardPageProps,\n    IRefineOptions,\n    INotificationContext,\n    AuthBindings,\n} from \"../../../interfaces\";\nimport { RouterBindingsProvider } from \"../../../contexts/router\";\nimport { ResourceProps } from \"../../../interfaces/bindings/resource\";\nimport { RouterPickerProvider } from \"@contexts/router-picker\";\nimport { useRouterMisuseWarning } from \"../../../hooks/router/use-router-misuse-warning/index\";\n\nexport interface RefineProps {\n    children?: React.ReactNode;\n    /**\n     * `resources` is the predefined interaction points for a refine app. A resource represents an entity in an endpoint in the API.\n     * While this is not a required property, it is used in resource detection and creation of routes for the app.\n     * @type [`ResourceProps[]`](/docs/api-reference/core/components/refine-config/#resources)\n     */\n    resources?: ResourceProps[];\n    /**\n     * **refine** needs some router functions to create resource pages, handle navigation, etc. This provider allows you to use the router library you want\n     * @type [`IRouterProvider`](/docs/api-reference/core/providers/router-provider/)\n     * @deprecated This property is deprecated and was the legacy way of routing. Please use `routerProvider` with new router bindings instead.\n     */\n    legacyRouterProvider?: IRouterProvider;\n    /**\n     * Router bindings for **refine**. A simple interface for **refine** to interact with your router in a flexible way.\n     * @type [`RouterBindings`](/docs/api-reference/core/bindings/router/)\n     */\n    routerProvider?: RouterBindings;\n    /**\n     * A `dataProvider` is the place where a refine app communicates with an API. Data providers also act as adapters for refine, making it possible for it to consume different API's and data services.\n     * @type [`IDataContextProvider` | `IDataMultipleContextProvider`](/docs/api-reference/core/providers/data-provider/)\n     */\n    dataProvider: IDataContextProvider | IDataMultipleContextProvider;\n    /**\n     * `authProvider` handles authentication logic like login, logout flow and checking user credentials. It is an object with methods that refine uses when necessary.\n     * @type [`AuthBindings`](/docs/api-reference/core/providers/auth-provider/)\n     */\n    authProvider?: AuthBindings;\n    /**\n     * `legacyAuthProvider` handles authentication logic like login, logout flow and checking user credentials. It is an object with methods that refine uses when necessary.\n     * @type [`AuthProvider`](/docs/api-reference/core/providers/auth-provider/)\n     * @deprecated `legacyAuthProvider` is deprecated with refine@4, use `authProvider` instead.\n     */\n    legacyAuthProvider?: LegacyAuthProvider;\n    /**\n     * **refine** lets you add Realtime support to your app via `liveProvider`. It can be used to update and show data in Realtime throughout your app.\n     * @type [`ILiveContext`](/docs/api-reference/core/providers/live-provider/)\n     */\n    liveProvider?: ILiveContext;\n    /**\n     * `notificationProvider` handles notification logics. It is an object with methods that refine uses when necessary.\n     * @type [`NotificationProvider` | `(() => NotificationProvider)`](/docs/api-reference/core/providers/notification-provider/)\n     */\n    notificationProvider?: NotificationProvider | (() => NotificationProvider);\n    /**\n     * `accessControlProvider` is the entry point for implementing access control for refine apps.\n     * @type [`AccessControlProvider`](/docs/api-reference/core/providers/accessControl-provider/)\n     */\n    accessControlProvider?: AccessControlProvider;\n    /**\n     * **refine** allows you to track changes in your data and keep track of who made the changes.\n     * @type [`AuditLogProvider`](/docs/api-reference/core/providers/audit-log-provider#overview)\n     */\n    auditLogProvider?: AuditLogProvider;\n    /**\n     * `i18nProvider` property lets you add i18n support to your app. Making you able to use any i18n framework.\n     * @type [`i18nProvider`](/docs/api-reference/core/providers/i18n-provider/)\n     */\n    i18nProvider?: I18nProvider;\n    /**\n     * A custom error component.\n     * @type [`ReactNode`](/docs/api-reference/core/components/refine-config/#catchall)\n     * @deprecated Please use the `catchAll` element in your routes instead.\n     */\n    catchAll?: React.ReactNode;\n    /**\n     * Custom login component can be passed to the `LoginPage` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#loginpage)\n     * @deprecated Please use the `LoginPage` component in your routes instead.\n     */\n    LoginPage?: React.FC;\n    /**\n     * A custom dashboard page can be passed to the `DashboardPage` prop which is accessible on root route.\n     * @type [`React.FC<DashboardPageProps>`](/docs/api-reference/core/components/refine-config/#dashboardpage)\n     * @deprecated Please use the `DashboardPage` component in your routes instead.\n     */\n    DashboardPage?: React.FC<DashboardPageProps>;\n    /**\n     * Custom ready page component can be set by passing to `ReadyPage` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#readypage)\n     * @deprecated This component is only used with the legacy router and will be removed in the future.\n     */\n    ReadyPage?: React.FC;\n    /**\n     * Default layout can be customized by passing the `Layout` property.\n     * @type [`React.FC<LayoutProps>`](/docs/api-reference/core/components/refine-config/#layout)\n     * @deprecated Please use the `Layout` component as a children instead of a prop.\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * The default sidebar can be customized by using refine hooks and passing custom components to `Sider` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#sider)\n     * @deprecated Please pass the `Sider` component to your `Layout` component.\n     */\n    Sider?: React.FC;\n    /**\n     * The default app header can be customized by passing the `Header` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#header)\n     * @deprecated Please pass the `Header` component to your `Layout` component.\n     */\n    Header?: React.FC;\n    /**\n     *The default app footer can be customized by passing the `Footer` property.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#footer)\n     * @deprecated Please pass the `Footer` component to your `Layout` component.\n     */\n    Footer?: React.FC;\n    /**\n     * The component wanted to be placed out of app layout structure can be set by passing to `OffLayoutArea` prop.\n     * @type [`React.FC`](/docs/api-reference/core/components/refine-config/#offlayoutarea)\n     * @deprecated Please use your `OffLayoutArea` component as a children instead of a prop.\n     */\n    OffLayoutArea?: React.FC;\n    /**\n     * TThe app title can be set by passing the `Title` property.\n     * @type [`React.FC<TitleProps>`](/docs/api-reference/core/components/refine-config/#title)\n     * @deprecated Please pass the `Title` component to your `Layout` component.\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * Callback to handle all live events.\n     * @type [`(event: LiveEvent) => void`](/docs/api-reference/core/providers/live-provider/#onliveevent)\n     */\n    onLiveEvent?: LiveModeProps[\"onLiveEvent\"];\n    /**\n     * `options` is used to configure the app.\n     * @type [`IRefineOptions`](/docs/api-reference/core/components/refine-config/#options-1)\n     * */\n    options?: IRefineOptions;\n}\n\n/**\n * {@link https://refine.dev/docs/api-references/components/refine-config `<Refine> component`} is the entry point of a refine app.\n * It is where the highest level of configuration of the app occurs.\n * Only a dataProvider is required to bootstrap the app. After adding a dataProvider, resources can be added as property.\n *\n * @see {@link https://refine.dev/docs/api-references/components/refine-config} for more details.\n */\nexport const Refine: React.FC<RefineProps> = ({\n    legacyAuthProvider,\n    authProvider,\n    dataProvider,\n    legacyRouterProvider,\n    routerProvider,\n    notificationProvider,\n    accessControlProvider,\n    auditLogProvider,\n    resources,\n    DashboardPage,\n    ReadyPage,\n    LoginPage,\n    catchAll,\n    children,\n    liveProvider,\n    i18nProvider,\n    Title,\n    Layout,\n    Sider,\n    Header,\n    Footer,\n    OffLayoutArea,\n    onLiveEvent,\n    options,\n}) => {\n    const {\n        optionsWithDefaults,\n        disableTelemetryWithDefault,\n        reactQueryWithDefaults,\n    } = handleRefineOptions({\n        options,\n    });\n\n    const queryClient = useDeepMemo(() => {\n        if (reactQueryWithDefaults.clientConfig instanceof QueryClient) {\n            return reactQueryWithDefaults.clientConfig;\n        }\n\n        return new QueryClient({\n            ...reactQueryWithDefaults.clientConfig,\n            defaultOptions: {\n                ...reactQueryWithDefaults.clientConfig.defaultOptions,\n                queries: {\n                    refetchOnWindowFocus: false,\n                    keepPreviousData: true,\n                    ...reactQueryWithDefaults.clientConfig.defaultOptions\n                        ?.queries,\n                },\n            },\n        });\n    }, [reactQueryWithDefaults.clientConfig]);\n\n    const useNotificationProviderValues = React.useMemo(() => {\n        return typeof notificationProvider === \"function\"\n            ? notificationProvider\n            : () => notificationProvider ?? ({} as INotificationContext);\n    }, [notificationProvider]);\n\n    const notificationProviderContextValues = useNotificationProviderValues();\n\n    /**\n     * Warn our users if they are using the old way of routing in the wrong prop.\n     */\n    useRouterMisuseWarning(routerProvider);\n    /** */\n\n    /**\n     * `<ReadyPage />` is only used in the legacy routing and is not used in the new routing.\n     * If `legacyRouterProvider` is provided and `routerProvider` is not, we'll check for the `resources` prop to be empty.\n     * If `resources` is empty, then we'll render `<ReadyPage />` component.\n     */\n    if (\n        legacyRouterProvider &&\n        !routerProvider &&\n        (resources ?? []).length === 0\n    ) {\n        return ReadyPage ? <ReadyPage /> : <DefaultReadyPage />;\n    }\n\n    /** Router\n     *\n     * Handle routing from `RouterBindingsProvider` and `router` prop for the brand new way\n     * If `router` is not provided, then we'r checking for `routerProvider` prop\n     * If `routerProvider` is provided, then `RouterContextProvider` is used\n     * If none of them is provided, then `RouterBindingsProvider` is used because it supports undefined router\n     *\n     * `RouterContextProvider` is skipped whenever possible and by this way,\n     * we can achieve backward compability only when its provided by user\n     *\n     */\n    const { RouterComponent = React.Fragment } = !routerProvider\n        ? legacyRouterProvider ?? {}\n        : {};\n    /** */\n\n    return (\n        <QueryClientProvider client={queryClient}>\n            <NotificationContextProvider {...notificationProviderContextValues}>\n                <LegacyAuthContextProvider\n                    {...(legacyAuthProvider ?? {})}\n                    isProvided={Boolean(legacyAuthProvider)}\n                >\n                    <AuthBindingsContextProvider\n                        {...(authProvider ?? {})}\n                        isProvided={Boolean(authProvider)}\n                    >\n                        <DataContextProvider {...dataProvider}>\n                            <LiveContextProvider liveProvider={liveProvider}>\n                                <RouterPickerProvider\n                                    value={\n                                        legacyRouterProvider && !routerProvider\n                                            ? \"legacy\"\n                                            : \"new\"\n                                    }\n                                >\n                                    <RouterBindingsProvider\n                                        router={routerProvider}\n                                    >\n                                        <LegacyRouterContextProvider\n                                            {...legacyRouterProvider}\n                                        >\n                                            <ResourceContextProvider\n                                                resources={resources ?? []}\n                                            >\n                                                <TranslationContextProvider\n                                                    i18nProvider={i18nProvider}\n                                                >\n                                                    <AccessControlContextProvider\n                                                        {...(accessControlProvider ??\n                                                            {})}\n                                                    >\n                                                        <AuditLogContextProvider\n                                                            {...(auditLogProvider ??\n                                                                {})}\n                                                        >\n                                                            <UndoableQueueContextProvider>\n                                                                <RefineContextProvider\n                                                                    mutationMode={\n                                                                        optionsWithDefaults.mutationMode\n                                                                    }\n                                                                    warnWhenUnsavedChanges={\n                                                                        optionsWithDefaults.warnWhenUnsavedChanges\n                                                                    }\n                                                                    syncWithLocation={\n                                                                        optionsWithDefaults.syncWithLocation\n                                                                    }\n                                                                    Title={\n                                                                        Title\n                                                                    }\n                                                                    undoableTimeout={\n                                                                        optionsWithDefaults.undoableTimeout\n                                                                    }\n                                                                    catchAll={\n                                                                        catchAll\n                                                                    }\n                                                                    DashboardPage={\n                                                                        DashboardPage\n                                                                    }\n                                                                    LoginPage={\n                                                                        LoginPage\n                                                                    }\n                                                                    Layout={\n                                                                        Layout\n                                                                    }\n                                                                    Sider={\n                                                                        Sider\n                                                                    }\n                                                                    Footer={\n                                                                        Footer\n                                                                    }\n                                                                    Header={\n                                                                        Header\n                                                                    }\n                                                                    OffLayoutArea={\n                                                                        OffLayoutArea\n                                                                    }\n                                                                    hasDashboard={\n                                                                        !!DashboardPage\n                                                                    }\n                                                                    liveMode={\n                                                                        optionsWithDefaults.liveMode\n                                                                    }\n                                                                    onLiveEvent={\n                                                                        onLiveEvent\n                                                                    }\n                                                                    options={\n                                                                        optionsWithDefaults\n                                                                    }\n                                                                >\n                                                                    <UnsavedWarnContextProvider>\n                                                                        <RouterComponent>\n                                                                            {\n                                                                                children\n                                                                            }\n                                                                            {!disableTelemetryWithDefault && (\n                                                                                <Telemetry />\n                                                                            )}\n                                                                            <RouteChangeHandler />\n                                                                        </RouterComponent>\n                                                                    </UnsavedWarnContextProvider>\n                                                                </RefineContextProvider>\n                                                            </UndoableQueueContextProvider>\n                                                        </AuditLogContextProvider>\n                                                    </AccessControlContextProvider>\n                                                </TranslationContextProvider>\n                                            </ResourceContextProvider>\n                                        </LegacyRouterContextProvider>\n                                    </RouterBindingsProvider>\n                                </RouterPickerProvider>\n                            </LiveContextProvider>\n                        </DataContextProvider>\n                    </AuthBindingsContextProvider>\n                </LegacyAuthContextProvider>\n            </NotificationContextProvider>\n            {reactQueryWithDefaults.devtoolConfig === false ? null : (\n                <ReactQueryDevtools\n                    initialIsOpen={false}\n                    position=\"bottom-right\"\n                    {...reactQueryWithDefaults.devtoolConfig}\n                />\n            )}\n        </QueryClientProvider>\n    );\n};\n","import { useEffect } from \"react\";\n\nimport { useTelemetryData } from \"@hooks/useTelemetryData\";\n\nimport { ITelemetryData } from \"../../interfaces/telementry\";\n\nconst encode = (payload: ITelemetryData): string => {\n    const stringifyedPayload = JSON.stringify(payload || {});\n\n    if (typeof btoa !== \"undefined\") {\n        return btoa(stringifyedPayload);\n    }\n\n    return Buffer.from(stringifyedPayload).toString(\"base64\");\n};\n\nexport const Telemetry: React.FC<{}> = () => {\n    const payload = useTelemetryData();\n\n    useEffect(() => {\n        if (typeof window === \"undefined\" && !Image) {\n            return;\n        }\n\n        const img = new Image();\n        img.src = `https://telemetry.refine.dev/telemetry?payload=${encode(\n            payload,\n        )}`;\n    }, []);\n\n    return null;\n};\n","import { useContext } from \"react\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { LiveContext } from \"@contexts/live\";\nimport { RouterContext } from \"@contexts/legacy-router\";\nimport { DataContext } from \"@contexts/data\";\nimport { TranslationContext } from \"@contexts/translation\";\nimport { NotificationContext } from \"@contexts/notification\";\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { useResource } from \"@hooks/resource\";\n\nimport { ITelemetryData } from \"../../interfaces/telementry\";\nimport { useIsExistAuthentication } from \"..\";\n\n// It reads and updates from package.json during build. ref: tsup.config.ts\nconst REFINE_VERSION = \"4.1.2\";\n\nexport const useTelemetryData = (): ITelemetryData => {\n    const auth = useIsExistAuthentication();\n    const auditLogContext = useContext(AuditLogContext);\n    const liveContext = useContext(LiveContext);\n    const routerContext = useContext(RouterContext);\n    const dataContext = useContext(DataContext);\n    const { i18nProvider } = useContext(TranslationContext);\n    const notificationContext = useContext(NotificationContext);\n    const accessControlContext = useContext(AccessControlContext);\n    const { resources } = useResource();\n\n    const auditLog =\n        !!auditLogContext.create ||\n        !!auditLogContext.get ||\n        !!auditLogContext.update;\n\n    const live =\n        !!liveContext?.publish ||\n        !!liveContext?.subscribe ||\n        !!liveContext?.unsubscribe;\n\n    const router =\n        !!routerContext.useHistory ||\n        !!routerContext.Link ||\n        !!routerContext.Prompt ||\n        !!routerContext.useLocation ||\n        !!routerContext.useParams;\n\n    const data = !!dataContext;\n\n    const i18n =\n        !!i18nProvider?.changeLocale ||\n        !!i18nProvider?.getLocale ||\n        !!i18nProvider?.translate;\n\n    const notification =\n        !!notificationContext.close || !!notificationContext.open;\n\n    const accessControl = !!accessControlContext.can;\n\n    return {\n        providers: {\n            auth,\n            auditLog,\n            live,\n            router,\n            data,\n            i18n,\n            notification,\n            accessControl,\n        },\n        version: REFINE_VERSION,\n        resourceCount: resources.length,\n    };\n};\n","import { IRouterProvider, RouterBindings } from \"src/interfaces\";\n\nexport const checkRouterPropMisuse = (\n    value: IRouterProvider | RouterBindings,\n) => {\n    // check if `routerProvider` prop is passed with legacy properties.\n    // If yes, console.warn the user to use `legacyRuterProvider` prop instead.\n    const bindings = [\"go\", \"parse\", \"back\", \"Link\"];\n\n    // check if `value` contains properties other than `bindings`\n    const otherProps = Object.keys(value).filter(\n        (key) => !bindings.includes(key),\n    );\n\n    const hasOtherProps = otherProps.length > 0;\n\n    if (hasOtherProps) {\n        console.warn(\n            `Unsupported properties are found in \\`routerProvider\\` prop. You provided \\`${otherProps.join(\n                \", \",\n            )}\\`. Supported properties are \\`${bindings.join(\n                \", \",\n            )}\\`. You may wanted to use \\`legacyRouterProvider\\` prop instead.`,\n        );\n\n        return true;\n    }\n\n    return false;\n};\n","import { checkRouterPropMisuse } from \"@definitions/helpers/check-router-prop-misuse\";\nimport React from \"react\";\nimport { RouterBindings } from \"src/interfaces\";\n\nexport const useRouterMisuseWarning = (value?: RouterBindings) => {\n    const warned = React.useRef(false);\n\n    React.useEffect(() => {\n        if (warned.current === false) {\n            if (value) {\n                const warn = checkRouterPropMisuse(value);\n                if (warn) {\n                    warned.current = true;\n                }\n            }\n        }\n    }, [value]);\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport { ActionTypes } from \"@contexts/undoableQueue\";\nimport { useCancelNotification, useNotification, useTranslate } from \"@hooks\";\nimport { IUndoableQueue } from \"../../interfaces\";\n\nimport { userFriendlySecond } from \"@definitions/helpers\";\n\nexport const UndoableQueue: React.FC<{\n    notification: IUndoableQueue;\n}> = ({ notification }) => {\n    const translate = useTranslate();\n\n    const { notificationDispatch } = useCancelNotification();\n    const { open } = useNotification();\n\n    const [timeoutId, setTimeoutId] = useState<number | undefined>();\n\n    const cancelNotification = () => {\n        if (notification.isRunning === true) {\n            if (notification.seconds === 0) {\n                notification.doMutation();\n            }\n            if (!notification.isSilent) {\n                open?.({\n                    key: `${notification.id}-${notification.resource}-notification`,\n                    type: \"progress\",\n                    message: translate(\n                        \"notifications.undoable\",\n                        {\n                            seconds: userFriendlySecond(notification.seconds),\n                        },\n                        `You have ${userFriendlySecond(\n                            notification.seconds,\n                        )} seconds to undo`,\n                    ),\n                    cancelMutation: notification.cancelMutation,\n                    undoableTimeout: userFriendlySecond(notification.seconds),\n                });\n            }\n\n            if (notification.seconds > 0) {\n                if (timeoutId) {\n                    clearTimeout(timeoutId);\n                }\n\n                const newTimeoutId = setTimeout(() => {\n                    notificationDispatch({\n                        type: ActionTypes.DECREASE_NOTIFICATION_SECOND,\n                        payload: {\n                            id: notification.id,\n                            seconds: notification.seconds,\n                            resource: notification.resource,\n                        },\n                    });\n                }, 1000) as unknown as number;\n\n                setTimeoutId(newTimeoutId);\n            }\n        }\n    };\n\n    useEffect(() => {\n        cancelNotification();\n    }, [notification]);\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\n\nimport {\n    useRefineContext,\n    useRouterContext,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@hooks\";\nimport { LayoutProps, TitleProps } from \"../../interfaces\";\n\nexport interface LayoutWrapperProps {\n    /**\n     * Outer component that renders other components\n     * @default *\n     */\n    Layout?: React.FC<LayoutProps>;\n    /**\n     * [Custom sider to use](/api-reference/core/components/refine-config.md#sider)\n     * @default *\n     */\n    Sider?: React.FC;\n    /**\n     * [Custom header to use](/api-reference/core/components/refine-config.md#header)\n     * @default *\n     */\n    Header?: React.FC;\n    /**\n     * [Custom title to use](/api-reference/core/components/refine-config.md#title)\n     * @default *\n     */\n    Title?: React.FC<TitleProps>;\n    /**\n     * [Custom footer to use](/api-reference/core/components/refine-config.md#footer)\n     * @default *\n     */\n    Footer?: React.FC;\n    /**\n     * [Custom off layout area to use](/api-reference/core/components/refine-config.md#offlayoutarea)\n     * @default *\n     */\n    OffLayoutArea?: React.FC;\n    children: React.ReactNode;\n}\n\n/**\n * `<LayoutWrapper>` wraps its contents in **refine's** layout with all customizations made in {@link https://refine.dev/docs/core/components/refine-config `<Refine>`} component.\n * It is the default layout used in resource pages.\n * It can be used in custom pages to use global layout.\n *\n * @see {@link https://refine.dev/docs/core/components/layout-wrapper} for more details.\n *\n * @deprecated This component is obsolete and only works with the legacy router providers.\n */\nexport const LayoutWrapper: React.FC<LayoutWrapperProps> = ({\n    children,\n    Layout: LayoutFromProps,\n    Sider: SiderFromProps,\n    Header: HeaderFromProps,\n    Title: TitleFromProps,\n    Footer: FooterFromProps,\n    OffLayoutArea: OffLayoutAreaFromProps,\n}) => {\n    const { Layout, Footer, Header, Sider, Title, OffLayoutArea } =\n        useRefineContext();\n\n    const LayoutToRender = LayoutFromProps ?? Layout;\n\n    return (\n        <LayoutToRender\n            Sider={SiderFromProps ?? Sider}\n            Header={HeaderFromProps ?? Header}\n            Footer={FooterFromProps ?? Footer}\n            Title={TitleFromProps ?? Title}\n            OffLayoutArea={OffLayoutAreaFromProps ?? OffLayoutArea}\n        >\n            {children}\n            <UnsavedPrompt />\n        </LayoutToRender>\n    );\n};\n\nconst UnsavedPrompt: React.FC = () => {\n    const { Prompt } = useRouterContext();\n\n    const translate = useTranslate();\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n\n    const warnWhenListener = (e: {\n        preventDefault: () => void;\n        returnValue: string;\n    }) => {\n        e.preventDefault();\n\n        e.returnValue = translate(\n            \"warnWhenUnsavedChanges\",\n            \"Are you sure you want to leave? You have unsaved changes.\",\n        );\n\n        return e.returnValue;\n    };\n\n    useEffect(() => {\n        if (warnWhen) {\n            window.addEventListener(\"beforeunload\", warnWhenListener);\n        }\n\n        return window.removeEventListener(\"beforeunload\", warnWhenListener);\n    }, [warnWhen]);\n\n    return (\n        <Prompt\n            when={warnWhen}\n            message={translate(\n                \"warnWhenUnsavedChanges\",\n                \"Are you sure you want to leave? You have unsaved changes.\",\n            )}\n            setWarnWhen={setWarnWhen}\n        />\n    );\n};\n","import React from \"react\";\n\nimport {\n    useGo,\n    useNavigation,\n    useParsed,\n    useRouterContext,\n    useRouterType,\n    useIsAuthenticated,\n} from \"@hooks\";\nimport { useActiveAuthProvider } from \"@definitions/index\";\nimport { GoConfig } from \"src/interfaces\";\n\n/**\n * This hook is used to avoid React's invalid setState call warning.\n * When `go` is called during the render phase, it's updating the internal router state before the render phase is finished.\n * This causes React to throw an error. This hook is used to defer the `go` call to the effect calls.\n */\nconst useDeferredGo = () => {\n    const go = useGo();\n\n    const [config, setConfig] = React.useState<GoConfig | undefined>(undefined);\n\n    React.useEffect(() => {\n        if (config) {\n            go(config);\n        }\n    }, [config]);\n\n    const cb = React.useCallback(\n        (props: GoConfig) => {\n            if (!config) {\n                setConfig(props);\n            }\n        },\n        [config],\n    );\n\n    return cb;\n};\n\nexport type AuthenticatedCommonProps = {\n    /**\n     * Whether to redirect user if not logged in or not.\n     * If not set, user will be redirected to `redirectTo` property of the `check` function's response.\n     * This behavior is only available for new auth providers.\n     * Legacy auth providers will redirect to `/login` by default if this property is not set.\n     * If set to a string, user will be redirected to that string.\n     *\n     * This property only works if `fallback` is **not set**.\n     */\n    redirectOnFail?: string | true;\n    /**\n     * Whether to append current path to search params of the redirect url at `to` property.\n     *\n     * By default, `to` parameter is used by successful invocations of the `useLogin` hook.\n     * If `to` present, it will be used as the redirect url after successful login.\n     */\n    appendCurrentPathToQuery?: boolean;\n    /**\n     * Content to show if user is not logged in.\n     */\n    fallback?: React.ReactNode;\n    /**\n     * Content to show while checking whether user is logged in or not.\n     */\n    loading?: React.ReactNode;\n    /**\n     * Content to show if user is logged in\n     */\n    children?: React.ReactNode;\n};\n\nexport type LegacyAuthenticatedProps = {\n    v3LegacyAuthProviderCompatible: true;\n} & AuthenticatedCommonProps;\n\nexport type AuthenticatedProps = {\n    v3LegacyAuthProviderCompatible?: false;\n} & AuthenticatedCommonProps;\n\nexport function Authenticated(\n    props: LegacyAuthenticatedProps,\n): JSX.Element | null;\n\nexport function Authenticated(props: AuthenticatedProps): JSX.Element | null;\n\n/**\n * `<Authenticated>` is the component form of {@link https://refine.dev/docs/core/hooks/auth/useAuthenticated `useAuthenticated`}. It internally uses `useAuthenticated` to provide it's functionality.\n *\n * @see {@link https://refine.dev/docs/core/components/auth/authenticated `<Authenticated>`} component for more details.\n */\nexport function Authenticated({\n    redirectOnFail = true,\n    appendCurrentPathToQuery = true,\n    children,\n    fallback: fallbackContent,\n    loading: loadingContent,\n}: AuthenticatedProps | LegacyAuthenticatedProps): JSX.Element | null {\n    const activeAuthProvider = useActiveAuthProvider();\n\n    const isLegacy = Boolean(activeAuthProvider?.isLegacy);\n\n    const isAuthenticatedProps = useIsAuthenticated({\n        v3LegacyAuthProviderCompatible: Boolean(activeAuthProvider?.isLegacy),\n    });\n\n    const routerType = useRouterType();\n    const parsed = useParsed();\n    const go = useGo();\n    const deferredGo = useDeferredGo();\n    const { replace } = useNavigation();\n    const { useLocation } = useRouterContext();\n    const { pathname, search } = useLocation();\n\n    const loading = isAuthenticatedProps.isLoading;\n\n    const isAuthenticated = activeAuthProvider?.isProvided\n        ? isLegacy\n            ? isAuthenticatedProps.isSuccess\n            : isAuthenticatedProps.data?.authenticated\n        : true;\n\n    const appliedRedirect = isLegacy\n        ? typeof redirectOnFail === \"string\"\n            ? redirectOnFail\n            : \"/login\"\n        : typeof redirectOnFail === \"string\"\n        ? redirectOnFail\n        : (isAuthenticatedProps.data?.redirectTo as string | undefined);\n\n    if (loading) {\n        return loadingContent ? <>{loadingContent}</> : null;\n    }\n\n    if (isAuthenticated) {\n        return <>{children ?? null}</>;\n    } else {\n        if (typeof fallbackContent === \"undefined\") {\n            if (routerType === \"legacy\") {\n                const suffix = appendCurrentPathToQuery\n                    ? pathname\n                        ? `?to=${encodeURIComponent(\n                              `${pathname}${search ?? \"\"}`,\n                          )}`\n                        : \"\"\n                    : \"\";\n\n                /**\n                 * Legacy provider handles `/login` path rendering.\n                 * So, we need to check if pathname is `/login` or not.\n                 * To avoid infinite loop.\n                 */\n                const cleanPathname = pathname?.split(/[?#]/)[0];\n                if (\n                    !cleanPathname?.includes(\"/login\") &&\n                    cleanPathname !== redirectOnFail\n                ) {\n                    replace(\n                        `/${(appliedRedirect ?? \"/login\").replace(\n                            /^\\//,\n                            \"\",\n                        )}${suffix}`,\n                    );\n                }\n            } else {\n                const cleanPathname = parsed.pathname?.split(/[?#]/)[0];\n\n                /** If the route is same, do not redirect */\n                if (cleanPathname === appliedRedirect) return null;\n\n                /** If `to` is already present, do not append the new one. */\n                const suffix = parsed.params?.to\n                    ? parsed.params?.to\n                    : go({\n                          to: parsed.pathname || \"/\",\n                          options: { keepQuery: true },\n                          type: \"path\",\n                      });\n\n                if (appliedRedirect) {\n                    deferredGo({\n                        // needs to be adjusted by the return value of `checkAuth`\n                        to: `/${appliedRedirect.replace(/^\\//, \"\")}`,\n                        query:\n                            suffix &&\n                            typeof suffix === \"string\" &&\n                            suffix.length > 1\n                                ? {\n                                      to: suffix,\n                                  }\n                                : {},\n                    });\n                }\n            }\n\n            return null;\n        }\n\n        return <>{fallbackContent}</>;\n    }\n}\n","import { useEffect } from \"react\";\nimport { useRouterContext } from \"@hooks\";\nimport { useLegacyAuthContext } from \"@contexts/auth\";\n\nexport const RouteChangeHandler: React.FC = () => {\n    const { useLocation } = useRouterContext();\n\n    const { checkAuth } = useLegacyAuthContext();\n    const location = useLocation();\n\n    useEffect(() => {\n        checkAuth?.().catch(() => false);\n    }, [location?.pathname]);\n\n    return null;\n};\n","import React from \"react\";\n\nimport { useCan } from \"@hooks\";\nimport { CanParams } from \"../../interfaces\";\n\nexport type CanAccessProps = CanParams & {\n    /**\n     * Content to show if access control returns `false`\n     */\n    fallback?: React.ReactNode;\n    children: React.ReactNode;\n};\n\nexport const CanAccess: React.FC<CanAccessProps> = ({\n    resource,\n    action,\n    params,\n    fallback,\n    children,\n    ...rest\n}) => {\n    const { data } = useCan({\n        resource,\n        action,\n        params,\n    });\n\n    if (data?.can) {\n        if (React.isValidElement(children)) {\n            const Children = React.cloneElement(children, rest);\n            return Children;\n        }\n\n        return <>{children}</>;\n    }\n\n    if (data?.can === false) {\n        return <>{fallback ?? null}</>;\n    }\n\n    return null;\n};\n","import React, { useEffect } from \"react\";\nimport { CSSRules } from \"./styles\";\n\nexport const GitHubBanner = () => {\n    useEffect(() => {\n        const styleTag = document.createElement(\"style\");\n        document.head.appendChild(styleTag);\n        CSSRules.forEach((rule) =>\n            styleTag.sheet?.insertRule(rule, styleTag.sheet.cssRules.length),\n        );\n    }, []);\n\n    return (\n        <div\n            className=\"banner\"\n            style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                position: \"relative\",\n                padding: \"8px 16px\",\n                backgroundColor: \"#0d0d0d\",\n                borderBottom: \"1px solid rgba(255, 255, 255, 0.15)\",\n            }}\n        >\n            <a\n                className=\"gh-link\"\n                href=\"https://s.refine.dev/github-support\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n            >\n                <div\n                    className=\"content\"\n                    style={{\n                        position: \"relative\",\n                        zIndex: 2,\n                        color: \"#fff\",\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        gap: \"8px\",\n                    }}\n                >\n                    <span\n                        className=\"wizard\"\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"row\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\",\n                            width: \"32px\",\n                            height: \"32px\",\n                            fontSize: \"32px\",\n                            lineHeight: \"32px\",\n                        }}\n                    >\n                        🧙‍♂️\n                    </span>\n                    <span\n                        className=\"text\"\n                        style={{\n                            padding: \"4px 0\",\n                            fontSize: \"16px\",\n                            lineHeight: \"24px\",\n                            textShadow: \"0px 0px 4px rgba(255, 255, 255, 0.5)\",\n                        }}\n                    >\n                        Refine grants your wishes! Please give us a ⭐️ on\n                        GitHub to keep the magic going.\n                    </span>\n                </div>\n            </a>\n        </div>\n    );\n};\n","export const CSSRules = [\n    `\n    .banner::before,\n    .banner::after {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n    `,\n    `\n    .banner::before {\n        background-image: linear-gradient(\n            270deg,\n            rgba(255, 76, 77, 0.35) 0%,\n            rgba(255, 153, 51, 0.35) 12.5%,\n            rgba(255, 191, 0, 0.35) 25%,\n            rgba(38, 217, 127, 0.35) 37.5%,\n            rgba(71, 235, 235, 0.35) 50%,\n            rgba(0, 128, 255, 0.35) 62.5%,\n            rgba(51, 51, 255, 0.35) 75%,\n            rgba(128, 0, 255, 0.35) 87.5%,\n            rgba(237, 94, 201, 0.35) 100%\n        );\n        background-position: 0 0;\n        background-size: 200% 100%;\n        background-repeat: repeat-x;\n        animation: bgpos 4s linear infinite;\n      }\n    `,\n    `\n    .banner::after {\n        background: linear-gradient(\n          180deg,\n          rgba(13, 13, 13, 0.85) 0%,\n          rgba(13, 13, 13, 0) 100%\n        );\n    }\n    `,\n    `\n    @keyframes bgpos {\n        0% {\n            background-position: 0 0;\n        }\n\n        100% {\n            background-position: -200% 0;\n        }\n    }\n    `,\n    `\n    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {\n        text-decoration: none;\n        z-index: 9;\n    }\n    `,\n];\n","export { useTable } from \"./useTable\";\nexport type { UseTableProps, UseTableReturnType } from \"./useTable\";\n","import { useEffect } from \"react\";\nimport {\n    BaseRecord,\n    CrudOperators,\n    HttpError,\n    LogicalFilter,\n    useTable as useTableCore,\n    useTableProps as useTablePropsCore,\n    useTableReturnType as useTableReturnTypeCore,\n} from \"@refinedev/core\";\nimport {\n    useReactTable,\n    TableOptions,\n    Table,\n    getCoreRowModel,\n} from \"@tanstack/react-table\";\n\nexport type UseTableReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = Table<TData> & {\n    refineCore: useTableReturnTypeCore<TData, TError>;\n};\n\nexport type UseTableProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n> = {\n    /**\n     * Configuration object for the core of the [useTable](/docs/api-reference/core/hooks/useTable/)\n     * @type [`useTablePropsCore<TData, TError>`](/docs/api-reference/core/hooks/useTable/#properties)\n     */\n    refineCoreProps?: useTablePropsCore<TData, TError>;\n} & Pick<TableOptions<TData>, \"columns\"> &\n    Partial<Omit<TableOptions<TData>, \"columns\">>;\n\nexport function useTable<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n>({\n    refineCoreProps: { hasPagination = true, ...refineCoreProps } = {},\n    initialState: reactTableInitialState = {},\n    ...rest\n}: UseTableProps<TData, TError>): UseTableReturnType<TData, TError> {\n    const useTableResult = useTableCore<TData, TError>({\n        ...refineCoreProps,\n        hasPagination,\n    });\n\n    const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n    const isPaginationEnabled =\n        (refineCoreProps.pagination?.mode ?? hasPaginationString) !== \"off\";\n\n    const {\n        tableQueryResult: { data },\n        current,\n        setCurrent,\n        pageSize: pageSizeCore,\n        setPageSize: setPageSizeCore,\n        sorters,\n        setSorters,\n        filters: filtersCore,\n        setFilters,\n        pageCount,\n    } = useTableResult;\n\n    const logicalFilters: LogicalFilter[] = [];\n    filtersCore.map((filter) => {\n        if (\n            filter.operator !== \"or\" &&\n            filter.operator !== \"and\" &&\n            \"field\" in filter\n        ) {\n            logicalFilters.push(filter);\n        }\n    });\n\n    const reactTableResult = useReactTable<TData>({\n        getCoreRowModel: getCoreRowModel(),\n        data: data?.data ?? [],\n        initialState: {\n            pagination: {\n                pageIndex: current - 1,\n                pageSize: pageSizeCore,\n            },\n            sorting: sorters.map((sorting) => ({\n                id: sorting.field,\n                desc: sorting.order === \"desc\",\n            })),\n            columnFilters: logicalFilters.map((filter) => ({\n                id: filter.field,\n                value: filter.value,\n            })),\n            ...reactTableInitialState,\n        },\n        pageCount,\n        manualPagination: true,\n        manualSorting: true,\n        manualFiltering: true,\n        ...rest,\n    });\n\n    const { state, columns } = reactTableResult.options;\n    const { pagination, sorting, columnFilters } = state;\n\n    const { pageIndex, pageSize } = pagination ?? {};\n\n    useEffect(() => {\n        if (pageIndex !== undefined) {\n            setCurrent(pageIndex + 1);\n        }\n    }, [pageIndex]);\n\n    useEffect(() => {\n        if (pageSize !== undefined) {\n            setPageSizeCore(pageSize);\n        }\n    }, [pageSize]);\n\n    useEffect(() => {\n        if (sorting !== undefined) {\n            setSorters(\n                sorting?.map((sorting) => ({\n                    field: sorting.id,\n                    order: sorting.desc ? \"desc\" : \"asc\",\n                })),\n            );\n\n            if (sorting.length > 0 && isPaginationEnabled) {\n                setCurrent(1);\n            }\n        }\n    }, [sorting]);\n\n    useEffect(() => {\n        const crudFilters: LogicalFilter[] = [];\n\n        columnFilters?.map((filter) => {\n            const operator = (columns.find((c) => c.id === filter.id) as any)\n                ?.meta?.filterOperator as Exclude<CrudOperators, \"or\" | \"and\">;\n\n            crudFilters.push({\n                field: filter.id,\n                operator:\n                    operator ?? (Array.isArray(filter.value) ? \"in\" : \"eq\"),\n                value: filter.value,\n            });\n        });\n\n        const filteredArray = logicalFilters.filter(\n            (value) =>\n                !crudFilters.some(\n                    (b) =>\n                        value.field === b.field &&\n                        value.operator === b.operator,\n                ),\n        );\n\n        filteredArray?.map((filter) => {\n            crudFilters.push({\n                field: filter.field,\n                operator: filter.operator,\n                value: undefined,\n            });\n        });\n\n        setFilters(crudFilters);\n\n        if (crudFilters.length > 0 && isPaginationEnabled) {\n            setCurrent(1);\n        }\n    }, [columnFilters]);\n\n    return {\n        ...reactTableResult,\n        refineCore: useTableResult,\n    };\n}\n","export { useForm, UseFormProps, UseFormReturnType } from \"./useForm\";\nexport {\n    useStepsForm,\n    UseStepsFormProps,\n    UseStepsFormReturnType,\n} from \"./useStepsForm\";\nexport {\n    useModalForm,\n    UseModalFormProps,\n    UseModalFormReturnType,\n} from \"./useModalForm\";\n","import React, { useEffect } from \"react\";\nimport {\n    useForm as useHookForm,\n    UseFormProps as UseHookFormProps,\n    UseFormReturn,\n    FieldValues,\n    UseFormHandleSubmit,\n    SubmitHandler,\n    SubmitErrorHandler,\n} from \"react-hook-form\";\nimport {\n    BaseRecord,\n    HttpError,\n    useForm as useFormCore,\n    useWarnAboutChange,\n    UseFormProps as UseFormCoreProps,\n    UseFormReturnType as UseFormReturnTypeCore,\n} from \"@refinedev/core\";\n\nexport type UseFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturn<TVariables, TContext> & {\n    refineCore: UseFormReturnTypeCore<TData, TError, TVariables>;\n    saveButtonProps: {\n        disabled: boolean;\n        onClick: (e: React.BaseSyntheticEvent) => void;\n    };\n};\n\nexport type UseFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = {\n    /**\n     * Configuration object for the core of the [useForm](/docs/api-reference/core/hooks/useForm/)\n     * @type [`UseFormCoreProps<TData, TError, TVariables>`](/docs/api-reference/core/hooks/useForm/#properties)\n     */\n    refineCoreProps?: UseFormCoreProps<TData, TError, TVariables>;\n    /**\n     * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n     * @default `false*`\n     */\n    warnWhenUnsavedChanges?: boolean;\n} & UseHookFormProps<TVariables, TContext>;\n\nexport const useForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    refineCoreProps,\n    warnWhenUnsavedChanges: warnWhenUnsavedChangesProp,\n    ...rest\n}: UseFormProps<TData, TError, TVariables, TContext> = {}): UseFormReturnType<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> => {\n    const {\n        warnWhenUnsavedChanges: warnWhenUnsavedChangesRefine,\n        setWarnWhen,\n    } = useWarnAboutChange();\n    const warnWhenUnsavedChanges =\n        warnWhenUnsavedChangesProp ?? warnWhenUnsavedChangesRefine;\n\n    const useFormCoreResult = useFormCore<TData, TError, TVariables>({\n        ...refineCoreProps,\n    });\n\n    const { queryResult, onFinish, formLoading } = useFormCoreResult;\n\n    const useHookFormResult = useHookForm<TVariables, TContext>({\n        ...rest,\n    });\n\n    const {\n        watch,\n        reset,\n        getValues,\n        handleSubmit: handleSubmitReactHookForm,\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (typeof queryResult?.data !== \"undefined\") {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data || {}).forEach(\n                ([key, value]) => {\n                    if (registeredFields.includes(key)) {\n                        fields[key] = value;\n                    }\n                },\n            );\n\n            reset(fields as any);\n        }\n    }, [queryResult?.data]);\n\n    useEffect(() => {\n        const subscription = watch((values: any, { type }: { type?: any }) => {\n            if (type === \"change\") {\n                onValuesChange(values);\n            }\n        });\n        return () => subscription.unsubscribe();\n    }, [watch]);\n\n    const onValuesChange = (changeValues: Record<string, any>) => {\n        if (warnWhenUnsavedChanges) {\n            setWarnWhen(true);\n        }\n        return changeValues;\n    };\n\n    const handleSubmit: UseFormHandleSubmit<TVariables> =\n        (onValid, onInvalid) => async (e) => {\n            setWarnWhen(false);\n            return await handleSubmitReactHookForm(onValid, onInvalid)(e);\n        };\n\n    const saveButtonProps = {\n        disabled: formLoading,\n        onClick: (e: React.BaseSyntheticEvent) => {\n            handleSubmit(onFinish, () => false)(e);\n        },\n    };\n\n    return {\n        ...useHookFormResult,\n        handleSubmit,\n        refineCore: useFormCoreResult,\n        saveButtonProps,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport { BaseRecord, HttpError } from \"@refinedev/core\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\n\nexport type UseStepsFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    steps: {\n        currentStep: number;\n        gotoStep: (step: number) => void;\n    };\n};\n\nexport type UseStepsFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the steps.\n     * `defaultStep`: Allows you to set the initial step.\n     * \n     * `isBackValidate`: Whether to validation the current step when going back.\n     * @type `{\n      defaultStep?: number;\n      isBackValidate?: boolean;\n      }`\n     * @default `defaultStep = 0` `isBackValidate = false`\n     */\n    stepsProps?: {\n        defaultStep?: number;\n        isBackValidate?: boolean;\n    };\n};\n\nexport const useStepsForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    stepsProps,\n    ...rest\n}: UseStepsFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseStepsFormReturnType<TData, TError, TVariables, TContext> => {\n    const { defaultStep = 0, isBackValidate = false } = stepsProps ?? {};\n    const [current, setCurrent] = useState(defaultStep);\n\n    const useHookFormResult = useForm({\n        ...rest,\n    });\n    const {\n        trigger,\n        getValues,\n        reset,\n        formState: { dirtyFields },\n        refineCore: { queryResult },\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (queryResult?.data) {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data).forEach(([key, value]) => {\n                if (registeredFields.includes(key)) {\n                    if (dirtyFields[key]) {\n                        fields[key] = getValues(key as any);\n                    } else {\n                        fields[key] = value;\n                    }\n                }\n            });\n\n            reset(fields as any, {\n                keepDirty: true,\n                keepValues: true,\n            });\n        }\n    }, [queryResult?.data, current]);\n\n    const go = (step: number) => {\n        let targetStep = step;\n\n        if (step < 0) {\n            targetStep = 0;\n        }\n\n        setCurrent(targetStep);\n    };\n\n    const gotoStep = async (step: number) => {\n        if (step === current) {\n            return;\n        }\n\n        if (step < current && !isBackValidate) {\n            go(step);\n            return;\n        }\n\n        const isValid = await trigger();\n        if (isValid) {\n            go(step);\n        }\n    };\n\n    return {\n        ...useHookFormResult,\n        steps: {\n            currentStep: current,\n            gotoStep,\n        },\n    };\n};\n","import { useCallback } from \"react\";\nimport {\n    BaseKey,\n    BaseRecord,\n    FormWithSyncWithLocationParams,\n    HttpError,\n    useGo,\n    useModal,\n    useParsed,\n    useResource,\n    userFriendlyResourceName,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@refinedev/core\";\nimport { FieldValues } from \"react-hook-form\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\nimport React from \"react\";\n\nexport type UseModalFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    modal: {\n        submit: (values: TVariables) => void;\n        close: () => void;\n        show: (id?: BaseKey) => void;\n        visible: boolean;\n        title: string;\n    };\n};\n\nexport type UseModalFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the modal.\n     * `defaultVisible`: Initial visibility state of the modal.\n     * \n     * `autoSubmitClose`: Whether the form should be submitted when the modal is closed.\n     * \n     * `autoResetForm`: Whether the form should be reset when the form is submitted.\n     * @type `{\n      defaultVisible?: boolean;\n      autoSubmitClose?: boolean;\n      autoResetForm?: boolean;\n      }`\n     * @default `defaultVisible = false` `autoSubmitClose = true` `autoResetForm = true`\n     */\n    modalProps?: {\n        defaultVisible?: boolean;\n        autoSubmitClose?: boolean;\n        autoResetForm?: boolean;\n    };\n} & FormWithSyncWithLocationParams;\n\nexport const useModalForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    modalProps,\n    refineCoreProps,\n    syncWithLocation,\n    ...rest\n}: UseModalFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseModalFormReturnType<TData, TError, TVariables, TContext> => {\n    const initiallySynced = React.useRef(false);\n\n    const translate = useTranslate();\n\n    const { resource: resourceProp, action: actionProp } =\n        refineCoreProps ?? {};\n\n    const { resource, action: actionFromParams } = useResource(resourceProp);\n\n    const parsed = useParsed();\n    const go = useGo();\n\n    const action = actionProp ?? actionFromParams ?? \"\";\n\n    const syncingId =\n        typeof syncWithLocation === \"object\" && syncWithLocation.syncId;\n\n    const syncWithLocationKey =\n        typeof syncWithLocation === \"object\" && \"key\" in syncWithLocation\n            ? syncWithLocation.key\n            : resource && action && syncWithLocation\n            ? `modal-${resource?.identifier ?? resource?.name}-${action}`\n            : undefined;\n\n    const {\n        defaultVisible = false,\n        autoSubmitClose = true,\n        autoResetForm = true,\n    } = modalProps ?? {};\n\n    const useHookFormResult = useForm<TData, TError, TVariables, TContext>({\n        refineCoreProps,\n        ...rest,\n    });\n\n    const {\n        reset,\n        refineCore: { onFinish, id, setId },\n        saveButtonProps,\n        handleSubmit,\n    } = useHookFormResult;\n\n    const { visible, show, close } = useModal({\n        defaultVisible,\n    });\n\n    React.useEffect(() => {\n        if (initiallySynced.current === false && syncWithLocationKey) {\n            const openStatus = parsed?.params?.[syncWithLocationKey]?.open;\n            if (typeof openStatus === \"boolean\") {\n                if (openStatus) {\n                    show();\n                }\n            } else if (typeof openStatus === \"string\") {\n                if (openStatus === \"true\") {\n                    show();\n                }\n            }\n\n            if (syncingId) {\n                const idFromParams = parsed?.params?.[syncWithLocationKey]?.id;\n                if (idFromParams) {\n                    setId?.(idFromParams);\n                }\n            }\n\n            initiallySynced.current = true;\n        }\n    }, [syncWithLocationKey, parsed, syncingId, setId]);\n\n    React.useEffect(() => {\n        if (initiallySynced.current === true) {\n            if (visible && syncWithLocationKey) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: {\n                            ...parsed?.params?.[syncWithLocationKey],\n                            open: true,\n                            ...(syncingId && id && { id }),\n                        },\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            } else if (syncWithLocationKey && !visible) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: undefined,\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            }\n        }\n    }, [id, visible, show, syncWithLocationKey, syncingId]);\n\n    const submit = async (values: TVariables) => {\n        await onFinish(values);\n\n        if (autoSubmitClose) {\n            close();\n        }\n\n        if (autoResetForm) {\n            reset();\n        }\n    };\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n    const handleClose = useCallback(() => {\n        if (warnWhen) {\n            const warnWhenConfirm = window.confirm(\n                translate(\n                    \"warnWhenUnsavedChanges\",\n                    \"Are you sure you want to leave? You have unsaved changes.\",\n                ),\n            );\n\n            if (warnWhenConfirm) {\n                setWarnWhen(false);\n            } else {\n                return;\n            }\n        }\n\n        setId?.(undefined);\n        close();\n    }, [warnWhen]);\n\n    const handleShow = useCallback((id?: BaseKey) => {\n        setId?.(id);\n\n        show();\n    }, []);\n\n    const title = translate(\n        `${resource?.name}.titles.${actionProp}`,\n        undefined,\n        `${userFriendlyResourceName(\n            `${actionProp} ${\n                resource?.meta?.label ??\n                resource?.options?.label ??\n                resource?.label ??\n                resource?.name\n            }`,\n            \"singular\",\n        )}`,\n    );\n\n    return {\n        modal: {\n            submit,\n            close: handleClose,\n            show: handleShow,\n            visible,\n            title,\n        },\n        ...useHookFormResult,\n        saveButtonProps: {\n            ...saveButtonProps,\n            onClick: (e) => handleSubmit(submit)(e),\n        },\n    };\n};\n","import React from \"react\";\nimport { useResource } from \"@refinedev/core\";\n\nimport { ShowInferencer } from \"./show\";\nimport { ListInferencer } from \"./list\";\nimport { CreateInferencer } from \"./create\";\nimport { EditInferencer } from \"./edit\";\n\nimport type { InferencerComponentProps } from \"../../types\";\n\nconst HeadlessInferencer: React.FC<InferencerComponentProps> = ({\n    action: actionFromProps,\n    id: idFromProps,\n    ...props\n}) => {\n    const { action, id } = useResource();\n\n    switch (actionFromProps ?? action) {\n        case \"show\":\n            return <ShowInferencer {...props} id={idFromProps ?? id} />;\n        case \"create\":\n            return <CreateInferencer {...props} id={idFromProps ?? id} />;\n        case \"edit\":\n            return <EditInferencer {...props} id={idFromProps ?? id} />;\n        default:\n            return <ListInferencer {...props} id={idFromProps ?? id} />;\n    }\n};\n\nexport { HeadlessInferencer };\nexport {\n    ListInferencer as HeadlessListInferencer,\n    renderer as HeadlessListRenderer,\n} from \"./list\";\nexport {\n    ShowInferencer as HeadlessShowInferencer,\n    renderer as HeadlessShowRenderer,\n} from \"./show\";\nexport {\n    EditInferencer as HeadlessEditInferencer,\n    renderer as HeadlessEditRenderer,\n} from \"./edit\";\nexport {\n    CreateInferencer as HeadlessCreateInferencer,\n    renderer as HeadlessCreateRenderer,\n} from \"./create\";\nexport * from \"../../types\";\n","import React from \"react\";\nimport { useResource } from \"@refinedev/core\";\n\nimport {\n    CreateInferencer,\n    InferencerComponentProps,\n    InferencerResultComponent,\n    InferField,\n} from \"@/types\";\n\nimport { composeInferencers } from \"@/compose-inferencers\";\nimport { composeTransformers } from \"@/compose-transformers\";\n\nimport { defaultElements } from \"@/field-inferencers\";\nimport { defaultTransformers } from \"@/field-transformers\";\nimport { LiveComponent } from \"@/components\";\nimport { useInferFetch } from \"@/use-infer-fetch\";\nimport { useRelationFetch } from \"@/use-relation-fetch\";\n\nimport { prepareLiveCode, componentName, removeHiddenCode } from \"@/utilities\";\n\n/**\n * CreateInferencer is a function that creates a Inferencer component.\n *\n * Inferencer will handle the data fetching and the infering parts,\n * then it will invoke the `renderer` function to generate the code.\n * The generated code will be used to render the component by `react-live`.\n * Its required to havee`additionalScope` prop when using packages other than `react` and `@refinedev/core`.\n *\n * @param config - Inferencer configuration.\n * @param config.type - Infering type.\n * @param config.additionalScope - Additional scope for live code.\n * @param config.renderer - String renderer for Inferencer.\n * @param config.fieldTransformers - Field transformers.\n * @param config.customElements - Field inferencers.\n * @param config.codeViewerComponent - Code viewer component.\n * @param config.errorComponent - Error component.\n * @param config.loadingComponent - Loading component.\n */\nexport const createInferencer: CreateInferencer = ({\n    type,\n    additionalScope = [],\n    customElements = [],\n    fieldTransformers = [],\n    renderer,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    codeViewerComponent: CodeViewerComponent,\n}) => {\n    const infer = composeInferencers([...defaultElements, ...customElements]);\n    const transform = composeTransformers([\n        ...defaultTransformers,\n        ...fieldTransformers,\n    ]);\n\n    const Inferencer = ({\n        resourceName,\n        fieldTransformer,\n        id,\n    }: {\n        resourceName?: string;\n        fieldTransformer?: InferencerComponentProps[\"fieldTransformer\"];\n        id?: string | number;\n    }) => {\n        const { resource, resources } = useResource(resourceName);\n\n        const { resource: resourceFromURL } = useResource();\n\n        const {\n            data: record,\n            loading: recordLoading,\n            initial: isInitialLoad,\n            error: inferError,\n        } = useInferFetch(type, resourceName ?? resource?.name, id);\n\n        const rawResults: InferField[] = React.useMemo(() => {\n            if (record) {\n                const inferred = Object.keys(record)\n                    .map((key) => {\n                        const value = record[key];\n\n                        const inferResult = infer(key, value, record, infer);\n\n                        return inferResult;\n                    })\n                    .filter(Boolean);\n\n                if (resource) {\n                    const transformed = transform(\n                        inferred as InferField[],\n                        resources,\n                        resource,\n                        record,\n                        infer,\n                    );\n\n                    const customTransformedFields = fieldTransformer\n                        ? transformed.flatMap((field) => {\n                              const result = fieldTransformer(field);\n\n                              return result ? [result] : [];\n                          })\n                        : transformed;\n\n                    return customTransformedFields;\n                }\n\n                return [];\n            }\n\n            return [];\n        }, [record, resources, resource, fieldTransformer]);\n\n        const {\n            fields: results,\n            loading: relationLoading,\n            // initial: relationInitial,\n        } = useRelationFetch({\n            record,\n            fields: rawResults,\n            infer,\n        });\n\n        const code = React.useMemo(() => {\n            if (\n                !recordLoading &&\n                !relationLoading &&\n                !isInitialLoad &&\n                resource\n            ) {\n                return renderer({\n                    resource,\n                    resources,\n                    fields: results,\n                    infer,\n                    isCustomPage: resource.name !== resourceFromURL?.name,\n                    id,\n                });\n            }\n            return \"\";\n        }, [resource, resources, results, recordLoading, relationLoading]);\n\n        return (\n            <>\n                {LoadingComponent && (recordLoading || relationLoading) && (\n                    <LoadingComponent />\n                )}\n                {!recordLoading && !relationLoading && (\n                    <>\n                        <LiveComponent\n                            fetchError={\n                                !recordLoading && inferError\n                                    ? inferError\n                                    : !recordLoading &&\n                                      !isInitialLoad &&\n                                      !record\n                            }\n                            code={prepareLiveCode(\n                                code,\n                                componentName(\n                                    resource?.meta?.label ??\n                                        resource?.options?.label ??\n                                        resource?.label ??\n                                        resource?.name ??\n                                        \"Resource\",\n                                    type,\n                                ),\n                            )}\n                            errorComponent={ErrorComponent}\n                            additionalScope={additionalScope}\n                        />\n                        {CodeViewerComponent && (\n                            <CodeViewerComponent\n                                code={removeHiddenCode(code)}\n                                loading={recordLoading || relationLoading}\n                            />\n                        )}\n                    </>\n                )}\n            </>\n        );\n    };\n\n    const InferencerComponent: InferencerResultComponent = ({\n        name,\n        resource,\n        fieldTransformer,\n        id,\n    }) => {\n        return (\n            <Inferencer\n                fieldTransformer={fieldTransformer}\n                resourceName={resource ?? name}\n                key={resource ?? name}\n                id={id}\n            />\n        );\n    };\n\n    return InferencerComponent;\n};\n","const urlLikeKeyRegexp = /(image|photo|avatar|url|logo|cover|thumbnail|icon)/i;\n\n/**\n * Returns a list of keys that are likely to be fieldable.\n * @example getFieldableKeys(\"user\", { id: 1, name: \"John\" }) === \"name\"\n */\nexport const getFieldableKeys = (\n    key: string,\n    data: Record<string, unknown>,\n): string | string[] | undefined => {\n    const fieldableProperties = [\n        \"name\",\n        \"label\",\n        \"title\",\n        \"count\",\n        \"content\",\n        \"username\",\n        \"nickname\",\n        \"login\",\n        \"firstName\",\n        \"lastName\",\n        \"url\",\n    ];\n\n    if (urlLikeKeyRegexp.test(key)) {\n        fieldableProperties.unshift(\"url\");\n    }\n\n    const firstAvailable = fieldableProperties.find(\n        (fkey) => fkey in data && !!data[fkey],\n    );\n\n    if (firstAvailable) {\n        if (firstAvailable === \"firstName\" && \"lastName\" in data) {\n            return [\"firstName\", \"lastName\"];\n        }\n\n        return firstAvailable;\n    }\n\n    return undefined;\n};\n","import { IResourceItem } from \"@refinedev/core\";\nimport { pickNotDeprecated } from \"@refinedev/core\";\n\n/**\n * Picks the data provider for the given resource. Which can be overridden by the resource itself.\n */\nexport function pickDataProvider(\n    resourceName?: string,\n    dataProviderName?: string,\n    resources?: IResourceItem[],\n) {\n    if (dataProviderName) {\n        return dataProviderName;\n    }\n\n    const resource = resources?.find((item) => item.name === resourceName);\n\n    const meta = pickNotDeprecated(resource?.meta, resource?.options);\n    if (meta?.dataProviderName) {\n        return meta.dataProviderName;\n    }\n\n    return \"default\";\n}\n\n/**\n * Picks the data provider for the given resource. Which can be overridden by the resource itself.\n * This is a simpler version of the above function which works with the resource item instead of the resource name and additional arguments.\n */\nexport const dataProviderFromResource = (resource?: IResourceItem) => {\n    return resource?.options?.dataProviderName;\n};\n","import { InferField } from \"@/types\";\n\n/**\n * Each field inferencer will run with every property of a record and output a result.\n * In these outputs, one with the highest priority will be picked as the inferred field.\n */\nexport const pickInferredField = (\n    inferredFields: Array<InferField | null | false>,\n): InferField | null => {\n    // filter out null and false values and sort by priority then return the first one\n    // priority is a number, the higher the number the higher the priority\n    // if there is no priority, it will be 0\n    const field = (\n        [...inferredFields].filter(Boolean) as Array<InferField>\n    ).sort((a, b) => (b.priority || 0) - (a.priority || 0))[0];\n\n    if (!field) {\n        return null;\n    }\n\n    return field;\n};\n","import prettier from \"prettier/standalone\";\nimport tsParser from \"prettier/parser-typescript\";\n\n/**\n * Standalone prettier formatter with typescript parser\n * to format the generated code.\n */\nexport const prettierFormat = (code: string) => {\n    try {\n        const formatted = prettier.format(code, {\n            parser: \"typescript\",\n            plugins: [tsParser],\n            arrowParens: \"always\",\n            trailingComma: \"all\",\n            semi: true,\n            tabWidth: 4,\n            printWidth: 80,\n        });\n\n        return formatted;\n    } catch (error) {\n        console.warn(\"Formatting error in inferencer\", error);\n        return code;\n    }\n};\n","/**\n * This helper removes the recurring spaces from the code.\n */\nexport const prettySpaces = (content: string): string => {\n    return content.replace(/ {2,}/g, \" \").replace(/\\n{2,}/g, \"\\n\");\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const relationRegexp = /(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\\[\\])?$/;\n\nexport const relationInfer: FieldInferencer = (key, value) => {\n    const isRelation = relationRegexp.test(key);\n    const isBasicValue = typeof value === \"string\" || typeof value === \"number\";\n    const isBasicArray =\n        Array.isArray(value) &&\n        value.every((v) => typeof v === \"string\" || typeof v === \"number\");\n\n    if ((isRelation && isBasicValue) || (isRelation && isBasicArray)) {\n        return {\n            key,\n            relation: true,\n            multiple: isBasicArray ? true : false,\n            type: \"relation\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { relationRegexp } from \"@/field-inferencers/relation\";\n\n/**\n * Removes the relation suffix from a string.\n * @example removeRelationSuffix(\"category_id\") === \"category\"\n */\nexport const removeRelationSuffix = (key: string) => {\n    return key.replace(relationRegexp, \"\");\n};\n","import { removeRelationSuffix } from \"../remove-relation-suffix\";\n\n/**\n * This helper will prettify the string.\n */\nexport const prettyString = (str: string) => {\n    const clean = removeRelationSuffix(str);\n    // Convert camelCase to camel Case\n    const camelCase = clean.replace(/([a-z])([A-Z])/g, \"$1 $2\");\n    // Convert snake_case to snake case\n    const snakeCase = camelCase.replace(/_/g, \" \");\n    // Convert kebab-case to kebab case\n    const kebabCase = snakeCase.replace(/-/g, \" \");\n    // Capitalize the string\n    const capitalized = kebabCase\n        .split(\" \")\n        .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n        .join(\" \");\n\n    return capitalized;\n};\n","/**\n * `react-live` does not support `export` statements in the code.\n * This function will remove the `export` statements from the code.\n */\nexport const replaceExports = (code: string) => {\n    // remove export statements from the code but keep the variables\n    const newCode = code.replace(\n        /export\\s+(const|let|var|type|interface|function|class)\\s+(\\w+)\\s*(=|:)\\s*/g,\n        \"$1 $2 = \",\n    );\n\n    // remove default exports, check line by line, lines can be indented so ignore the tabs and spaces at the beginning\n    const lines = newCode.split(\"\\n\");\n    const newLines = lines.filter(\n        (line) => !line.trim().startsWith(\"export default\"),\n    );\n\n    return newLines.join(\"\\n\");\n};\n","import { prettySpaces } from \"../pretty-spaces\";\n\nconst packageRegex =\n    /import(?:(?:(?:[ \\n\\t]+([^ *\\n\\t\\{\\},]+)[ \\n\\t]*(?:,|[ \\n\\t]+))?([ \\n\\t]*\\{(?:[ \\n\\t]*[^ \\n\\t\"'\\{\\}]+[ \\n\\t]*,?)+\\})?[ \\n\\t]*)|[ \\n\\t]*\\*[ \\n\\t]*as[ \\n\\t]+([^ \\n\\t\\{\\}]+)[ \\n\\t]+)from[ \\n\\t]*(?:['\"])([^'\"\\n]+)(?:['\"])(?:;?)/g;\n\nconst sideEffectRegex = /import[ \\n\\t](?:['\"])([^'\"\\n]+)(?:['\"])(?:;?)/g;\n\nconst nameChangeRegex = /((?:\\w|\\s|_)*)( as )((?:\\w|\\s|_)*)( |,)?/g;\n\n/**\n * This function will replace the imports in the code since `react-live` does not support `import` statements.\n * `modules` is an object with keys as `package name` and values as `variable name`.\n */\nexport const replaceImports = (\n    content: string,\n    modules: Record<string, string> = {},\n): string => {\n    const matches = content.matchAll(packageRegex);\n\n    const imports = new Set();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    for (const match of matches) {\n        const [, defaultImport, namedImports, namespaceImport, packageName] =\n            match;\n\n        if (packageName in modules) {\n            const importName = modules[packageName];\n\n            /**\n             * React and its exports are already available in the scope of the code.\n             * Restructuring them in import statements will cause errors.\n             * To avoid that, we are not replacing the import statements for React.\n             * This way, generated code can have \"react\" imports without any errors.\n             */\n            if (packageName === \"react\") {\n                continue;\n            }\n\n            if (defaultImport) {\n                imports.add(\n                    `const { default: ${defaultImport} } = ${importName};`,\n                );\n            }\n\n            if (namedImports) {\n                imports.add(\n                    `const${namedImports.replace(\n                        nameChangeRegex,\n                        `$1: $3$4`,\n                    )} = ${importName};`,\n                );\n            }\n\n            if (namespaceImport) {\n                imports.add(`const ${namespaceImport} = ${importName};`);\n            }\n        }\n    }\n\n    return prettySpaces(`\n    ${Array.from(imports).join(\"\\n\")}\n    ${content.replace(packageRegex, \"\").replace(sideEffectRegex, \"\")}\n    `);\n};\n","import pluralize from \"pluralize\";\nimport { IResourceItem } from \"@refinedev/core\";\n\nimport { InferField } from \"@/types\";\n\nimport { removeRelationSuffix } from \"../remove-relation-suffix\";\n\n/**\n * Checks if the given property can be relation by checking the existing resources.\n */\nexport const resourceFromInferred = (\n    field: InferField | false | null,\n    resources: IResourceItem[],\n): IResourceItem | undefined => {\n    if (!field) {\n        return undefined;\n    }\n\n    const resource = resources.find((el) => {\n        const stripped = removeRelationSuffix(field.key);\n\n        return (\n            el.name === stripped ||\n            el.name ===\n                (pluralize.isPlural(stripped)\n                    ? stripped\n                    : pluralize.plural(stripped)) ||\n            el.name ===\n                (pluralize.isSingular(stripped)\n                    ? stripped\n                    : pluralize.singular(stripped))\n        );\n    });\n\n    return resource;\n};\n","import pluralize from \"pluralize\";\nimport { prettyString } from \"../pretty-string\";\n\n/**\n * Returns the component name based on the resource name and inferencer type.\n * @example componentName(\"users\", \"list\") === \"UserList\"\n */\nexport const componentName = (\n    resourceName: string,\n    type: \"list\" | \"show\" | \"edit\" | \"create\",\n    fallbackResourceName = \"Inferred\",\n) => {\n    // replace all non-alphanumeric characters with a space\n    const sanitized = resourceName.replace(/[^a-zA-Z0-9]/g, \" \");\n    // convert to singular\n    const singular = pluralize.singular(sanitized);\n    // prettify the string without spaces\n    const prettified = prettyString(singular).replace(/ /g, \"\");\n    // if prettified is empty, return the fallbackResourceName\n    const resourceComponentName = prettified || fallbackResourceName;\n    // get pretty type name\n    const prettyType = type.charAt(0).toUpperCase() + type.slice(1);\n\n    // if resourceName is not starting with an alphabetical character, return Type + resourceName\n    // e.g. \"123users\" => \"List123Users\"\n    if (!/^[a-zA-Z]/.test(resourceComponentName)) {\n        return `${prettyType}${resourceComponentName}`;\n    }\n    // e.g. \"users\" => \"UserList\"\n    return `${resourceComponentName}${prettyType}`;\n};\n","const handleExpression = (expression: unknown) => {\n    if (!expression) {\n        return \"\";\n    }\n\n    if (Array.isArray(expression)) {\n        return expression.join(\"\");\n    }\n\n    if (typeof expression === \"string\") {\n        return expression;\n    }\n\n    if (typeof expression === \"object\") {\n        return expression.toString();\n    }\n\n    if (typeof expression === \"function\") {\n        return expression.toString();\n    }\n\n    if (typeof expression === \"number\") {\n        return String(expression);\n    }\n\n    if (typeof expression === \"boolean\" && expression) {\n        return \"true\";\n    }\n\n    return expression;\n};\n\n/**\n * This is a hacky helper to allow syntax highlighting to work in the template literals. (`renderer` function in inferencers)\n * Additionally, it parses expressions like jsx does.\n */\nexport const jsx = (\n    strings: TemplateStringsArray,\n    ...expressions: unknown[]\n) => {\n    const parsed = strings.reduce(\n        (result, currentString, i) =>\n            `${result}${currentString}${handleExpression(expressions[i])}`,\n        \"\",\n    );\n\n    return parsed.trim();\n};\n","/**\n * Code will be generated to be ready to copy and paste into a live environment.\n * But, `react-live` with `noInline={true}` will not work with this code and require `render` method to be called with the component.\n * This function will use the component name and the code and append the `render` method to the code.\n */\nexport const prepareLiveCode = (code?: string, componentName?: string) => {\n    return `\n    ${code ?? \"\"}\n    \n    render(typeof ${componentName} !== \"undefined\" ? <${componentName} /> : <></>);\n    `;\n};\n","export const removeHiddenCode = (code?: string) => {\n    // hidden blocks are wrapped in `/* hidden-start */` and `/* hidden-end */`\n    // these blocks can present multiple times in the code\n\n    return code?.replace(\n        /(\\/\\* hidden-start \\*\\/)(.|\\n)*?(\\/\\* hidden-end \\*\\/)/g,\n        \"\",\n    );\n};\n","import { InferField } from \"@/types\";\n\nconst dotAccessableRegex = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;\n\nexport const shouldDotAccess = (property: string) => {\n    return dotAccessableRegex.test(property);\n};\n\nfunction accessorSingle(variableName: string, key?: string, accessor?: string) {\n    let base = `${variableName}`;\n\n    if (key) {\n        base += \"?.\";\n        if (shouldDotAccess(key)) {\n            base += key;\n        } else {\n            base += `['${key}']`;\n        }\n    }\n\n    if (accessor) {\n        base += `?.`;\n        if (shouldDotAccess(accessor)) {\n            base += accessor;\n        } else {\n            base += `['${accessor}']`;\n        }\n    }\n\n    return base;\n}\n\nfunction accessorMultiple(variable: string, key?: string, accessor?: string[]) {\n    const all = (accessor ?? []).map((a) => accessorSingle(variable, key, a));\n\n    return all;\n}\n\n/**\n * Returns a string that can be used to access the given field.\n * @example accessor(\"myVar\", \"some\", \"thing\") === \"myVar?.some?.thing\"\n * @example accessor(\"myVar\", \"so-me\", th.ing\") === \"myVar?.['so-me']['th.ing']\"\n */\nexport const accessor = (\n    variable: string,\n    key?: string,\n    accessor?: string | string[],\n    joiner: string | false = ' + \" \" + ',\n): string => {\n    if (Array.isArray(accessor)) {\n        if (joiner) {\n            return accessorMultiple(variable, key, accessor).join(joiner);\n        } else {\n            return accessorSingle(variable, key, accessor[0]);\n        }\n    } else {\n        return accessorSingle(variable, key, accessor);\n    }\n};\n\nexport const dotAccessor = (\n    variable: string,\n    key?: string,\n    accessor?: string | string[],\n) => {\n    let str = variable;\n\n    if (key) {\n        str += `.${key}`;\n    }\n\n    if (accessor) {\n        if (Array.isArray(accessor)) {\n            str += `.${accessor[0]}`;\n        } else {\n            str += `.${accessor}`;\n        }\n    }\n\n    return str;\n};\n\nexport const getAccessorKey = (field: InferField) => {\n    return Array.isArray(field.accessor) || field.multiple\n        ? `accessorKey: \"${field.key}\"`\n        : field.accessor\n        ? `accessorKey: \"${dotAccessor(field.key, undefined, field.accessor)}\"`\n        : `accessorKey: \"${field.key}\"`;\n};\n","import { ImportElement } from \"@/types\";\n\nexport const printImports = (imports: Array<ImportElement>) => {\n    const byModule = imports.reduce((acc, [element, module, isDefault]) => {\n        if (!acc[module]) {\n            acc[module] = [] as Array<\n                string | [variable: string, isDefault?: boolean]\n            >;\n        }\n\n        if (!acc[module].includes(element)) {\n            if (isDefault) {\n                acc[module].push([element, true]);\n            } else {\n                acc[module].push(element);\n            }\n        }\n\n        return acc;\n    }, {} as Record<string, Array<string | [variable: string, isDefault?: boolean]>>);\n\n    const lines = Object.entries(byModule).map(([module, elements]) => {\n        const defaultImport = elements.find((e) => Array.isArray(e) && e[1]);\n        const named = elements.filter((e) => typeof e === \"string\");\n        const defaultStr = defaultImport ? `${defaultImport[0]}` : \"\";\n        const namedStr = named.length ? `{ ${named.join(\", \")} }` : \"\";\n        return `import ${defaultStr}${\n            defaultStr && namedStr ? \", \" : \"\"\n        }${namedStr} from \"${module}\";`;\n    });\n\n    return lines;\n};\n","import pluralize from \"pluralize\";\n\nexport const toSingular = (str = \"\") => {\n    return pluralize.isSingular(str) ? str : pluralize.singular(str);\n};\n","import pluralize from \"pluralize\";\n\nexport const toPlural = (str = \"\") => {\n    return pluralize.isPlural(str) ? str : pluralize.plural(str);\n};\n","const identifierRegexp = /^id$/i;\n\nexport const isIDKey = (key: string): boolean => identifierRegexp.test(key);\n","import { InferField } from \"@/types\";\n\nexport const getOptionLabel = (field: InferField) => {\n    if (field.relationInfer && field.relationInfer.accessor) {\n        if (Array.isArray(field.relationInfer.accessor)) {\n            return `optionLabel: \"${field.relationInfer.accessor[0]}\",`;\n        }\n        if (field.relationInfer.accessor !== \"title\") {\n            return `optionLabel: \"${field.relationInfer.accessor}\",`;\n        }\n        return \"\";\n    }\n    return \"\";\n};\n","// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport const noOp = (arg1: any) => {};\n","import { prettyString } from \"../pretty-string\";\n\n/**\n * Returns the valid variable name for the given string and the given suffixOrPrefix.\n * @example getVariableName(\"user\", \"data\") === \"usersData\"\n * @example getVariableName(\"1234\", \"data\") === \"data1234\"\n * @example getVariableName(\"users-account\", \"selectProps\") === \"usersAccountSelectProps\"\n */\nexport const getVariableName = (fieldKey: string, suffixOrPrefix = \"\") => {\n    // if fieldKey is number, return with prefix\n    // e.g. (12345, Data) => \"data12345\"\n    if (Number.isInteger(Number(fieldKey))) {\n        const lowerCaseFirstLetter =\n            suffixOrPrefix.charAt(0).toLowerCase() + suffixOrPrefix.slice(1);\n        return lowerCaseFirstLetter + fieldKey;\n    }\n\n    // if fieldKey is start with numbers, replace the numbers with empty string\n    // e.g. 123users => \"users\"\n    const fieldKeyWithoutNumbers = fieldKey.replace(/^\\d+/, \"\");\n\n    // if fieldKeyWithoutNumbers has invalid characters, replace them with \"-\"\n    // e.g. \"users/account\" => \"users-account\"\n    const fieldKeyWithoutInvalidCharacters = fieldKeyWithoutNumbers.replace(\n        /[^a-zA-Z0-9]/g,\n        \"-\",\n    );\n\n    // Convert to PascalCase\n    const prettyPluralVariableName = prettyString(\n        fieldKeyWithoutInvalidCharacters,\n    ).replace(/ /g, \"\");\n\n    const variableName = `${\n        prettyPluralVariableName.charAt(0).toLowerCase() +\n        prettyPluralVariableName.slice(1)\n    }${suffixOrPrefix.charAt(0).toUpperCase() + suffixOrPrefix.slice(1)}`;\n\n    return variableName;\n};\n","import { FieldInferencer } from \"@/types\";\nimport { pickInferredField } from \"@/utilities\";\n\n/**\n * Compose multiple field inferencers into one\n * @param inferencers The inferencer functions to compose\n */\nexport const composeInferencers = (\n    inferencers: Array<FieldInferencer>,\n): FieldInferencer => {\n    const fieldInferencer: FieldInferencer = (\n        key,\n        value,\n        record,\n        infer = fieldInferencer,\n    ) => {\n        const inferences = inferencers.map((inferencer) =>\n            inferencer(key, value, record, infer),\n        );\n        const picked = pickInferredField(inferences);\n\n        return picked;\n    };\n\n    return fieldInferencer;\n};\n","import { FieldTransformer } from \"@/types\";\n\n/**\n * Compose multiple field transformers into one\n * @param transformers The transformer functions to compose\n */\nexport const composeTransformers = (\n    transformers: Array<FieldTransformer>,\n): FieldTransformer => {\n    const fieldTransformer: FieldTransformer = (\n        fields,\n        resources,\n        resource,\n        record,\n        infer,\n    ) => {\n        return transformers.reduce((acc, transformer) => {\n            return transformer(acc, resources, resource, record, infer);\n        }, fields);\n    };\n\n    return fieldTransformer;\n};\n","import { FieldInferencer, InferType } from \"@/types\";\n\nexport const arrayInfer: FieldInferencer = (key, value, record, infer) => {\n    const isArray = Array.isArray(value);\n    const isBasicArray =\n        Array.isArray(value) &&\n        value.every((v) => typeof v === \"string\" || typeof v === \"number\");\n\n    if (isArray) {\n        if (!isBasicArray) {\n            const inferredInnerType = infer(key, value[0], record, infer);\n            if (inferredInnerType) {\n                return {\n                    ...inferredInnerType,\n                    key,\n                    multiple: true,\n                    priority: 1,\n                };\n            } else {\n                return false;\n            }\n        }\n        const basicType = infer(key, value[0], record, infer) || {\n            type: \"string\" as InferType,\n        };\n\n        return {\n            key,\n            multiple: true,\n            priority: 1,\n            type: basicType?.type,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const booleanInfer: FieldInferencer = (key, value) => {\n    const isBoolean = typeof value === \"boolean\";\n\n    if (isBoolean) {\n        return {\n            key,\n            type: \"boolean\",\n        };\n    }\n\n    return false;\n};\n","import dayjs from \"dayjs\";\nimport { FieldInferencer } from \"@/types\";\n\nconst dateSuffixRegexp = /(_at|_on|At|On|AT|ON)(\\[\\])?$/;\n\nconst dateSeparators = [\"/\", \":\", \"-\", \".\"];\n\nexport const dateInfer: FieldInferencer = (key, value) => {\n    const isDateField =\n        dateSuffixRegexp.test(key) && dayjs(value as string).isValid();\n\n    const isValidDateString =\n        typeof value === \"string\" && dayjs(value).isValid();\n\n    const hasDateSeparator =\n        typeof value === \"string\" &&\n        dateSeparators.some((s) => value.includes(s));\n\n    if (hasDateSeparator && (isDateField || isValidDateString)) {\n        return {\n            key,\n            type: \"date\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nconst emailRegexp =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nexport const emailInfer: FieldInferencer = (key, value) => {\n    const isValidEmail = typeof value === \"string\" && emailRegexp.test(value);\n\n    if (isValidEmail) {\n        return {\n            key,\n            type: \"email\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nconst imageRegexp = /\\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i;\n\nexport const imageInfer: FieldInferencer = (key, value) => {\n    const isImageURI = typeof value === \"string\" && imageRegexp.test(value);\n\n    if (isImageURI) {\n        return {\n            key,\n            type: \"image\",\n            priority: 2,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const nullishInfer: FieldInferencer = (key, value) => {\n    const isUndefined = typeof value === \"undefined\";\n    const isNull = value === null;\n\n    if (isUndefined || isNull) {\n        return null;\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const numberInfer: FieldInferencer = (key, value) => {\n    const isNonEmptyString = typeof value === \"string\" && value.length > 0;\n    const isNotNaN = !isNaN(value as number);\n\n    const isNumericString = isNonEmptyString && isNotNaN;\n    const isNumber = typeof value === \"number\";\n\n    const isNumeric = isNumericString || isNumber;\n\n    if (isNumeric) {\n        return {\n            key,\n            type: \"number\",\n        };\n    }\n\n    return false;\n};\n","import { getFieldableKeys } from \"@/utilities\";\nimport { FieldInferencer } from \"@/types\";\n\nconst idPropertyRegexp = /id$/i;\n\nexport const objectInfer: FieldInferencer = (key, value, record, infer) => {\n    const isNotNull = value !== null;\n    const isNotArray = !Array.isArray(value);\n    const isObject = typeof value === \"object\";\n\n    if (isNotNull && isNotArray && isObject) {\n        const onlyHasId =\n            Object.keys(value).length === 1 &&\n            idPropertyRegexp.test(Object.keys(value)[0]);\n\n        if (onlyHasId) {\n            return {\n                key,\n                type: \"relation\",\n                relation: true,\n                accessor: \"id\",\n                priority: 1,\n            };\n        }\n\n        const fieldableKeys = getFieldableKeys(\n            key,\n            value as Record<string, unknown>,\n        );\n\n        const hasFieldableKeys = fieldableKeys\n            ? fieldableKeys.length > 0\n            : false;\n\n        if (hasFieldableKeys && fieldableKeys) {\n            const innerFieldKey =\n                fieldableKeys && Array.isArray(fieldableKeys)\n                    ? fieldableKeys[0]\n                    : fieldableKeys;\n\n            const innerFieldType = infer(\n                innerFieldKey,\n                (value as Record<string, unknown>)[innerFieldKey],\n                value as Record<string, unknown>,\n                infer,\n            );\n\n            if (innerFieldType) {\n                const accessor = Array.isArray(fieldableKeys)\n                    ? fieldableKeys.map((el) => {\n                          if (innerFieldType.accessor) {\n                              return `${el}.${\n                                  Array.isArray(innerFieldType.accessor)\n                                      ? innerFieldType.accessor[0]\n                                      : innerFieldType.accessor\n                              }`;\n                          } else {\n                              return el;\n                          }\n                      })\n                    : innerFieldType.accessor\n                    ? Array.isArray(innerFieldType.accessor)\n                        ? `${fieldableKeys}.${innerFieldType.accessor[0]}`\n                        : `${fieldableKeys}.${innerFieldType.accessor}`\n                    : fieldableKeys;\n\n                return {\n                    ...innerFieldType,\n                    fieldable: true,\n                    key,\n                    accessor: accessor,\n                    priority: 1,\n                };\n            }\n        }\n\n        return {\n            key,\n            fieldable: false,\n            type: \"object\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const richtextInfer: FieldInferencer = (key, value) => {\n    const isLongText = typeof value === \"string\" && value.length > 100;\n\n    if (isLongText) {\n        return {\n            key,\n            type: \"richtext\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nexport const textInfer: FieldInferencer = (key, value) => {\n    const isText = typeof value === \"string\";\n\n    if (isText) {\n        return {\n            key,\n            type: \"text\",\n        };\n    }\n\n    return false;\n};\n","import { FieldInferencer } from \"@/types\";\n\nconst urlRegexp = /^(https?|ftp):\\/\\/(-\\.)?([^\\s/?\\.#-]+\\.?)+(\\/[^\\s]*)?$/i;\n\nexport const urlInfer: FieldInferencer = (key, value) => {\n    const isValidURL = typeof value === \"string\" && urlRegexp.test(value);\n\n    if (isValidURL) {\n        return {\n            key,\n            type: \"url\",\n            priority: 1,\n        };\n    }\n\n    return false;\n};\n","import { arrayInfer } from \"./array\";\nimport { booleanInfer } from \"./boolean\";\nimport { dateInfer } from \"./date\";\nimport { emailInfer } from \"./email\";\nimport { imageInfer } from \"./image\";\nimport { nullishInfer } from \"./nullish\";\nimport { numberInfer } from \"./number\";\nimport { objectInfer } from \"./object\";\nimport { relationInfer } from \"./relation\";\nimport { richtextInfer } from \"./richtext\";\nimport { textInfer } from \"./text\";\nimport { urlInfer } from \"./url\";\n\nexport const defaultElements = [\n    arrayInfer,\n    booleanInfer,\n    dateInfer,\n    emailInfer,\n    imageInfer,\n    nullishInfer,\n    numberInfer,\n    objectInfer,\n    relationInfer,\n    richtextInfer,\n    textInfer,\n    urlInfer,\n];\n","import { FieldTransformer, InferField } from \"@/types\";\n\nexport const basicToRelation: FieldTransformer = (\n    fields,\n    resources,\n    resource,\n    record,\n) => {\n    const mapped: Array<InferField> = fields.map((field) => {\n        if (\n            !field.relation &&\n            (field.type === \"text\" ||\n                field.type === \"richtext\" ||\n                field.type === \"number\") &&\n            !field.canRelation\n        ) {\n            // check if value is a valid id (regex)\n            // if multiple, check value by value\n            // take accessor into account (should be single only)\n            // valid id should be a valid uuid (meaning, lowercase alphanumeric with dashes)\n            const validUUIdRegex = /^[a-z0-9-]+$/;\n\n            const isValidUUID = (value: unknown) => {\n                return validUUIdRegex.test(`${value}`);\n            };\n\n            const isNotSelf = field.key.toLowerCase() !== \"id\";\n\n            const singleOrNoAccessor =\n                !field.accessor || typeof field.accessor === \"string\";\n\n            // in case of multiple accessors, we can't infer a relation\n            // or if the field is the id field\n            if (!singleOrNoAccessor || !isNotSelf) {\n                return field;\n            }\n\n            const valuesToCheck = field.multiple\n                ? (record[field.key] as unknown[])\n                : [record[field.key]];\n\n            const allValid = valuesToCheck.every((value) => {\n                return isValidUUID(\n                    field.accessor\n                        ? (value as Record<string, unknown>)[\n                              field.accessor as string\n                          ]\n                        : value,\n                );\n            });\n\n            if (allValid) {\n                return {\n                    ...field,\n                    canRelation: true,\n                };\n            }\n\n            return field;\n        }\n        return field;\n    });\n\n    return mapped;\n};\n","import { FieldTransformer, InferField } from \"@/types\";\n\nconst imageFieldLikeRegexp = /(image|photo|avatar|cover|thumbnail|icon)/i;\n\nexport const imageByKey: FieldTransformer = (fields) => {\n    const mapped: Array<InferField> = fields.map((field) => {\n        if (field.type === \"url\" && imageFieldLikeRegexp.test(field.key)) {\n            return {\n                ...field,\n                type: \"image\",\n            };\n        }\n\n        return field;\n    });\n\n    return mapped;\n};\n","import { resourceFromInferred } from \"@/utilities\";\nimport { FieldTransformer, InferField } from \"@/types\";\n\nexport const relationByResource: FieldTransformer = (\n    fields,\n    resources,\n    // resource,\n    // record,\n    // infer,\n) => {\n    const mapped: Array<InferField> = fields.map((field) => {\n        const inferResource = resourceFromInferred(field, resources);\n\n        if (inferResource) {\n            return {\n                ...field,\n                relation: true,\n                type: \"relation\",\n                resource: inferResource,\n            };\n        }\n\n        return field;\n    });\n\n    return mapped;\n};\n","import { FieldTransformer, InferField } from \"@/types\";\n\nexport const relationToFieldable: FieldTransformer = (\n    fields,\n    resources,\n    resource,\n    record,\n    infer,\n) => {\n    const mapped: Array<InferField> = fields.map((field) => {\n        if (field.relation && field.type === \"relation\" && !field.resource) {\n            const value = field.accessor\n                ? (record[field.key] as any)[field.accessor as string]\n                : record[field.key];\n\n            const inferredType = infer(field.key, value, record, infer);\n\n            if (inferredType && inferredType.type !== \"relation\") {\n                return {\n                    ...field,\n                    fieldable: true,\n                    relation: false,\n                    type: inferredType.type,\n                    canRelation: true,\n                };\n            }\n        }\n\n        return field;\n    });\n\n    return mapped;\n};\n","import { basicToRelation } from \"./basic-to-relation\";\nimport { imageByKey } from \"./image-by-key\";\nimport { relationByResource } from \"./relation-by-resource\";\nimport { relationToFieldable } from \"./relation-to-fieldable\";\n\nexport const defaultTransformers = [\n    imageByKey,\n    relationByResource,\n    relationToFieldable,\n    basicToRelation,\n];\n","import React, { useEffect } from \"react\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport theme from \"prism-react-renderer/themes/vsDark\";\n\n/**\n * CodeHighlight component renders the code in a pretty way with `prism-react-renderer` library.\n * By default, code overflowing 50vh will be scrollable; this can be adjusted with the `wrapperProps` prop.\n */\nexport const CodeHighlight: React.FC<{\n    code: string;\n    wrapperProps?: React.ComponentProps<\"div\">;\n}> = ({ code, wrapperProps }) => {\n    useEffect(() => {\n        const styleElement = document.createElement(\"style\");\n        styleElement.appendChild(\n            document.createTextNode(\n                `\n                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}\n                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}\n                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}\n                `,\n            ),\n        );\n        document.getElementById(\"code-highlight\")?.appendChild(styleElement);\n    }, []);\n\n    return (\n        <div\n            id=\"code-highlight\"\n            style={{\n                maxHeight: \"75vh\",\n                height: \"100%\",\n                overflow: \"auto\",\n                backgroundColor: \"rgb(30, 30, 30)\",\n            }}\n            {...(wrapperProps ?? {})}\n        >\n            <Highlight\n                {...defaultProps}\n                theme={theme}\n                code={code}\n                language=\"tsx\"\n            >\n                {({\n                    className,\n                    style,\n                    tokens,\n                    getLineProps,\n                    getTokenProps,\n                }) => (\n                    <pre\n                        className={className}\n                        style={{\n                            ...style,\n                            padding: \"14px 14px 14px 14px\",\n                            margin: \"0\",\n                            width: \"100%\",\n                            boxSizing: \"border-box\",\n                        }}\n                    >\n                        {tokens.map((line, i) => (\n                            <div key={i} {...getLineProps({ line, key: i })}>\n                                {line.map((token, key) => (\n                                    <span\n                                        key={key}\n                                        {...getTokenProps({ token, key })}\n                                    />\n                                ))}\n                            </div>\n                        ))}\n                    </pre>\n                )}\n            </Highlight>\n        </div>\n    );\n};\n","import React from \"react\";\nimport * as RefineCore from \"@refinedev/core\";\n\nimport { LivePreview, LiveProvider, ContextProps } from \"@aliemir/react-live\";\n\nimport { replaceImports, replaceExports } from \"@/utilities\";\nimport { AdditionalScopeType, LiveComponentProps } from \"@/types\";\n\nconst defaultScope: Array<AdditionalScopeType> = [\n    [\"react\", \"React\", React],\n    [\"@refinedev/core\", \"RefineCore\", RefineCore],\n];\n\nconst InferencerLiveContext = React.createContext<ContextProps>(\n    {} as ContextProps,\n);\n\n/**\n * Live Component will render the code with `react-live`.\n * Errors will be handled by `ErrorComponent`.\n */\nexport const LiveComponent: React.FC<LiveComponentProps> = ({\n    fetchError,\n    code,\n    additionalScope,\n    errorComponent: ErrorComponent,\n}) => {\n    const sanitized =\n        (code &&\n            replaceExports(\n                replaceImports(\n                    code,\n                    [...defaultScope, ...(additionalScope ?? [])].reduce(\n                        (\n                            acc,\n                            [\n                                packageName,\n                                variableName,\n                                _module,\n                                ignoreReplacement,\n                            ],\n                        ) => {\n                            if (ignoreReplacement) {\n                                return acc;\n                            }\n                            return {\n                                ...acc,\n                                [packageName]: variableName,\n                            };\n                        },\n                        {},\n                    ),\n                ),\n            )) ??\n        \"\";\n\n    const scope = React.useMemo(() => {\n        return {\n            React,\n            ...React,\n            ...[...defaultScope, ...(additionalScope ?? [])].reduce(\n                (acc, [_packageName, variableName, packageContent]) => {\n                    return {\n                        ...acc,\n                        [variableName]: packageContent,\n                    };\n                },\n                {},\n            ),\n        };\n    }, [additionalScope]);\n\n    const ErrorComponentWithError = React.useMemo(() => {\n        const LiveErrorComponent = () => {\n            const { error } = React.useContext(InferencerLiveContext);\n\n            if (ErrorComponent) {\n                return (\n                    <ErrorComponent\n                        error={\n                            error\n                                ? `<p>An error occured while rendering the generated component.You can check the generated code from the below \"Show Code\" button and fix the error manually.</p>\n                                    <p>If you think this is a bug, please report the issue at <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/refinedev/refine/issues\">https://github.com/refinedev/refine/issues</a></p>\n                                    <p>Exception:</p>\n                                    <code>${error}</code>`\n                                : typeof fetchError === \"string\"\n                                ? fetchError\n                                : fetchError\n                                ? `<p>Something went wrong while fetching the resource data.</p>\n                                    <p>To learn more about the Inferencer, please check the <a href=\"https://refine.dev/docs/packages/documentation/inferencer/\" target=\"_blank\">documentation</a>.</p>`\n                                : undefined\n                        }\n                    />\n                );\n            }\n\n            return null;\n        };\n\n        return LiveErrorComponent;\n    }, [ErrorComponent, fetchError]);\n\n    return (\n        <LiveProvider\n            Context={InferencerLiveContext}\n            code={sanitized}\n            scope={scope}\n            noInline\n        >\n            {!fetchError && <LivePreview Context={InferencerLiveContext} />}\n            <ErrorComponentWithError />\n        </LiveProvider>\n    );\n};\n","import React from \"react\";\nimport { useDataProvider, useResource, BaseKey } from \"@refinedev/core\";\n\nimport { pickDataProvider, dataProviderFromResource } from \"@/utilities\";\n\n/**\n * This hook will handle the data fetching for the inferencer with `loading` and `initial` states.\n * Data provider functions will be used respectively for the `list`, `show` and `edit` types.\n */\nexport const useInferFetch = (\n    type: \"list\" | \"show\" | \"edit\" | \"create\",\n    resourceNameOrRouteName?: string,\n    idFromProps?: string | number,\n) => {\n    const {\n        resource,\n        id: idFromURL,\n        resources,\n    } = useResource(resourceNameOrRouteName);\n\n    const id = idFromProps ?? idFromURL;\n\n    const dataProvider = useDataProvider();\n\n    const [error, setError] = React.useState<string | undefined>(undefined);\n\n    const [data, setData] = React.useState<Record<string, unknown> | undefined>(\n        undefined,\n    );\n    const [initial, setInitial] = React.useState<boolean>(true);\n    const [loading, setLoading] = React.useState<boolean>(false);\n\n    const resolver = React.useCallback(\n        async (recordItemId: BaseKey | undefined) => {\n            const dataProviderName =\n                dataProviderFromResource(resource) ??\n                pickDataProvider(resource?.name, undefined, resources);\n            const dp = dataProvider(dataProviderName);\n\n            setLoading(true);\n            setError(undefined);\n\n            try {\n                if (type === \"list\" || type === \"create\") {\n                    if (resource) {\n                        const response = await dp.getList({\n                            resource: resource?.name,\n                        });\n                        const r = response.data?.[0];\n\n                        if (!r) {\n                            setError(\n                                `<p>No records/data found for resource \"${resource?.name}\".</p>\n                            <p>Please check your data provider and resource.</p>\n                            <p>For more info, please check the <a href=\"https://refine.dev/docs/packages/documentation/inferencer/\" target=\"_blank\">documentation</a>.</p>`,\n                            );\n                        }\n                        setData(r);\n                        setTimeout(() => {\n                            setLoading(false);\n                        }, 500);\n                    }\n                }\n                if ((type === \"edit\" || type === \"show\") && recordItemId) {\n                    if (resource) {\n                        const response = await dp.getOne({\n                            resource: resource?.name,\n                            id: recordItemId,\n                        });\n                        const r = response.data;\n                        if (!r) {\n                            setError(\n                                `<p>No records/data found for resource \"${resource?.name}\".</p>\n                            <p>Please check your data provider and resource.</p>\n                            <p>For more info, please check the <a href=\"https://refine.dev/docs/packages/documentation/inferencer/\" target=\"_blank\">documentation</a>.</p>`,\n                            );\n                        }\n                        setData(r);\n                        setTimeout(() => {\n                            setLoading(false);\n                        }, 500);\n                    }\n                }\n            } catch (error) {\n                console.warn(\n                    \"An error occured while fetching the resource data. Please check the error message below:\",\n                    error,\n                );\n                setError(\n                    `<p>Something went wrong while fetching the resource data.</p>\n                    <p>Please check your data provider and API for resource \"${resource?.name}\".</p>\n                    <p>For more info, please check the <a href=\"https://refine.dev/docs/packages/documentation/inferencer/\" target=\"_blank\">documentation</a>.</p>`,\n                );\n                setTimeout(() => {\n                    setLoading(false);\n                }, 500);\n            }\n        },\n        [type, dataProvider, resource, resources],\n    );\n\n    React.useEffect(() => {\n        setInitial(false);\n        if (!loading && !data) {\n            resolver(id);\n        }\n    }, [resolver, id]);\n\n    return {\n        data,\n        loading,\n        initial,\n        error,\n    };\n};\n","import React from \"react\";\nimport { useDataProvider } from \"@refinedev/core\";\n\nimport {\n    dataProviderFromResource,\n    removeRelationSuffix,\n    toPlural,\n    toSingular,\n} from \"@/utilities\";\nimport { FieldInferencer, InferField, ResourceInferenceAttempt } from \"@/types\";\nimport { get } from \"lodash\";\n\ntype UseRelationFetchProps = {\n    record?: Record<string, unknown>;\n    fields?: (InferField | null | false)[];\n    infer: FieldInferencer;\n};\n\nexport const useRelationFetch = ({\n    record,\n    fields,\n    infer,\n}: UseRelationFetchProps) => {\n    const dataProvider = useDataProvider();\n\n    const [updatedFields, setUpdatedFields] = React.useState<InferField[]>([]);\n\n    const [initial, setInitial] = React.useState(true);\n    const [loading, setLoading] = React.useState<boolean>(false);\n\n    const resolver = React.useCallback(\n        async (allFields: (InferField | false | null)[]) => {\n            console.groupCollapsed(\n                \"@refinedev/inferencer is trying to detect relations\",\n            );\n            const attempts: Array<ResourceInferenceAttempt> = [];\n            setLoading(true);\n            try {\n                const promises = allFields.map(async (field) => {\n                    if (field && (field.relation || field.canRelation)) {\n                        if (record) {\n                            const dataProviderName = dataProviderFromResource(\n                                field.resource,\n                            );\n                            const dp = dataProvider(dataProviderName);\n\n                            const requestId = Array.isArray(field.accessor)\n                                ? undefined\n                                : field.multiple\n                                ? (record[field.key] as Array<unknown>).map(\n                                      (el) => {\n                                          return field.accessor\n                                              ? get(el, field.accessor)\n                                              : el;\n                                      },\n                                  )[0]\n                                : field.accessor\n                                ? get(record[field.key], field.accessor)\n                                : record[field.key];\n\n                            if (requestId && field.resource) {\n                                try {\n                                    const { data } = await dp.getOne({\n                                        resource: field.resource.name,\n                                        id: requestId,\n                                    });\n\n                                    attempts.push({\n                                        status: \"success\",\n                                        resource: field.resource.name,\n                                        field: field.key,\n                                    });\n\n                                    const relationInfer = infer(\n                                        \"__\",\n                                        data,\n                                        {},\n                                        infer,\n                                    );\n\n                                    return {\n                                        ...field,\n                                        relationInfer,\n                                    };\n                                } catch (error) {\n                                    attempts.push({\n                                        status: \"error\",\n                                        resource: field.resource.name,\n                                        field: field.key,\n                                    });\n                                    return {\n                                        ...field,\n                                        relationInfer: null,\n                                    };\n                                }\n                            }\n\n                            if (requestId) {\n                                let responseData;\n                                let isPlural;\n\n                                try {\n                                    const { data } = await dp.getOne({\n                                        resource: toPlural(\n                                            removeRelationSuffix(field.key),\n                                        ),\n                                        id: requestId,\n                                    });\n\n                                    attempts.push({\n                                        status: \"success\",\n                                        resource: toPlural(\n                                            removeRelationSuffix(field.key),\n                                        ),\n                                        field: field.key,\n                                    });\n\n                                    responseData = data;\n                                    isPlural = true;\n                                } catch (error) {\n                                    attempts.push({\n                                        status: \"error\",\n                                        resource: toPlural(\n                                            removeRelationSuffix(field.key),\n                                        ),\n                                        field: field.key,\n                                    });\n\n                                    try {\n                                        const { data } = await dp.getOne({\n                                            resource: toSingular(\n                                                removeRelationSuffix(field.key),\n                                            ),\n                                            id: requestId,\n                                        });\n\n                                        attempts.push({\n                                            status: \"success\",\n                                            resource: toSingular(\n                                                removeRelationSuffix(field.key),\n                                            ),\n                                            field: field.key,\n                                        });\n\n                                        responseData = data;\n                                        isPlural = false;\n                                    } catch (error) {\n                                        attempts.push({\n                                            status: \"error\",\n                                            resource: toSingular(\n                                                removeRelationSuffix(field.key),\n                                            ),\n                                            field: field.key,\n                                        });\n\n                                        return {\n                                            ...field,\n                                            relationInfer: null,\n                                        };\n                                    }\n                                }\n\n                                const relationInfer = infer(\n                                    \"__\",\n                                    responseData,\n                                    {},\n                                    infer,\n                                );\n\n                                const resourceNameWithoutRelationSuffix =\n                                    removeRelationSuffix(field.key);\n\n                                return {\n                                    ...field,\n                                    relation: true,\n                                    type: \"relation\",\n                                    resource: {\n                                        name: isPlural\n                                            ? toPlural(\n                                                  resourceNameWithoutRelationSuffix,\n                                              )\n                                            : toSingular(\n                                                  resourceNameWithoutRelationSuffix,\n                                              ),\n                                    },\n                                    fieldable: false,\n                                    canRelation: undefined,\n                                    relationInfer,\n                                };\n                            }\n\n                            return {\n                                ...field,\n                                relationInfer: null,\n                            };\n                        }\n                    }\n                    return field;\n                });\n\n                const results = await Promise.all(promises);\n\n                setUpdatedFields(results.filter((el) => el) as InferField[]);\n                setTimeout(() => {\n                    setLoading(false);\n                }, 500);\n            } catch (error) {\n                setTimeout(() => {\n                    setLoading(false);\n                }, 500);\n            }\n            setTimeout(() => {\n                console.log(\n                    `Tried to detect relations with ${\n                        attempts.length\n                    } attempts and succeeded with ${\n                        attempts.filter((el) => el.status === \"success\").length\n                    } attempts.`,\n                );\n                console.groupEnd();\n            }, 500);\n        },\n        [dataProvider, record],\n    );\n\n    React.useEffect(() => {\n        setInitial(false);\n        if (\n            !loading &&\n            fields &&\n            fields.length > 0 &&\n            updatedFields.length === 0\n        ) {\n            resolver(fields);\n        }\n    }, [resolver, loading, fields, resolver]);\n\n    return {\n        fields: updatedFields,\n        loading,\n        initial,\n    };\n};\n","import React from \"react\";\n\nimport { CreateInferencerConfig } from \"@/types\";\n\nexport const ErrorComponent: CreateInferencerConfig[\"errorComponent\"] = ({\n    error,\n}) => {\n    if (error) {\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    minHeight: \"300px\",\n                    position: \"relative\",\n                }}\n            >\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: \"50%\",\n                        left: \"50%\",\n                        transform: \"translate(-50%, -50%)\",\n                    }}\n                >\n                    <div\n                        style={{\n                            fontSize: \"1.5rem\",\n                            fontWeight: \"bold\",\n                        }}\n                        dangerouslySetInnerHTML={{ __html: error ?? \"\" }}\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    return null;\n};\n","import React from \"react\";\n\nimport { CreateInferencerConfig } from \"@/types\";\n\nexport const LoadingComponent: CreateInferencerConfig[\"loadingComponent\"] =\n    () => {\n        const [dots, setDots] = React.useState(0);\n\n        React.useEffect(() => {\n            if (typeof window !== \"undefined\") {\n                const interval = setInterval(() => {\n                    setDots((dots) => {\n                        if (dots === 3) {\n                            return 0;\n                        }\n                        return dots + 1;\n                    });\n                }, 300);\n\n                return () => {\n                    clearInterval(interval);\n                };\n            }\n\n            return () => undefined;\n        }, []);\n\n        return (\n            <div\n                style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    minHeight: \"120px\",\n                    position: \"relative\",\n                }}\n            >\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: \"50%\",\n                        left: \"50%\",\n                        transform: \"translate(-50%, -50%)\",\n                    }}\n                >\n                    <span\n                        style={{\n                            fontSize: \"1rem\",\n                            fontWeight: 600,\n                        }}\n                    >\n                        loading{\".\".repeat(dots)}\n                    </span>\n                </div>\n            </div>\n        );\n    };\n","import React from \"react\";\nimport {\n    IconCode,\n    IconMessageCircle,\n    IconCopy,\n    IconCheck,\n} from \"@tabler/icons\";\n\nimport { prettierFormat } from \"@/utilities\";\nimport { CreateInferencerConfig } from \"@/types\";\nimport { CodeHighlight } from \"@/components\";\n\ntype ModalProps = {\n    visible: boolean;\n    onClose: () => void;\n    children: React.ReactNode;\n};\n\nconst Modal: React.FC<ModalProps> = ({ visible, onClose, children }) => {\n    if (!visible) {\n        return null;\n    }\n\n    return (\n        <div\n            style={{\n                position: \"fixed\",\n                top: 0,\n                left: 0,\n                right: 0,\n                bottom: 0,\n                zIndex: 9999,\n                backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n            }}\n        >\n            <div\n                style={{\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    width: \"80%\",\n                    height: \"80%\",\n                    backgroundColor: \"#fff\",\n                    maxWidth: \"700px\",\n                    borderRadius: \"4px\",\n                    padding: \"16px\",\n                    paddingTop: \"32px\",\n                }}\n            >\n                <div\n                    style={{\n                        position: \"absolute\",\n                        top: 4,\n                        right: 6,\n                        width: \"32px\",\n                        height: \"32px\",\n                        fontSize: \"24px\",\n                        lineHeight: \"32px\",\n                        cursor: \"pointer\",\n                        textAlign: \"center\",\n                    }}\n                    onClick={onClose}\n                >\n                    &times;\n                </div>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport const CodeViewerComponent: CreateInferencerConfig[\"codeViewerComponent\"] =\n    ({ code: rawCode, loading }) => {\n        const code = React.useMemo(() => {\n            return prettierFormat(rawCode ?? \"\");\n        }, [rawCode]);\n\n        const inputRef = React.useRef<HTMLTextAreaElement>(null);\n\n        const [isCopied, setIsCopied] = React.useState(false);\n\n        const [isOpen, setIsOpen] = React.useState(false);\n\n        const onOpen = React.useCallback(() => {\n            setIsOpen(true);\n        }, []);\n\n        const onClose = React.useCallback(() => {\n            setIsOpen(false);\n        }, []);\n\n        if (loading) {\n            return null;\n        }\n\n        const copyCode = () => {\n            inputRef?.current?.select();\n            inputRef?.current?.setSelectionRange(0, Number.MAX_SAFE_INTEGER);\n            if (typeof navigator !== \"undefined\") {\n                navigator.clipboard.writeText(inputRef?.current?.value ?? \"\");\n                setIsCopied(true);\n                setTimeout(() => {\n                    setIsCopied(false);\n                }, 1000);\n            }\n        };\n\n        if (code) {\n            return (\n                <>\n                    <div\n                        style={{\n                            position: \"fixed\",\n                            bottom: \"12px\",\n                            right: \"64px\",\n                        }}\n                    >\n                        <div\n                            style={{\n                                display: \"flex\",\n                                flexDirection: \"row\",\n                                alignItems: \"center\",\n                                justifyContent: \"center\",\n                                width: \"100%\",\n                                height: \"100%\",\n                                gap: \"12px\",\n                            }}\n                        >\n                            <button\n                                style={{\n                                    backgroundColor: \"#fff\",\n                                    border: \"1px solid #e2e8f0\",\n                                    borderRadius: \"4px\",\n                                    padding: \"8px 16px\",\n                                    cursor: \"pointer\",\n                                    display: \"flex\",\n                                    fontFamily: \"sans-serif\",\n                                    alignItems: \"center\",\n                                }}\n                                onClick={onOpen}\n                            >\n                                <IconCode size={18} />\n                                <span\n                                    style={{\n                                        marginLeft: \"8px\",\n                                        fontSize: \"14px\",\n                                        color: \"#666B7A\",\n                                    }}\n                                >\n                                    Show Code\n                                </span>\n                            </button>\n                            <a\n                                href=\"https://github.com/refinedev/refine/discussions/3046\"\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                style={{\n                                    backgroundColor: \"#fff\",\n                                    border: \"1px solid #e2e8f0\",\n                                    borderRadius: \"4px\",\n                                    padding: \"8px 16px\",\n                                    cursor: \"pointer\",\n                                    display: \"flex\",\n                                    alignItems: \"center\",\n                                    textDecoration: \"none\",\n                                    color: \"#666B7A\",\n                                    fontFamily: \"sans-serif\",\n                                }}\n                            >\n                                <IconMessageCircle size={18} />\n                                <span\n                                    style={{\n                                        marginLeft: \"8px\",\n                                        fontSize: \"14px\",\n                                        color: \"#666B7A\",\n                                    }}\n                                >\n                                    Give Feedback\n                                </span>\n                            </a>\n                        </div>\n                    </div>\n                    <div style={{ height: \"50px\" }}></div>\n                    <Modal visible={isOpen} onClose={onClose}>\n                        <div\n                            style={{\n                                display: \"flex\",\n                                flexDirection: \"column\",\n                                alignItems: \"center\",\n                                justifyContent: \"space-between\",\n                                width: \"100%\",\n                                height: \"100%\",\n                            }}\n                        >\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    flexDirection: \"row\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    width: \"100%\",\n                                    height: \"100%\",\n                                }}\n                            >\n                                <CodeHighlight\n                                    code={code}\n                                    wrapperProps={{\n                                        style: {\n                                            width: \"100%\",\n                                            maxHeight: \"75vh\",\n                                            height: \"100%\",\n                                            overflow: \"auto\",\n                                            backgroundColor: \"rgb(30, 30, 30)\",\n                                        },\n                                    }}\n                                />\n                                <textarea\n                                    ref={inputRef}\n                                    defaultValue={(code ?? \"\").replace(\n                                        /\\\\n/g,\n                                        \"\\r\\n\",\n                                    )}\n                                    id=\"code-input\"\n                                    style={{\n                                        padding: 0,\n                                        margin: 0,\n                                        width: 0,\n                                        height: 0,\n                                        opacity: 0,\n                                        border: \"none\",\n                                        display: \"block\",\n                                    }}\n                                />\n                            </div>\n                            <div\n                                style={{\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    alignItems: \"flex-end\",\n                                    justifyContent: \"center\",\n                                    paddingTop: \"8px\",\n                                    width: \"100%\",\n                                    height: \"100%\",\n                                }}\n                            >\n                                <button\n                                    style={{\n                                        backgroundColor: \"#fff\",\n                                        border: \"1px solid #e2e8f0\",\n                                        borderRadius: \"4px\",\n                                        padding: \"8px 16px\",\n                                        cursor: \"pointer\",\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                    }}\n                                    onClick={copyCode}\n                                >\n                                    {isCopied ? (\n                                        <IconCheck size={18} />\n                                    ) : (\n                                        <IconCopy size={18} />\n                                    )}\n                                    <span\n                                        style={{\n                                            marginLeft: \"8px\",\n                                            fontSize: \"14px\",\n                                            color: \"#666B7A\",\n                                        }}\n                                    >\n                                        {isCopied ? \"Copied\" : \"Copy\"}\n                                    </span>\n                                </button>\n                            </div>\n                        </div>\n                    </Modal>\n                </>\n            );\n        }\n\n        return null;\n    };\n","import { createInferencer } from \"@/create-inferencer\";\nimport {\n    jsx,\n    componentName,\n    prettyString,\n    accessor,\n    printImports,\n    noOp,\n    getVariableName,\n    toPlural,\n    toSingular,\n} from \"@/utilities\";\n\nimport { ErrorComponent } from \"./error\";\nimport { LoadingComponent } from \"./loading\";\nimport { CodeViewerComponent } from \"./code-viewer\";\n\nimport {\n    ImportElement,\n    InferencerResultComponent,\n    InferField,\n    RendererContext,\n} from \"@/types\";\n\n/**\n * a renderer function for show page with unstyled html elements\n * @internal used internally from inferencer components\n */\nexport const renderer = ({\n    resource,\n    fields,\n    isCustomPage,\n    id,\n}: RendererContext) => {\n    const COMPONENT_NAME = componentName(\n        resource.label ?? resource.name,\n        \"show\",\n    );\n    const recordName = \"record\";\n    const imports: Array<ImportElement> = [\n        [\"React\", \"react\", true],\n        [\"useShow\", \"@refinedev/core\"],\n        [\"useResource\", \"@refinedev/core\"],\n        [\"useNavigation\", \"@refinedev/core\"],\n    ];\n\n    const relationFields: (InferField | null)[] = fields.filter(\n        (field) => field?.relation && !field?.fieldable && field?.resource,\n    );\n\n    const relationHooksCode = relationFields\n        .filter(Boolean)\n        .map((field) => {\n            if (field?.relation && !field.fieldable && field.resource) {\n                if (field.multiple) {\n                    imports.push([\"useMany\", \"@refinedev/core\"]);\n                    let ids = accessor(recordName, field.key);\n\n                    if (field.accessor) {\n                        ids = `${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => ${accessor(\n                            \"item\",\n                            undefined,\n                            field.accessor,\n                        )})`;\n                    }\n\n                    return `\n                const { data: ${getVariableName(\n                    field.key,\n                    \"Data\",\n                )}, isLoading: ${getVariableName(field.key, \"IsLoading\")} } =\n                useMany({\n                    resource: \"${field.resource.name}\",\n                    ids: ${ids} || [],\n                    queryOptions: {\n                        enabled: !!${recordName},\n                    },\n                });\n                `;\n                }\n                imports.push([\"useOne\", \"@refinedev/core\"]);\n                return `\n                const { data: ${getVariableName(\n                    field.key,\n                    \"Data\",\n                )}, isLoading: ${getVariableName(field.key, \"IsLoading\")} } =\n                useOne({\n                    resource: \"${field.resource.name}\",\n                    id: ${accessor(\n                        recordName,\n                        field.key,\n                        field.accessor,\n                        false,\n                    )} || \"\",\n                    queryOptions: {\n                        enabled: !!${recordName},\n                    },\n                });\n            `;\n            }\n            return undefined;\n        })\n        .filter(Boolean);\n\n    const renderRelationFields = (field: InferField) => {\n        if (field.relation && field.resource) {\n            const variableName = getVariableName(field.key, \"Data\");\n            const variableIsLoading = getVariableName(field.key, \"IsLoading\");\n\n            if (field.multiple) {\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                    {${variableIsLoading} ? <>Loading...</> : (\n                        <>\n                        ${(() => {\n                            if (field.relationInfer) {\n                                if (field.relationInfer?.accessor) {\n                                    if (\n                                        Array.isArray(\n                                            field.relationInfer.accessor,\n                                        )\n                                    ) {\n                                        return \"\";\n                                    } else {\n                                        const mapItemName = getVariableName(\n                                            field.key,\n                                        );\n                                        const val = accessor(\n                                            mapItemName,\n                                            undefined,\n                                            field.relationInfer.accessor,\n                                        );\n                                        return jsx`\n                                            {${variableName}?.data?.map((${mapItemName}: any) => <li key={${val}}>{${val}}</li>)}\n                                        `;\n                                    }\n                                } else {\n                                    return \"\";\n                                }\n                            } else {\n                                return \"\";\n                            }\n                        })()}\n                        </>\n                    )}\n                    </ul>\n                </div>\n                `;\n            }\n            return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <div>\n                    {${variableIsLoading} ? <>Loading...</> : (\n                        <>\n                        ${(() => {\n                            if (field.relationInfer) {\n                                if (field.relationInfer?.accessor) {\n                                    if (\n                                        Array.isArray(\n                                            field.relationInfer.accessor,\n                                        )\n                                    ) {\n                                        return `{${accessor(\n                                            `${variableName}?.data`,\n                                            undefined,\n                                            field.relationInfer.accessor,\n                                            ' + \" \" + ',\n                                        )}}`;\n                                    } else {\n                                        return `{${variableName}?.data?.${field.relationInfer.accessor}}`;\n                                    }\n                                } else {\n                                    return `{${variableName}?.data}`;\n                                }\n                            } else {\n                                return `{${variableName}?.data?.id}`;\n                            }\n                        })()}\n                        </>\n                    )}\n                    </div>\n                </div>\n                `;\n        }\n        return undefined;\n    };\n\n    const textFields = (field: InferField) => {\n        if (field.type === \"text\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => (\n                            <li key={${val}}>\n                                {${val}}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <div>\n                    {${accessor(recordName, field.key, field.accessor)}}\n                    </div>\n                </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const imageFields = (field: InferField) => {\n        if (field.type === \"image\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                    {${accessor(recordName, field.key)}?.map((item: any) => (\n                        <li key={${val}}>\n                            <img style={{ maxWidth: 200 }} src={${val}}/>\n                        </li>\n                    ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <img src={{ maxWidth: 200 }} src={${accessor(\n                        recordName,\n                        field.key,\n                        field.accessor,\n                        \" + \",\n                    )}} />\n                </div>\n                `;\n        }\n        return undefined;\n    };\n\n    const emailFields = (field: InferField) => {\n        if (field.type === \"email\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => (\n                            <li key={${val}}>\n                                <a href={\"mailto:\" + ${val}}>{${val}}</a>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <div>\n                        <a href={\"mailto:\" + ${accessor(\n                            recordName,\n                            field.key,\n                            field.accessor,\n                            \" + \",\n                        )}}>\n                            {${accessor(\n                                recordName,\n                                field.key,\n                                field.accessor,\n                                \" + \",\n                            )}}\n                        </a>\n                    </div>\n                </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const urlFields = (field: InferField) => {\n        if (field.type === \"url\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => (\n                            <li key={${val}}>\n                                <a href={${val}}>{${val}}</a>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n            <div style={{ marginTop: \"6px\" }}>\n                <h5>${prettyString(field.key)}</h5>\n                <div>\n                    <a href={${accessor(\n                        recordName,\n                        field.key,\n                        field.accessor,\n                        \" + \",\n                    )}} target=\"_blank\" rel=\"noreferrer\">\n                        {${accessor(\n                            recordName,\n                            field.key,\n                            field.accessor,\n                            \" + \",\n                        )}}\n                    </a>\n                </div>\n            </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const booleanFields = (field: InferField) => {\n        if (field.type === \"boolean\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => (\n                            <li key={${val}}>\n                                {${val} ? \"Yes\" : \"No\"}\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n            <div style={{ marginTop: \"6px\" }}>\n                <h5>${prettyString(field.key)}</h5>\n                <div>\n                {${accessor(\n                    recordName,\n                    field.key,\n                    field.accessor,\n                    \" && \",\n                )} ? \"Yes\" : \"No\"}\n                </div>\n            </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const dateFields = (field: InferField) => {\n        if (field.type === \"date\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                    {${accessor(recordName, field.key)}?.map((item: any) => (\n                        <li key={${val}}>\n                            {(new Date(${val})).toLocaleString(undefined, { timeZone: \"UTC\" })}\n                        </li>\n                    ))}\n                    </ul>\n                </div>\n            `;\n            }\n            return jsx`\n            <div style={{ marginTop: \"6px\" }}>\n                <h5>${prettyString(field.key)}</h5>\n                <div>\n                    {(new Date(${accessor(\n                        recordName,\n                        field.key,\n                        field.accessor,\n                        \" + ' ' + \",\n                    )})).toLocaleString(undefined, { timeZone: \"UTC\" })}\n                </div>\n            </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const richtextFields = (field: InferField) => {\n        if (field.type === \"richtext\") {\n            return jsx`\n            <div style={{ marginTop: \"6px\" }}>\n                <h5>${prettyString(field.key)}</h5>\n                <p>\n                {${accessor(\n                    recordName,\n                    field.key,\n                    field.accessor,\n                    ' + \" \" + ',\n                )}}\n                </p>\n            </div>\n            `;\n        }\n\n        return undefined;\n    };\n\n    const numberFields = (field: InferField) => {\n        if (field.type === \"number\") {\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor);\n                return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <ul>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any) => (\n                        <li key={${val}}>\n                            {${val}}\n                        </li>\n                        ))}\n                    </ul>\n                </div>\n                `;\n            }\n            return jsx`\n                <div style={{ marginTop: \"6px\" }}>\n                    <h5>${prettyString(field.key)}</h5>\n                    <div>\n                    {${accessor(\n                        recordName,\n                        field.key,\n                        field.accessor,\n                        ' + \" \" + ',\n                    )} ?? \"\"}\n                    </div>\n                </div>\n            `;\n        }\n        return undefined;\n    };\n\n    const wrapper = (code?: string) => {\n        if (code) {\n            return jsx`\n                ${code}\n            `;\n        }\n        return undefined;\n    };\n\n    const renderedFields: Array<string | undefined> = fields.map((field) => {\n        switch (field?.type) {\n            case \"text\":\n                return wrapper(textFields(field));\n            case \"number\":\n                return wrapper(numberFields(field));\n            case \"richtext\":\n                return wrapper(richtextFields(field));\n            case \"email\":\n                return wrapper(emailFields(field));\n            case \"image\":\n                return wrapper(imageFields(field));\n            case \"date\":\n                return wrapper(dateFields(field));\n            case \"boolean\":\n                return wrapper(booleanFields(field));\n            case \"url\":\n                return wrapper(urlFields(field));\n            case \"relation\":\n                return wrapper(renderRelationFields(field));\n            default:\n                return undefined;\n        }\n    });\n\n    const { canEdit, list } = resource ?? {};\n    const canList = !!list;\n\n    noOp(imports);\n\n    return jsx`\n    ${printImports(imports)}\n    \n    export const ${COMPONENT_NAME} = () => {\n        const { edit, list } = useNavigation();\n        ${isCustomPage ? \"\" : `const { id } = useResource();`}\n        const { queryResult } = useShow(${\n            isCustomPage\n                ? `{ \n                    resource: \"${resource.name}\", \n                    id: ${id}\n                }`\n                : \"\"\n        });\n        const { data, isLoading } = queryResult;\n\n        const ${recordName} = data?.data;\n    \n        ${relationHooksCode}\n\n        return (\n            <div style={{ padding: \"16px\" }}>\n            <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                <h1>\n                ${prettyString(toSingular(resource.label ?? resource.name))}\n                </h1>\n                <div style={{ display: \"flex\", gap: \"8px\" }}>\n                ${\n                    canList\n                        ? jsx`<button onClick={() => list(\"${\n                              resource.name\n                          }\")}>${prettyString(\n                              toPlural(resource.label ?? resource.name) +\n                                  \" list\",\n                          )}</button>`\n                        : \"\"\n                }\n                ${\n                    canEdit\n                        ? jsx`<button onClick={() => edit(\"${resource.name}\", ${\n                              isCustomPage ? `\"${id}\"` : \"id ?? ''\"\n                          })}>Edit</button>`\n                        : \"\"\n                }\n                </div>\n            </div>\n                <div>\n                    ${renderedFields.join(\"\")}\n                </div>\n            </div>\n        );\n    };\n    `;\n};\n\n/**\n * @experimental This is an experimental component\n */\nexport const ShowInferencer: InferencerResultComponent = createInferencer({\n    type: \"show\",\n    additionalScope: [],\n    codeViewerComponent: CodeViewerComponent,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    renderer,\n});\n","import * as RefineReactTable from \"@refinedev/react-table\";\nimport * as TanstackReactTable from \"@tanstack/react-table\";\n\nimport { createInferencer } from \"@/create-inferencer\";\nimport {\n    jsx,\n    componentName,\n    prettyString,\n    accessor,\n    printImports,\n    dotAccessor,\n    noOp,\n    getVariableName,\n} from \"@/utilities\";\n\nimport { ErrorComponent } from \"./error\";\nimport { LoadingComponent } from \"./loading\";\nimport { CodeViewerComponent } from \"./code-viewer\";\n\nimport {\n    InferencerResultComponent,\n    InferField,\n    ImportElement,\n    RendererContext,\n} from \"@/types\";\n\nconst getAccessorKey = (field: InferField) => {\n    return Array.isArray(field.accessor) || field.multiple\n        ? `accessorKey: \"${field.key}\"`\n        : field.accessor\n        ? `accessorKey: \"${dotAccessor(field.key, undefined, field.accessor)}\"`\n        : `accessorKey: \"${field.key}\"`;\n};\n\n/**\n * a renderer function for list page with unstyled html elements\n * @internal used internally from inferencer components\n */\nexport const renderer = ({\n    resource,\n    fields,\n    isCustomPage,\n}: RendererContext) => {\n    const COMPONENT_NAME = componentName(\n        resource.label ?? resource.name,\n        \"list\",\n    );\n    const recordName = \"tableData?.data\";\n    const imports: Array<ImportElement> = [\n        [\"React\", \"react\", true],\n        [\"IResourceComponentsProps\", \"@refinedev/core\"],\n        [\"useNavigation\", \"@refinedev/core\"],\n        [\"useTable\", \"@refinedev/react-table\"],\n        [\"ColumnDef\", \"@tanstack/react-table\"],\n        [\"flexRender\", \"@tanstack/react-table\"],\n    ];\n\n    const relationFields: (InferField | null)[] = fields.filter(\n        (field) => field?.relation && !field?.fieldable && field?.resource,\n    );\n\n    const relationHooksCode = relationFields\n        .filter(Boolean)\n        .map((field) => {\n            if (field?.relation && !field.fieldable && field.resource) {\n                imports.push([\"GetManyResponse\", \"@refinedev/core\"]);\n                imports.push([\"useMany\", \"@refinedev/core\"]);\n\n                let idsString = \"\";\n\n                if (field.multiple) {\n                    idsString = `[].concat(...(${recordName}?.map((item) => ${accessor(\n                        \"item\",\n                        field.key,\n                        field.accessor,\n                        false,\n                    )}) ?? []))`;\n                } else {\n                    idsString = `${recordName}?.map((item) => ${accessor(\n                        \"item\",\n                        field.key,\n                        field.accessor,\n                        false,\n                    )}) ?? []`;\n                }\n\n                return `\n                const { data: ${getVariableName(field.key, \"Data\")} } =\n                useMany({\n                    resource: \"${field.resource.name}\",\n                    ids: ${idsString},\n                    queryOptions: {\n                        enabled: !!${recordName},\n                    },\n                });\n                `;\n            }\n            return undefined;\n        })\n        .filter(Boolean);\n\n    const relationVariableNames = relationFields\n        ?.map((field) => {\n            if (field && field.resource) {\n                return getVariableName(field.key, \"Data\");\n            }\n            return undefined;\n        })\n        .filter(Boolean);\n\n    const renderRelationFields = (field: InferField) => {\n        if (field.relation && field.resource) {\n            const variableName = `${getVariableName(field.key, \"Data\")}?.data`;\n\n            if (Array.isArray(field.accessor)) {\n                // not handled - not possible case\n                return undefined;\n            }\n\n            const id = `id: \"${field.key}\"`;\n            const header = `header: \"${prettyString(field.key)}\"`;\n            const accessorKey = getAccessorKey(field);\n\n            let cell = \"\";\n\n            // if multiple, then map it with tagfield\n            // if not, then just show the value\n\n            if (field.multiple) {\n                let val = \"item\";\n\n                // for multiple\n                if (field?.relationInfer) {\n                    val = accessor(\n                        \"item\",\n                        undefined,\n                        field.relationInfer.accessor,\n                    );\n                }\n\n                cell = `cell: function render({ getValue, table }) {\n                    const meta = table.options.meta as {\n                        ${getVariableName(field.key, \"Data\")}: GetManyResponse;\n                    };\n\n                    ${field?.accessor ? \"try {\" : \"\"}\n\n                    const ${getVariableName(\n                        field.key,\n                        \"\",\n                    )} = getValue<any[]>()?.map((item) => {\n                        return meta.${getVariableName(\n                            field.key,\n                            \"Data\",\n                        )}?.data?.find(\n                            (resourceItems) => resourceItems.id === ${accessor(\n                                \"item\",\n                                undefined,\n                                field.accessor,\n                            )}\n                        );\n                    })\n\n\n                    return (\n                        <ul>\n                            {${getVariableName(\n                                field.key,\n                                \"\",\n                            )}?.map((item, index) => (\n                                <li key={index}>\n                                    {${val}}\n                                </li>\n                            ))}\n                        </ul>\n                    )\n                    ${\n                        field?.accessor\n                            ? \" } catch (error) { return null; }\"\n                            : \"\"\n                    }\n                }\n            `;\n            } else {\n                if (field?.relationInfer) {\n                    cell = `cell: function render({ getValue, table }) {\n                        const meta = table.options.meta as {\n                            ${getVariableName(\n                                field.key,\n                                \"Data\",\n                            )}: GetManyResponse;\n                        };\n\n                        ${field?.accessor ? \"try {\" : \"\"}\n\n                        const ${getVariableName(\n                            field.key,\n                            \"\",\n                        )} = meta.${variableName}?.find(\n                            (item) => item.id === getValue<any>(),\n                        );\n\n                        return ${accessor(\n                            getVariableName(field.key),\n                            undefined,\n                            field?.relationInfer?.accessor,\n                        )} ?? \"Loading...\";\n\n                        ${\n                            field?.accessor\n                                ? \" } catch (error) { return null; }\"\n                                : \"\"\n                        }\n                    },`;\n                } else {\n                    cell = \"\";\n                }\n            }\n\n            return `\n                {\n                    ${id},\n                    ${header},\n                    ${accessorKey},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const imageFields = (field: InferField) => {\n        if (field.type === \"image\") {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = jsx`\n                cell: function render({ getValue }) {\n                    ${field?.accessor ? \"try {\" : \"\"}\n                        return <img style={{ maxWidth: \"100px\" }} src={${accessor(\n                            \"getValue<any>()\",\n                            undefined,\n                            Array.isArray(field.accessor)\n                                ? field.accessor\n                                : undefined,\n                            \" + \",\n                        )}} />\n                    ${\n                        field?.accessor\n                            ? \" } catch (error) { return null; }\"\n                            : \"\"\n                    }\n                }\n            `;\n\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor, \" + \");\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        ${field?.accessor ? \"try {\" : \"\"}\n                            return (\n                                <ul>\n                                    {getValue<any[]>()?.map((item, index) => (\n                                        <li key={index}><img src={${val}} style={{ height: \"50px\", maxWidth: \"100px\" }} /></li>\n                                    ))}\n                                </ul>\n                            )\n                        ${\n                            field?.accessor\n                                ? \" } catch (error) { return null; }\"\n                                : \"\"\n                        }\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const emailFields = (field: InferField) => {\n        if (field.type === \"email\") {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = jsx`\n                cell: function render({ getValue }) {\n                    return <a href={\"mailto:\" + ${accessor(\n                        \"getValue<any>()\",\n                        undefined,\n                        Array.isArray(field.accessor)\n                            ? field.accessor\n                            : undefined,\n                        ' + \" \" + ',\n                    )}}>{${accessor(\n                \"getValue<any>()\",\n                undefined,\n                Array.isArray(field.accessor) ? field.accessor : undefined,\n                ' + \" \" + ',\n            )}}</a>\n                }\n            `;\n\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor, \" + \");\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <ul>\n                                {getValue<any[]>()?.map((item, index) => (\n                                    <li key={index}>\n                                        {${val}}\n                                    </li>\n                                ))}\n                            </ul>\n                        )\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const urlFields = (field: InferField) => {\n        if (field.type === \"url\") {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = jsx`\n                cell: function render({ getValue }) {\n                    return <a href={${accessor(\n                        \"getValue<any>()\",\n                        undefined,\n                        Array.isArray(field.accessor)\n                            ? field.accessor\n                            : undefined,\n                        \" + \",\n                    )}}>{${accessor(\n                \"getValue<any>()\",\n                undefined,\n                Array.isArray(field.accessor) ? field.accessor : undefined,\n                \" + \",\n            )}}</a>\n                }\n            `;\n\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor, \" + \");\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <ul>\n                                {getValue<any[]>()?.map((item, index) => (\n                                    <li key={index}>\n                                        {${val}}\n                                    </li>\n                                ))}\n                            </ul>\n                        )\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const booleanFields = (field: InferField) => {\n        if (field?.type === \"boolean\") {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = jsx`\n                cell: function render({ getValue }) {\n                    return ${accessor(\n                        \"getValue<any>()\",\n                        undefined,\n                        Array.isArray(field.accessor)\n                            ? field.accessor\n                            : undefined,\n                        \" + \",\n                    )} ? \"yes\" : \"no\"\n                }\n            `;\n\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor, \" + \");\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <ul>\n                                {getValue<any[]>()?.map((item, index) => (\n                                    <li key={index}>\n                                        {${val} ? \"yes\" : \"no\"}\n                                    </li>\n                                ))}\n                            </ul>\n                        );\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n\n        return undefined;\n    };\n\n    const dateFields = (field: InferField) => {\n        if (field.type === \"date\") {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = jsx`\n                cell: function render({ getValue }) {\n                    return (new Date(${accessor(\n                        \"getValue<any>()\",\n                        undefined,\n                        Array.isArray(field.accessor)\n                            ? field.accessor\n                            : undefined,\n                        ' + \" \" + ',\n                    )})).toLocaleString(undefined, { timeZone: \"UTC\" })\n                }\n            `;\n\n            if (field.multiple) {\n                const val = accessor(\"item\", undefined, field.accessor, \" + \");\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <ul>\n                                {getValue<any[]>()?.map((item, index) => (\n                                    <li key={index}>\n                                    {(new Date(${val})).toLocaleString(undefined, { timeZone: \"UTC\" })}\n                                    </li>\n                                ))}\n                            </ul>\n                        )\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const basicFields = (field: InferField) => {\n        if (\n            field &&\n            (field.type === \"text\" ||\n                field.type === \"number\" ||\n                field.type === \"richtext\")\n        ) {\n            const id = `id: \"${field.key}\"`;\n            const accessorKey = getAccessorKey(field);\n            const header = `header: \"${prettyString(field.key)}\"`;\n\n            let cell = \"\";\n\n            if (field.multiple) {\n                const val = accessor(\n                    \"item\",\n                    undefined,\n                    field.accessor,\n                    ' + \" \" + ',\n                );\n\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <ul>\n                                {getValue<any[]>()?.map((item, index) => (\n                                    <li key={index}>\n                                        {${val}}\n                                    </li>\n                                ))}\n                            </ul>\n                        )\n                    }\n                `;\n            }\n\n            if (!field.multiple && Array.isArray(field.accessor)) {\n                cell = `\n                    cell: function render({ getValue }) {\n                        return (\n                            <>{${accessor(\n                                \"getValue<any>()\",\n                                field.key,\n                                field.accessor,\n                            )}}</>\n                        );\n                    }\n                `;\n            }\n\n            return `\n                {\n                    ${id},\n                    ${accessorKey},\n                    ${header},\n                    ${cell}\n                }\n            `;\n        }\n        return undefined;\n    };\n\n    const { canEdit, canShow, canCreate } = resource ?? {};\n\n    const actionButtons =\n        canEdit || canShow\n            ? jsx`\n    {\n        id: \"actions\",\n        accessorKey: \"id\",\n        header: \"Actions\",\n        cell: function render({ getValue }) {\n            return (\n                <div\n                    style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        flexWrap: \"wrap\",\n                        gap: \"4px\",\n                    }}\n                >\n                ${\n                    canShow\n                        ? jsx`\n                    <button\n                        onClick={() => {\n                            show(\"${resource.name}\", getValue() as string);\n                        }}\n                    >\n                        Show\n                    </button>\n                    `\n                        : \"\"\n                }\n                    ${\n                        canEdit\n                            ? jsx`\n                            <button\n                            onClick={() => {\n                                edit(\"${resource.name}\", getValue() as string);\n                            }}\n                        >\n                            Edit\n                        </button>\n                    `\n                            : \"\"\n                    }\n                </div>\n            );\n        },\n    },\n        `\n            : \"\";\n\n    const renderedFields: Array<string | undefined> = fields.map((field) => {\n        switch (field?.type) {\n            case \"text\":\n            case \"number\":\n            case \"richtext\":\n                return basicFields(field);\n            case \"email\":\n                return emailFields(field);\n            case \"image\":\n                return imageFields(field);\n            case \"date\":\n                return dateFields(field);\n            case \"boolean\":\n                return booleanFields(field);\n            case \"url\":\n                return urlFields(field);\n            case \"relation\":\n                return renderRelationFields(field);\n            default:\n                return undefined;\n        }\n    });\n\n    noOp(imports);\n\n    return jsx`\n    ${printImports(imports)}\n    \n    export const ${COMPONENT_NAME}: React.FC<IResourceComponentsProps> = () => {\n        const columns = React.useMemo<ColumnDef<any>[]>(() => [\n            ${[...renderedFields, actionButtons].filter(Boolean).join(\",\")}\n        ], []);\n\n        ${\n            canEdit || canShow\n                ? jsx`\n        const { ${canEdit ? \"edit,\" : \"\"} ${canShow ? \"show,\" : \"\"} ${\n                      canCreate ? \"create,\" : \"\"\n                  } } = useNavigation();\n        `\n                : \"\"\n        }\n\n        const {\n            getHeaderGroups,\n            getRowModel,\n            setOptions,\n            refineCore: {\n                tableQueryResult: { data: tableData },\n            },\n            getState,\n            setPageIndex,\n            getCanPreviousPage,\n            getPageCount,\n            getCanNextPage,\n            nextPage,\n            previousPage,\n            setPageSize,\n            getColumn,\n        } = useTable({\n            columns,\n            ${\n                isCustomPage\n                    ? `\n            refineCoreProps: {\n                resource: \"${resource.name}\",\n            }\n            `\n                    : \"\"\n            }\n            \n        });\n\n        ${relationHooksCode}\n\n        setOptions((prev) => ({\n            ...prev,\n            meta: {\n                ...prev.meta,\n                ${relationVariableNames.join(\", \")}\n            },\n        }));\n\n        return (\n            <div style={{ padding: \"16px\" }}>\n            <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                <h1>${prettyString(resource.label ?? resource.name)}</h1>\n                ${\n                    canCreate\n                        ? jsx`<button onClick={() => create(\"${resource.name}\")}>Create</button>`\n                        : \"\"\n                }\n            </div>\n                <div style={{ maxWidth: \"100%\", overflowY: \"scroll\" }}>\n                    <table>\n                        <thead>\n                            {getHeaderGroups().map((headerGroup) => (\n                                <tr key={headerGroup.id}>\n                                    {headerGroup.headers.map((header) => (\n                                        <th key={header.id}>\n                                            {!header.isPlaceholder && (\n                                                flexRender(\n                                                    header.column.columnDef\n                                                        .header,\n                                                    header.getContext(),\n                                                )\n                                            )}\n                                        </th>\n                                    ))}\n                                </tr>\n                            ))}\n                        </thead>\n                        <tbody>\n                            {getRowModel().rows.map((row) => (\n                                <tr key={row.id}>\n                                    {row.getVisibleCells().map((cell) => (\n                                        <td key={cell.id}>\n                                            {flexRender(\n                                                cell.column.columnDef.cell,\n                                                cell.getContext(),\n                                            )}\n                                        </td>\n                                    ))}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n                <div style={{ marginTop: \"12px\" }}>\n                    <button\n                        onClick={() => setPageIndex(0)}\n                        disabled={!getCanPreviousPage()}\n                    >\n                        {\"<<\"}\n                    </button>\n                    <button\n                        onClick={() => previousPage()}\n                        disabled={!getCanPreviousPage()}\n                    >\n                        {\"<\"}\n                    </button>\n                    <button onClick={() => nextPage()} disabled={!getCanNextPage()}>\n                        {\">\"}\n                    </button>\n                    <button\n                        onClick={() => setPageIndex(getPageCount() - 1)}\n                        disabled={!getCanNextPage()}\n                    >\n                        {\">>\"}\n                    </button>\n                    <span>\n                        Page\n                        <strong>\n                            {getState().pagination.pageIndex + 1} of{\" \"}\n                            {getPageCount()}\n                        </strong>\n                    </span>\n                    <span>\n                        | Go to page:\n                        <input\n                            type=\"number\"\n                            defaultValue={getState().pagination.pageIndex + 1}\n                            onChange={(e) => {\n                                const page = e.target.value\n                                    ? Number(e.target.value) - 1\n                                    : 0;\n                                setPageIndex(page);\n                            }}\n                        />\n                    </span>{\" \"}\n                    <select\n                        value={getState().pagination.pageSize}\n                        onChange={(e) => {\n                            setPageSize(Number(e.target.value));\n                        }}\n                    >\n                        {[10, 20, 30, 40, 50].map((pageSize) => (\n                            <option key={pageSize} value={pageSize}>\n                                Show {pageSize}\n                            </option>\n                        ))}\n                    </select>\n                </div>\n            </div>   \n        );\n    };\n    `;\n};\n\n/**\n * @experimental This is an experimental component\n */\nexport const ListInferencer: InferencerResultComponent = createInferencer({\n    type: \"list\",\n    additionalScope: [\n        [\"@refinedev/react-table\", \"RefineReactTable\", RefineReactTable],\n        [\"@tanstack/react-table\", \"TanstackReactTable\", TanstackReactTable],\n    ],\n    codeViewerComponent: CodeViewerComponent,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    renderer,\n});\n","import * as RefineCore from \"@refinedev/core\";\nimport * as RefineReactHookForm from \"@refinedev/react-hook-form\";\n\nimport { createInferencer } from \"@/create-inferencer\";\nimport {\n    jsx,\n    componentName,\n    prettyString,\n    accessor,\n    printImports,\n    toSingular,\n    isIDKey,\n    dotAccessor,\n    getOptionLabel,\n    noOp,\n    getVariableName,\n    toPlural,\n} from \"@/utilities\";\n\nimport { ErrorComponent } from \"./error\";\nimport { LoadingComponent } from \"./loading\";\nimport { CodeViewerComponent } from \"./code-viewer\";\n\nimport {\n    InferencerResultComponent,\n    InferField,\n    ImportElement,\n    RendererContext,\n} from \"@/types\";\n\n/**\n * a renderer function for create page with unstyled html elements\n * @internal used internally from inferencer components\n */\nexport const renderer = ({\n    resource,\n    fields,\n    isCustomPage,\n}: RendererContext) => {\n    const COMPONENT_NAME = componentName(\n        resource.label ?? resource.name,\n        \"create\",\n    );\n    const imports: Array<ImportElement> = [\n        [\"React\", \"react\", true],\n        [\"useNavigation\", \"@refinedev/core\"],\n        [\"useForm\", \"@refinedev/react-hook-form\"],\n    ];\n\n    const relationFields: (InferField | null)[] = fields.filter(\n        (field) => field?.relation && !field?.fieldable && field?.resource,\n    );\n\n    const relationHooksCode = relationFields\n        .filter(Boolean)\n        .map((field) => {\n            if (field?.relation && !field.fieldable && field.resource) {\n                imports.push([\"useSelect\", \"@refinedev/core\"]);\n\n                return `\n                const { options: ${getVariableName(field.key, \"Options\")} } =\n                useSelect({\n                    resource: \"${field.resource.name}\",\n                    ${getOptionLabel(field)}\n                });\n            `;\n            }\n            return undefined;\n        })\n        .filter(Boolean);\n\n    const renderRelationFields = (field: InferField) => {\n        if (field.relation && field.resource) {\n            imports.push([\"useSelect\", \"@refinedev/core\"]);\n\n            const variableName = getVariableName(field.key, \"Options\");\n\n            return jsx`\n            <label>\n                <span style={{ marginRight: \"8px\" }}>\n                    ${prettyString(field.key)}\n                </span>\n                <select\n                    placeholder=\"Select ${toSingular(field.resource.name)}\"\n                    {...register(\"${dotAccessor(\n                        field.key,\n                        undefined,\n                        field.accessor,\n                    )}\", {\n                        required: ${\n                            field.multiple\n                                ? \"false\"\n                                : '\"This field is required\"'\n                        },\n                    })}\n                >\n                    {${variableName}?.map((option) => (\n                        <option value={option.value} key={option.value}>\n                            {option.label}\n                        </option>\n                    ))}\n                </select>\n                <span style={{ color: \"red\" }}>\n                    {${accessor(\n                        \"(errors as any)\",\n                        field.key,\n                        field.accessor,\n                        false,\n                    )}?.message as string}\n                </span>\n            </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const basicInputFields = (field: InferField) => {\n        if (\n            field.type === \"text\" ||\n            field.type === \"url\" ||\n            field.type === \"email\" ||\n            field.type === \"number\" ||\n            field.type === \"date\" ||\n            field.type === \"richtext\"\n        ) {\n            if (isIDKey(field.key)) {\n                return undefined;\n            }\n\n            if (field.multiple) {\n                return undefined;\n            }\n\n            const inp = field.type === \"richtext\" ? \"textarea\" : \"input\";\n\n            return jsx`\n                <label>\n                    <span style={{ marginRight: \"8px\" }}>\n                        ${prettyString(field.key)}\n                    </span>\n                    <${inp}\n                        ${\n                            field.type !== \"date\" && field.type !== \"richtext\"\n                                ? `type=\"${field.type}\"`\n                                : \"\"\n                        }\n                        ${\n                            inp === \"textarea\"\n                                ? `\n                            rows={5}\n                            cols={33}\n                            style={{ verticalAlign: \"top\" }}\n                        `\n                                : \"\"\n                        }\n                        {...register(\"${dotAccessor(\n                            field.key,\n                            undefined,\n                            field.accessor,\n                        )}\", {\n                            required: \"This field is required\",\n                            ${\n                                field.type === \"number\"\n                                    ? \"valueAsNumber: true,\"\n                                    : \"\"\n                            }\n                        })}\n\n                    />\n                    <span style={{ color: \"red\" }}>\n                        {${accessor(\n                            \"(errors as any)\",\n                            field.key,\n                            field.accessor,\n                            false,\n                        )}?.message as string}\n                    </span>\n                </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const booleanFields = (field: InferField) => {\n        if (field.type === \"boolean\") {\n            if (field.multiple) {\n                return undefined;\n            }\n\n            return jsx`\n                <label>\n                    <span style={{ marginRight: \"8px\" }}>\n                        ${prettyString(field.key)}\n                    </span>\n                    <input\n                        type=\"checkbox\"\n                        {...register(\"${dotAccessor(\n                            field.key,\n                            undefined,\n                            field.accessor,\n                        )}\", {\n                            required: \"This field is required\",\n                        })}\n                    />\n                    <span style={{ color: \"red\" }}>\n                        {${accessor(\n                            \"errors\",\n                            field.key,\n                            field.accessor,\n                            false,\n                        )}?.message as string}\n                    </span>\n                </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const renderedFields: Array<string | undefined> = fields.map((field) => {\n        switch (field?.type) {\n            case \"text\":\n            case \"number\":\n            case \"email\":\n            case \"url\":\n            case \"richtext\":\n            case \"date\":\n                return basicInputFields(field);\n            case \"boolean\":\n                return booleanFields(field);\n            case \"relation\":\n                return renderRelationFields(field);\n            default:\n                return undefined;\n        }\n    });\n\n    const canList = !!resource.list;\n\n    noOp(imports);\n\n    return jsx`\n    ${printImports(imports)}\n    \n    export const ${COMPONENT_NAME} = () => {\n        ${\n            canList\n                ? `\n        const { list } = useNavigation();\n        `\n                : \"\"\n        }\n        const {\n            refineCore: { onFinish, formLoading },\n            register,\n            handleSubmit,\n            resetField,\n            formState: { errors },\n        } = useForm(\n            ${\n                isCustomPage\n                    ? `\n            { \n                refineCoreProps: {\n                    resource: \"${resource.name}\",\n                    action: \"create\",\n                }\n            }`\n                    : \"\"\n            }\n        );\n    \n        ${relationHooksCode}\n\n        return (\n            <div style={{ padding: \"16px\" }}>\n                <div style={{ display: \"flex\", justifyContent: ${\n                    canList ? '\"space-between\"' : '\"flex-start\"'\n                } }}>\n                    <h1>\n                        ${prettyString(\n                            toSingular(resource.label ?? resource.name) +\n                                \" Create\",\n                        )}\n                    </h1>\n                    ${\n                        canList\n                            ? jsx`\n                            <div>\n                        <button\n                                onClick={() => {\n                                    list(\"${resource.name}\");\n                                }}\n                        >\n                            ${prettyString(\n                                toPlural(resource.label ?? resource.name) +\n                                    \" List\",\n                            )}\n                        </button>\n                        </div>\n                    `\n                            : \"\"\n                    }\n                </div>\n                <form onSubmit={handleSubmit(onFinish)}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\n                        ${renderedFields.join(\"\")}\n                        <div>\n                            <input type=\"submit\" value=\"Save\" />\n                        </div>\n                    </div>\n                </form>\n            </div>\n        );\n    };\n    `;\n};\n\n/**\n * @experimental This is an experimental component\n */\nexport const CreateInferencer: InferencerResultComponent = createInferencer({\n    type: \"create\",\n    additionalScope: [\n        [\"@refinedev/core\", \"RefineCore\", RefineCore],\n        [\n            \"@refinedev/react-hook-form\",\n            \"RefineReactHookForm\",\n            RefineReactHookForm,\n        ],\n    ],\n    codeViewerComponent: CodeViewerComponent,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    renderer,\n});\n","import * as RefineCore from \"@refinedev/core\";\nimport * as RefineReactHookForm from \"@refinedev/react-hook-form\";\nimport * as ReactHookForm from \"react-hook-form\";\n\nimport { createInferencer } from \"@/create-inferencer\";\nimport {\n    jsx,\n    componentName,\n    prettyString,\n    accessor,\n    printImports,\n    toSingular,\n    isIDKey,\n    dotAccessor,\n    getOptionLabel,\n    noOp,\n    getVariableName,\n    toPlural,\n} from \"@/utilities\";\n\nimport { ErrorComponent } from \"./error\";\nimport { LoadingComponent } from \"./loading\";\nimport { CodeViewerComponent } from \"./code-viewer\";\n\nimport {\n    InferencerResultComponent,\n    InferField,\n    ImportElement,\n    RendererContext,\n} from \"@/types\";\n\n/**\n * a renderer function for edit page with unstyled html elements\n * @internal used internally from inferencer components\n */\nexport const renderer = ({\n    resource,\n    fields,\n    isCustomPage,\n    id,\n}: RendererContext) => {\n    const COMPONENT_NAME = componentName(\n        resource.label ?? resource.name,\n        \"edit\",\n    );\n    const recordName = getVariableName(resource.label ?? resource.name, \"Data\");\n    const imports: Array<ImportElement> = [\n        [\"React\", \"react\", true],\n        [\"useNavigation\", \"@refinedev/core\"],\n        [\"useForm\", \"@refinedev/react-hook-form\"],\n    ];\n\n    const relationFields: (InferField | null)[] = fields.filter(\n        (field) => field?.relation && !field?.fieldable && field?.resource,\n    );\n\n    const relationHooksCode = relationFields\n        .filter(Boolean)\n        .map((field) => {\n            if (field?.relation && !field.fieldable && field.resource) {\n                imports.push([\"useSelect\", \"@refinedev/core\"]);\n                let val = accessor(\n                    recordName,\n                    field.key,\n                    field.accessor,\n                    false,\n                );\n\n                if (field.multiple && field.accessor) {\n                    val = `${accessor(\n                        recordName,\n                        field.key,\n                    )}?.map((item: any) => ${accessor(\n                        \"item\",\n                        undefined,\n                        field.accessor,\n                    )})`;\n                }\n\n                return `\n                const { options: ${getVariableName(field.key, \"Options\")} } =\n                useSelect({\n                    resource: \"${field.resource.name}\",\n                    defaultValue: ${val},\n                    ${getOptionLabel(field)}\n                });\n\n                React.useEffect(() => {\n                    resetField(\"${dotAccessor(\n                        field.key,\n                        undefined,\n                        field.accessor,\n                    )}\");\n                }, [${getVariableName(field.key, \"Options\")}]);\n            `;\n            }\n            return undefined;\n        })\n        .filter(Boolean);\n\n    const renderRelationFields = (field: InferField) => {\n        if (field.relation && field.resource) {\n            imports.push([\"useSelect\", \"@refinedev/core\"]);\n\n            const variableName = getVariableName(field.key, \"Options\");\n\n            return jsx`\n            <label>\n                <span style={{ marginRight: \"8px\" }}>${prettyString(\n                    field.key,\n                )}</span>\n                <select\n                    placeholder=\"Select ${toSingular(field.resource.name)}\"\n                    {...register(\"${dotAccessor(\n                        field.key,\n                        undefined,\n                        field.accessor,\n                    )}\", {\n                        required: ${\n                            field.multiple\n                                ? \"false\"\n                                : '\"This field is required\"'\n                        },\n                    })}\n                >\n                    {${variableName}?.map((option) => (\n                        <option value={option.value} key={option.value}>\n                            {option.label}\n                        </option>\n                    ))}\n                </select>\n                <span style={{ color: \"red\" }}>\n                    {${accessor(\n                        \"(errors as any)\",\n                        field.key,\n                        field.accessor,\n                        false,\n                    )}?.message as string}\n                </span>\n            </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const basicInputFields = (field: InferField) => {\n        if (\n            field.type === \"text\" ||\n            field.type === \"url\" ||\n            field.type === \"email\" ||\n            field.type === \"number\" ||\n            field.type === \"date\" ||\n            field.type === \"richtext\"\n        ) {\n            if (field.multiple) {\n                const val = dotAccessor(field.key, \"${index}\", field.accessor);\n\n                const valError = accessor(\n                    accessor(\"(errors as any)\", field.key, undefined, false) +\n                        \"?.[index]\",\n                    undefined,\n                    field.accessor,\n                );\n\n                return `\n                    <>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any, index: number) => (\n                            <label key={index}>\n                                <span style={{ marginRight: \"8px\" }}>\n                                    ${prettyString(field.key)} #{index + 1}\n                                </span>\n                                <input ${\n                                    field.type !== \"richtext\"\n                                        ? `\n                                type=\"${\n                                    field.type !== \"date\" ? field.type : \"text\"\n                                }\"\n                                `\n                                        : \"\"\n                                } {...register(\\`${val}\\`, { required: \"This field is required\", ${\n                    field.type === \"number\" ? \"valueAsNumber: true,\" : \"\"\n                } })} />\n                                <span style={{color: \"red\"}}>\n                                {${accessor(valError, \"message\")} as string}\n                                </span>\n                            </label>\n                        ))}\n                    </>\n                `;\n            }\n            const inp = field.type === \"richtext\" ? \"textarea\" : \"input\";\n            return jsx`\n            <label>\n                <span style={{ marginRight: \"8px\" }}>${prettyString(\n                    field.key,\n                )}</span>\n                <${inp}\n                ${isIDKey(field.key) ? \"disabled\" : \"\"}\n                ${\n                    field.type !== \"date\" && field.type !== \"richtext\"\n                        ? `type=\"${field.type}\"`\n                        : \"\"\n                }\n                ${\n                    inp === \"textarea\"\n                        ? `\n                    rows={5}\n                    cols={33}\n                    style={{ verticalAlign: \"top\" }}\n                `\n                        : \"\"\n                }\n                {...register(\"${dotAccessor(\n                    field.key,\n                    undefined,\n                    field.accessor,\n                )}\", {\n                    required: \"This field is required\",\n                    ${field.type === \"number\" ? \"valueAsNumber: true,\" : \"\"}\n                })}\n                />\n                <span style={{ color: \"red\" }}>\n                {${accessor(\n                    \"(errors as any)\",\n                    field.key,\n                    field.accessor,\n                    false,\n                )}?.message as string}\n                </span>\n            </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const booleanFields = (field: InferField) => {\n        if (field.type === \"boolean\") {\n            if (field.multiple) {\n                const val = dotAccessor(field.key, undefined, field.accessor);\n\n                const errorVal =\n                    accessor(\"(errors as any)\", field.key, undefined, false) +\n                    \"?.[index]\";\n\n                return `\n                    <>\n                        {${accessor(\n                            recordName,\n                            field.key,\n                        )}?.map((item: any, index: number) => (\n                            <label key={index}>\n                            <span style={{ marginRight: \"8px\" }}>\n                            ${prettyString(field.key)} #{index + 1}\n                            </span>\n                            <input\n                                type=\"checkbox\"\n                                {...register(\\`${val}.\\${index}\\`, {\n                                    required: \"This field is required\",\n                                })}\n                            />\n                            <span style={{ color: \"red\" }}>\n                                {${errorVal}?.message as string}\n                            </span>\n                        ))}\n                    </>\n                `;\n            }\n\n            return jsx`\n            <label>\n                <span style={{ marginRight: \"8px\" }}>${prettyString(\n                    field.key,\n                )}</span>\n                <input type=\"checkbox\" {...register(\"${dotAccessor(\n                    field.key,\n                    undefined,\n                    field.accessor,\n                )}\", {\n                    required: \"This field is required\",\n                })} />\n                <span style={{ color: \"red\" }}>\n                    {${accessor(\n                        \"errors\",\n                        field.key,\n                        field.accessor,\n                        false,\n                    )}?.message as string}\n                </span>\n            </label>\n            `;\n        }\n        return undefined;\n    };\n\n    const renderedFields: Array<string | undefined> = fields.map((field) => {\n        switch (field?.type) {\n            case \"text\":\n            case \"number\":\n            case \"email\":\n            case \"url\":\n            case \"richtext\":\n            case \"date\":\n                return basicInputFields(field);\n            case \"boolean\":\n                return booleanFields(field);\n            case \"relation\":\n                return renderRelationFields(field);\n            default:\n                return undefined;\n        }\n    });\n\n    const canList = !!resource.list;\n\n    noOp(imports);\n\n    return jsx`\n    ${printImports(imports)}\n    \n    export const ${COMPONENT_NAME} = () => {\n        ${\n            canList\n                ? `\n        const { list } = useNavigation();\n        `\n                : \"\"\n        }\n        const {\n            refineCore: { onFinish, formLoading, queryResult },\n            register,\n            handleSubmit,\n            resetField,\n            formState: { errors },\n        } = useForm(\n            ${\n                isCustomPage\n                    ? `\n            { \n                refineCoreProps: {\n                    resource: \"${resource.name}\",\n                    id: ${id},\n                    action: \"edit\",\n                }\n            }`\n                    : \"\"\n            }\n        );\n    \n        const ${recordName} = queryResult?.data?.data;\n    \n        ${relationHooksCode}\n\n        return (\n            <div style={{ padding: \"16px\" }}>\n                <div style={{ display: \"flex\", justifyContent: ${\n                    canList ? '\"space-between\"' : '\"flex-start\"'\n                } }}>\n                    <h1>\n                        ${prettyString(\n                            toSingular(resource.label ?? resource.name) +\n                                \" Edit\",\n                        )}\n                    </h1>\n                    ${\n                        canList\n                            ? jsx`\n                    <div>\n                        <button\n                                onClick={() => {\n                                    list(\"${resource.name}\");\n                                }}\n                        >\n                            ${prettyString(\n                                toPlural(resource.label ?? resource.name) +\n                                    \" List\",\n                            )}\n                        </button>\n                    </div>\n                    `\n                            : \"\"\n                    }\n                </div>\n                <form onSubmit={handleSubmit(onFinish)}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}>\n                        ${renderedFields.join(\"\")}\n                        <div>\n                            <input type=\"submit\" value=\"Save\" />\n                        </div>\n                    </div>\n                </form>\n            </div>\n        );\n    };\n    `;\n};\n\n/**\n * @experimental This is an experimental component\n */\nexport const EditInferencer: InferencerResultComponent = createInferencer({\n    type: \"edit\",\n    additionalScope: [\n        [\"@refinedev/core\", \"RefineCore\", RefineCore],\n        [\n            \"@refinedev/react-hook-form\",\n            \"RefineReactHookForm\",\n            RefineReactHookForm,\n        ],\n        [\"react-hook-form\", \"ReactHookForm\", ReactHookForm],\n    ],\n    codeViewerComponent: CodeViewerComponent,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    renderer,\n});\n"],"mappings":"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","names":["src_exports","__export","AuthPage","Authenticated","CanAccess","ErrorComponent","GitHubBanner","LayoutWrapper","LoginPage","ReadyPage","Refine","ResourceContext","RouteChangeHandler","UndoableQueue","WelcomePage","createTreeView","file2Base64","getDefaultFilter","getDefaultSortOrder","getNextPageParam","getPreviousPageParam","handleUseParams","importCSVMapper","legacyResourceTransform","matchResourceFromRoute","parseTableParams","parseTableParamsFromQuery","pickNotDeprecated","routeGenerator","setInitialFilters","setInitialSorters","stringifyTableParams","unionFilters","unionSorters","useActiveAuthProvider","useApiUrl","useAuthenticated","useBack","useBreadcrumb","useCan","useCanWithoutCache","useCancelNotification","useCheckError","useCreate","useCreateMany","useCustom","useCustomMutation","useDataProvider","useDelete","useDeleteMany","useExport","useForgotPassword","useForm","useGetIdentity","useGetLocale","useGetToPath","useGo","useHandleNotification","useImport","useInfiniteList","useInvalidate","useIsAuthenticated","useIsExistAuthentication","useLink","useList","useLiveMode","useLog","useLogList","useLogin","useLogout","useMany","useMenu","useModal","useMutationMode","useNavigation","useNotification","useOnError","useOne","useParse","useParsed","usePermissions","usePublish","useRedirectionAfterSubmission","useRefineContext","useRegister","useResource","useResourceSubscription","useResourceWithRoute","useRouterContext","useRouterType","useSelect","useSetLocale","useShow","useSubscription","useSyncWithLocation","useTable","useTitle","useToPath","useTranslate","useUpdate","useUpdateMany","useUpdatePassword","useWarnAboutChange","userFriendlyResourceName","module","__toCommonJS","import_react","A","LegacyAuthContext","at","React","LegacyAuthContextProvider","children","isProvided","authOperations","replace","loginFunc","params","_a","error","registerFunc","logoutFunc","checkAuthFunc","AuthBindingsContext","AuthBindingsContextProvider","authBindings","handleLogin","handleRegister","handleLogout","handleCheck","result","handleForgotPassword","handleUpdatePassword","useLegacyAuthContext","useAuthBindingsContext","import_react_query","v3LegacyAuthProviderCompatible","options","legacyGetPermission","getPermissions","queryResponse","oo","legacyQueryResponse","queryOptions","legacyGetUserIdentity","getIdentity","no","useInvalidateAuthStore","queryClient","gn","mutationOptions","invalidateAuthStore","routerType","go","push","open","close","legacyLogoutFromContext","logoutFromContext","mutation","ao","data","variables","success","redirectTo","redirectPath","redirect","buildNotification","v3LegacyAuthProviderCompatibleMutation","import_qs","parsed","useLocation","search","legacyLoginFromContext","loginFromContext","to","Tn","Rn","qs","uo","redirectPathFromAuth","legacyRegisterFromContext","registerFromContext","co","v3LegacyAuthProviderCompatibleForgotPasswordFromContext","forgotPasswordFromContext","mo","legacyUpdatePasswordFromContext","updatePasswordFromContext","Pn","queryStrings","xn","yo","checkAuth","check","legacyCheckErrorFromContext","onErrorFromContext","legacyLogout","logout","Ro","shouldLogout","legacyIsProvided","userFriendlySecond","miliseconds","import_zip","import_fromPairs","mapData","item","headers","body","entry","vn","fromPairs","hn","zip","index","array","import_pluralize","import_unionWith","import_differenceWith","import_warn_once","url","current","pageSize","sorter","sorters","filters","xr","pagination","rest","compareFilters","left","right","compareSorters","permanentFilter","newFilters","prevFilters","f","Dn","warnOnce","To","unionWith","crudFilter","permanentSorter","newSorters","crudSorter","defaultFilter","Po","differenceWith","defaultSorter","columnName","sortItem","operatorType","filter","operator","field","file","resolve","reject","reader","resultHandler","resource","type","humanizeResource","humanizeString","xo","pluralize","args","arg","queryKeys","dataProviderName","meta","metaData","providerName","keys","config","ids","id","hasPermission","permissions","action","i","isParameter","segment","splitToSegments","path","isSegmentCountsSame","route","resourceRoute","routeSegments","resourceRouteSegments","removeLeadingTrailingSlashes","checkBySegments","stdRoute","stdResourceRoute","getDefaultActionPath","resourceName","parentPrefix","cleanParentPrefix","getParentResource","resources","_b","parentName","parentResource","getParentPrefixForResource","legacy","parents","parent","v","getActionRoutesFromResource","actions","actionList","_c","_d","pickMatchedRoute","routes","sanitizedRoutes","segmentsCount","eligibleRoutes","nonParametrizedRoutes","allFound","actionRoute","mostEligible","resourcesFromProps","tree","resourcesRouteObject","resourcesNameObject","child","name","text","DefaultLayout","Sn","defaultRefineOptions","RefineContext","Eo","RefineContextProvider","hasDashboard","mutationMode","warnWhenUnsavedChanges","syncWithLocation","undoableTimeout","DashboardPage","Title","Layout","Header","Sider","Footer","OffLayoutArea","catchAll","liveMode","onLiveEvent","handleRefineOptions","disableTelemetry","reactQueryClientConfig","reactQueryDevtoolConfig","_e","_f","_g","_h","_i","_j","_k","_l","_m","_n","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","optionsWithDefaults","disableTelemetryWithDefault","reactQueryWithDefaults","redirectPage","redirectFromProps","redirectOptions","sequentialPromises","promises","onEachResolve","onEachReject","results","promise","pickResource","identifier","r","pickDataProvider","handleMultiple","res","lastPage","cursor","totalPages","_resources","pickRouteParams","s","prepareRouteParams","routeParams","acc","key","value","composeRoute","designatedRoute","preparedRouteParams","match","fromParams","legacyAuthProvider","authProvider","handlePaginationParams","hasPagination","configPagination","hasPaginationString","mode","successNotification","errorNotification","liveParams","dataProvider","translate","checkError","handleNotification","pickedDataProvider","preferredMeta","prefferedFilters","prefferedSorters","prefferedHasPagination","prefferedPagination","isServerPagination","notificationValues","isEnabled","queryKey","getList","Vn","pageParam","signal","rawData","notificationConfig","err","getOne","Fn","getMany","Nn","import_isEqual","UndoableQueueContext","Dt","initialState","undoableQueueReducer","state","notificationItem","Dr","isEqual","UndoableQueueContextProvider","notifications","notificationDispatch","notificationData","notification","Mr","mutationModeContext","undoableTimeoutContext","publish","log","invalidateStore","values","onCancel","mutationModePropOrContext","undoableTimeoutPropOrContext","doMutation","cancelMutation","previousQueries","previous","record","_data","_error","invalidates","context","resourceSingular","So","previousData","queryData","fields","operation","query","On","successNotificationFromProp","ko","errorNotificationFromProp","Ur","Qo","Hn","selectedDataProvider","val","response","resourcePlural","Wn","Ar","mutationFn","Bo","wr","Gn","getApiUrl","method","custom","jn","Jn","defaultDataProvider","DataContext","Vo","DataContextProvider","dataProviders","Sr","qn","paginationProperties","total","LiveContext","Fo","LiveContextProvider","liveProvider","channel","types","enabled","liveModeFromProp","rs","liveDataContext","qt","liveModeFromContext","onLiveEventContextCallback","subscription","event","os","kr","liveContext","ns","useMemoized","ref","ss","as","useDeepMemo","fn","dependencies","memoizedDependencies","us","Oo","ResourceContextProvider","providedResources","RouterPickerContext","Ko","RouterPickerProvider","defaultBindings","RouterBindingsContext","Br","RouterBindingsProvider","router","bindings","Vr","parse","fs","ys","oldProps","resourceWithRoute","useParams","legacyParams","resourceKeyToCheck","legacyResource","legacyId","legacyAction","legacyResourceName","pickedFromProps","Nr","gs","NotificationContext","Or","NotificationContextProvider","Ts","Ps","fallbackNotification","TranslationContext","Ho","TranslationContextProvider","i18nProvider","Kr","lang","Hr","defaultMessage","Wr","hs","UnsavedWarnContext","tr","UnsavedWarnContextProvider","warnWhen","setWarnWhen","$o","Ds","Ls","Es","import_export_to_csv_fix_source_map","resourceFromProps","maxItemCount","exportOptions","onError","isLoading","setIsLoading","Us","filename","preparingData","Is","actionFromProps","idFromProps","onMutationSuccess","onMutationError","mutationModeProp","createMutationOptions","updateMutationOptions","resourceFromRouter","idFromRouter","actionFromRouter","legacyResourceFromRoute","legacyActionFromRoute","legacyIdFromParams","newResourceNameFromRouter","defaultId","setId","Go","fallbackAction","picked","isCreate","isEdit","isClone","designatedRedirectAction","enableQuery","queryResult","isFetchingQuery","mutationResultCreate","mutateCreate","isLoadingCreate","mutationResultUpdate","mutateUpdate","isLoadingUpdate","handleSubmitWithRedirect","onSuccess","_","responseId","idFromFunction","show","edit","list","create","As","Gr","zr","useHistory","history","back","handleUrl","createUrl","resourceItem","createActionRoute","editUrl","encodedId","editActionRoute","cloneUrl","cloneActionRoute","showUrl","showActionRoute","listUrl","listActionRoute","resourceFromProp","showId","setShowId","jr","import_papaparse","import_chunk","paparseOptions","batchSize","onFinish","onProgress","processedAmount","setProcessedAmount","It","totalAmount","setTotalAmount","createMany","mutationResult","handleCleanup","handleFinish","createdValues","handleChange","ws","valueFns","currentAmount","chunks","Ss","chunk","chunkedFns","chunkedValues","currentBatchLength","defaultVisible","visible","setVisible","rr","resourceFromRoute","ks","selectedResource","Yr","defaultProvider","LegacyRouterContext","RouterContext","LegacyRouterContextProvider","Prompt","Link","routerContextValues","Vs","AccessControlContext","jo","AccessControlContextProvider","can","sanitizeResource","icon","clone","restResource","_metaIcon","restMeta","_optionsIcon","restOptions","Os","_resource","paramsRest","sanitizedResource","Ks","Hs","import_uniqBy","import_debounce","import_get","props","setSearch","je","setOptions","selectedOptions","setSelectedOptions","sort","optionLabel","optionValue","debounceValue","defaultValueQueryOptionsFromProps","fetchSize","defaultValue","onSearchFromProp","pickedResource","defaultValues","defaultValueQueryOnSuccess","nr","get","defaultValueQueryOptions","defaultValueQueryResult","defaultQueryOnSuccess","onSearch","Ws","uniqBy","$s","debounce","defaultPermanentFilter","defaultPermanentSorter","initialCurrent","initialPageSize","initialSorter","defaultSetFilterBehavior","initialFilter","filtersFromProp","sortersFromProp","syncWithLocationProp","syncWithLocationContext","pathname","parsedParams","isPaginationEnabled","prefferedCurrent","prefferedPageSize","parsedCurrent","parsedPageSize","parsedSorter","parsedFilters","preferredInitialFilters","preferredPermanentFilters","preferredInitialSorters","preferredPermanentSorters","prefferedFilterBehavior","defaultCurrent","defaultPageSize","resourceInUse","Ve","setSorters","setFilters","setCurrent","setPageSize","createLinkForSyncWithLocation","currentQueryParams","Jo","stringifyParams","queryParams","sr","ar","setFiltersAsMerge","setFiltersAsReplace","setFiltersWithSetter","setter","prev","setFiltersFn","setterOrFilters","behavior","setSortWithUnion","newSorter","AuditLogContext","Xo","AuditLogContextProvider","update","logMutationOptions","renameMutationOptions","ir","auditLogContext","Zo","identityData","refetch","logPermissions","authorData","rename","author","Ys","Js","Zs","Xs","metaFromProps","breadcrumbs","addBreadcrumb","grandParentName","listActionOfResource","hrefRaw","href","actionLabel","ea","createResourceKey","currentParentResource","createTree","root","currentParent","currentTree","flatten","items","itemKey","getCleanPath","hideOnMissingParameter","getToPath","legacyPath","cleanPathname","cleanRoute","selectedKey","defaultOpenKeys","Jr","prepareItem","composed","treeItems","treeMenuItems","prepare","preparedNodes","newItem","errorMessage","setErrorMessage","Fe","username","setUsername","ie","password","setPassword","login","e","providers","registerLink","forgotPasswordLink","rememberMe","contentProps","wrapperProps","renderContent","formProps","LegacyLink","ActiveLink","email","setEmail","j","remember","setRemember","renderLink","link","renderProviders","provider","content","RegisterPage","loginLink","se","register","ForgotPasswordPage","forgotPassword","UpdatePasswordPage","updatePassword","newPassword","setNewPassword","Re","confirmPassword","setConfirmPassword","ft","Te","Le","import_react_query_devtools","REFINE_VERSION","useTelemetryData","auth","rt","routerContext","dataContext","notificationContext","accessControlContext","auditLog","live","i18n","accessControl","encode","payload","stringifyedPayload","Telemetry","la","img","checkRouterPropMisuse","otherProps","useRouterMisuseWarning","warned","qo","legacyRouterProvider","routerProvider","notificationProvider","accessControlProvider","auditLogProvider","ur","notificationProviderContextValues","Z","RouterComponent","ga","timeoutId","setTimeoutId","qr","cancelNotification","newTimeoutId","LayoutFromProps","SiderFromProps","HeaderFromProps","TitleFromProps","FooterFromProps","OffLayoutAreaFromProps","LayoutToRender","St","UnsavedPrompt","warnWhenListener","useDeferredGo","setConfig","Ne","redirectOnFail","appendCurrentPathToQuery","fallbackContent","loadingContent","activeAuthProvider","isLegacy","isAuthenticatedProps","deferredGo","loading","isAuthenticated","appliedRedirect","suffix","location","xa","fallback","yt","CSSRules","ot","styleTag","rule","src_exports","__export","useTable","module","__toCommonJS","import_react","import_core","import_react_table","hasPagination","refineCoreProps","reactTableInitialState","rest","_a","_b","_c","useTableResult","F","useTableCore","hasPaginationString","isPaginationEnabled","data","current","setCurrent","pageSizeCore","setPageSizeCore","sorters","setSorters","filtersCore","setFilters","pageCount","logicalFilters","filter","reactTableResult","u","sorting","state","columns","pagination","columnFilters","pageIndex","pageSize","l","crudFilters","operator","c","filteredArray","value","b","src_exports","__export","useForm","useModalForm","useStepsForm","module","__toCommonJS","import_react","import_react_hook_form","import_core","refineCoreProps","warnWhenUnsavedChangesProp","rest","warnWhenUnsavedChangesRefine","setWarnWhen","D","warnWhenUnsavedChanges","useFormCoreResult","useFormCore","queryResult","onFinish","formLoading","useHookFormResult","L","useHookForm","watch","reset","getValues","handleSubmitReactHookForm","w","_a","fields","registeredFields","key","value","subscription","values","type","onValuesChange","changeValues","handleSubmit","onValid","onInvalid","e","stepsProps","defaultStep","isBackValidate","current","setCurrent","v","trigger","dirtyFields","go","step","targetStep","ce","modalProps","syncWithLocation","_b","_c","_d","_e","_f","_g","initiallySynced","k","React","translate","u","resourceProp","actionProp","resource","actionFromParams","parsed","action","syncingId","syncWithLocationKey","defaultVisible","autoSubmitClose","autoResetForm","id","setId","saveButtonProps","visible","show","close","openStatus","idFromParams","submit","warnWhen","handleClose","P","handleShow","title","import_react","import_core","import_react","import_core","urlLikeKeyRegexp","getFieldableKeys","key","data","fieldableProperties","firstAvailable","fkey","import_core","pickDataProvider","resourceName","dataProviderName","resources","resource","item","meta","dataProviderFromResource","_a","pickInferredField","inferredFields","field","a","b","import_standalone","import_parser_typescript","prettierFormat","code","prettier","tsParser","error","prettySpaces","content","relationRegexp","relationInfer","key","value","isRelation","isBasicValue","isBasicArray","v","removeRelationSuffix","key","relationRegexp","prettyString","str","removeRelationSuffix","word","replaceExports","code","line","packageRegex","sideEffectRegex","nameChangeRegex","replaceImports","content","modules","matches","imports","match","defaultImport","namedImports","namespaceImport","packageName","importName","prettySpaces","import_pluralize","resourceFromInferred","field","resources","el","stripped","removeRelationSuffix","pluralize","import_pluralize","componentName","resourceName","type","fallbackResourceName","sanitized","singular","pluralize","resourceComponentName","prettyString","prettyType","handleExpression","expression","jsx","strings","expressions","result","currentString","i","prepareLiveCode","code","componentName","removeHiddenCode","code","dotAccessableRegex","shouldDotAccess","property","accessorSingle","variableName","key","accessor","base","accessorMultiple","variable","joiner","dotAccessor","str","printImports","imports","byModule","acc","element","module","isDefault","elements","defaultImport","e","named","defaultStr","namedStr","import_pluralize","toSingular","str","pluralize","import_pluralize","toPlural","str","pluralize","identifierRegexp","isIDKey","key","getOptionLabel","field","noOp","arg1","getVariableName","fieldKey","suffixOrPrefix","fieldKeyWithoutInvalidCharacters","prettyPluralVariableName","prettyString","composeInferencers","inferencers","fieldInferencer","key","value","record","infer","inferences","inferencer","pickInferredField","composeTransformers","transformers","fields","resources","resource","record","infer","acc","transformer","arrayInfer","key","value","record","infer","isArray","isBasicArray","v","inferredInnerType","basicType","booleanInfer","key","value","import_dayjs","dateSuffixRegexp","dateSeparators","dateInfer","key","value","isDateField","dayjs","isValidDateString","s","emailRegexp","emailInfer","key","value","imageRegexp","imageInfer","key","value","nullishInfer","key","value","numberInfer","key","value","isNonEmptyString","isNotNaN","idPropertyRegexp","objectInfer","key","value","record","infer","isNotNull","isNotArray","fieldableKeys","getFieldableKeys","innerFieldKey","innerFieldType","accessor","el","richtextInfer","key","value","textInfer","key","value","urlRegexp","urlInfer","key","value","defaultElements","arrayInfer","booleanInfer","dateInfer","emailInfer","imageInfer","nullishInfer","numberInfer","objectInfer","relationInfer","richtextInfer","textInfer","urlInfer","basicToRelation","fields","resources","resource","record","field","validUUIdRegex","isValidUUID","value","isNotSelf","imageFieldLikeRegexp","imageByKey","fields","field","relationByResource","fields","resources","field","inferResource","resourceFromInferred","relationToFieldable","fields","resources","resource","record","infer","field","value","inferredType","defaultTransformers","imageByKey","relationByResource","relationToFieldable","basicToRelation","import_react","import_prism_react_renderer","import_vsDark","CodeHighlight","code","wrapperProps","_a","styleElement","React","Highlight","theme","className","style","tokens","getLineProps","getTokenProps","line","i","token","key","import_react","RefineCore","import_react_live","defaultScope","React","RefineCore","InferencerLiveContext","LiveComponent","fetchError","code","additionalScope","ErrorComponent","_a","sanitized","replaceExports","replaceImports","acc","packageName","variableName","_module","ignoreReplacement","scope","_packageName","packageContent","ErrorComponentWithError","error","import_react","import_core","useInferFetch","type","resourceNameOrRouteName","idFromProps","resource","idFromURL","resources","id","dataProvider","error","setError","React","data","setData","initial","setInitial","loading","setLoading","resolver","recordItemId","_a","_b","dataProviderName","dataProviderFromResource","pickDataProvider","dp","r","import_react","import_core","import_lodash","useRelationFetch","record","fields","infer","dataProvider","updatedFields","setUpdatedFields","React","initial","setInitial","loading","setLoading","resolver","allFields","attempts","promises","field","dataProviderName","dataProviderFromResource","dp","requestId","el","data","relationInfer","responseData","isPlural","toPlural","removeRelationSuffix","toSingular","resourceNameWithoutRelationSuffix","results","createInferencer","type","additionalScope","customElements","fieldTransformers","renderer","LoadingComponent","ErrorComponent","CodeViewerComponent","infer","composeInferencers","defaultElements","transform","composeTransformers","defaultTransformers","Inferencer","resourceName","fieldTransformer","id","_a","_b","_c","_d","_e","_f","resource","resources","resourceFromURL","record","recordLoading","isInitialLoad","inferError","useInferFetch","rawResults","React","inferred","key","value","transformed","field","result","results","relationLoading","useRelationFetch","code","LiveComponent","prepareLiveCode","componentName","removeHiddenCode","name","import_react","ErrorComponent","error","React","import_react","LoadingComponent","dots","setDots","React","interval","import_react","import_icons","Modal","visible","onClose","children","React","CodeViewerComponent","rawCode","loading","code","prettierFormat","inputRef","isCopied","setIsCopied","isOpen","setIsOpen","onOpen","copyCode","_a","_b","_c","_d","CodeHighlight","renderer","resource","fields","isCustomPage","id","_a","_b","_c","COMPONENT_NAME","componentName","recordName","imports","relationHooksCode","field","ids","accessor","getVariableName","renderRelationFields","variableName","variableIsLoading","jsx","prettyString","mapItemName","val","textFields","imageFields","emailFields","urlFields","booleanFields","dateFields","richtextFields","numberFields","wrapper","code","renderedFields","canEdit","list","canList","noOp","printImports","toSingular","toPlural","ShowInferencer","createInferencer","CodeViewerComponent","LoadingComponent","ErrorComponent","RefineReactTable","TanstackReactTable","getAccessorKey","field","dotAccessor","renderer","resource","fields","isCustomPage","_a","_b","COMPONENT_NAME","componentName","recordName","imports","relationFields","relationHooksCode","idsString","accessor","getVariableName","relationVariableNames","renderRelationFields","variableName","id","header","prettyString","accessorKey","cell","val","imageFields","jsx","emailFields","urlFields","booleanFields","dateFields","basicFields","canEdit","canShow","canCreate","actionButtons","renderedFields","noOp","printImports","ListInferencer","createInferencer","RefineReactTable","TanstackReactTable","CodeViewerComponent","LoadingComponent","ErrorComponent","RefineCore","RefineReactHookForm","renderer","resource","fields","isCustomPage","_a","_b","_c","COMPONENT_NAME","componentName","imports","relationHooksCode","field","getVariableName","getOptionLabel","renderRelationFields","variableName","jsx","prettyString","toSingular","dotAccessor","accessor","basicInputFields","isIDKey","inp","booleanFields","renderedFields","canList","noOp","printImports","toPlural","CreateInferencer","createInferencer","RefineCore","RefineReactHookForm","CodeViewerComponent","LoadingComponent","ErrorComponent","RefineCore","RefineReactHookForm","ReactHookForm","renderer","resource","fields","isCustomPage","id","_a","_b","_c","_d","COMPONENT_NAME","componentName","recordName","getVariableName","imports","relationHooksCode","field","val","accessor","getOptionLabel","dotAccessor","renderRelationFields","variableName","jsx","prettyString","toSingular","basicInputFields","valError","inp","isIDKey","booleanFields","errorVal","renderedFields","canList","noOp","printImports","toPlural","EditInferencer","createInferencer","RefineCore","RefineReactHookForm","ReactHookForm","CodeViewerComponent","LoadingComponent","ErrorComponent","HeadlessInferencer","actionFromProps","idFromProps","props","action","id","React","ShowInferencer","CreateInferencer","EditInferencer","ListInferencer"]}