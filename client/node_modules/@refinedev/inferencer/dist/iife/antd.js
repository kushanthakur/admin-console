(()=>{var Tu=Object.create;var To=Object.defineProperty;var Au=Object.getOwnPropertyDescriptor;var Du=Object.getOwnPropertyNames;var Ru=Object.getPrototypeOf,Mu=Object.prototype.hasOwnProperty;var E=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Aa=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Bu=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Du(t))!Mu.call(e,n)&&n!==r&&To(e,n,{get:()=>t[n],enumerable:!(a=Au(t,n))||a.enumerable});return e};var _=(e,t,r)=>(r=e!=null?Tu(Ru(e)):{},Bu(t||!e||!e.__esModule?To(r,"default",{value:e,enumerable:!0}):r,e));var V=Aa((Tf,vi)=>{var Ou=Object.create,da=Object.defineProperty,zu=Object.getOwnPropertyDescriptor,Uu=Object.getOwnPropertyNames,ju=Object.getPrototypeOf,Wu=Object.prototype.hasOwnProperty,Qu=(e,t)=>{for(var r in t)da(e,r,{get:t[r],enumerable:!0})},bl=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Uu(t))!Wu.call(e,n)&&n!==r&&da(e,n,{get:()=>t[n],enumerable:!(a=zu(t,n))||a.enumerable});return e},B=(e,t,r)=>(r=e!=null?Ou(ju(e)):{},bl(t||!e||!e.__esModule?da(r,"default",{value:e,enumerable:!0}):r,e)),Vu=e=>bl(da({},"__esModule",{value:!0}),e),El={};Qu(El,{AuthPage:()=>ld,Authenticated:()=>Ed,CanAccess:()=>Pd,ErrorComponent:()=>td,GitHubBanner:()=>xd,LayoutWrapper:()=>yd,LoginPage:()=>di,ReadyPage:()=>mi,Refine:()=>gd,ResourceContext:()=>Dr,RouteChangeHandler:()=>fi,UndoableQueue:()=>pi,WelcomePage:()=>id,createTreeView:()=>ys,file2Base64:()=>ss,getDefaultFilter:()=>us,getDefaultSortOrder:()=>is,getNextPageParam:()=>Ml,getPreviousPageParam:()=>Bl,handleUseParams:()=>cs,importCSVMapper:()=>wl,legacyResourceTransform:()=>Ol,matchResourceFromRoute:()=>gs,parseTableParams:()=>an,parseTableParamsFromQuery:()=>ls,pickNotDeprecated:()=>w,routeGenerator:()=>Al,setInitialFilters:()=>Ga,setInitialSorters:()=>Za,stringifyTableParams:()=>_a,unionFilters:()=>Nr,unionSorters:()=>Ya,useActiveAuthProvider:()=>ke,useApiUrl:()=>Rs,useAuthenticated:()=>es,useBack:()=>li,useBreadcrumb:()=>Jc,useCan:()=>si,useCanWithoutCache:()=>Bc,useCancelNotification:()=>vr,useCheckError:()=>ts,useCreate:()=>sn,useCreateMany:()=>Ql,useCustom:()=>Bs,useCustomMutation:()=>zs,useDataProvider:()=>Le,useDelete:()=>Ss,useDeleteMany:()=>Ds,useExport:()=>Ec,useForgotPassword:()=>Il,useForm:()=>Cc,useGetIdentity:()=>kl,useGetLocale:()=>dc,useGetToPath:()=>fn,useGo:()=>et,useHandleNotification:()=>We,useImport:()=>Fc,useInfiniteList:()=>Qs,useInvalidate:()=>Yt,useIsAuthenticated:()=>tn,useIsExistAuthentication:()=>$l,useLink:()=>fa,useList:()=>ln,useLiveMode:()=>Kl,useLog:()=>_t,useLogList:()=>Kc,useLogin:()=>en,useLogout:()=>Ka,useMany:()=>Ul,useMenu:()=>ed,useModal:()=>$c,useMutationMode:()=>yr,useNavigation:()=>tt,useNotification:()=>qt,useOnError:()=>je,useOne:()=>un,useParse:()=>ei,useParsed:()=>Xe,usePermissions:()=>_u,usePublish:()=>Kt,useRedirectionAfterSubmission:()=>oi,useRefineContext:()=>pn,useRegister:()=>xl,useResource:()=>ae,useResourceSubscription:()=>Ar,useResourceWithRoute:()=>pa,useRouterContext:()=>Se,useRouterType:()=>he,useSelect:()=>Uc,useSetLocale:()=>cc,useShow:()=>kc,useSubscription:()=>_s,useSyncWithLocation:()=>ni,useTable:()=>Wc,useTitle:()=>gc,useToPath:()=>Lc,useTranslate:()=>le,useUpdate:()=>Wl,useUpdateMany:()=>Ts,useUpdatePassword:()=>Fl,useWarnAboutChange:()=>mn,userFriendlyResourceName:()=>nn});vi.exports=Vu(El);var Qt=B(E("react")),fr=B(E("react")),Cl=fr.default.createContext({}),Hu=({children:e,isProvided:t,...r})=>{let{replace:a}=tt(),n=async f=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,f))}catch(v){return Promise.reject(v)}},o=async f=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,f))}catch(v){return Promise.reject(v)}},l=async f=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,f))}catch(v){return Promise.reject(v)}},m=async f=>{var p;try{return await((p=r.checkAuth)==null?void 0:p.call(r,f)),Promise.resolve()}catch(v){return v!=null&&v.redirectPath&&a(v.redirectPath),Promise.reject(v)}};return fr.default.createElement(Cl.Provider,{value:{...r,login:n,logout:l,checkAuth:m,register:o,isProvided:t}},e)},Pl=fr.default.createContext({}),Ku=({children:e,isProvided:t,...r})=>{let a=async p=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,p))}catch(h){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",h),Promise.reject(h)}},n=async p=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,p))}catch(h){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",h),Promise.reject(h)}},o=async p=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,p))}catch(h){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",h),Promise.reject(h)}},l=async p=>{var v;try{let h=await((v=r.check)==null?void 0:v.call(r,p));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",h),Promise.reject(h)}},m=async p=>{var v;try{let h=await((v=r.forgotPassword)==null?void 0:v.call(r,p));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",h),Promise.reject(h)}},f=async p=>{var v;try{let h=await((v=r.updatePassword)==null?void 0:v.call(r,p));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",h),Promise.reject(h)}};return fr.default.createElement(Pl.Provider,{value:{...r,login:a,logout:o,check:l,register:n,forgotPassword:m,updatePassword:f,isProvided:t}},e)},Ze=()=>fr.default.useContext(Cl),st=()=>fr.default.useContext(Pl),Ao=E("@tanstack/react-query");function _u({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Ze(),{getPermissions:a}=st(),n=(0,Ao.useQuery)(["usePermissions"],a!=null?a:()=>Promise.resolve(void 0),{enabled:!e&&!!a,...e?{}:t}),o=(0,Ao.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?o:n}var Do=E("@tanstack/react-query");function kl({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Ze(),{getIdentity:a}=st(),n=(0,Do.useQuery)(["getUserIdentity"],a!=null?a:()=>Promise.resolve({}),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t}),o=(0,Do.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?o:n}var Ro=E("@tanstack/react-query"),Yu=E("@tanstack/react-query"),Xa=()=>{let e=(0,Yu.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function Ka({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Xa(),a=he(),n=et(),{push:o}=tt(),{open:l,close:m}=qt(),{logout:f}=Ze(),{logout:p}=st(),v=(0,Ro.useMutation)(["useLogout"],p,{onSuccess:(P,g)=>{let{success:y,error:i,redirectTo:c}=P,{redirectPath:k}=g!=null?g:{},d=k!=null?k:c;y&&(m==null||m("useLogout-error")),(i||!y)&&(l==null||l(Da(i))),d!==!1&&(a==="legacy"?o(d!=null?d:"/login"):d&&n({to:d})),r()},onError:P=>{l==null||l(Da(P))},...e===!0?{}:t}),h=(0,Ro.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],f,{onSuccess:(P,g)=>{var y;let i=(y=g==null?void 0:g.redirectPath)!=null?y:P;if(i!==!1){if(i){a==="legacy"?o(i):n({to:i});return}a==="legacy"?o("/login"):n({to:"/login"}),r()}},onError:P=>{l==null||l(Da(P))},...e?t:{}});return e?h:v}var Da=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),Mo=E("@tanstack/react-query"),Gu=B(E("qs")),Zu=B(E("react"));function en({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Xa(),a=he(),n=et(),{replace:o}=tt(),l=Xe(),{useLocation:m}=Se(),{search:f}=m(),{close:p,open:v}=qt(),{login:h}=Ze(),{login:P}=st(),g=Zu.default.useMemo(()=>{var c;return a==="legacy"?Gu.default.parse(f,{ignoreQueryPrefix:!0}).to:(c=l.params)==null?void 0:c.to},[a,l.params,f]),y=(0,Mo.useMutation)(["useLogin"],P,{onSuccess:({success:c,redirectTo:k,error:d})=>{c&&(p==null||p("login-error")),(d||!c)&&(v==null||v(Ra(d))),g&&c?a==="legacy"?o(g):n({to:g,type:"replace"}):k?a==="legacy"?o(k):n({to:k,type:"replace"}):a==="legacy"&&o("/"),setTimeout(()=>{r()})},onError:c=>{v==null||v(Ra(c))},...e===!0?{}:t}),i=(0,Mo.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],h,{onSuccess:c=>{g&&o(g),c!==!1&&!g&&(typeof c=="string"?a==="legacy"?o(c):n({to:c,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),p==null||p("login-error"),setTimeout(()=>{r()})},onError:c=>{v==null||v(Ra(c))},...e?t:{}});return e?i:y}var Ra=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),Bo=E("@tanstack/react-query");function xl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Xa(),a=he(),n=et(),{replace:o}=tt(),{register:l}=Ze(),{register:m}=st(),{close:f,open:p}=qt(),v=(0,Bo.useMutation)(["useRegister"],m,{onSuccess:({success:P,redirectTo:g,error:y})=>{P&&(f==null||f("register-error")),(y||!P)&&(p==null||p(Ma(y))),g?a==="legacy"?o(g):n({to:g,type:"replace"}):a==="legacy"&&o("/"),r()},onError:P=>{p==null||p(Ma(P))},...e===!0?{}:t}),h=(0,Bo.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],l,{onSuccess:P=>{P!==!1&&(P?a==="legacy"?o(P):n({to:P,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),f==null||f("register-error")),r()},onError:P=>{p==null||p(Ma(P))},...e?t:{}});return e?h:v}var Ma=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),Oo=E("@tanstack/react-query");function Il({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=he(),a=et(),{replace:n}=tt(),{forgotPassword:o}=Ze(),{forgotPassword:l}=st(),{close:m,open:f}=qt(),p=(0,Oo.useMutation)(["useForgotPassword"],l,{onSuccess:({success:h,redirectTo:P,error:g})=>{h&&(m==null||m("forgot-password-error")),(g||!h)&&(f==null||f(Ba(g))),P&&(r==="legacy"?n(P):a({to:P,type:"replace"}))},onError:h=>{f==null||f(Ba(h))},...e===!0?{}:t}),v=(0,Oo.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],o,{onSuccess:h=>{h!==!1&&h&&(r==="legacy"?n(h):a({to:h,type:"replace"})),m==null||m("forgot-password-error")},onError:h=>{f==null||f(Ba(h))},...e?t:{}});return e?v:p}var Ba=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),Ju=B(E("react")),zo=E("@tanstack/react-query"),Xu=B(E("qs"));function Fl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=he(),a=et(),{replace:n}=tt(),{updatePassword:o}=Ze(),{updatePassword:l}=st(),{close:m,open:f}=qt(),p=Xe(),{useLocation:v}=Se(),{search:h}=v(),P=Ju.default.useMemo(()=>{var i;if(r==="legacy"){let c=Xu.default.parse(h,{ignoreQueryPrefix:!0});return c!=null?c:{}}else return(i=p.params)!=null?i:{}},[h,p,r]),g=(0,zo.useMutation)(["useUpdatePassword"],async i=>l==null?void 0:l({...P,...i}),{onSuccess:({success:i,redirectTo:c,error:k})=>{i&&(m==null||m("update-password-error")),(k||!i)&&(f==null||f(Oa(k))),c&&(r==="legacy"?n(c):a({to:c,type:"replace"}))},onError:i=>{f==null||f(Oa(i))},...e===!0?{}:t}),y=(0,zo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async i=>o==null?void 0:o({...P,...i}),{onSuccess:i=>{i!==!1&&i&&(r==="legacy"?n(i):a({to:i,type:"replace"})),m==null||m("update-password-error")},onError:i=>{f==null||f(Oa(i))},...e?t:{}});return e?y:g}var Oa=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),Uo=E("@tanstack/react-query");function tn({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Ze(),{check:a}=st(),n=(0,Uo.useQuery)(["useAuthenticated",t],async()=>{var l;return(l=await(a==null?void 0:a(t)))!=null?l:{}},{retry:!1,enabled:!e}),o=(0,Uo.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var l;return(l=await(r==null?void 0:r(t)))!=null?l:{}},{retry:!1,enabled:e});return e?o:n}var es=tn,jo=E("@tanstack/react-query");function je({v3LegacyAuthProviderCompatible:e=!1}={}){let t=he(),r=et(),{replace:a}=tt(),{checkError:n}=Ze(),{onError:o}=st(),{mutate:l}=Ka({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:m}=Ka({v3LegacyAuthProviderCompatible:Boolean(e)}),f=(0,jo.useMutation)(["useCheckError"],o,{onSuccess:({logout:v,redirectTo:h})=>{if(v){m({redirectPath:h});return}if(h){t==="legacy"?a(h):r({to:h,type:"replace"});return}}}),p=(0,jo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],n,{onError:v=>{l({redirectPath:v})}});return e?p:f}var ts=je,$l=()=>{let{isProvided:e}=Ze(),{isProvided:t}=st();return Boolean(t||e)},rs=E("@tanstack/react-query"),za=e=>e/1e3,as=B(E("lodash/zip")),ns=B(E("lodash/fromPairs")),wl=(e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,ns.default)((0,as.default)(r,n))).map((n,o,l)=>t.call(void 0,n,o,l))},Wo=B(E("pluralize")),rn=B(E("qs")),Ll=B(E("lodash/unionWith")),Sl=B(E("lodash/differenceWith")),os=B(E("warn-once")),an=e=>{var t;let{current:r,pageSize:a,sorter:n,sorters:o,filters:l}=rn.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:a&&Number(a),parsedSorter:(t=w(o,n))!=null?t:[],parsedFilters:l!=null?l:[]}},ls=e=>{let t=rn.default.stringify(e);return an(`/${t}`)},_a=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...l}=e;return rn.default.stringify({...l,...r||{},sorters:w(n,a),filters:o},t)},ql=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Nl=(e,t)=>e.field==t.field,Nr=(e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,os.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Ll.default)(e,t,r,ql).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),Ya=(e,t)=>(0,Ll.default)(e,t,Nl).filter(r=>r.order!==void 0&&r.order!==null),Ga=(e,t)=>[...(0,Sl.default)(t,e,ql),...e],Za=(e,t)=>[...(0,Sl.default)(t,e,Nl),...e],is=(e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},us=(e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:l}=n;return l===e&&o===r}});if(a)return a.value||[]},ss=e=>new Promise((t,r)=>{let a=new FileReader,n=()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))};a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),nn=(e="",t)=>{let r=ia(e);return t==="singular"?Wo.default.singular(r):Wo.default.plural(r)},cs=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,w=(...e)=>e.find(t=>typeof t<"u"),Je=(e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:l=>[...o.resourceAll,"list",{...l,...w(r,a)||{}}],many:l=>[...o.resourceAll,"getMany",l&&l.map(String),{...w(r,a)||{}}].filter(m=>m!==void 0),detail:l=>[...o.resourceAll,"detail",l==null?void 0:l.toString(),{...w(r,a)||{}}],logList:l=>["logList",e,l,a].filter(m=>m!==void 0)};return o},ds=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),on=e=>e.startsWith(":"),pr=e=>e.split("/").filter(t=>t!==""),ms=(e,t)=>{let r=pr(e),a=pr(t);return r.length===a.length},Pt=e=>e.replace(/^\/|\/$/g,""),ps=(e,t)=>{let r=Pt(e),a=Pt(t);if(!ms(r,a))return!1;let n=pr(r);return pr(a).every((o,l)=>on(o)||o===n[l])},fs=(e,t,r)=>{let a=Pt(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},Lt=(e,t)=>{var r,a;let n=w((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!n)return;let o=t.find(l=>{var m;return((m=l.identifier)!=null?m:l.name)===n});return o!=null?o:{name:n}},Tl=(e,t,r)=>{let a=[],n=Lt(e,t);for(;n;)a.push(n),n=Lt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var l,m;let f=r&&(m=(l=o.options)==null?void 0:l.route)!=null?m:o.name;return Pt(f)}).join("/")}`},Ue=(e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=Tl(e,t,r);return n.forEach(l=>{var m,f,p,v;let h=r&&l==="clone"?e.create:e[l],P;typeof h=="function"||r?P=fs(r&&(v=(p=(m=e.meta)==null?void 0:m.route)!=null?p:(f=e.options)==null?void 0:f.route)!=null?v:e.name,l,r?o:void 0):typeof h=="string"?P=h:typeof h=="object"&&(P=h.path),P&&a.push({action:l,resource:e,route:`/${P.replace(/^\//,"")}`})}),a},vs=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let a=e.map(l=>({...l,splitted:pr(Pt(l.route))})),n=(r=(t=a[0])==null?void 0:t.splitted.length)!=null?r:0,o=[...a];for(let l=0;l<n;l++){let m=o.filter(f=>!on(f.splitted[l]));if(m.length!==0){if(m.length===1){o=m;break}o=m}}return o[0]},gs=(e,t)=>{let r=t.flatMap(n=>Ue(n,t)).filter(n=>ps(e,n.route)),a=vs(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},Al=(e,t)=>{var r,a,n;let o,l=Tl(e,t,!0);if(l){let m=w(e.meta,e.options);o=`${l}/${(r=m==null?void 0:m.route)!=null?r:e.name}`}else o=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${o.replace(/^\//,"")}`},ys=e=>{var t,r,a;let n=[],o={},l={},m,f;for(let p=0;p<e.length;p++){m=e[p];let v=(a=(r=m.route)!=null?r:(t=w(m==null?void 0:m.meta,m.options))==null?void 0:t.route)!=null?a:"";o[v]=m,o[v].children=[],l[m.name]=m,l[m.name].children=[]}for(let p in o)o.hasOwnProperty(p)&&(f=o[p],f.parentName&&l[f.parentName]?l[f.parentName].children.push(f):n.push(f));return n},ia=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),Dl=B(E("react")),hs=B(E("react")),Rl=({children:e})=>hs.default.createElement("div",null,e),Et={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},St=Dl.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Rl,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Et}),bs=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:l,Title:m,Layout:f=Rl,Header:p,Sider:v,Footer:h,OffLayoutArea:P,LoginPage:g=di,catchAll:y,liveMode:i="off",onLiveEvent:c,options:k})=>Dl.default.createElement(St.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:m,undoableTimeout:n,Layout:f,Header:p,Sider:v,Footer:h,OffLayoutArea:P,DashboardPage:l,LoginPage:g,catchAll:y,liveMode:i,onLiveEvent:c,options:k}},o),Es=({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:m,warnWhenUnsavedChanges:f}={})=>{var p,v,h,P,g,y,i,c,k,d,b,s,C,u,I,x,F,$,L,D,T,q,R,S;let A={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(v=(p=e==null?void 0:e.mutationMode)!=null?p:a)!=null?v:Et.mutationMode,undoableTimeout:(P=(h=e==null?void 0:e.undoableTimeout)!=null?h:m)!=null?P:Et.undoableTimeout,syncWithLocation:(y=(g=e==null?void 0:e.syncWithLocation)!=null?g:l)!=null?y:Et.syncWithLocation,warnWhenUnsavedChanges:(c=(i=e==null?void 0:e.warnWhenUnsavedChanges)!=null?i:f)!=null?c:Et.warnWhenUnsavedChanges,liveMode:(d=(k=e==null?void 0:e.liveMode)!=null?k:r)!=null?d:Et.liveMode,redirect:{afterCreate:(s=(b=e==null?void 0:e.redirect)==null?void 0:b.afterCreate)!=null?s:Et.redirect.afterCreate,afterClone:(u=(C=e==null?void 0:e.redirect)==null?void 0:C.afterClone)!=null?u:Et.redirect.afterClone,afterEdit:(x=(I=e==null?void 0:e.redirect)==null?void 0:I.afterEdit)!=null?x:Et.redirect.afterEdit}},z=($=(F=e==null?void 0:e.disableTelemetry)!=null?F:t)!=null?$:!1,H={clientConfig:(T=(D=(L=e==null?void 0:e.reactQuery)==null?void 0:L.clientConfig)!=null?D:n)!=null?T:{},devtoolConfig:(S=(R=(q=e==null?void 0:e.reactQuery)==null?void 0:q.devtoolConfig)!=null?R:o)!=null?S:{}};return{optionsWithDefaults:A,disableTelemetryWithDefault:z,reactQueryWithDefaults:H}},Cs=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},Qo=async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let l=await o();a.push(t(l,n))}catch(l){a.push(r(l,n))}return a},ye=(e,t=[],r=!1)=>{if(!!e)return r?t.find(n=>{var o;return Pt((o=n.route)!=null?o:"")===Pt(e)})||t.find(n=>n.name===e):t.find(a=>{var n;return((n=a.identifier)!=null?n:a.name)===e})},G=(e,t,r)=>{if(t)return t;let a=ye(e,r),n=w(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},ma=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),Ml=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},Bl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},Ol=e=>{let t=[];return e==null||e.forEach(r=>{var a,n,o;t.push({...r,label:(o=(a=r.meta)==null?void 0:a.label)!=null?o:(n=r.options)==null?void 0:n.label,route:Al(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},Ps=e=>pr(Pt(e)).flatMap(t=>on(t)?[t.slice(1)]:[]),ks=(e,t={},r={})=>e.reduce((a,n)=>{var o;let l=r[n]||((o=t.params)==null?void 0:o[n])||(n==="id"?t.id:void 0)||(n==="action"?t.action:void 0)||(n==="resource"?t.resource:void 0);return typeof l<"u"&&(a[n]=l),a},{}),Ge=(e,t={},r={})=>{let a=Ps(e),n=ks(a,t,r);return e.replace(/:([^\/]+)/g,(o,l)=>{let m=n[l];return typeof m<"u"?`${m}`:o})},ke=()=>{let e=Ze(),t=st();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},zl=({hasPagination:e,pagination:t,configPagination:r}={})=>{var a,n,o;let l=e===!1?"off":"server",m=(a=t==null?void 0:t.mode)!=null?a:l,f=(n=w(t==null?void 0:t.current,r==null?void 0:r.current))!=null?n:1,p=(o=w(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?o:10;return{current:f,pageSize:p,mode:m}},ln=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:m,errorNotification:f,meta:p,metaData:v,liveMode:h,onLiveEvent:P,liveParams:g,dataProviderName:y})=>{let{resources:i}=ae(),c=Le(),k=le(),d=ke(),{mutate:b}=je({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),s=We(),C=G(e,y,i),u=w(p,v),I=w(r,t==null?void 0:t.filters),x=w(o,t==null?void 0:t.sort),F=w(a,t==null?void 0:t.hasPagination),$=zl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),L=$.mode==="server",D={meta:u,metaData:u,filters:I,hasPagination:L,pagination:$,sorters:x,config:{...t,sort:x}},T=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,q=Je(e,C,u,u),{getList:R}=c(C);return Ar({resource:e,types:["*"],params:{meta:u,metaData:u,pagination:$,hasPagination:L,sort:x,sorters:x,filters:I,subscriptionType:"useList",...g},channel:`resources/${e}`,enabled:T,liveMode:h,onLiveEvent:P}),(0,rs.useQuery)(q.list({filters:I,hasPagination:L,...L&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:S,pageParam:A,signal:z})=>R({resource:e,pagination:$,hasPagination:L,filters:I,sort:x,sorters:x,meta:{...u||{},queryContext:{queryKey:S,pageParam:A,signal:z}},metaData:{...u||{},queryContext:{queryKey:S,pageParam:A,signal:z}}}),{...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!e,select:S=>{var A;let z=S,{current:H,mode:Y,pageSize:N}=$;return Y==="client"&&(z={...z,data:z.data.slice((H-1)*N,H*N),total:z.total}),l!=null&&l.select?(A=l==null?void 0:l.select)==null?void 0:A.call(l,z):z},onSuccess:S=>{var A;(A=l==null?void 0:l.onSuccess)==null||A.call(l,S);let z=typeof m=="function"?m(S,D,e):m;s(z)},onError:S=>{var A;b(S),(A=l==null?void 0:l.onError)==null||A.call(l,S);let z=typeof f=="function"?f(S,D,e):f;s(z,{key:`${e}-useList-notification`,message:k("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}})},xs=E("@tanstack/react-query"),un=({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:m,onLiveEvent:f,liveParams:p,dataProviderName:v})=>{let{resources:h}=ae(),P=Le(),g=Je(e,G(e,v,h),w(o,l),w(o,l)),{getOne:y}=P(G(e,v,h)),i=le(),c=ke(),{mutate:k}=je({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),d=We();return Ar({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:w(o,l),metaData:w(o,l),subscriptionType:"useOne",...p},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:m,onLiveEvent:f}),(0,xs.useQuery)(g.detail(t),({queryKey:b,pageParam:s,signal:C})=>y({resource:e,id:t,meta:{...w(o,l)||{},queryContext:{queryKey:b,pageParam:s,signal:C}},metaData:{...w(o,l)||{},queryContext:{queryKey:b,pageParam:s,signal:C}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:b=>{var s;(s=r==null?void 0:r.onSuccess)==null||s.call(r,b);let C=typeof a=="function"?a(b,{id:t,...w(o,l)||{}},e):a;d(C)},onError:b=>{var s;k(b),(s=r==null?void 0:r.onError)==null||s.call(r,b);let C=typeof n=="function"?n(b,{id:t,...w(o,l)||{}},e):n;d(C,{key:`${t}-${e}-getOne-notification`,message:i("notifications.error",{statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}})},Is=E("@tanstack/react-query"),Ul=({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:m,onLiveEvent:f,liveParams:p,dataProviderName:v})=>{let{resources:h}=ae(),P=Le(),g=Je(e,G(e,v,h),w(o,l),w(o,l)),{getMany:y,getOne:i}=P(G(e,v,h)),c=le(),k=ke(),{mutate:d}=je({v3LegacyAuthProviderCompatible:Boolean(k==null?void 0:k.isLegacy)}),b=We(),s=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Ar({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:w(o,l),metaData:w(o,l),subscriptionType:"useMany",...p},channel:`resources/${e}`,enabled:s,liveMode:m,onLiveEvent:f}),(0,Is.useQuery)(g.many(t),({queryKey:C,pageParam:u,signal:I})=>y?y({resource:e,ids:t,metaData:{...w(o,l)||{},queryContext:{queryKey:C,pageParam:u,signal:I}}}):ma(t.map(x=>i({resource:e,id:x,metaData:{...w(o,l)||{},queryContext:{queryKey:C,pageParam:u,signal:I}}}))),{...r,onSuccess:C=>{var u;(u=r==null?void 0:r.onSuccess)==null||u.call(r,C);let I=typeof a=="function"?a(C,t,e):a;b(I)},onError:C=>{var u;d(C),(u=r==null?void 0:r.onError)==null||u.call(r,C);let I=typeof n=="function"?n(C,t,e):n;b(I,{key:`${t[0]}-${e}-getMany-notification`,message:c("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}})},Vo=E("@tanstack/react-query"),ua=B(E("react")),Ua=B(E("lodash/isEqual")),jl=ua.default.createContext({notifications:[],notificationDispatch:()=>!1}),Fs=[],$s=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Ua.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Ua.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Ua.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},ws=({children:e})=>{let[t,r]=(0,ua.useReducer)($s,Fs),a={notifications:t,notificationDispatch:r};return ua.default.createElement(jl.Provider,{value:a},e,typeof window<"u"&&t.map(n=>ua.default.createElement(pi,{key:`${n.id}-${n.resource}-queue`,notification:n})))},Ho=B(E("pluralize")),Wl=({mutationOptions:e}={})=>{let{resources:t}=ae(),r=(0,Vo.useQueryClient)(),a=Le(),{mutationMode:n,undoableTimeout:o}=yr(),l=le(),m=ke(),{mutate:f}=je({v3LegacyAuthProviderCompatible:Boolean(m==null?void 0:m.isLegacy)}),p=Kt(),{log:v}=_t(),{notificationDispatch:h}=vr(),P=We(),g=Yt();return(0,Vo.useMutation)(({id:y,values:i,resource:c,mutationMode:k,undoableTimeout:d,onCancel:b,meta:s,metaData:C,dataProviderName:u})=>{let I=k!=null?k:n,x=d!=null?d:o;return I!=="undoable"?a(G(c,u,t)).update({resource:c,id:y,variables:i,meta:w(s,C),metaData:w(s,C)}):new Promise((F,$)=>{let L=()=>{a(G(c,u,t)).update({resource:c,id:y,variables:i,meta:w(s,C),metaData:w(s,C)}).then(T=>F(T)).catch(T=>$(T))},D=()=>{$({message:"mutationCancelled"})};b&&b(D),h({type:"ADD",payload:{id:y,resource:c,cancelMutation:D,doMutation:L,seconds:x,isSilent:!!b}})})},{onMutate:async({resource:y,id:i,mutationMode:c,values:k,dataProviderName:d})=>{let b=Je(y,G(y,d,t)),s=r.getQueriesData(b.resourceAll),C=c!=null?c:n;return await r.cancelQueries(b.resourceAll,void 0,{silent:!0}),C!=="pessimistic"&&(r.setQueriesData(b.list(),u=>{if(!u)return null;let I=u.data.map(x=>{var F;return((F=x.id)==null?void 0:F.toString())===(i==null?void 0:i.toString())?{id:i,...x,...k}:x});return{...u,data:I}}),r.setQueriesData(b.many(),u=>{if(!u)return null;let I=u.data.map(x=>{var F;return((F=x.id)==null?void 0:F.toString())===(i==null?void 0:i.toString())&&(x={id:i,...x,...k}),x});return{...u,data:I}}),r.setQueriesData(b.detail(i),u=>u?{...u,data:{...u.data,...k}}:null)),{previousQueries:s,queryKey:b}},onSettled:(y,i,{id:c,resource:k,dataProviderName:d,invalidates:b=["list","many","detail"]})=>{g({resource:k,dataProviderName:G(k,d,t),invalidates:b,id:c}),h({type:"REMOVE",payload:{id:c,resource:k}})},onSuccess:(y,{id:i,resource:c,successNotification:k,dataProviderName:d,values:b,meta:s,metaData:C},u)=>{var I;let x=Ho.default.singular(c),F=typeof k=="function"?k(y,{id:i,values:b},c):k;P(F,{key:`${i}-${c}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${c}.${c}`,x)},`Successfully updated ${x}`),type:"success"}),p==null||p({channel:`resources/${c}`,type:"updated",payload:{ids:(I=y.data)!=null&&I.id?[y.data.id]:void 0},date:new Date});let $;if(u){let R=r.getQueryData(u.queryKey.detail(i));$=Object.keys(b||{}).reduce((S,A)=>{var z;return S[A]=(z=R==null?void 0:R.data)==null?void 0:z[A],S},{})}let{fields:L,operation:D,variables:T,...q}=w(s,C)||{};v==null||v.mutate({action:"update",resource:c,data:b,previousData:$,meta:{id:i,dataProviderName:G(c,d,t),...q}})},onError:(y,{id:i,resource:c,errorNotification:k,values:d},b)=>{if(b)for(let s of b.previousQueries)r.setQueryData(s[0],s[1]);if(y.message!=="mutationCancelled"){f==null||f(y);let s=Ho.default.singular(c),C=typeof k=="function"?k(y,{id:i,values:d},c):k;P(C,{key:`${i}-${c}-notification`,message:l("notifications.editError",{resource:l(`${c}.${c}`,s),statusCode:y.statusCode},`Error when updating ${s} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...e})},Ls=E("@tanstack/react-query"),Ko=B(E("pluralize")),sn=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=je({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=Le(),n=Yt(),{resources:o}=ae(),l=le(),m=Kt(),{log:f}=_t(),p=We();return(0,Ls.useMutation)(({resource:v,values:h,meta:P,metaData:g,dataProviderName:y})=>a(G(v,y,o)).create({resource:v,variables:h,meta:w(P,g),metaData:w(P,g)}),{onSuccess:(v,{resource:h,successNotification:P,dataProviderName:g,invalidates:y=["list","many"],values:i,meta:c,metaData:k})=>{var d,b,s;let C=Ko.default.singular(h),u=typeof P=="function"?P(v,i,h):P;p(u,{key:`create-${h}-notification`,message:l("notifications.createSuccess",{resource:l(`${h}.${h}`,C)},`Successfully created ${C}`),description:l("notifications.success","Success"),type:"success"}),n({resource:h,dataProviderName:G(h,g,o),invalidates:y}),m==null||m({channel:`resources/${h}`,type:"created",payload:{ids:(d=v==null?void 0:v.data)!=null&&d.id?[v.data.id]:void 0},date:new Date});let{fields:I,operation:x,variables:F,...$}=w(c,k)||{};f==null||f.mutate({action:"create",resource:h,data:i,meta:{dataProviderName:G(h,g,o),id:(s=(b=v==null?void 0:v.data)==null?void 0:b.id)!=null?s:void 0,...$}})},onError:(v,{resource:h,errorNotification:P,values:g})=>{r(v);let y=Ko.default.singular(h),i=typeof P=="function"?P(v,g,h):P;p(i,{key:`create-${h}-notification`,description:v.message,message:l("notifications.createError",{resource:l(`${h}.${h}`,y),statusCode:v.statusCode},`There was an error creating ${y} (status code: ${v.statusCode})`),type:"error"})},...e})},_o=E("@tanstack/react-query"),Yo=B(E("pluralize")),Ss=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=je({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=Le(),{resources:n}=ae(),o=(0,_o.useQueryClient)(),{mutationMode:l,undoableTimeout:m}=yr(),{notificationDispatch:f}=vr(),p=le(),v=Kt(),{log:h}=_t(),P=We(),g=Yt();return(0,_o.useMutation)(({id:y,mutationMode:i,undoableTimeout:c,resource:k,onCancel:d,meta:b,metaData:s,dataProviderName:C,values:u})=>{let I=i!=null?i:l,x=c!=null?c:m;return I!=="undoable"?a(G(k,C,n)).deleteOne({resource:k,id:y,meta:w(b,s),metaData:w(b,s),variables:u}):new Promise((F,$)=>{let L=()=>{a(G(k,C,n)).deleteOne({resource:k,id:y,meta:w(b,s),variables:u}).then(T=>F(T)).catch(T=>$(T))},D=()=>{$({message:"mutationCancelled"})};d&&d(D),f({type:"ADD",payload:{id:y,resource:k,cancelMutation:D,doMutation:L,seconds:x,isSilent:!!d}})})},{onMutate:async({id:y,resource:i,mutationMode:c,dataProviderName:k})=>{let d=Je(i,G(i,k,n)),b=c!=null?c:l;await o.cancelQueries(d.resourceAll,void 0,{silent:!0});let s=o.getQueriesData(d.resourceAll);return b!=="pessimistic"&&(o.setQueriesData(d.list(),C=>C?{data:C.data.filter(u=>{var I;return((I=u.id)==null?void 0:I.toString())!==y.toString()}),total:C.total-1}:null),o.setQueriesData(d.many(),C=>{if(!C)return null;let u=C.data.filter(I=>{var x;return((x=I.id)==null?void 0:x.toString())!==(y==null?void 0:y.toString())});return{...C,data:u}})),{previousQueries:s,queryKey:d}},onSettled:(y,i,{id:c,resource:k,dataProviderName:d,invalidates:b=["list","many"]})=>{g({resource:k,dataProviderName:G(k,d,n),invalidates:b}),f({type:"REMOVE",payload:{id:c,resource:k}})},onSuccess:(y,{id:i,resource:c,successNotification:k,dataProviderName:d,meta:b,metaData:s},C)=>{let u=Yo.default.singular(c!=null?c:"");o.removeQueries(C==null?void 0:C.queryKey.detail(i));let I=typeof k=="function"?k(y,i,c):k;P(I,{key:`${i}-${c}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${c}.${c}`,u)},`Successfully deleted a ${u}`),type:"success"}),v==null||v({channel:`resources/${c}`,type:"deleted",payload:{ids:i?[i]:[]},date:new Date});let{fields:x,operation:F,variables:$,...L}=w(b,s)||{};h==null||h.mutate({action:"delete",resource:c,meta:{id:i,dataProviderName:G(c,d,n),...L}}),o.removeQueries(C==null?void 0:C.queryKey.detail(i))},onError:(y,{id:i,resource:c,errorNotification:k},d)=>{if(d)for(let b of d.previousQueries)o.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){r(y);let b=Yo.default.singular(c!=null?c:""),s=typeof k=="function"?k(y,i,c):k;P(s,{key:`${i}-${c}-notification`,message:p("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...e})},qs=E("@tanstack/react-query"),Ns=B(E("pluralize")),Ql=({mutationOptions:e}={})=>{let t=Le(),{resources:r}=ae(),a=le(),n=Kt(),o=We(),l=Yt(),{log:m}=_t();return(0,qs.useMutation)(({resource:f,values:p,meta:v,metaData:h,dataProviderName:P})=>{let g=t(G(f,P,r));return g.createMany?g.createMany({resource:f,variables:p,meta:w(v,h),metaData:w(v,h)}):ma(p.map(y=>g.create({resource:f,variables:y,meta:w(v,h),metaData:w(v,h)})))},{onSuccess:(f,{resource:p,successNotification:v,dataProviderName:h,invalidates:P=["list","many"],values:g,meta:y,metaData:i})=>{let c=Ns.default.plural(p),k=typeof v=="function"?v(f,g,p):v;o(k,{key:`createMany-${p}-notification`,message:a("notifications.createSuccess",{resource:a(`${p}.${p}`,p)},`Successfully created ${c}`),description:a("notifications.success","Success"),type:"success"}),l({resource:p,dataProviderName:G(p,h,r),invalidates:P});let d=f==null?void 0:f.data.filter(I=>(I==null?void 0:I.id)!==void 0).map(I=>I.id);n==null||n({channel:`resources/${p}`,type:"created",payload:{ids:d},date:new Date});let{fields:b,operation:s,variables:C,...u}=w(y,i)||{};m==null||m.mutate({action:"createMany",resource:p,data:g,meta:{dataProviderName:G(p,h,r),ids:d,...u}})},onError:(f,{resource:p,errorNotification:v,values:h})=>{let P=typeof v=="function"?v(f,h,p):v;o(P,{key:`createMany-${p}-notification`,description:f.message,message:a("notifications.createError",{resource:a(`${p}.${p}`,p),statusCode:f.statusCode},`There was an error creating ${p} (status code: ${f.statusCode}`),type:"error"})},...e})},Go=E("@tanstack/react-query"),Zo=B(E("pluralize")),Ts=({mutationOptions:e}={})=>{let{resources:t}=ae(),r=(0,Go.useQueryClient)(),a=Le(),n=le(),{mutationMode:o,undoableTimeout:l}=yr(),m=ke(),{mutate:f}=je({v3LegacyAuthProviderCompatible:Boolean(m==null?void 0:m.isLegacy)}),{notificationDispatch:p}=vr(),v=Kt(),h=We(),P=Yt(),{log:g}=_t();return(0,Go.useMutation)(({ids:y,values:i,resource:c,onCancel:k,mutationMode:d,undoableTimeout:b,meta:s,metaData:C,dataProviderName:u})=>{let I=d!=null?d:o,x=b!=null?b:l,F=a(G(c,u,t)),$=()=>F.updateMany?F.updateMany({resource:c,ids:y,variables:i,meta:w(s,C),metaData:w(s,C)}):ma(y.map(L=>F.update({resource:c,id:L,variables:i,meta:w(s,C),metaData:w(s,C)})));return I!=="undoable"?$():new Promise((L,D)=>{let T=()=>{$().then(R=>L(R)).catch(R=>D(R))},q=()=>{D({message:"mutationCancelled"})};k&&k(q),p({type:"ADD",payload:{id:y,resource:c,cancelMutation:q,doMutation:T,seconds:x,isSilent:!!k}})})},{onMutate:async({resource:y,ids:i,values:c,mutationMode:k,dataProviderName:d,meta:b,metaData:s})=>{let C=Je(y,G(y,d,t),w(b,s),w(b,s)),u=k!=null?k:o;await r.cancelQueries(C.resourceAll,void 0,{silent:!0});let I=r.getQueriesData(C.resourceAll);if(u!=="pessimistic"){r.setQueriesData(C.list(),x=>{if(!x)return null;let F=x.data.map($=>$.id!==void 0&&i.filter(L=>L!==void 0).map(String).includes($.id.toString())?{...$,...c}:$);return{...x,data:F}}),r.setQueriesData(C.many(),x=>{if(!x)return null;let F=x.data.map($=>$.id!==void 0&&i.filter(L=>L!==void 0).map(String).includes($.id.toString())?{...$,...c}:$);return{...x,data:F}});for(let x of i)r.setQueriesData(C.detail(x),F=>{if(!F)return null;let $={...F.data,...c};return{...F,data:$}})}return{previousQueries:I,queryKey:C}},onSettled:(y,i,{ids:c,resource:k,dataProviderName:d})=>{P({resource:k,invalidates:["list","many"],dataProviderName:G(k,d,t)}),c.forEach(b=>P({resource:k,invalidates:["detail"],dataProviderName:G(k,d,t),id:b})),p({type:"REMOVE",payload:{id:c,resource:k}})},onSuccess:(y,{ids:i,resource:c,meta:k,metaData:d,dataProviderName:b,successNotification:s,values:C},u)=>{let I=Zo.default.singular(c),x=typeof s=="function"?s(y,{ids:i,values:C},c):s;h(x,{key:`${i}-${c}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${c}.${c}`,c)},`Successfully updated ${I}`),type:"success"}),v==null||v({channel:`resources/${c}`,type:"updated",payload:{ids:i.map(String)},date:new Date});let F=[];u&&i.forEach(q=>{let R=r.getQueryData(u.queryKey.detail(q));F.push(Object.keys(C||{}).reduce((S,A)=>{var z;return S[A]=(z=R==null?void 0:R.data)==null?void 0:z[A],S},{}))});let{fields:$,operation:L,variables:D,...T}=w(k,d)||{};g==null||g.mutate({action:"updateMany",resource:c,data:C,previousData:F,meta:{ids:i,dataProviderName:G(c,b,t),...T}})},onError:(y,{ids:i,resource:c,errorNotification:k,values:d},b)=>{if(b)for(let s of b.previousQueries)r.setQueryData(s[0],s[1]);if(y.message!=="mutationCancelled"){f==null||f(y);let s=Zo.default.singular(c),C=typeof k=="function"?k(y,{ids:i,values:d},c):k;h(C,{key:`${i}-${c}-updateMany-error-notification`,message:n("notifications.editError",{resource:s,statusCode:y.statusCode},`Error when updating ${s} (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...e})},Jo=E("@tanstack/react-query"),As=B(E("pluralize")),Ds=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=je({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:a,undoableTimeout:n}=yr(),o=Le(),{notificationDispatch:l}=vr(),m=le(),f=Kt(),p=We(),v=Yt(),{log:h}=_t(),{resources:P}=ae(),g=(0,Jo.useQueryClient)();return(0,Jo.useMutation)(({resource:y,ids:i,mutationMode:c,undoableTimeout:k,onCancel:d,meta:b,metaData:s,dataProviderName:C,values:u})=>{let I=c!=null?c:a,x=k!=null?k:n,F=o(G(y,C,P)),$=()=>F.deleteMany?F.deleteMany({resource:y,ids:i,meta:w(b,s),metaData:w(b,s),variables:u}):ma(i.map(L=>F.deleteOne({resource:y,id:L,meta:w(b,s),metaData:w(b,s),variables:u})));return I!=="undoable"?$():new Promise((L,D)=>{let T=()=>{$().then(R=>L(R)).catch(R=>D(R))},q=()=>{D({message:"mutationCancelled"})};d&&d(q),l({type:"ADD",payload:{id:i,resource:y,cancelMutation:q,doMutation:T,seconds:x,isSilent:!!d}})})},{onMutate:async({ids:y,resource:i,mutationMode:c,dataProviderName:k})=>{let d=Je(i,G(i,k,P)),b=c!=null?c:a;await g.cancelQueries(d.resourceAll,void 0,{silent:!0});let s=g.getQueriesData(d.resourceAll);if(b!=="pessimistic"){g.setQueriesData(d.list(),C=>C?{data:C.data.filter(u=>u.id&&!y.map(String).includes(u.id.toString())),total:C.total-1}:null),g.setQueriesData(d.many(),C=>{if(!C)return null;let u=C.data.filter(I=>I.id?!y.map(String).includes(I.id.toString()):!1);return{...C,data:u}});for(let C of y)g.setQueriesData(d.detail(C),u=>!u||u.data.id==C?null:{...u})}return{previousQueries:s,queryKey:d}},onSettled:(y,i,{resource:c,ids:k,dataProviderName:d,invalidates:b=["list","many"]})=>{v({resource:c,dataProviderName:G(c,d,P),invalidates:b}),l({type:"REMOVE",payload:{id:k,resource:c}})},onSuccess:(y,{ids:i,resource:c,meta:k,metaData:d,dataProviderName:b,successNotification:s},C)=>{i.forEach(L=>g.removeQueries(C==null?void 0:C.queryKey.detail(L)));let u=typeof s=="function"?s(y,i,c):s;p(u,{key:`${i}-${c}-notification`,description:m("notifications.success","Success"),message:m("notifications.deleteSuccess",{resource:m(`${c}.${c}`,c)},`Successfully deleted ${c}`),type:"success"}),f==null||f({channel:`resources/${c}`,type:"deleted",payload:{ids:i},date:new Date});let{fields:I,operation:x,variables:F,...$}=w(k,d)||{};h==null||h.mutate({action:"deleteMany",resource:c,meta:{ids:i,dataProviderName:G(c,b,P),...$}}),i.forEach(L=>g.removeQueries(C==null?void 0:C.queryKey.detail(L)))},onError:(y,{ids:i,resource:c,errorNotification:k},d)=>{if(d)for(let b of d.previousQueries)g.setQueryData(b[0],b[1]);if(y.message!=="mutationCancelled"){r(y);let b=As.default.singular(c),s=typeof k=="function"?k(y,i,c):k;p(s,{key:`${i}-${c}-notification`,message:m("notifications.deleteError",{resource:b,statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})}},...e})},Rs=e=>{let t=Le(),{getApiUrl:r}=t(e);return r()},Ms=E("@tanstack/react-query"),Bs=({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:l,metaData:m,dataProviderName:f})=>{let p=Le(),{custom:v}=p(f),h=ke(),{mutate:P}=je({v3LegacyAuthProviderCompatible:Boolean(h==null?void 0:h.isLegacy)}),g=le(),y=We();if(v)return(0,Ms.useQuery)([f,"custom",t,e,{...r,...w(l,m)||{}}],({queryKey:i,pageParam:c,signal:k})=>v({url:e,method:t,...r,metaData:{...w(l,m)||{},queryContext:{queryKey:i,pageParam:c,signal:k}}}),{...a,onSuccess:i=>{var c;(c=a==null?void 0:a.onSuccess)==null||c.call(a,i);let k=typeof n=="function"?n(i,{...r,...w(l,m)||{}}):n;y(k)},onError:i=>{var c;P(i),(c=a==null?void 0:a.onError)==null||c.call(a,i);let k=typeof o=="function"?o(i,{...r,...w(l,m)||{}}):o;y(k,{key:`${t}-notification`,message:g("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},Os=E("@tanstack/react-query"),zs=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=je({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=We(),n=Le(),o=le();return(0,Os.useMutation)(({url:l,method:m,values:f,meta:p,metaData:v,dataProviderName:h,config:P})=>{let{custom:g}=n(h);if(g)return g({url:l,method:m,payload:f,meta:w(p,v),metaData:w(p,v),headers:{...P==null?void 0:P.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:m,config:f,meta:p,metaData:v})=>{let h=typeof m=="function"?m(l,{...f,...w(p,v)||{}}):m;a(h)},onError:(l,{errorNotification:m,method:f,config:p,meta:v,metaData:h})=>{r(l);let P=typeof m=="function"?m(l,{...p,...w(v,h)||{}}):m;a(P,{key:`${f}-notification`,message:o("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...e})},Xo=E("react"),Vl=B(E("react")),Us=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),cn=Vl.default.createContext(Us()),js=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Vl.default.createElement(cn.Provider,{value:r},e)},Le=()=>{let e=(0,Xo.useContext)(cn);return(0,Xo.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},Ws=E("@tanstack/react-query"),Qs=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:m,errorNotification:f,meta:p,metaData:v,liveMode:h,onLiveEvent:P,liveParams:g,dataProviderName:y})=>{let{resources:i}=ae(),c=Le(),k=le(),d=ke(),{mutate:b}=je({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),s=We(),C=G(e,y,i),u=w(p,v),I=w(r,t==null?void 0:t.filters),x=w(o,t==null?void 0:t.sort),F=w(a,t==null?void 0:t.hasPagination),$=zl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:F}),L=$.mode==="server",D={meta:u,metaData:u,filters:I,hasPagination:L,pagination:$,sorters:x,config:{...t,sort:x}},T=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,q=Je(e,C,u,u),{getList:R}=c(C);return Ar({resource:e,types:["*"],params:{meta:u,metaData:u,pagination:$,hasPagination:L,sort:x,sorters:x,filters:I,subscriptionType:"useList",...g},channel:`resources/${e}`,enabled:T,liveMode:h,onLiveEvent:P}),(0,Ws.useInfiniteQuery)(q.list({filters:I,hasPagination:L,...L&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:S,pageParam:A,signal:z})=>{let H={...$,current:A};return R({resource:e,pagination:H,hasPagination:L,filters:I,sort:x,sorters:x,meta:{...u||{},queryContext:{queryKey:S,pageParam:A,signal:z}},metaData:{...u||{},queryContext:{queryKey:S,pageParam:A,signal:z}}}).then(({data:Y,total:N,...j})=>({data:Y,total:N,pagination:H,...j}))},{getNextPageParam:S=>Ml(S),getPreviousPageParam:S=>Bl(S),...l,onSuccess:S=>{var A;(A=l==null?void 0:l.onSuccess)==null||A.call(l,S);let z=typeof m=="function"?m(S,D,e):m;s(z)},onError:S=>{var A;b(S),(A=l==null?void 0:l.onError)==null||A.call(l,S);let z=typeof f=="function"?f(S,D,e):f;s(z,{key:`${e}-useInfiniteList-notification`,message:k("notifications.error",{statusCode:S.statusCode},`Error (status code: ${S.statusCode})`),description:S.message,type:"error"})}})},ja=E("react"),Vs=E("@tanstack/react-query"),Hl=B(E("react")),Tr=Hl.default.createContext(void 0),Hs=({liveProvider:e,children:t})=>Hl.default.createElement(Tr.Provider,{value:e},t),Ar=({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:l})=>{let m=(0,Vs.useQueryClient)(),f=Je(e),p=(0,ja.useContext)(Tr),{liveMode:v,onLiveEvent:h}=(0,ja.useContext)(St),P=o!=null?o:v;(0,ja.useEffect)(()=>{let g;return P&&P!=="off"&&n&&(g=p==null?void 0:p.subscribe({channel:r,params:{resource:e,...t},types:a,callback:y=>{P==="auto"&&m.invalidateQueries(f.resourceAll),l==null||l(y),h==null||h(y)}})),()=>{g&&(p==null||p.unsubscribe(g))}},[n])},Ks=E("react"),Kl=e=>{let{liveMode:t}=(0,Ks.useContext)(St);return e!=null?e:t},el=E("react"),_s=({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,el.useContext)(Tr);(0,el.useEffect)(()=>{let l;return a&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{l&&(o==null||o.unsubscribe(l))}},[a])},Ys=E("react"),Kt=()=>{let e=(0,Ys.useContext)(Tr);return e==null?void 0:e.publish},Gs=E("react"),_l=B(E("react")),Zs=E("react"),Js=E("react"),Xs=B(E("lodash/isEqual")),ec=e=>{let t=(0,Js.useRef)(e);return(0,Xs.default)(t.current,e)||(t.current=e),t.current},Yl=(e,t)=>{let r=ec(t);return(0,Zs.useMemo)(e,r)},Dr=_l.default.createContext({resources:[]}),tc=({resources:e,children:t})=>{let r=Yl(()=>Ol(e!=null?e:[]),[e]);return _l.default.createElement(Dr.Provider,{value:{resources:r}},t)},Gl=B(E("react")),Zl=Gl.default.createContext("new"),rc=Zl.Provider,he=()=>Gl.default.useContext(Zl),ac=B(E("react")),Jl=B(E("react")),Xl={},Rr=(0,Jl.createContext)(Xl),nc=({children:e,router:t})=>Jl.default.createElement(Rr.Provider,{value:t!=null?t:Xl},e),tl=B(E("react")),ei=()=>{let e=(0,tl.useContext)(Rr);return tl.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},Xe=()=>{let e=ei();return ac.default.useMemo(()=>e(),[e])};function ae(e){var t,r;let{resources:a}=(0,Gs.useContext)(Dr),n=he(),o=Xe(),l={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},m=pa(),{useParams:f}=Se(),p=f();if(n==="legacy"){let P=l.resourceNameOrRouteName?l.resourceNameOrRouteName:p.resource,g=P?m(P):void 0,y=(t=l==null?void 0:l.recordItemId)!=null?t:p.id,i=p.action,c=(r=l==null?void 0:l.resourceName)!=null?r:g==null?void 0:g.name;return{resources:a,resource:g,resourceName:c,id:y,action:i}}let v,h=typeof e=="string"?e:l==null?void 0:l.resourceNameOrRouteName;if(h){let P=ye(h,a);P?v=P:v={name:h}}else o!=null&&o.resource&&(v=o.resource);return{resources:a,resource:v,resourceName:v==null?void 0:v.name,id:o.id,action:o.action}}var rl=E("react"),pa=()=>{let{resources:e}=(0,rl.useContext)(Dr);return(0,rl.useCallback)(t=>ye(t,e,!0)||{name:t,route:t},[e])},oc=E("react"),vr=()=>{let{notifications:e,notificationDispatch:t}=(0,oc.useContext)(jl);return{notifications:e,notificationDispatch:t}},lc=E("react"),ti=B(E("react")),dn=(0,ti.createContext)({}),ic=({open:e,close:t,children:r})=>ti.default.createElement(dn.Provider,{value:{open:e,close:t}},r),qt=()=>{let{open:e,close:t}=(0,lc.useContext)(dn);return{open:e,close:t}},uc=E("react"),We=()=>{let{open:e}=qt();return(0,uc.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},al=E("react"),ri=B(E("react")),gr=ri.default.createContext({}),sc=({children:e,i18nProvider:t})=>ri.default.createElement(gr.Provider,{value:{i18nProvider:t}},e),cc=()=>{let{i18nProvider:e}=(0,al.useContext)(gr);return(0,al.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},nl=E("react"),le=()=>{let{i18nProvider:e}=(0,nl.useContext)(gr);return(0,nl.useMemo)(()=>{function t(r,a,n){var o,l;return(l=(o=e==null?void 0:e.translate(r,a,n))!=null?o:n)!=null?l:typeof a=="string"&&typeof n>"u"?a:r}return t},[e])},ol=E("react"),dc=()=>{let{i18nProvider:e}=(0,ol.useContext)(gr);return(0,ol.useCallback)(()=>e==null?void 0:e.getLocale(),[])},mc=E("react"),yr=()=>{let{mutationMode:e,undoableTimeout:t}=(0,mc.useContext)(St);return{mutationMode:e,undoableTimeout:t}},ll=E("react"),Ja=B(E("react")),ai=Ja.default.createContext({}),pc=({children:e})=>{let[t,r]=(0,Ja.useState)(!1);return Ja.default.createElement(ai.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},mn=()=>{let{warnWhenUnsavedChanges:e}=(0,ll.useContext)(St),{warnWhen:t,setWarnWhen:r}=(0,ll.useContext)(ai);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},fc=E("react"),ni=()=>{let{syncWithLocation:e}=(0,fc.useContext)(St);return{syncWithLocation:e}},vc=E("react"),gc=()=>{let{Title:e}=(0,vc.useContext)(St);return e},yc=E("react"),pn=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:m,syncWithLocation:f,undoableTimeout:p,warnWhenUnsavedChanges:v,DashboardPage:h,LoginPage:P,catchAll:g,options:y}=(0,yc.useContext)(St);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:m,syncWithLocation:f,undoableTimeout:p,warnWhenUnsavedChanges:v,DashboardPage:h,LoginPage:P,catchAll:g,options:y}},hc=E("react"),bc=E("export-to-csv-fix-source-map"),Ec=({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:l=20,mapData:m=g=>g,exportOptions:f,meta:p,metaData:v,dataProviderName:h,onError:P}={})=>{var g;let[y,i]=(0,hc.useState)(!1),c=Le(),{resource:k,resources:d}=ae(),b=`${nn(k==null?void 0:k.name,"plural")}-${new Date().toLocaleString()}`,{getList:s}=c(G((g=k==null?void 0:k.identifier)!=null?g:k==null?void 0:k.name,h,d));return{isLoading:y,triggerExport:async()=>{var C;i(!0);let u=[],I=1,x=!0;for(;x;)try{let{data:F,total:$}=await s({resource:(C=k==null?void 0:k.name)!=null?C:"",filters:n,sort:w(a,r),sorters:w(a,r),pagination:{current:I,pageSize:l,mode:"server"},meta:w(p,v),metaData:w(p,v)});I++,u.push(...F),o&&u.length>=o&&(u=u.slice(0,o),x=!1),$===u.length&&(x=!1)}catch(F){i(!1),x=!1,P==null||P(F);return}new bc.ExportToCsv({filename:b,useKeysAsHeaders:!0,...f}).generateCsv(u.map(m)),i(!1)}}},il=B(E("react")),Cc=({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:l,errorNotification:m,meta:f,metaData:p,mutationMode:v,liveMode:h,onLiveEvent:P,liveParams:g,undoableTimeout:y,dataProviderName:i,invalidates:c,queryOptions:k,createMutationOptions:d,updateMutationOptions:b}={})=>{let{options:s}=pn(),{resources:C}=ae(),u=he(),{resource:I,id:x,action:F}=Xe(),{useParams:$}=Se(),{resource:L,action:D,id:T}=$(),q=typeof I=="string"?I:I==null?void 0:I.name,R=!e||e===(u==="legacy"?L:q)?r!=null?r:u==="legacy"?T:x:r,[S,A]=il.default.useState(R);il.default.useEffect(()=>{R!==S&&A(r)},[r]);let z=e!=null?e:u==="legacy"?L:q,H=u==="legacy"?D:F,Y=t!=null?t:H==="edit"||H==="clone"?H:"create",N=pa(),j;if(u==="legacy")z&&(j=N(z));else if(e){let oe=ye(e,C);oe?j=oe:j={name:e,route:e}}else if(typeof I=="string"){let oe=ye(I,C);oe?j=oe:j={name:I,route:I}}else j=I;let{mutationMode:M}=yr(),X=v!=null?v:M,ue=Y==="create",K=Y==="edit",J=Y==="clone",ee=Cs({redirectFromProps:o,action:Y,redirectOptions:s.redirect}),we=S!==void 0&&(K||J),Ie=un({resource:j==null?void 0:j.name,id:S!=null?S:"",queryOptions:{enabled:we,...k},liveMode:h,onLiveEvent:P,liveParams:g,meta:w(f,p),metaData:w(f,p),dataProviderName:i}),{isFetching:Ce}=Ie,se=sn({mutationOptions:d}),{mutate:ce,isLoading:ne}=se,fe=Wl({mutationOptions:b}),{mutate:de,isLoading:Ae}=fe,{setWarnWhen:lt}=mn(),_e=oi();return{...ue||J?{formLoading:Ce||ne,mutationResult:se,onFinish:async oe=>{lt(!1);let De=ft=>{_e({redirect:ee,resource:j,id:ft,meta:p})};return X!=="pessimistic"&&setTimeout(()=>{De()}),new Promise((ft,Ut)=>{if(X!=="pessimistic"&&ft(),!!j)return ce({values:oe,resource:j.name,successNotification:l,errorNotification:m,meta:w(f,p),metaData:w(f,p),dataProviderName:i,invalidates:c},{onSuccess:(it,vt,Re)=>{var bt;a&&a(it,oe,Re);let jt=(bt=it==null?void 0:it.data)==null?void 0:bt.id;De(jt),ft(it)},onError:(it,vt,Re)=>{if(n)return n(it,oe,Re);Ut()}})})}}:{formLoading:Ce||Ae,mutationResult:fe,onFinish:async oe=>{if(lt(!1),!j)return;let De={id:S!=null?S:"",values:oe,resource:j.name,mutationMode:X,undoableTimeout:y,successNotification:l,errorNotification:m,meta:w(f,p),metaData:w(f,p),dataProviderName:i,invalidates:c},ft=()=>{A(R),_e({redirect:ee,resource:j,id:S,meta:p})};return X!=="pessimistic"&&setTimeout(()=>{ft()}),new Promise((Ut,it)=>(X!=="pessimistic"&&Ut(),setTimeout(()=>{de(De,{onSuccess:(vt,Re,bt)=>{a&&a(vt,oe,bt),X==="pessimistic"&&ft(),Ut(vt)},onError:(vt,Re,bt)=>{if(n)return n(vt,oe,bt);it()}})})))}},queryResult:Ie,id:S,setId:A,redirect:(oe,De)=>{_e({redirect:oe!==void 0?oe:K?"list":"edit",resource:j,id:De!=null?De:S,meta:p})}}},Pc=E("react"),oi=()=>{let{show:e,edit:t,list:r,create:a}=tt();return(0,Pc.useCallback)(({redirect:n,resource:o,id:l,meta:m={}})=>{if(n&&o)return!!o.show&&n==="show"&&l?e(o,l,void 0,m):!!o.edit&&n==="edit"&&l?t(o,l,void 0,m):!!o.create&&n==="create"?a(o,void 0,m):r(o,"push",m)},[])},ul=B(E("react")),et=()=>{let e=(0,ul.useContext)(Rr);return ul.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},sl=B(E("react")),li=()=>{let e=(0,sl.useContext)(Rr);return sl.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},tt=()=>{let{resources:e}=ae(),t=he(),{useHistory:r}=Se(),a=r(),n=Xe(),o=et(),l=li(),m=(g,y="push")=>{t==="legacy"?a[y](g):o({to:g,type:y})},f=(g,y={})=>{var i,c,k;if(t==="legacy"){let d=typeof g=="string"?(i=ye(g,e,!0))!=null?i:{name:g,route:g}:g,b=Ue(d,e,!0).find(s=>s.action==="create");return b?Ge(b.route,n,y):""}else{let d=typeof g=="string"?(c=ye(g,e))!=null?c:{name:g}:g,b=(k=Ue(d,e).find(s=>s.action==="create"))==null?void 0:k.route;return b?o({to:Ge(b,n,y),type:"path"}):""}},p=(g,y,i={})=>{var c,k,d;let b=encodeURIComponent(y);if(t==="legacy"){let s=typeof g=="string"?(c=ye(g,e,!0))!=null?c:{name:g,route:g}:g,C=Ue(s,e,!0).find(u=>u.action==="edit");return C?Ge(C.route,n,{...i,id:b}):""}else{let s=typeof g=="string"?(k=ye(g,e))!=null?k:{name:g}:g,C=(d=Ue(s,e).find(u=>u.action==="edit"))==null?void 0:d.route;return C?o({to:Ge(C,n,{...i,id:b}),type:"path"}):""}},v=(g,y,i={})=>{var c,k,d;let b=encodeURIComponent(y);if(t==="legacy"){let s=typeof g=="string"?(c=ye(g,e,!0))!=null?c:{name:g,route:g}:g,C=Ue(s,e,!0).find(u=>u.action==="clone");return C?Ge(C.route,n,{...i,id:b}):""}else{let s=typeof g=="string"?(k=ye(g,e))!=null?k:{name:g}:g,C=(d=Ue(s,e).find(u=>u.action==="clone"))==null?void 0:d.route;return C?o({to:Ge(C,n,{...i,id:b}),type:"path"}):""}},h=(g,y,i={})=>{var c,k,d;let b=encodeURIComponent(y);if(t==="legacy"){let s=typeof g=="string"?(c=ye(g,e,!0))!=null?c:{name:g,route:g}:g,C=Ue(s,e,!0).find(u=>u.action==="show");return C?Ge(C.route,n,{...i,id:b}):""}else{let s=typeof g=="string"?(k=ye(g,e))!=null?k:{name:g}:g,C=(d=Ue(s,e).find(u=>u.action==="show"))==null?void 0:d.route;return C?o({to:Ge(C,n,{...i,id:b}),type:"path"}):""}},P=(g,y={})=>{var i,c,k;if(t==="legacy"){let d=typeof g=="string"?(i=ye(g,e,!0))!=null?i:{name:g,route:g}:g,b=Ue(d,e,!0).find(s=>s.action==="list");return b?Ge(b.route,n,y):""}else{let d=typeof g=="string"?(c=ye(g,e))!=null?c:{name:g}:g,b=(k=Ue(d,e).find(s=>s.action==="list"))==null?void 0:k.route;return b?o({to:Ge(b,n,y),type:"path"}):""}};return{create:(g,y="push",i={})=>{m(f(g,i),y)},createUrl:f,edit:(g,y,i="push",c={})=>{m(p(g,y,c),i)},editUrl:p,clone:(g,y,i="push",c={})=>{m(v(g,y,c),i)},cloneUrl:v,show:(g,y,i="push",c={})=>{m(h(g,y,c),i)},showUrl:h,list:(g,y="push",i={})=>{m(P(g,i),y)},listUrl:P,push:(g,...y)=>{t==="legacy"?a.push(g,...y):o({to:g,type:"push"})},replace:(g,...y)=>{t==="legacy"?a.replace(g,...y):o({to:g,type:"replace"})},goBack:()=>{t==="legacy"?a.goBack():l()}}},cl=B(E("react")),kc=({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:l,onLiveEvent:m,dataProviderName:f,queryOptions:p}={})=>{let v=he(),{resources:h}=ae(),{useParams:P}=Se(),{resource:g,id:y}=Xe(),{resource:i,id:c}=P(),k=g==null?void 0:g.name,d=!e||e===(v==="legacy"?i:k)?t!=null?t:v==="legacy"?c:y:t,[b,s]=(0,cl.useState)(d);cl.default.useEffect(()=>{d!==b&&s(d)},[d]);let C=e!=null?e:v==="legacy"?i:k,u,I=pa();if(v==="legacy")C&&(u=I(C));else if(e){let x=ye(e,h);x?u=x:u={name:e,route:e}}else if(typeof g=="string"){let x=ye(g,h);x?u=x:u={name:g,route:g}}else u=g;return{queryResult:un({resource:u==null?void 0:u.name,id:b!=null?b:"",queryOptions:{enabled:b!==void 0,...p},successNotification:r,errorNotification:a,meta:w(n,o),metaData:w(n,o),liveMode:l,onLiveEvent:m,dataProviderName:f}),showId:b,setShowId:s}},aa=E("react"),xc=E("papaparse"),Ic=B(E("lodash/chunk")),Fc=({resourceName:e,resource:t,mapData:r=v=>v,paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:m,onProgress:f,dataProviderName:p}={})=>{let[v,h]=(0,aa.useState)(0),[P,g]=(0,aa.useState)(0),[y,i]=(0,aa.useState)(!1),{resource:c}=ae(t!=null?t:e),k=Ql(),d=sn(),b;n===1?b=d:b=k;let s=()=>{g(0),h(0),i(!1)},C=I=>{let x={succeeded:I.filter(F=>F.type==="success"),errored:I.filter(F=>F.type==="error")};o==null||o(x),i(!1)};(0,aa.useEffect)(()=>{f==null||f({totalAmount:P,processedAmount:v})},[P,v]);let u=({file:I})=>(s(),new Promise(x=>{i(!0),(0,xc.parse)(I,{complete:async({data:F})=>{let $=wl(F,r);if(g($.length),n===1){let L=$.map(T=>async()=>{var q;return{response:await d.mutateAsync({resource:(q=c==null?void 0:c.name)!=null?q:"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:w(l,m),metaData:w(l,m)}),value:T}}),D=await Qo(L,({response:T,value:q})=>(h(R=>R+1),{response:[T.data],type:"success",request:[q]}),(T,q)=>({response:[T],type:"error",request:[$[q]]}));x(D)}else{let L=(0,Ic.default)($,n),D=L.map(q=>async()=>{var R;return{response:await k.mutateAsync({resource:(R=c==null?void 0:c.name)!=null?R:"",values:q,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:w(l,m),metaData:w(l,m)}),value:q,currentBatchLength:q.length}}),T=await Qo(D,({response:q,currentBatchLength:R,value:S})=>(h(A=>A+R),{response:q.data,type:"success",request:S}),(q,R)=>({response:[q],type:"error",request:L[R]}));x(T)}},...a})}).then(x=>(C(x),x)));return{inputProps:{type:"file",accept:".csv",onChange:I=>{I.target.files&&I.target.files.length>0&&u({file:I.target.files[0]})}},mutationResult:b,isLoading:y,handleChange:u}},Wa=E("react"),$c=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Wa.useState)(e),a=(0,Wa.useCallback)(()=>r(!0),[t]),n=(0,Wa.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},wc=B(E("react")),fn=()=>{let e=he(),{resource:t,resources:r}=ae(),a=Xe();return wc.default.useCallback(({resource:n,action:o,meta:l})=>{var m;let f=n||t;if(!f)return;let p=(m=Ue(f,r,e==="legacy").find(v=>v.action===o))==null?void 0:m.route;return p?Ge(p,a,l):void 0},[r,t,a])},Lc=({resource:e,action:t,meta:r,legacy:a})=>fn()({resource:e,action:t,meta:r,legacy:a}),dl=B(E("react")),fa=()=>{let e=(0,dl.useContext)(Rr);return e!=null&&e.Link?e.Link:({to:t,...r})=>dl.default.createElement("a",{href:t,...r})},Sc=E("react"),ii=B(E("react")),wt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},qc=ii.default.createContext(wt),vn=qc,Nc=({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l})=>ii.default.createElement(vn.Provider,{value:{useHistory:t!=null?t:wt.useHistory,useLocation:r!=null?r:wt.useLocation,useParams:a!=null?a:wt.useParams,Prompt:n!=null?n:wt.Prompt,Link:o!=null?o:wt.Link,routes:l!=null?l:wt.routes}},e),Se=()=>{let e=(0,Sc.useContext)(vn),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}=e!=null?e:wt;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}},Tc=E("react"),Ac=E("@tanstack/react-query"),ui=B(E("react")),va=ui.default.createContext({}),Dc=({can:e,children:t})=>ui.default.createElement(va.Provider,{value:{can:e}},t),Rc=e=>{let{icon:t,list:r,edit:a,create:n,show:o,clone:l,children:m,meta:f,options:p,...v}=e,{icon:h,...P}=f!=null?f:{},{icon:g,...y}=p!=null?p:{};return{...v,...f?{meta:P}:{},...p?{options:y}:{}}},si=({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,Tc.useContext)(va),{resource:o,...l}=r!=null?r:{},m=Rc(o!=null?o:{}),f=(0,Ac.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:m},enabled:a==null?void 0:a.enabled}],()=>{var p;return(p=n==null?void 0:n({action:e,resource:t,params:r}))!=null?p:Promise.resolve({can:!0})},{enabled:typeof n<"u",...a,retry:!1});return typeof n>"u"?{data:{can:!0}}:f},Mc=E("react"),Bc=()=>{let{can:e}=(0,Mc.useContext)(va);return{can:e}},sr=E("react"),Oc=B(E("lodash/uniqBy")),zc=B(E("lodash/debounce")),na=B(E("lodash/get")),Uc=e=>{var t,r,a;let[n,o]=(0,sr.useState)([]),[l,m]=(0,sr.useState)([]),[f,p]=(0,sr.useState)([]),{resource:v,sort:h,sorters:P,filters:g=[],optionLabel:y="title",optionValue:i="id",debounce:c=300,successNotification:k,errorNotification:d,defaultValueQueryOptions:b,queryOptions:s,fetchSize:C,pagination:u,hasPagination:I=!1,liveMode:x,defaultValue:F=[],onLiveEvent:$,onSearch:L,liveParams:D,meta:T,metaData:q,dataProviderName:R}=e,{resources:S}=ae(),A=ye(v,S),z=(t=A==null?void 0:A.name)!=null?t:v,H=Array.isArray(F)?F:[F],Y=(0,sr.useCallback)(K=>{p(K.data.map(J=>({label:(0,na.default)(J,y),value:(0,na.default)(J,i)})))},[y,i]),N=b!=null?b:s,j=Ul({resource:z,ids:H,queryOptions:{...N,enabled:H.length>0&&((r=b==null?void 0:b.enabled)!=null?r:!0),onSuccess:K=>{var J;Y(K),(J=N==null?void 0:N.onSuccess)==null||J.call(N,K)}},meta:w(T,q),metaData:w(T,q),liveMode:"off",dataProviderName:R}),M=(0,sr.useCallback)(K=>{m(K.data.map(J=>({label:(0,na.default)(J,y),value:(0,na.default)(J,i)})))},[y,i]),X=ln({resource:z,sorters:w(P,h),filters:g.concat(n),pagination:{current:u==null?void 0:u.current,pageSize:(a=u==null?void 0:u.pageSize)!=null?a:C,mode:u==null?void 0:u.mode},hasPagination:I,queryOptions:{...s,onSuccess:K=>{var J;M(K),(J=s==null?void 0:s.onSuccess)==null||J.call(s,K)}},successNotification:k,errorNotification:d,meta:w(T,q),metaData:w(T,q),liveMode:x,liveParams:D,onLiveEvent:$,dataProviderName:R}),ue=K=>{if(L){o(L(K));return}if(K)o([{field:y,operator:"contains",value:K}]);else{o([]);return}};return{queryResult:X,defaultValueQueryResult:j,options:(0,sr.useMemo)(()=>(0,Oc.default)([...l,...f],"value"),[l,f]),onSearch:(0,zc.default)(ue,c)}},Vt=B(E("react")),ml=B(E("qs")),oa=B(E("lodash/differenceWith")),la=B(E("lodash/isEqual")),jc=B(E("warn-once")),pl=[],fl=[];function Wc({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=fl,defaultSetFilterBehavior:l,initialFilter:m,permanentFilter:f=pl,filters:p,sorters:v,syncWithLocation:h,resource:P,successNotification:g,errorNotification:y,queryOptions:i,liveMode:c,onLiveEvent:k,liveParams:d,meta:b,metaData:s,dataProviderName:C}={}){var u,I,x,F,$,L,D,T,q,R;let{syncWithLocation:S}=ni(),A=h!=null?h:S,z=Kl(c),H=he(),{useLocation:Y}=Se(),{search:N,pathname:j}=Y(),M=Xe(),X=r===!1?"off":"server",ue=((u=a==null?void 0:a.mode)!=null?u:X)!=="off",K=w(a==null?void 0:a.current,e),J=w(a==null?void 0:a.pageSize,t),ee=w(b,s),{parsedCurrent:we,parsedPageSize:Ie,parsedSorter:Ce,parsedFilters:se}=an(N!=null?N:"?"),ce=w(p==null?void 0:p.initial,m),ne=(I=w(p==null?void 0:p.permanent,f))!=null?I:pl,fe=w(v==null?void 0:v.initial,n),de=(x=w(v==null?void 0:v.permanent,o))!=null?x:fl,Ae=(F=w(p==null?void 0:p.defaultBehavior,l))!=null?F:"merge",lt,_e,oe,De;A?(lt=(($=M==null?void 0:M.params)==null?void 0:$.current)||we||K||1,_e=((L=M==null?void 0:M.params)==null?void 0:L.pageSize)||Ie||J||10,oe=((D=M==null?void 0:M.params)==null?void 0:D.sorters)||(Ce.length?Ce:fe),De=((T=M==null?void 0:M.params)==null?void 0:T.filters)||(se.length?se:ce)):(lt=K||1,_e=J||10,oe=fe,De=ce);let{replace:ft}=tt(),Ut=et(),{resource:it}=ae(P),vt=it==null?void 0:it.name;Vt.default.useEffect(()=>{(0,jc.default)(typeof vt>"u","useTable: `resource` is not defined.")},[vt]);let[Re,bt]=(0,Vt.useState)(Za(de,oe!=null?oe:[])),[jt,Xr]=(0,Vt.useState)(Ga(ne,De!=null?De:[])),[Sr,$o]=(0,Vt.useState)(lt),[Wt,wo]=(0,Vt.useState)(_e),wu=({pagination:{current:ve,pageSize:Ye},sorter:ea,filters:ta})=>{var ra;if(H==="new")return(ra=Ut({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...ue?{current:ve,pageSize:Ye}:{},sorters:ea,filters:ta,...Lo()}}))!=null?ra:"";{let qr=ml.default.parse(N==null?void 0:N.substring(1)),No=_a({pagination:{pageSize:Ye,current:ve},sorters:Re!=null?Re:ea,filters:ta,...qr});return`${j!=null?j:""}?${No!=null?No:""}`}};(0,Vt.useEffect)(()=>{N===""&&($o(lt),wo(_e),bt(Za(de,oe!=null?oe:[])),Xr(Ga(ne,De!=null?De:[])))},[N]);let Lo=()=>{var ve;if(H==="new"){let{sorters:Ye,filters:ea,pageSize:ta,current:ra,...qr}=(ve=M==null?void 0:M.params)!=null?ve:{};return qr}else{let{sorter:Ye,filters:ea,pageSize:ta,current:ra,...qr}=ml.default.parse(N,{ignoreQueryPrefix:!0});return qr}};(0,Vt.useEffect)(()=>{if(A){let ve=Lo();if(H==="new")Ut({type:"replace",options:{keepQuery:!0},query:{...ue?{pageSize:Wt,current:Sr}:{},sorters:(0,oa.default)(Re,de,la.default),filters:(0,oa.default)(jt,ne,la.default)}});else{let Ye=_a({...ue?{pagination:{pageSize:Wt,current:Sr}}:{},sorters:(0,oa.default)(Re,de,la.default),filters:(0,oa.default)(jt,ne,la.default),...ve});return ft==null?void 0:ft(`${j}?${Ye}`,void 0,{shallow:!0})}}},[A,Sr,Wt,Re,jt]);let So=ln({resource:vt,hasPagination:r,pagination:{current:Sr,pageSize:Wt,mode:a==null?void 0:a.mode},filters:Nr(ne,jt),sorters:Ya(de,Re),queryOptions:i,successNotification:g,errorNotification:y,meta:ee,metaData:ee,liveMode:z,liveParams:d,onLiveEvent:k,dataProviderName:C}),Lu=ve=>{Xr(Ye=>Nr(ne,ve,Ye))},Su=ve=>{Xr(Nr(ne,ve))},qu=ve=>{Xr(Ye=>Nr(ne,ve(Ye)))},Nu=(ve,Ye=Ae)=>{typeof ve=="function"?qu(ve):Ye==="replace"?Su(ve):Lu(ve)},qo=ve=>{bt(()=>Ya(de,ve))};return{tableQueryResult:So,sorters:Re,setSorters:qo,sorter:Re,setSorter:qo,filters:jt,setFilters:Nu,current:Sr,setCurrent:$o,pageSize:Wt,setPageSize:wo,pageCount:Wt?Math.ceil(((R=(q=So.data)==null?void 0:q.total)!=null?R:0)/Wt):1,createLinkForSyncWithLocation:wu}}var vl=E("react"),Qa=E("@tanstack/react-query"),ci=B(E("react")),ga=ci.default.createContext({}),Qc=({create:e,get:t,update:r,children:a})=>ci.default.createElement(ga.Provider,{value:{create:e,get:t,update:r}},a),_t=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Qa.useQueryClient)(),a=(0,vl.useContext)(ga),n=ke(),{resources:o}=(0,vl.useContext)(Dr),{data:l,refetch:m,isLoading:f}=kl({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy),queryOptions:{enabled:!!a}}),p=(0,Qa.useMutation)(async h=>{var P,g,y,i,c;let k=ye(h.resource,o),d=w((P=k==null?void 0:k.meta)==null?void 0:P.audit,(g=k==null?void 0:k.options)==null?void 0:g.audit,(i=(y=k==null?void 0:k.options)==null?void 0:y.auditLog)==null?void 0:i.permissions);if(d&&!ds(d,h.action))return;let b;return f&&(b=await m()),await((c=a.create)==null?void 0:c.call(a,{...h,author:l!=null?l:b==null?void 0:b.data}))},e),v=(0,Qa.useMutation)(async h=>{var P;return await((P=a.update)==null?void 0:P.call(a,h))},{onSuccess:h=>{if(h!=null&&h.resource){let P=Je(h==null?void 0:h.resource);r.invalidateQueries(P.logList())}},...t});return{log:p,rename:v}},Vc=E("react"),Hc=E("@tanstack/react-query"),Kc=({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:l}=(0,Vc.useContext)(ga),m=Je(e,void 0,n);return(0,Hc.useQuery)(m.logList(r),()=>{var f;return(f=l==null?void 0:l({resource:e,action:t,author:a,meta:r,metaData:n}))!=null?f:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},_c=E("react"),Yc=E("@tanstack/react-query"),Yt=()=>{let{resources:e}=ae(),t=(0,Yc.useQueryClient)();return(0,_c.useCallback)(({resource:r,dataProviderName:a,invalidates:n,id:o})=>{if(n===!1)return;let l=Je(r,G(r,a,e));n.forEach(m=>{switch(m){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},Gc=E("react"),Zc=B(E("warn-once")),Jc=({meta:e={}}={})=>{let t=he(),{i18nProvider:r}=(0,Gc.useContext)(gr),a=Xe(),n=le(),{resources:o,resource:l,action:m}=ae(),f=[];if(!(l!=null&&l.name))return{breadcrumbs:f};let p=v=>{var h,P,g,y,i,c,k,d;let b=typeof v=="string"?(h=ye(v,o,t==="legacy"))!=null?h:{name:v}:v;if(b){let s=w((P=b==null?void 0:b.meta)==null?void 0:P.parent,b==null?void 0:b.parentName);s&&p(s);let C=Ue(b,o,t==="legacy").find(x=>x.action==="list"),u=(g=C==null?void 0:C.resource)!=null&&g.list?C==null?void 0:C.route:void 0,I=u?t==="legacy"?u:Ge(u,a,e):void 0;f.push({label:(c=w((y=b.meta)==null?void 0:y.label,(i=b.options)==null?void 0:i.label))!=null?c:n(`${b.name}.${b.name}`,ia(b.name)),href:I,icon:w((k=b.meta)==null?void 0:k.icon,(d=b.options)==null?void 0:d.icon,b.icon)})}};if(p(l),m&&m!=="list"){let v=`actions.${m}`,h=n(v);typeof r<"u"&&h===v?((0,Zc.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${m}" action. Please add "actions.${m}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),f.push({label:n(`buttons.${m}`,ia(m))})):f.push({label:n(v,ia(m))})}return{breadcrumbs:f}},Va=B(E("react")),sa=(e,t,r=!1)=>{let a=[],n=Lt(e,t);for(;n;)a.push(n),n=Lt(n,t);return a.reverse(),`/${[...a,e].map(o=>{var l,m;return Pt((m=(l=r?o.route:void 0)!=null?l:o.identifier)!=null?m:o.name)}).join("/").replace(/^\//,"")}`},Xc=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{var o,l;let m=[],f=Lt(n,e);for(;f;)m.push(f),f=Lt(f,e);m.reverse();let p=r;m.forEach(h=>{var P,g;let y=(g=(P=t?h.route:void 0)!=null?P:h.identifier)!=null?g:h.name;p.children[y]||(p.children[y]={item:h,children:{}}),p=p.children[y]});let v=(l=(o=t?n.route:void 0)!=null?o:n.identifier)!=null?l:n.name;p.children[v]||(p.children[v]={item:n,children:{}})});let a=n=>{let o=[];return Object.keys(n.children).forEach(l=>{let m=sa(n.children[l].item,e,t),f={...n.children[l].item,key:m,children:a(n.children[l])};o.push(f)}),o};return a(r)},gl=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),ed=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=le(),a=fn(),n=he(),{resource:o,resources:l}=ae(),{pathname:m}=Xe(),{useLocation:f}=Se(),{pathname:p}=f(),v=n==="legacy"?gl(p):m?gl(m):void 0,h=`/${(v!=null?v:"").replace(/^\//,"")}`,P=o?sa(o,l,n==="legacy"):h!=null?h:"",g=Va.default.useMemo(()=>{if(!o)return[];let c=Lt(o,l),k=[sa(o,l)];for(;c;)k.push(sa(c,l)),c=Lt(c,l);return k},[]),y=Va.default.useCallback(c=>{var k,d,b,s,C,u,I,x;if(((b=(k=c==null?void 0:c.meta)==null?void 0:k.hide)!=null?b:(d=c==null?void 0:c.options)==null?void 0:d.hide)||!(c!=null&&c.list)&&c.children.length===0)return;let F=c.list?a({resource:c,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&F&&F.match(/(\/|^):(.+?)(\/|$){1}/)))return{...c,route:F,icon:w((s=c.meta)==null?void 0:s.icon,(C=c.options)==null?void 0:C.icon,c.icon),label:(x=w((u=c==null?void 0:c.meta)==null?void 0:u.label,(I=c==null?void 0:c.options)==null?void 0:I.label))!=null?x:r(`${c.name}.${c.name}`,nn(c.name,"plural"))}},[n,e,r,t]),i=Va.default.useMemo(()=>{let c=Xc(l,n==="legacy"),k=d=>d.flatMap(b=>{let s=k(b.children),C=y({...b,children:s});return C?[C]:[]});return k(c)},[l,n,y]);return{defaultOpenKeys:g,selectedKey:P,menuItems:i}},td=()=>{let[e,t]=(0,Qt.useState)(),r=le(),{push:a}=tt(),n=et(),o=he(),{resource:l,action:m}=ae();return(0,Qt.useEffect)(()=>{l&&m&&t(r("pages.error.info",{action:m,resource:l==null?void 0:l.name},`You may have forgotten to add the "${m}" component to "${l==null?void 0:l.name}" resource.`))},[l,m]),Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Qt.default.createElement("p",null,e),Qt.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},Pe=B(E("react")),di=()=>{let[e,t]=(0,Pe.useState)(""),[r,a]=(0,Pe.useState)(""),n=le(),o=ke(),{mutate:l}=en({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)});return Pe.default.createElement(Pe.default.Fragment,null,Pe.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Pe.default.createElement("form",{onSubmit:m=>{m.preventDefault(),l({username:e,password:r})}},Pe.default.createElement("table",null,Pe.default.createElement("tbody",null,Pe.default.createElement("tr",null,Pe.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Pe.default.createElement("td",null,Pe.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:m=>t(m.target.value)}))),Pe.default.createElement("tr",null,Pe.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Pe.default.createElement("td",null,Pe.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:m=>a(m.target.value)}))))),Pe.default.createElement("br",null),Pe.default.createElement("input",{type:"submit",value:"login"})))},cr=B(E("react")),te=B(E("react")),rd=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:m})=>{let f=he(),p=fa(),{Link:v}=Se(),h=f==="legacy"?v:p,[P,g]=(0,te.useState)(""),[y,i]=(0,te.useState)(""),[c,k]=(0,te.useState)(!1),d=le(),b=ke(),{mutate:s}=en({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),C=(x,F)=>x?typeof x=="string"?te.default.createElement(h,{to:x},F):x:null,u=()=>e?e.map(x=>{var F;return te.default.createElement("div",{key:x.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},te.default.createElement("button",{onClick:()=>s({providerName:x.name}),style:{display:"flex",alignItems:"center"}},x==null?void 0:x.icon,(F=x.label)!=null?F:te.default.createElement("label",null,x.label)))}):null,I=te.default.createElement("div",{...n},te.default.createElement("h1",{style:{textAlign:"center"}},d("pages.login.title","Sign in to your account")),u(),te.default.createElement("hr",null),te.default.createElement("form",{onSubmit:x=>{x.preventDefault(),s({email:P,password:y,remember:c})},...m},te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},te.default.createElement("label",null,d("pages.login.fields.email","Email")),te.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:P,onChange:x=>g(x.target.value)}),te.default.createElement("label",null,d("pages.login.fields.password","Password")),te.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:y,onChange:x=>i(x.target.value)}),a!=null?a:te.default.createElement(te.default.Fragment,null,te.default.createElement("label",null,d("pages.login.buttons.rememberMe","Remember me"),te.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:c,value:c.toString(),onChange:()=>{k(!c)}}))),te.default.createElement("br",null),r!=null?r:C("/forgot-password",d("pages.login.buttons.forgotPassword","Forgot password?")),te.default.createElement("input",{type:"submit",value:d("pages.login.signin","Sign in")}),t!=null?t:te.default.createElement("span",null,d("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",C("/register",d("pages.login.register","Sign up"))))));return te.default.createElement("div",{...o},l?l(I):I)},ge=B(E("react")),ad=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let l=he(),m=fa(),{Link:f}=Se(),p=l==="legacy"?f:m,[v,h]=(0,ge.useState)(""),[P,g]=(0,ge.useState)(""),y=le(),i=ke(),{mutate:c,isLoading:k}=xl({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),d=(C,u)=>C?typeof C=="string"?ge.default.createElement(p,{to:C},u):C:null,b=()=>e?e.map(C=>{var u;return ge.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ge.default.createElement("button",{onClick:()=>c({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,(u=C.label)!=null?u:ge.default.createElement("label",null,C.label)))}):null,s=ge.default.createElement("div",{...a},ge.default.createElement("h1",{style:{textAlign:"center"}},y("pages.register.title","Sign up for your account")),b(),ge.default.createElement("hr",null),ge.default.createElement("form",{onSubmit:C=>{C.preventDefault(),c({email:v,password:P})},...o},ge.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ge.default.createElement("label",null,y("pages.register.fields.email","Email")),ge.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:C=>h(C.target.value)}),ge.default.createElement("label",null,y("pages.register.fields.password","Password")),ge.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:P,onChange:C=>g(C.target.value)}),ge.default.createElement("input",{type:"submit",value:y("pages.register.buttons.submit","Sign up"),disabled:k}),t!=null?t:ge.default.createElement(ge.default.Fragment,null,ge.default.createElement("span",null,y("pages.login.buttons.haveAccount","Have an account?")," ",d("/login",y("pages.login.signin","Sign in")))))));return ge.default.createElement("div",{...r},n?n(s):s)},Oe=B(E("react")),nd=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let o=le(),l=he(),m=fa(),{Link:f}=Se(),p=l==="legacy"?f:m,[v,h]=(0,Oe.useState)(""),{mutate:P,isLoading:g}=Il(),y=(c,k)=>c?typeof c=="string"?Oe.default.createElement(p,{to:c},k):c:null,i=Oe.default.createElement("div",{...r},Oe.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Oe.default.createElement("hr",null),Oe.default.createElement("form",{onSubmit:c=>{c.preventDefault(),P({email:v})},...n},Oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Oe.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),Oe.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:c=>h(c.target.value)}),Oe.default.createElement("input",{type:"submit",disabled:g,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Oe.default.createElement("br",null),e!=null?e:Oe.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",y("/login",o("pages.login.signin","Sign in"))))));return Oe.default.createElement("div",{...t},a?a(i):i)},ze=B(E("react")),od=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let n=le(),o=ke(),{mutate:l,isLoading:m}=Fl({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),[f,p]=(0,ze.useState)(""),[v,h]=(0,ze.useState)(""),P=ze.default.createElement("div",{...t},ze.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),ze.default.createElement("hr",null),ze.default.createElement("form",{onSubmit:g=>{g.preventDefault(),l({password:f,confirmPassword:v})},...a},ze.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ze.default.createElement("label",null,n("pages.updatePassword.fields.password","New Password")),ze.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:f,onChange:g=>p(g.target.value)}),ze.default.createElement("label",null,n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ze.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:v,onChange:g=>h(g.target.value)}),ze.default.createElement("input",{type:"submit",disabled:m,value:n("pages.updatePassword.buttons.submit","Update")}))));return ze.default.createElement("div",{...e},r?r(P):P)},ld=e=>{let{type:t}=e;return cr.default.createElement(cr.default.Fragment,null,(()=>{switch(t){case"register":return cr.default.createElement(ad,{...e});case"forgotPassword":return cr.default.createElement(nd,{...e});case"updatePassword":return cr.default.createElement(od,{...e});default:return cr.default.createElement(rd,{...e})}})())},Me=B(E("react")),mi=()=>Me.default.createElement(Me.default.Fragment,null,Me.default.createElement("h1",null,"Welcome on board"),Me.default.createElement("p",null,"Your configuration is completed."),Me.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Me.default.createElement("code",null,"`resources`")," property of ",Me.default.createElement("code",null,"`<Refine>`")),Me.default.createElement("div",{style:{display:"flex",gap:8}},Me.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Me.default.createElement("button",null,"Documentation")),Me.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Me.default.createElement("button",null,"Examples")),Me.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Me.default.createElement("button",null,"Community")))),ut=B(E("react")),id=()=>ut.default.createElement(ut.default.Fragment,null,ut.default.createElement("h1",null,"Welcome on board"),ut.default.createElement("p",null,"Your configuration is completed."),ut.default.createElement("div",{style:{display:"flex",gap:8}},ut.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Documentation")),ut.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Examples")),ut.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Community")))),re=B(E("react")),Ha=E("@tanstack/react-query"),ud=E("@tanstack/react-query-devtools"),sd=E("react"),Ht=E("react"),cd="4.1.2",dd=()=>{let e=$l(),t=(0,Ht.useContext)(ga),r=(0,Ht.useContext)(Tr),a=(0,Ht.useContext)(vn),n=(0,Ht.useContext)(cn),{i18nProvider:o}=(0,Ht.useContext)(gr),l=(0,Ht.useContext)(dn),m=(0,Ht.useContext)(va),{resources:f}=ae(),p=!!t.create||!!t.get||!!t.update,v=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),h=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,P=!!n,g=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),y=!!l.close||!!l.open,i=!!m.can;return{providers:{auth:e,auditLog:p,live:v,router:h,data:P,i18n:g,notification:y,accessControl:i},version:cd,resourceCount:f.length}},md=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},pd=()=>{let e=dd();return(0,sd.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${md(e)}`},[]),null},fd=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},yl=B(E("react")),vd=e=>{let t=yl.default.useRef(!1);yl.default.useEffect(()=>{t.current===!1&&e&&fd(e)&&(t.current=!0)},[e])},gd=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:l,auditLogProvider:m,resources:f,DashboardPage:p,ReadyPage:v,LoginPage:h,catchAll:P,children:g,liveProvider:y,i18nProvider:i,Title:c,Layout:k,Sider:d,Header:b,Footer:s,OffLayoutArea:C,onLiveEvent:u,options:I})=>{let{optionsWithDefaults:x,disableTelemetryWithDefault:F,reactQueryWithDefaults:$}=Es({options:I}),L=Yl(()=>{var q;return $.clientConfig instanceof Ha.QueryClient?$.clientConfig:new Ha.QueryClient({...$.clientConfig,defaultOptions:{...$.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(q=$.clientConfig.defaultOptions)==null?void 0:q.queries}}})},[$.clientConfig]),D=re.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])();if(vd(n),a&&!n&&(f!=null?f:[]).length===0)return v?re.default.createElement(v,null):re.default.createElement(mi,null);let{RouterComponent:T=re.default.Fragment}=n?{}:a!=null?a:{};return re.default.createElement(Ha.QueryClientProvider,{client:L},re.default.createElement(ic,{...D},re.default.createElement(Hu,{...e!=null?e:{},isProvided:Boolean(e)},re.default.createElement(Ku,{...t!=null?t:{},isProvided:Boolean(t)},re.default.createElement(js,{...r},re.default.createElement(Hs,{liveProvider:y},re.default.createElement(rc,{value:a&&!n?"legacy":"new"},re.default.createElement(nc,{router:n},re.default.createElement(Nc,{...a},re.default.createElement(tc,{resources:f!=null?f:[]},re.default.createElement(sc,{i18nProvider:i},re.default.createElement(Dc,{...l!=null?l:{}},re.default.createElement(Qc,{...m!=null?m:{}},re.default.createElement(ws,null,re.default.createElement(bs,{mutationMode:x.mutationMode,warnWhenUnsavedChanges:x.warnWhenUnsavedChanges,syncWithLocation:x.syncWithLocation,Title:c,undoableTimeout:x.undoableTimeout,catchAll:P,DashboardPage:p,LoginPage:h,Layout:k,Sider:d,Footer:s,Header:b,OffLayoutArea:C,hasDashboard:!!p,liveMode:x.liveMode,onLiveEvent:u,options:x},re.default.createElement(pc,null,re.default.createElement(T,null,g,!F&&re.default.createElement(pd,null),re.default.createElement(fi,null))))))))))))))))),$.devtoolConfig===!1?null:re.default.createElement(ud.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...$.devtoolConfig}))},hl=E("react"),pi=({notification:e})=>{let t=le(),{notificationDispatch:r}=vr(),{open:a}=qt(),[n,o]=(0,hl.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:za(e.seconds)},`You have ${za(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:za(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let m=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(m)}};return(0,hl.useEffect)(()=>{l()},[e]),null},ca=B(E("react")),yd=({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:l})=>{let{Layout:m,Footer:f,Header:p,Sider:v,Title:h,OffLayoutArea:P}=pn(),g=t!=null?t:m;return ca.default.createElement(g,{Sider:r!=null?r:v,Header:a!=null?a:p,Footer:o!=null?o:f,Title:n!=null?n:h,OffLayoutArea:l!=null?l:P},e,ca.default.createElement(hd,null))},hd=()=>{let{Prompt:e}=Se(),t=le(),{warnWhen:r,setWarnWhen:a}=mn(),n=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,ca.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),ca.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},Ct=B(E("react")),bd=()=>{let e=et(),[t,r]=Ct.default.useState(void 0);return Ct.default.useEffect(()=>{t&&e(t)},[t]),Ct.default.useCallback(a=>{t||r(a)},[t])};function Ed({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o,l,m,f,p;let v=ke(),h=Boolean(v==null?void 0:v.isLegacy),P=tn({v3LegacyAuthProviderCompatible:Boolean(v==null?void 0:v.isLegacy)}),g=he(),y=Xe(),i=et(),c=bd(),{replace:k}=tt(),{useLocation:d}=Se(),{pathname:b,search:s}=d(),C=P.isLoading,u=v!=null&&v.isProvided?h?P.isSuccess:(o=P.data)==null?void 0:o.authenticated:!0,I=h?typeof e=="string"?e:"/login":typeof e=="string"?e:(l=P.data)==null?void 0:l.redirectTo;if(C)return n?Ct.default.createElement(Ct.default.Fragment,null,n):null;if(u)return Ct.default.createElement(Ct.default.Fragment,null,r!=null?r:null);if(typeof a>"u"){if(g==="legacy"){let x=t&&b?`?to=${encodeURIComponent(`${b}${s!=null?s:""}`)}`:"",F=b==null?void 0:b.split(/[?#]/)[0];!(F!=null&&F.includes("/login"))&&F!==e&&k(`/${(I!=null?I:"/login").replace(/^\//,"")}${x}`)}else{if(((m=y.pathname)==null?void 0:m.split(/[?#]/)[0])===I)return null;let x=(f=y.params)!=null&&f.to?(p=y.params)==null?void 0:p.to:i({to:y.pathname||"/",options:{keepQuery:!0},type:"path"});I&&c({to:`/${I.replace(/^\//,"")}`,query:x&&typeof x=="string"&&x.length>1?{to:x}:{}})}return null}return Ct.default.createElement(Ct.default.Fragment,null,a)}var Cd=E("react"),fi=()=>{let{useLocation:e}=Se(),{checkAuth:t}=Ze(),r=e();return(0,Cd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},dr=B(E("react")),Pd=({resource:e,action:t,params:r,fallback:a,children:n,...o})=>{let{data:l}=si({resource:e,action:t,params:r});return l!=null&&l.can?dr.default.isValidElement(n)?dr.default.cloneElement(n,o):dr.default.createElement(dr.default.Fragment,null,n):(l==null?void 0:l.can)===!1?dr.default.createElement(dr.default.Fragment,null,a!=null?a:null):null},mr=B(E("react")),kd=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],xd=()=>((0,mr.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),kd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),mr.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},mr.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},mr.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},mr.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),mr.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var ct=Aa((Af,yi)=>{var gn=Object.defineProperty,Id=Object.getOwnPropertyDescriptor,Fd=Object.getOwnPropertyNames,$d=Object.prototype.hasOwnProperty,wd=(e,t)=>{for(var r in t)gn(e,r,{get:t[r],enumerable:!0})},Ld=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Fd(t))!$d.call(e,n)&&n!==r&&gn(e,n,{get:()=>t[n],enumerable:!(a=Id(t,n))||a.enumerable});return e},Sd=e=>Ld(gn({},"__esModule",{value:!0}),e),gi={};wd(gi,{RefineButtonTestIds:()=>qd});yi.exports=Sd(gi);var qd={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var _r=Aa((Vf,Qi)=>{var Nd=Object.create,Fa=Object.defineProperty,Td=Object.getOwnPropertyDescriptor,Ad=Object.getOwnPropertyNames,Dd=Object.getPrototypeOf,Rd=Object.prototype.hasOwnProperty,Md=(e,t)=>{for(var r in t)Fa(e,r,{get:t[r],enumerable:!0})},Ni=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ad(t))!Rd.call(e,n)&&n!==r&&Fa(e,n,{get:()=>t[n],enumerable:!(a=Td(t,n))||a.enumerable});return e},W=(e,t,r)=>(r=e!=null?Nd(Dd(e)):{},Ni(t||!e||!e.__esModule?Fa(r,"default",{value:e,enumerable:!0}):r,e)),Bd=e=>Ni(Fa({},"__esModule",{value:!0}),e),Ti={};Md(Ti,{AuthPage:()=>af,BooleanField:()=>ip,Breadcrumb:()=>Hr,CloneButton:()=>Mm,Create:()=>Wm,CreateButton:()=>Ui,DateField:()=>mp,DeleteButton:()=>Gn,Edit:()=>Qm,EditButton:()=>ji,EmailField:()=>rp,ErrorComponent:()=>Np,ExportButton:()=>qm,FileField:()=>fp,FilterDropdown:()=>Lp,Header:()=>Oi,ImageField:()=>op,ImportButton:()=>zm,Layout:()=>vm,List:()=>jm,ListButton:()=>Jn,LoginPage:()=>zp,MarkdownField:()=>Fp,NumberField:()=>Pp,PageHeader:()=>Kr,ReadyPage:()=>jp,RefreshButton:()=>Zn,SaveButton:()=>Xn,Show:()=>Vm,ShowButton:()=>Im,Sider:()=>Bi,TagField:()=>Jm,TextField:()=>Ym,Title:()=>zi,UrlField:()=>Wi,WelcomePage:()=>Qp,getDefaultFilter:()=>Yd,getDefaultSortOrder:()=>_d,getValueFromEvent:()=>uf,mapAntdFilterToCrudFilter:()=>Ri,mapAntdSorterToCrudSorting:()=>Di,notificationProvider:()=>dm,useCheckboxGroup:()=>em,useDrawerForm:()=>Qd,useEditableTable:()=>Zd,useFileUploadState:()=>om,useForm:()=>Vr,useImport:()=>rm,useModal:()=>um,useModalForm:()=>Wd,useRadioGroup:()=>tm,useSelect:()=>Xd,useSimpleList:()=>nm,useStepsForm:()=>Hd,useTable:()=>Mi});Qi.exports=Bd(Ti);var Od=W(E("react")),zd=E("antd"),Ud=E("sunflower-antd"),ya=V(),Vr=({action:e,resource:t,onMutationSuccess:r,onMutationError:a,submitOnEnter:n=!1,warnWhenUnsavedChanges:o,redirect:l,successNotification:m,errorNotification:f,meta:p,metaData:v,liveMode:h,liveParams:P,mutationMode:g,dataProviderName:y,onLiveEvent:i,invalidates:c,undoableTimeout:k,queryOptions:d,createMutationOptions:b,updateMutationOptions:s,id:C}={})=>{var u,I;let[x]=zd.Form.useForm(),F=(0,Ud.useForm)({form:x}),{form:$}=F,L=(0,ya.useForm)({onMutationSuccess:r||void 0,onMutationError:a,redirect:l,action:e,resource:t,successNotification:m,errorNotification:f,meta:(0,ya.pickNotDeprecated)(p,v),metaData:(0,ya.pickNotDeprecated)(p,v),liveMode:h,liveParams:P,mutationMode:g,dataProviderName:y,onLiveEvent:i,invalidates:c,undoableTimeout:k,queryOptions:d,createMutationOptions:b,updateMutationOptions:s,id:C}),{formLoading:D,onFinish:T,queryResult:q,id:R}=L,{warnWhenUnsavedChanges:S,setWarnWhen:A}=(0,ya.useWarnAboutChange)(),z=o!=null?o:S;Od.default.useEffect(()=>{$.resetFields()},[(u=q==null?void 0:q.data)==null?void 0:u.data,R]);let H=j=>{n&&j.key==="Enter"&&$.submit()},Y=j=>(j&&z&&A(!0),j),N={disabled:D,onClick:()=>{$.submit()}};return{form:F.form,formProps:{...F.formProps,onFinish:j=>T(j).catch(M=>M),onKeyUp:H,onValuesChange:Y,initialValues:(I=q==null?void 0:q.data)==null?void 0:I.data},saveButtonProps:N,...L,onFinish:async j=>await T(j!=null?j:F.form.getFieldsValue(!0))}},yn=E("react"),jd=E("sunflower-antd"),Gt=V(),hn=W(E("react")),Wd=({mutationMode:e,syncWithLocation:t,...r})=>{var a,n,o,l,m,f,p,v;let h=hn.default.useRef(!1),P=Vr({...r,mutationMode:e}),{form:g,formProps:y,id:i,setId:c,formLoading:k,mutationResult:d}=P,{resource:b,action:s}=(0,Gt.useResource)(r.resource),C=(0,Gt.useParsed)(),u=(0,Gt.useGo)(),I=(n=(a=r.action)!=null?a:s)!=null?n:"",x=typeof t=="object"&&t.syncId,F=typeof t=="object"&&"key"in t?t.key:b&&I&&t?`modal-${(o=b==null?void 0:b.identifier)!=null?o:b==null?void 0:b.name}-${I}`:void 0,$=(0,Gt.useTranslate)(),{warnWhen:L,setWarnWhen:D}=(0,Gt.useWarnAboutChange)(),T=(0,jd.useModalForm)({...r,form:g}),{visible:q,close:R,show:S,form:A,formProps:z,modalProps:H}=T;hn.default.useEffect(()=>{var ee,we,Ie,Ce;if(h.current===!1&&F){let se=(we=(ee=C==null?void 0:C.params)==null?void 0:ee[F])==null?void 0:we.open;if(typeof se=="boolean"?se&&S():typeof se=="string"&&se==="true"&&S(),x){let ce=(Ce=(Ie=C==null?void 0:C.params)==null?void 0:Ie[F])==null?void 0:Ce.id;ce&&(c==null||c(ce))}h.current=!0}},[F,C,x,c]),hn.default.useEffect(()=>{var ee;h.current===!0&&(q&&F?u({query:{[F]:{...(ee=C==null?void 0:C.params)==null?void 0:ee[F],open:!0,...x&&i&&{id:i}}},options:{keepQuery:!0},type:"replace"}):F&&!q&&u({query:{[F]:void 0},options:{keepQuery:!0},type:"replace"}))},[i,q,S,F,x]);let{mutationMode:Y}=(0,Gt.useMutationMode)(),N=e!=null?e:Y,{isLoading:j,isSuccess:M,reset:X}=d!=null?d:{};(0,yn.useEffect)(()=>{q&&N==="pessimistic"&&M&&!j&&(R(),X==null||X(),setTimeout(()=>{g.resetFields()}))},[M,j]);let ue={disabled:k,onClick:()=>{A.submit(),N!=="pessimistic"&&(R(),setTimeout(()=>{g.resetFields()}))},loading:k},K=(0,yn.useCallback)(()=>{if(L)if(window.confirm($("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))D(!1);else return;c==null||c(void 0),T.close()},[L]),J=(0,yn.useCallback)(ee=>{c==null||c(ee),T.show()},[]);return{...P,...T,show:J,close:K,open:q,formProps:{...z,...P.formProps,onValuesChange:y==null?void 0:y.onValuesChange,onKeyUp:y==null?void 0:y.onKeyUp,onFinish:y.onFinish},modalProps:{...H,width:"1000px",okButtonProps:ue,title:$(`${b==null?void 0:b.name}.titles.${r.action}`,`${(0,Gt.userFriendlyResourceName)(`${r.action} ${(v=(p=(f=(l=b==null?void 0:b.meta)==null?void 0:l.label)!=null?f:(m=b==null?void 0:b.options)==null?void 0:m.label)!=null?p:b==null?void 0:b.label)!=null?v:b==null?void 0:b.name}`,"singular")}`),okText:$("buttons.save","Save"),cancelText:$("buttons.cancel","Cancel"),onCancel:K,forceRender:!0},formLoading:k}},ha=E("react"),hr=V(),bn=W(E("react")),Qd=({mutationMode:e,syncWithLocation:t,...r})=>{var a,n,o;let l=bn.default.useRef(!1),m=Vr({...r,mutationMode:e}),{form:f,formProps:p,formLoading:v,mutationResult:h,id:P,setId:g}=m,{resource:y,action:i}=(0,hr.useResource)(r.resource),c=(0,hr.useParsed)(),k=(0,hr.useGo)(),d=(n=(a=r.action)!=null?a:i)!=null?n:"",b=typeof t=="object"&&t.syncId,s=typeof t=="object"&&"key"in t?t.key:y&&d&&t?`drawer-${(o=y==null?void 0:y.identifier)!=null?o:y==null?void 0:y.name}-${d}`:void 0,[C,u]=(0,ha.useState)(!1);bn.default.useEffect(()=>{var H,Y,N,j;if(l.current===!1&&s){let M=(Y=(H=c==null?void 0:c.params)==null?void 0:H[s])==null?void 0:Y.open;if(typeof M=="boolean"?u(M):typeof M=="string"&&u(M==="true"),b){let X=(j=(N=c==null?void 0:c.params)==null?void 0:N[s])==null?void 0:j.id;X&&(g==null||g(X))}l.current=!0}},[s,c,b,g]),bn.default.useEffect(()=>{var H;l.current===!0&&(C&&s?k({query:{[s]:{...(H=c==null?void 0:c.params)==null?void 0:H[s],open:!0,...b&&P&&{id:P}}},options:{keepQuery:!0},type:"replace"}):s&&!C&&k({query:{[s]:void 0},options:{keepQuery:!0},type:"replace"}))},[P,C,s,b]);let I=(0,hr.useTranslate)(),{warnWhen:x,setWarnWhen:F}=(0,hr.useWarnAboutChange)(),{mutationMode:$}=(0,hr.useMutationMode)(),L=e!=null?e:$,{isLoading:D,isSuccess:T,reset:q}=h!=null?h:{};(0,ha.useEffect)(()=>{C&&L==="pessimistic"&&T&&!D&&(u(!1),q==null||q())},[T,D]);let R={disabled:v,onClick:()=>{f==null||f.submit(),L!=="pessimistic"&&u(!1)},loading:v},S={recordItemId:P,onSuccess:()=>{g==null||g(void 0),u(!1)}},A=(0,ha.useCallback)(()=>{if(x)if(window.confirm(I("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))F(!1);else return;u(!1),g==null||g(void 0)},[x]),z=(0,ha.useCallback)(H=>{g==null||g(H),u(!0)},[]);return{...m,show:z,close:A,formProps:{form:f,...m.formProps,onValuesChange:p==null?void 0:p.onValuesChange,onKeyUp:p==null?void 0:p.onKeyUp,onFinish:p.onFinish},drawerProps:{width:"500px",onClose:A,open:C,forceRender:!0},saveButtonProps:R,deleteButtonProps:S,formLoading:v}},Vd=E("sunflower-antd"),Hd=(e={})=>{let t=Vr({...e}),{form:r,formProps:a}=t,n=(0,Vd.useStepsForm)({isBackValidate:!1,form:r,submit:o=>{var l;(l=a==null?void 0:a.onFinish)==null||l.call(a,o)},...e});return{...t,...n,formProps:{...n.formProps,...t.formProps,onValuesChange:a==null?void 0:a.onValuesChange,onKeyUp:a==null?void 0:a.onKeyUp},saveButtonProps:{...t.saveButtonProps,onClick:()=>n.submit()}}},br=E("react"),hi=E("antd"),Kd=E("sunflower-antd"),Mr=V(),Ai=V(),_d=(e,t)=>{let r=(0,Ai.getDefaultSortOrder)(e,t);if(r)return`${r}end`},Yd=(e,t,r="eq")=>(0,Ai.getDefaultFilter)(e,t,r),Di=e=>{var t;let r=[];if(Array.isArray(e))e.sort((a,n)=>{var o,l,m,f;return((l=((o=a.column)==null?void 0:o.sorter).multiple)!=null?l:0)<((f=((m=n.column)==null?void 0:m.sorter).multiple)!=null?f:0)?-1:0}).map(a=>{var n;if(a.field&&a.order){let o=Array.isArray(a.field)?a.field.join("."):`${a.field}`;r.push({field:`${(n=a.columnKey)!=null?n:o}`,order:a.order.replace("end","")})}});else if(e.field&&e.order){let a=Array.isArray(e.field)?e.field.join("."):`${e.field}`;r.push({field:`${(t=e.columnKey)!=null?t:a}`,order:e.order.replace("end","")})}return r},Ri=(e,t,r)=>{let a=[],n=(r!=null?r:[]).reduce((o,l)=>{let m=l.key||l.field;return{...o,[m]:l}},{});return Object.keys(e).map(o=>{var l,m;let f=e[o],p=((l=t.filter(v=>v.operator!=="or").find(v=>v.field===o))==null?void 0:l.operator)||((m=n[o])==null?void 0:m.operator);p!=="or"&&p!=="and"&&a.push({field:o,operator:p!=null?p:Array.isArray(f)?"in":"eq",value:f})}),a},En=V(),Gd=W(E("react")),xr=({to:e,element:t})=>{let{Link:r}=(0,En.useRouterContext)(),a=(0,En.useRouterType)(),n=(0,En.useLink)();return Gd.default.createElement(a==="legacy"?r:n,{to:e,replace:!1,onClick:o=>{o.preventDefault()}},t)},Mi=({onSearch:e,initialCurrent:t,initialPageSize:r,hasPagination:a=!0,pagination:n,initialSorter:o,permanentSorter:l,initialFilter:m,permanentFilter:f,defaultSetFilterBehavior:p,filters:v,sorters:h,syncWithLocation:P,resource:g,successNotification:y,errorNotification:i,queryOptions:c,liveMode:k,onLiveEvent:d,liveParams:b,meta:s,metaData:C,dataProviderName:u}={})=>{var I;let{tableQueryResult:x,current:F,setCurrent:$,pageSize:L,setPageSize:D,filters:T,setFilters:q,sorters:R,setSorters:S,sorter:A,setSorter:z,createLinkForSyncWithLocation:H,pageCount:Y}=(0,Mr.useTable)({permanentSorter:l,permanentFilter:f,initialCurrent:t,initialPageSize:r,pagination:n,hasPagination:a,filters:v,sorters:h,initialSorter:o,initialFilter:m,syncWithLocation:P,resource:g,defaultSetFilterBehavior:p,successNotification:y,errorNotification:i,queryOptions:c,liveMode:k,onLiveEvent:d,liveParams:b,meta:(0,Mr.pickNotDeprecated)(s,C),metaData:(0,Mr.pickNotDeprecated)(s,C),dataProviderName:u}),N=hi.Grid.useBreakpoint(),[j]=hi.Form.useForm(),M=(0,Kd.useForm)({form:j}),X=(0,Mr.useLiveMode)(k),ue=a===!1?"off":"server",K=((I=n==null?void 0:n.mode)!=null?I:ue)!=="off",J=(0,Mr.pickNotDeprecated)(v==null?void 0:v.initial,m),{data:ee,isFetched:we,isLoading:Ie}=x,Ce=(ne,fe,de)=>{if(fe&&Object.keys(fe).length>0){let Ae=Ri(fe,T,J);q(Ae)}if(de&&Object.keys(de).length>0){let Ae=Di(de);S(Ae)}K&&($==null||$(ne.current||1),D==null||D(ne.pageSize||10))},se=async ne=>{if(e){let fe=await e(ne);q(fe),K&&($==null||$(1))}},ce=()=>K?{itemRender:(ne,fe,de)=>{var Ae;let lt=H({pagination:{pageSize:L,current:ne},sorters:R,filters:T});if(fe==="page")return(0,br.createElement)(xr,{to:lt,element:`${ne}`});if(fe==="next"||fe==="prev")return(0,br.createElement)(xr,{to:lt,element:de});if(fe==="jump-next"||fe==="jump-prev"){let _e=(Ae=de==null?void 0:de.props)==null?void 0:Ae.children;return(0,br.createElement)(xr,{to:lt,element:br.Children.count(_e)>1?(0,br.createElement)(br.Fragment,{},_e):_e})}return de},pageSize:L,current:F,simple:!N.sm,position:N.sm?["bottomRight"]:["bottomCenter"],total:ee==null?void 0:ee.total}:!1;return{searchFormProps:{...M.formProps,onFinish:se},tableProps:{dataSource:ee==null?void 0:ee.data,loading:X==="auto"?Ie:!we,onChange:Ce,pagination:ce(),scroll:{x:!0}},tableQueryResult:x,sorters:R,sorter:A,filters:T,setSorters:S,setSorter:z,setFilters:q,current:F,setCurrent:$,pageSize:L,setPageSize:D,pageCount:Y,createLinkForSyncWithLocation:H}},Zd=(e={})=>{let t=Mi({...e}),r=Vr({...e,action:"edit",redirect:!1}),{id:a,setId:n,saveButtonProps:o}=r;return{...t,...r,saveButtonProps:o,cancelButtonProps:{onClick:()=>{n(void 0)}},editButtonProps:l=>({onClick:()=>n(l)}),isEditing:l=>l===a}},Jd=V(),Xd=e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:a,options:n}=(0,Jd.useSelect)(e);return{selectProps:{options:n,onSearch:a,loading:r.isFetching,showSearch:!0,filterOption:!1},queryResult:t,defaultValueQueryResult:r}},Cn=V(),em=({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:l,fetchSize:m,pagination:f,liveMode:p,defaultValue:v,onLiveEvent:h,liveParams:P,meta:g,metaData:y,dataProviderName:i})=>{let{queryResult:c,options:k}=(0,Cn.useSelect)({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:l,fetchSize:m,pagination:f,liveMode:p,defaultValue:v,onLiveEvent:h,liveParams:P,meta:(0,Cn.pickNotDeprecated)(g,y),metaData:(0,Cn.pickNotDeprecated)(g,y),dataProviderName:i});return{checkboxGroupProps:{options:k,defaultValue:v},queryResult:c}},Pn=V(),tm=({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:l,fetchSize:m,pagination:f,liveMode:p,defaultValue:v,onLiveEvent:h,liveParams:P,meta:g,metaData:y,dataProviderName:i})=>{let{queryResult:c,options:k}=(0,Pn.useSelect)({resource:e,sort:t,sorters:r,filters:a,optionLabel:n,optionValue:o,queryOptions:l,fetchSize:m,pagination:f,liveMode:p,defaultValue:v,onLiveEvent:h,liveParams:P,meta:(0,Pn.pickNotDeprecated)(g,y),metaData:(0,Pn.pickNotDeprecated)(g,y),dataProviderName:i});return{radioGroupProps:{options:k,defaultValue:v},queryResult:c}},kn=W(E("react")),xn=E("antd"),Br=V(),rm=({resource:e,resourceName:t,mapData:r=v=>v,paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:m,dataProviderName:f,onProgress:p}={})=>{var v;let h=(0,Br.useTranslate)(),{resource:P}=(0,Br.useResource)(e!=null?e:t),{mutationResult:g,isLoading:y,handleChange:i}=(0,Br.useImport)({resource:(v=P==null?void 0:P.identifier)!=null?v:P==null?void 0:P.name,mapData:r,paparseOptions:a,batchSize:n,meta:(0,Br.pickNotDeprecated)(l,m),metaData:(0,Br.pickNotDeprecated)(l,m),dataProviderName:f,onFinish:o,onProgress:p!=null?p:({totalAmount:c,processedAmount:k})=>{if(c>0&&k>0){let d=kn.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},kn.default.createElement(xn.Progress,{type:"circle",percent:Math.floor(k/c*100),width:50,strokeColor:"#1890ff",status:"normal"}),kn.default.createElement("span",{style:{marginLeft:8,width:"100%"}},h("notifications.importProgress",{processed:k,total:c},`Importing: ${k}/${c}`)));xn.notification.open({description:d,message:null,key:`${P}-import`,duration:0}),k>=c,k===c&&setTimeout(()=>{xn.notification.destroy(`${P}-import`)},4500)}}});return{uploadProps:{onChange:i,beforeUpload:()=>!1,showUploadList:!1,accept:".csv"},buttonProps:{type:"default",loading:y},mutationResult:g,isLoading:y}},Er=E("react"),bi=E("antd"),In=V(),am=V(),nm=({resource:e,initialCurrent:t,initialPageSize:r,pagination:a,hasPagination:n=!0,initialSorter:o,permanentSorter:l,initialFilter:m,permanentFilter:f,defaultSetFilterBehavior:p,filters:v,sorters:h,onSearch:P,queryOptions:g,syncWithLocation:y,successNotification:i,errorNotification:c,liveMode:k,onLiveEvent:d,liveParams:b,meta:s,metaData:C,dataProviderName:u}={})=>{var I;let{sorters:x,sorter:F,filters:$,current:L,pageSize:D,pageCount:T,setFilters:q,setCurrent:R,setPageSize:S,setSorter:A,setSorters:z,createLinkForSyncWithLocation:H,tableQueryResult:Y}=(0,In.useTable)({resource:e,initialSorter:o,permanentSorter:l,initialFilter:m,permanentFilter:f,filters:v,sorters:h,defaultSetFilterBehavior:p,initialCurrent:t,initialPageSize:r,queryOptions:g,successNotification:i,errorNotification:c,liveMode:k,onLiveEvent:d,liveParams:b,meta:(0,In.pickNotDeprecated)(s,C),metaData:(0,In.pickNotDeprecated)(s,C),syncWithLocation:y,dataProviderName:u,pagination:a,hasPagination:n}),N=n===!1?"off":"server",j=((I=a==null?void 0:a.mode)!=null?I:N)!=="off",M=bi.Grid.useBreakpoint(),X=(0,am.useLiveMode)(k),[ue]=bi.Form.useForm(),{data:K,isFetched:J,isLoading:ee}=Y,we=(se,ce)=>{j&&(R(se),S(ce||10))},Ie=async se=>{if(P){let ce=await P(se);return j&&(R==null||R(1)),q(ce)}},Ce=()=>j?{itemRender:(se,ce,ne)=>{var fe;let de=H({pagination:{pageSize:D,current:se},sorters:x,filters:$});if(ce==="page")return(0,Er.createElement)(xr,{to:de,element:`${se}`});if(ce==="next"||ce==="prev")return(0,Er.createElement)(xr,{to:de,element:ne});if(ce==="jump-next"||ce==="jump-prev"){let Ae=(fe=ne==null?void 0:ne.props)==null?void 0:fe.children;return(0,Er.createElement)(xr,{to:de,element:Er.Children.count(Ae)>1?(0,Er.createElement)(Er.Fragment,{},Ae):Ae})}return ne},pageSize:D,current:L,simple:!M.sm,total:K==null?void 0:K.total,onChange:we}:!1;return{searchFormProps:{form:ue,onFinish:Ie},listProps:{dataSource:K==null?void 0:K.data,loading:X==="auto"?ee:!J,pagination:Ce()},queryResult:Y,filters:$,setFilters:q,sorter:F,setSorter:A,sorters:x,setSorters:z,current:L,setCurrent:R,pageSize:D,setPageSize:S,pageCount:T,createLinkForSyncWithLocation:H}},Fn=E("react"),om=()=>{let[e,t]=(0,Fn.useState)(!1),r=(0,Fn.useCallback)(a=>{lm(a.fileList).includes(!0)?t(!0):t(!1)},[]);return(0,Fn.useMemo)(()=>({isLoading:e,onChange:r}),[e])},lm=e=>e.map(t=>{switch(t.status){case"uploading":return!0;default:return!1}}),im=V(),um=({modalProps:e={}}={})=>{let{show:t,close:r,visible:a}=(0,im.useModal)({defaultVisible:e.open});return{modalProps:{...e,onCancel:n=>{var o;(o=e.onCancel)==null||o.call(e,n),r()},open:a,visible:a},show:t,close:r}},$n=W(E("react")),wn=E("antd"),Or=W(E("react")),Ln=E("antd"),sm=E("@ant-design/icons"),cm=({notificationKey:e,message:t,cancelMutation:r,undoableTimeout:a})=>Or.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"-7px"}},Or.default.createElement(Ln.Progress,{type:"circle",percent:(a!=null?a:0)*20,format:n=>n&&n/20,width:50,strokeColor:"#1890ff",status:"normal"}),Or.default.createElement("span",{style:{marginLeft:8,width:"100%"}},t),Or.default.createElement(Ln.Button,{style:{flexShrink:0},onClick:()=>{r==null||r(),Ln.notification.destroy(e!=null?e:"")},disabled:a===0,icon:Or.default.createElement(sm.UndoOutlined,null)})),dm={open:({key:e,message:t,description:r,type:a,cancelMutation:n,undoableTimeout:o})=>{a==="progress"?wn.notification.open({key:e,description:$n.default.createElement(cm,{notificationKey:e,message:t,cancelMutation:n,undoableTimeout:o}),message:null,duration:0,closeIcon:$n.default.createElement($n.default.Fragment,null)}):wn.notification.open({key:e,description:t,message:r!=null?r:null,type:a})},close:e=>wn.notification.destroy(e)},Nt=W(E("react")),ba=E("antd"),Z=W(E("react")),nt=E("antd"),zr=E("@ant-design/icons"),Qe=V(),mm={borderTopLeftRadius:0,borderBottomLeftRadius:0,position:"fixed",top:64,zIndex:999},{SubMenu:pm}=nt.Menu,Bi=({Title:e,render:t,meta:r})=>{var a;let[n,o]=(0,Z.useState)(!1),[l,m]=(0,Z.useState)(!1),f=(0,Qe.useIsExistAuthentication)(),p=(0,Qe.useRouterType)(),v=(0,Qe.useLink)(),{Link:h}=(0,Qe.useRouterContext)(),P=p==="legacy"?h:v,g=(0,Qe.useTitle)(),y=(0,Qe.useTranslate)(),{menuItems:i,selectedKey:c,defaultOpenKeys:k}=(0,Qe.useMenu)({meta:r}),d=nt.Grid.useBreakpoint(),{hasDashboard:b}=(0,Qe.useRefineContext)(),s=(0,Qe.useActiveAuthProvider)(),{mutate:C}=(0,Qe.useLogout)({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)}),u=typeof d.lg>"u"?!1:!d.lg,I=(a=e!=null?e:g)!=null?a:zi,x=(R,S)=>R.map(A=>{let{icon:z,label:H,route:Y,key:N,name:j,children:M,parentName:X,meta:ue,options:K}=A;if(M.length>0)return Z.default.createElement(Qe.CanAccess,{key:A.key,resource:j.toLowerCase(),action:"list",params:{resource:A}},Z.default.createElement(pm,{key:A.key,icon:z!=null?z:Z.default.createElement(zr.UnorderedListOutlined,null),title:H},x(M,S)));let J=N===S,ee=!((0,Qe.pickNotDeprecated)(ue==null?void 0:ue.parent,K==null?void 0:K.parent,X)!==void 0&&M.length===0);return Z.default.createElement(Qe.CanAccess,{key:A.key,resource:j.toLowerCase(),action:"list",params:{resource:A}},Z.default.createElement(nt.Menu.Item,{key:A.key,style:{fontWeight:J?"bold":"normal"},icon:z!=null?z:ee&&Z.default.createElement(zr.UnorderedListOutlined,null)},Z.default.createElement(P,{to:Y!=null?Y:""},H),!n&&J&&Z.default.createElement("div",{className:"ant-menu-tree-arrow"})))}),F=f&&Z.default.createElement(nt.Menu.Item,{key:"logout",onClick:()=>C(),icon:Z.default.createElement(zr.LogoutOutlined,null)},y("buttons.logout","Logout")),$=b?Z.default.createElement(nt.Menu.Item,{key:"dashboard",style:{fontWeight:c==="/"?"bold":"normal"},icon:Z.default.createElement(zr.DashboardOutlined,null)},Z.default.createElement(P,{to:"/"},y("dashboard.title","Dashboard")),!n&&c==="/"&&Z.default.createElement("div",{className:"ant-menu-tree-arrow"})):null,L=x(i,c),D=()=>t?t({dashboard:$,items:L,logout:F,collapsed:n}):Z.default.createElement(Z.default.Fragment,null,$,L,F),T=()=>Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(nt.Menu,{theme:"dark",selectedKeys:c?[c]:[],defaultOpenKeys:k,mode:"inline",onClick:()=>{m(!1),d.lg||o(!0)}},D())),q=()=>Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(nt.Drawer,{open:l,onClose:()=>m(!1),placement:"left",closable:!1,width:200,bodyStyle:{padding:0},maskClosable:!0},Z.default.createElement(nt.Layout,null,Z.default.createElement(nt.Layout.Sider,{style:{height:"100vh",overflow:"hidden"}},Z.default.createElement(I,{collapsed:!1}),T()))),Z.default.createElement(nt.Button,{style:mm,size:"large",onClick:()=>m(!0),icon:Z.default.createElement(zr.BarsOutlined,null)}));return Z.default.createElement(nt.ConfigProvider,{theme:{components:{Menu:{colorItemBg:"transparent",colorItemText:"#fff",colorItemTextSelected:"#fff",colorItemBgSelected:"transparent",colorItemTextHover:"#fff"}}}},(()=>u?q():Z.default.createElement(nt.Layout.Sider,{collapsible:!0,collapsed:n,onCollapse:R=>o(R),collapsedWidth:80,breakpoint:"lg"},Z.default.createElement(I,{collapsed:n}),T()))())},Ea=W(E("react")),Ia=E("antd"),Ei=V(),{Text:fm}=Ia.Typography,Oi=()=>{let e=(0,Ei.useActiveAuthProvider)(),{data:t}=(0,Ei.useGetIdentity)({v3LegacyAuthProviderCompatible:Boolean(e==null?void 0:e.isLegacy)});return t&&(t.name||t.avatar)?Ea.default.createElement(Ia.Layout.Header,{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"0px 24px",height:"64px"}},Ea.default.createElement(Ia.Space,null,t.name&&Ea.default.createElement(fm,{ellipsis:!0,strong:!0},t.name),t.avatar&&Ea.default.createElement(Ia.Avatar,{size:"large",src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))):null},vm=({children:e,Header:t,Sider:r,Title:a,Footer:n,OffLayoutArea:o})=>{let l=ba.Grid.useBreakpoint(),m=r!=null?r:Bi,f=t!=null?t:Oi,p=typeof l.sm>"u"?!0:l.sm;return Nt.default.createElement(ba.Layout,{style:{minHeight:"100vh"}},Nt.default.createElement(m,{Title:a}),Nt.default.createElement(ba.Layout,null,Nt.default.createElement(f,null),Nt.default.createElement(ba.Layout.Content,null,Nt.default.createElement("div",{style:{minHeight:360,padding:p?24:12}},e),o&&Nt.default.createElement(o,null)),n&&Nt.default.createElement(n,null)))},Ca=W(E("react")),Sn=V(),zi=({collapsed:e})=>{let t=(0,Sn.useRouterType)(),r=(0,Sn.useLink)(),{Link:a}=(0,Sn.useRouterContext)();return Ca.default.createElement(t==="legacy"?a:r,{to:"/"},e?Ca.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},Ca.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{margin:"0 auto",padding:"12px 0",maxHeight:"65.5px"}})):Ca.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",style:{width:"200px",padding:"12px 24px"}}))},qn=W(E("react")),gm=E("antd"),ym=E("@ant-design/icons"),Zt=V(),Df=ct(),Ui=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,meta:n,children:o,onClick:l,...m})=>{var f,p;let v=(f=a==null?void 0:a.enabled)!=null?f:!0,h=(p=a==null?void 0:a.hideIfUnauthorized)!=null?p:!1,P=(0,Zt.useTranslate)(),g=(0,Zt.useRouterType)(),y=(0,Zt.useLink)(),{Link:i}=(0,Zt.useRouterContext)(),c=g==="legacy"?i:y,{createUrl:k}=(0,Zt.useNavigation)(),{resource:d}=(0,Zt.useResource)(e!=null?e:t),{data:b}=(0,Zt.useCan)({resource:d==null?void 0:d.name,action:"create",queryOptions:{enabled:v},params:{resource:d}}),s=()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:P("buttons.notAccessTitle","You don't have permission to access"),C=d?k(d,n):"";return v&&h&&!(b!=null&&b.can)?null:qn.default.createElement(c,{to:C,replace:!1,onClick:u=>{if((b==null?void 0:b.can)===!1){u.preventDefault();return}l&&(u.preventDefault(),l(u))}},qn.default.createElement(gm.Button,{icon:qn.default.createElement(ym.PlusSquareOutlined,null),disabled:(b==null?void 0:b.can)===!1,title:s(),...m},!r&&(o!=null?o:P("buttons.create","Create"))))},Nn=W(E("react")),hm=E("antd"),bm=E("@ant-design/icons"),Jt=V(),Rf=ct(),ji=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:l,onClick:m,...f})=>{var p,v;let h=(p=n==null?void 0:n.enabled)!=null?p:!0,P=(v=n==null?void 0:n.hideIfUnauthorized)!=null?v:!1,g=(0,Jt.useTranslate)(),y=(0,Jt.useRouterType)(),i=(0,Jt.useLink)(),{Link:c}=(0,Jt.useRouterContext)(),k=y==="legacy"?c:i,{editUrl:d}=(0,Jt.useNavigation)(),{id:b,resource:s}=(0,Jt.useResource)(e!=null?e:t),{data:C}=(0,Jt.useCan)({resource:s==null?void 0:s.name,action:"edit",params:{id:r!=null?r:b,resource:s},queryOptions:{enabled:h}}),u=()=>C!=null&&C.can?"":C!=null&&C.reason?C.reason:g("buttons.notAccessTitle","You don't have permission to access"),I=s&&(r!=null?r:b)?d(s,r!=null?r:b,o):"";return h&&P&&!(C!=null&&C.can)?null:Nn.default.createElement(k,{to:I,replace:!1,onClick:x=>{if((C==null?void 0:C.can)===!1){x.preventDefault();return}m&&(x.preventDefault(),m(x))}},Nn.default.createElement(hm.Button,{icon:Nn.default.createElement(bm.EditOutlined,null),disabled:(C==null?void 0:C.can)===!1,title:u(),...f},!a&&(l!=null?l:g("buttons.edit","Edit"))))},Tn=W(E("react")),Ci=E("antd"),Em=E("@ant-design/icons"),Xt=V(),Mf=ct(),Gn=({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:l,errorNotification:m,hideText:f=!1,accessControl:p,metaData:v,meta:h,dataProviderName:P,confirmTitle:g,confirmOkText:y,confirmCancelText:i,invalidates:c,...k})=>{var d,b;let s=(d=p==null?void 0:p.enabled)!=null?d:!0,C=(b=p==null?void 0:p.hideIfUnauthorized)!=null?b:!1,u=(0,Xt.useTranslate)(),{id:I,resource:x}=(0,Xt.useResource)(e!=null?e:t),{mutationMode:F}=(0,Xt.useMutationMode)(),$=n!=null?n:F,{mutate:L,isLoading:D,variables:T}=(0,Xt.useDelete)(),{data:q}=(0,Xt.useCan)({resource:x==null?void 0:x.name,action:"delete",params:{id:r!=null?r:I,resource:x},queryOptions:{enabled:s}});return s&&C&&!(q!=null&&q.can)?null:Tn.default.createElement(Ci.Popconfirm,{key:"delete",okText:y!=null?y:u("buttons.delete","Delete"),cancelText:i!=null?i:u("buttons.cancel","Cancel"),okType:"danger",title:g!=null?g:u("buttons.confirm","Are you sure?"),okButtonProps:{disabled:D},onConfirm:()=>{var R;(r!=null?r:I)&&(x==null?void 0:x.name)&&L({id:(R=r!=null?r:I)!=null?R:"",resource:x==null?void 0:x.name,mutationMode:$,successNotification:l,errorNotification:m,meta:(0,Xt.pickNotDeprecated)(h,v),metaData:(0,Xt.pickNotDeprecated)(h,v),dataProviderName:P,invalidates:c},{onSuccess:S=>{a&&a(S)}})},disabled:typeof(k==null?void 0:k.disabled)<"u"?k.disabled:(q==null?void 0:q.can)===!1},Tn.default.createElement(Ci.Button,{danger:!0,loading:(r!=null?r:I)===(T==null?void 0:T.id)&&D,icon:Tn.default.createElement(Em.DeleteOutlined,null),disabled:(q==null?void 0:q.can)===!1,...k},!f&&(o!=null?o:u("buttons.delete","Delete"))))},Pi=W(E("react")),Cm=E("antd"),Pm=E("@ant-design/icons"),Ur=V(),Bf=ct(),Zn=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,meta:n,metaData:o,dataProviderName:l,children:m,onClick:f,...p})=>{let v=(0,Ur.useTranslate)(),{resource:h,id:P}=(0,Ur.useResource)(e!=null?e:t),{refetch:g,isFetching:y}=(0,Ur.useOne)({resource:h==null?void 0:h.name,id:r!=null?r:P,queryOptions:{enabled:!1},meta:(0,Ur.pickNotDeprecated)(n,o),metaData:(0,Ur.pickNotDeprecated)(n,o),liveMode:"off",dataProviderName:l});return Pi.default.createElement(Cm.Button,{onClick:i=>f?f(i):g(),icon:Pi.default.createElement(Pm.RedoOutlined,{spin:y}),...p},!a&&(m!=null?m:v("buttons.refresh","Refresh")))},An=W(E("react")),km=E("antd"),xm=E("@ant-design/icons"),er=V(),Of=ct(),Im=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:l,onClick:m,...f})=>{var p,v;let h=(p=n==null?void 0:n.enabled)!=null?p:!0,P=(v=n==null?void 0:n.hideIfUnauthorized)!=null?v:!1,{showUrl:g}=(0,er.useNavigation)(),y=(0,er.useRouterType)(),i=(0,er.useLink)(),{Link:c}=(0,er.useRouterContext)(),k=y==="legacy"?c:i,d=(0,er.useTranslate)(),{id:b,resource:s}=(0,er.useResource)(e!=null?e:t),{data:C}=(0,er.useCan)({resource:s==null?void 0:s.name,action:"show",params:{id:r!=null?r:b,resource:s},queryOptions:{enabled:h}}),u=()=>C!=null&&C.can?"":C!=null&&C.reason?C.reason:d("buttons.notAccessTitle","You don't have permission to access"),I=s&&(r||b)?g(s,r!=null?r:b,o):"";return h&&P&&!(C!=null&&C.can)?null:An.default.createElement(k,{to:I,replace:!1,onClick:x=>{if((C==null?void 0:C.can)===!1){x.preventDefault();return}m&&(x.preventDefault(),m(x))}},An.default.createElement(km.Button,{icon:An.default.createElement(xm.EyeOutlined,null),disabled:(C==null?void 0:C.can)===!1,title:u(),...f},!a&&(l!=null?l:d("buttons.show","Show"))))},Dn=W(E("react")),Fm=E("antd"),$m=E("@ant-design/icons"),kt=V(),zf=ct(),Jn=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,meta:n,children:o,onClick:l,...m})=>{var f,p,v,h,P,g,y,i;let c=(f=a==null?void 0:a.enabled)!=null?f:!0,k=(p=a==null?void 0:a.hideIfUnauthorized)!=null?p:!1,{listUrl:d}=(0,kt.useNavigation)(),b=(0,kt.useRouterType)(),s=(0,kt.useLink)(),{Link:C}=(0,kt.useRouterContext)(),u=b==="legacy"?C:s,I=(0,kt.useTranslate)(),{resource:x}=(0,kt.useResource)(e!=null?e:t),{data:F}=(0,kt.useCan)({resource:x==null?void 0:x.name,action:"list",queryOptions:{enabled:c},params:{resource:x}}),$=()=>F!=null&&F.can?"":F!=null&&F.reason?F.reason:I("buttons.notAccessTitle","You don't have permission to access"),L=x?d(x,n):"";return c&&k&&!(F!=null&&F.can)?null:Dn.default.createElement(u,{to:L,replace:!1,onClick:D=>{if((F==null?void 0:F.can)===!1){D.preventDefault();return}l&&(D.preventDefault(),l(D))}},Dn.default.createElement(Fm.Button,{icon:Dn.default.createElement($m.BarsOutlined,null),disabled:(F==null?void 0:F.can)===!1,title:$(),...m},!r&&(o!=null?o:I(`${(h=(v=x==null?void 0:x.name)!=null?v:e)!=null?h:t}.titles.list`,(0,kt.userFriendlyResourceName)((i=(y=(g=(P=x==null?void 0:x.meta)==null?void 0:P.label)!=null?g:x==null?void 0:x.label)!=null?y:x==null?void 0:x.name)!=null?i:(0,kt.pickNotDeprecated)(e,t),"plural")))))},ki=W(E("react")),wm=E("antd"),Lm=E("@ant-design/icons"),Sm=V(),Uf=ct(),qm=({hideText:e=!1,children:t,...r})=>{let a=(0,Sm.useTranslate)();return ki.default.createElement(wm.Button,{type:"default",icon:ki.default.createElement(Lm.ExportOutlined,null),...r},!e&&(t!=null?t:a("buttons.export","Export")))},xi=W(E("react")),Nm=E("antd"),Tm=E("@ant-design/icons"),Am=V(),jf=ct(),Xn=({hideText:e=!1,children:t,...r})=>{let a=(0,Am.useTranslate)();return xi.default.createElement(Nm.Button,{type:"primary",icon:xi.default.createElement(Tm.SaveOutlined,null),...r},!e&&(t!=null?t:a("buttons.save","Save")))},Rn=W(E("react")),Dm=E("antd"),Rm=E("@ant-design/icons"),tr=V(),Wf=ct(),Mm=({resourceNameOrRouteName:e,resource:t,recordItemId:r,hideText:a=!1,accessControl:n,meta:o,children:l,onClick:m,...f})=>{var p,v;let h=(p=n==null?void 0:n.enabled)!=null?p:!0,P=(v=n==null?void 0:n.hideIfUnauthorized)!=null?v:!1,{cloneUrl:g}=(0,tr.useNavigation)(),y=(0,tr.useRouterType)(),i=(0,tr.useLink)(),{Link:c}=(0,tr.useRouterContext)(),k=y==="legacy"?c:i,d=(0,tr.useTranslate)(),{id:b,resource:s}=(0,tr.useResource)(t!=null?t:e),{data:C}=(0,tr.useCan)({resource:s==null?void 0:s.name,action:"create",params:{id:r!=null?r:b,resource:s},queryOptions:{enabled:h}}),u=()=>C!=null&&C.can?"":C!=null&&C.reason?C.reason:d("buttons.notAccessTitle","You don't have permission to access"),I=s&&(r||b)?g(s,r!=null?r:b,o):"";return h&&P&&!(C!=null&&C.can)?null:Rn.default.createElement(k,{to:I,replace:!1,onClick:x=>{if((C==null?void 0:C.can)===!1){x.preventDefault();return}m&&(x.preventDefault(),m(x))}},Rn.default.createElement(Dm.Button,{icon:Rn.default.createElement(Rm.PlusSquareOutlined,null),disabled:(C==null?void 0:C.can)===!1,title:u(),...f},!a&&(l!=null?l:d("buttons.clone","Clone"))))},Mn=W(E("react")),Ii=E("antd"),Bm=E("@ant-design/icons"),Om=V(),Qf=ct(),zm=({uploadProps:e,buttonProps:t,hideText:r=!1,children:a})=>{let n=(0,Om.useTranslate)();return Mn.default.createElement(Ii.Upload,{...e},Mn.default.createElement(Ii.Button,{icon:Mn.default.createElement(Bm.ImportOutlined,null),...t},!r&&(a!=null?a:n("buttons.import","Import"))))},Tt=W(E("react")),Um=E("antd"),jr=V(),jm=({canCreate:e,title:t,children:r,createButtonProps:a,resource:n,wrapperProps:o,contentProps:l,headerProps:m,breadcrumb:f,headerButtonProps:p,headerButtons:v})=>{var h,P,g,y,i,c,k,d;let b=(0,jr.useTranslate)(),{options:{breadcrumb:s}={}}=(0,jr.useRefineContext)(),C=(0,jr.useRouterType)(),{resource:u}=(0,jr.useResource)(n),I=e!=null?e:((h=u==null?void 0:u.canCreate)!=null?h:!!(u!=null&&u.create))||a,x=typeof f>"u"?s:f,F=I?Tt.default.createElement(Ui,{size:"middle",resource:C==="legacy"?u==null?void 0:u.route:(P=u==null?void 0:u.identifier)!=null?P:u==null?void 0:u.name,...a}):null;return Tt.default.createElement("div",{...o!=null?o:{}},Tt.default.createElement(Kr,{ghost:!1,title:t!=null?t:b(`${u==null?void 0:u.name}.titles.list`,(0,jr.userFriendlyResourceName)((k=(c=(i=(g=u==null?void 0:u.meta)==null?void 0:g.label)!=null?i:(y=u==null?void 0:u.options)==null?void 0:y.label)!=null?c:u==null?void 0:u.label)!=null?k:u==null?void 0:u.name,"plural")),extra:v?Tt.default.createElement(Um.Space,{wrap:!0,...p},typeof v=="function"?v({defaultButtons:F}):v):F,breadcrumb:typeof x<"u"?(d=Tt.default.createElement(Tt.default.Fragment,null,x))!=null?d:void 0:Tt.default.createElement(Hr,null),...m!=null?m:{}},Tt.default.createElement("div",{...l!=null?l:{}},r)))},rt=W(E("react")),Pa=E("antd"),rr=V(),Wm=({title:e,saveButtonProps:t,children:r,resource:a,isLoading:n=!1,breadcrumb:o,wrapperProps:l,headerProps:m,contentProps:f,headerButtonProps:p,headerButtons:v,footerButtonProps:h,footerButtons:P,goBack:g})=>{var y,i,c,k,d,b;let s=(0,rr.useTranslate)(),{options:{breadcrumb:C}={}}=(0,rr.useRefineContext)(),u=(0,rr.useRouterType)(),I=(0,rr.useBack)(),{goBack:x}=(0,rr.useNavigation)(),{resource:F,action:$}=(0,rr.useResource)(a),L=typeof o>"u"?C:o,D=rt.default.createElement(rt.default.Fragment,null,rt.default.createElement(Xn,{...n?{disabled:!0}:{},...t,htmlType:"submit"}));return rt.default.createElement("div",{...l!=null?l:{}},rt.default.createElement(Kr,{ghost:!1,backIcon:g,onBack:$!=="list"||typeof $<"u"?u==="legacy"?x:I:void 0,title:e!=null?e:s(`${F==null?void 0:F.name}.titles.create`,`Create ${(0,rr.userFriendlyResourceName)((d=(k=(c=(y=F==null?void 0:F.meta)==null?void 0:y.label)!=null?c:(i=F==null?void 0:F.options)==null?void 0:i.label)!=null?k:F==null?void 0:F.label)!=null?d:F==null?void 0:F.name,"singular")}`),breadcrumb:typeof L<"u"?(b=rt.default.createElement(rt.default.Fragment,null,L))!=null?b:void 0:rt.default.createElement(Hr,null),extra:rt.default.createElement(Pa.Space,{wrap:!0,...p!=null?p:{}},v?typeof v=="function"?v({defaultButtons:null}):v:null),...m!=null?m:{}},rt.default.createElement(Pa.Spin,{spinning:n},rt.default.createElement(Pa.Card,{bordered:!1,actions:[rt.default.createElement(Pa.Space,{key:"action-buttons",style:{float:"right",marginRight:24},...h!=null?h:{}},P?typeof P=="function"?P({defaultButtons:D}):P:D)],...f!=null?f:{}},r))))},Fe=W(E("react")),ka=E("antd"),gt=V(),Qm=({title:e,saveButtonProps:t,mutationMode:r,recordItemId:a,children:n,deleteButtonProps:o,canDelete:l,resource:m,isLoading:f=!1,dataProviderName:p,breadcrumb:v,wrapperProps:h,headerProps:P,contentProps:g,headerButtonProps:y,headerButtons:i,footerButtonProps:c,footerButtons:k,goBack:d})=>{var b,s,C,u,I,x,F,$,L,D,T;let q=(0,gt.useTranslate)(),{options:{breadcrumb:R}={}}=(0,gt.useRefineContext)(),{mutationMode:S}=(0,gt.useMutationMode)(),A=r!=null?r:S,z=(0,gt.useRouterType)(),H=(0,gt.useBack)(),Y=(0,gt.useGo)(),{goBack:N,list:j}=(0,gt.useNavigation)(),{resource:M,action:X,id:ue}=(0,gt.useResource)(m),K=(0,gt.useToPath)({resource:M,action:"list"}),J=a!=null?a:ue,ee=typeof v>"u"?R:v,we=l!=null?l:((s=(b=M==null?void 0:M.meta)==null?void 0:b.canDelete)!=null?s:M==null?void 0:M.canDelete)||o,Ie=Fe.default.createElement(Fe.default.Fragment,null,!a&&Fe.default.createElement(Jn,{...f?{disabled:!0}:{},resource:z==="legacy"?M==null?void 0:M.route:(C=M==null?void 0:M.identifier)!=null?C:M==null?void 0:M.name}),Fe.default.createElement(Zn,{...f?{disabled:!0}:{},resource:z==="legacy"?M==null?void 0:M.route:(u=M==null?void 0:M.identifier)!=null?u:M==null?void 0:M.name,recordItemId:J,dataProviderName:p})),Ce=Fe.default.createElement(Fe.default.Fragment,null,we&&Fe.default.createElement(Gn,{...f?{disabled:!0}:{},resource:z==="legacy"?M==null?void 0:M.route:(I=M==null?void 0:M.identifier)!=null?I:M==null?void 0:M.name,mutationMode:A,onSuccess:()=>{var se,ce;z==="legacy"?j((ce=(se=M==null?void 0:M.route)!=null?se:M==null?void 0:M.name)!=null?ce:""):Y({to:K})},recordItemId:J,dataProviderName:p,...o}),Fe.default.createElement(Xn,{...f?{disabled:!0}:{},...t}));return Fe.default.createElement("div",{...h!=null?h:{}},Fe.default.createElement(Kr,{ghost:!1,backIcon:d,onBack:X!=="list"&&typeof X<"u"?z==="legacy"?N:H:void 0,title:e!=null?e:q(`${M==null?void 0:M.name}.titles.edit`,`Edit ${(0,gt.userFriendlyResourceName)((D=(L=($=(x=M==null?void 0:M.meta)==null?void 0:x.label)!=null?$:(F=M==null?void 0:M.options)==null?void 0:F.label)!=null?L:M==null?void 0:M.label)!=null?D:M==null?void 0:M.name,"singular")}`),extra:Fe.default.createElement(ka.Space,{wrap:!0,...y!=null?y:{}},i?typeof i=="function"?i({defaultButtons:Ie}):i:Ie),breadcrumb:typeof ee<"u"?(T=Fe.default.createElement(Fe.default.Fragment,null,ee))!=null?T:void 0:Fe.default.createElement(Hr,null),...P!=null?P:{}},Fe.default.createElement(ka.Spin,{spinning:f},Fe.default.createElement(ka.Card,{bordered:!1,actions:[Fe.default.createElement(ka.Space,{key:"footer-buttons",wrap:!0,style:{float:"right",marginRight:24},...c!=null?c:{}},k?typeof k=="function"?k({defaultButtons:Ce}):k:Ce)],...g!=null?g:{}},n))))},qe=W(E("react")),xa=E("antd"),xt=V(),Vm=({title:e,canEdit:t,canDelete:r,isLoading:a=!1,children:n,resource:o,recordItemId:l,dataProviderName:m,breadcrumb:f,contentProps:p,headerProps:v,wrapperProps:h,headerButtons:P,footerButtons:g,footerButtonProps:y,headerButtonProps:i,goBack:c})=>{var k,d,b,s,C,u,I,x,F,$,L,D,T;let q=(0,xt.useTranslate)(),{options:{breadcrumb:R}={}}=(0,xt.useRefineContext)(),S=(0,xt.useRouterType)(),A=(0,xt.useBack)(),z=(0,xt.useGo)(),{goBack:H,list:Y}=(0,xt.useNavigation)(),{resource:N,action:j,id:M}=(0,xt.useResource)(o),X=(0,xt.useToPath)({resource:N,action:"list"}),ue=l!=null?l:M,K=typeof f>"u"?R:f,J=(d=r!=null?r:(k=N==null?void 0:N.meta)==null?void 0:k.canDelete)!=null?d:N==null?void 0:N.canDelete,ee=(b=t!=null?t:N==null?void 0:N.canEdit)!=null?b:!!(N!=null&&N.edit),we=qe.default.createElement(qe.default.Fragment,null,!l&&qe.default.createElement(Jn,{resource:S==="legacy"?N==null?void 0:N.route:(s=N==null?void 0:N.identifier)!=null?s:N==null?void 0:N.name}),ee&&qe.default.createElement(ji,{...a?{disabled:!0}:{},resource:S==="legacy"?N==null?void 0:N.route:(C=N==null?void 0:N.identifier)!=null?C:N==null?void 0:N.name,recordItemId:ue}),J&&qe.default.createElement(Gn,{...a?{disabled:!0}:{},resource:S==="legacy"?N==null?void 0:N.route:(u=N==null?void 0:N.identifier)!=null?u:N==null?void 0:N.name,recordItemId:ue,onSuccess:()=>{var Ie,Ce;S==="legacy"?Y((Ce=(Ie=N==null?void 0:N.route)!=null?Ie:N==null?void 0:N.name)!=null?Ce:""):z({to:X})},dataProviderName:m}),qe.default.createElement(Zn,{...a?{disabled:!0}:{},resource:S==="legacy"?N==null?void 0:N.route:(I=N==null?void 0:N.identifier)!=null?I:N==null?void 0:N.name,recordItemId:ue,dataProviderName:m}));return qe.default.createElement("div",{...h!=null?h:{}},qe.default.createElement(Kr,{ghost:!1,backIcon:c,onBack:j!=="list"&&typeof j<"u"?S==="legacy"?H:A:void 0,title:e!=null?e:q(`${N==null?void 0:N.name}.titles.show`,`Show ${(0,xt.userFriendlyResourceName)((D=(L=($=(x=N==null?void 0:N.meta)==null?void 0:x.label)!=null?$:(F=N==null?void 0:N.options)==null?void 0:F.label)!=null?L:N==null?void 0:N.label)!=null?D:N==null?void 0:N.name,"singular")}`),extra:qe.default.createElement(xa.Space,{key:"extra-buttons",wrap:!0,...i!=null?i:{}},P?typeof P=="function"?P({defaultButtons:we}):P:we),breadcrumb:typeof K<"u"?(T=qe.default.createElement(qe.default.Fragment,null,K))!=null?T:void 0:qe.default.createElement(Hr,null),...v!=null?v:{}},qe.default.createElement(xa.Spin,{spinning:a},qe.default.createElement(xa.Card,{bordered:!1,actions:g?[qe.default.createElement(xa.Space,{key:"footer-buttons",wrap:!0,...y},typeof g=="function"?g({defaultButtons:null}):g)]:void 0,...p!=null?p:{}},n))))},Hm=W(E("react")),Km=E("antd"),{Text:_m}=Km.Typography,Ym=({value:e,...t})=>Hm.default.createElement(_m,{...t},e),Gm=W(E("react")),Zm=E("antd"),Jm=({value:e,...t})=>Gm.default.createElement(Zm.Tag,{...t},e==null?void 0:e.toString()),Xm=W(E("react")),ep=E("antd"),{Link:tp}=ep.Typography,rp=({value:e,...t})=>Xm.default.createElement(tp,{href:`mailto:${e}`,...t},e),ap=W(E("react")),np=E("antd"),op=({value:e,imageTitle:t,...r})=>ap.default.createElement(np.Image,{...r,src:e,title:t}),Wr=W(E("react")),lp=E("antd"),Fi=E("@ant-design/icons"),ip=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a=Wr.default.createElement(Fi.CheckOutlined,null),falseIcon:n=Wr.default.createElement(Fi.CloseOutlined,null),...o})=>Wr.default.createElement(lp.Tooltip,{title:e?t:r,...o},e?Wr.default.createElement("span",null,a):Wr.default.createElement("span",null,n)),up=W(E("react")),eo=W(E("dayjs")),sp=E("antd"),cp=W(E("dayjs/plugin/localizedFormat"));eo.default.extend(cp.default);var dp=eo.default.locale(),mp=({value:e,locales:t,format:r="L",...a})=>{let{Text:n}=sp.Typography;return up.default.createElement(n,{...a},(0,eo.default)(e).locale(t||dp).format(r))},pp=W(E("react")),fp=({title:e,src:t,...r})=>pp.default.createElement(Wi,{value:t,title:e,...r},e!=null?e:t),vp=W(E("react")),gp=E("antd"),{Link:yp}=gp.Typography,Wi=({children:e,value:t,...r})=>vp.default.createElement(yp,{href:t,...r},e!=null?e:t),hp=W(E("react")),bp=E("antd"),{Text:Ep}=bp.Typography;function Cp(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var Pp=({value:e,locale:t,options:r,...a})=>{let n=parseFloat(e.toString());return hp.default.createElement(Ep,{...a},Cp()?n.toLocaleString(t,r):n)},kp=W(E("react")),xp=W(E("react-markdown")),Ip=W(E("remark-gfm")),Fp=({value:e=""})=>kp.default.createElement(xp.default,{plugins:[Ip.default]},e),yt=W(E("react")),Bn=E("antd"),$i=W(E("dayjs")),$p=E("@ant-design/icons"),wp=V(),Lp=e=>{let{setSelectedKeys:t,confirm:r,clearFilters:a,mapValue:n,selectedKeys:o,children:l}=e,[m,f]=(0,yt.useState)(o),p=(0,wp.useTranslate)(),v=()=>{a&&(f([]),a())},h=()=>{let i=P(m),c;typeof i=="number"?c=`${i}`:$i.default.isDayjs(i)?c=[i.toISOString()]:c=i,t(c),r==null||r()},P=i=>n?n(i):i,g=i=>{if(typeof i=="object"){if(Array.isArray(i)){let s=P(i);return f(s),t(s)}let k=!i||!i.target||$i.default.isDayjs(i)?{target:{value:i}}:i,{target:d}=k,b=P(d.value);f(b);return}let c=P(i);f(c)},y=yt.default.Children.map(l,i=>yt.default.isValidElement(i)?yt.default.cloneElement(i,{onChange:g,value:P(m)}):i);return yt.default.createElement("div",{style:{padding:10,display:"flex",flexDirection:"column",alignItems:"flex-end"}},yt.default.createElement("div",{style:{marginBottom:15}},y),yt.default.createElement(Bn.Space,null,yt.default.createElement(Bn.Button,{type:"primary",size:"small",onClick:()=>h()},yt.default.createElement($p.FilterOutlined,null)," ",p("buttons.filter","Filter")),yt.default.createElement(Bn.Button,{danger:!0,size:"small",onClick:()=>v()},p("buttons.clear","Clear"))))},It=W(E("react")),On=V(),kr=E("antd"),Sp=E("@ant-design/icons"),wi=V(),{Text:qp}=kr.Typography,Np=()=>{let[e,t]=(0,It.useState)(),r=(0,wi.useTranslate)(),{push:a}=(0,wi.useNavigation)(),n=(0,On.useGo)(),o=(0,On.useRouterType)(),{resource:l,action:m}=(0,On.useResource)();return(0,It.useEffect)(()=>{l&&m&&t(r("pages.error.info",{action:m,resource:l==null?void 0:l.name},`You may have forgotten to add the "${m}" component to "${l==null?void 0:l.name}" resource.`))},[l,m]),It.default.createElement(kr.Result,{status:"404",title:"404",extra:It.default.createElement(kr.Space,{direction:"vertical",size:"large"},It.default.createElement(kr.Space,null,It.default.createElement(qp,null,r("pages.error.404","Sorry, the page you visited does not exist.")),e&&It.default.createElement(kr.Tooltip,{title:e},It.default.createElement(Sp.InfoCircleOutlined,{}))),It.default.createElement(kr.Button,{type:"primary",onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome","Back Home")))})},me=W(E("react")),Tp=V(),Be=E("antd"),Li=V(),Ap={background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"},Dp={maxWidth:"408px",margin:"auto"},Rp={textAlign:"center",color:"#626262",fontSize:"30px",letterSpacing:"-0.04em"},Mp={display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"28px"},{Text:Bp,Title:Op}=Be.Typography,zp=()=>{let[e]=Be.Form.useForm(),t=(0,Li.useTranslate)(),r=(0,Tp.useActiveAuthProvider)(),{mutate:a,isLoading:n}=(0,Li.useLogin)({v3LegacyAuthProviderCompatible:Boolean(r==null?void 0:r.isLegacy)}),o=me.default.createElement(Op,{level:3,style:Rp},t("pages.login.title","Sign in your account"));return me.default.createElement(Be.Layout,{style:Ap},me.default.createElement(Be.Row,{justify:"center",align:"middle",style:{height:"100vh"}},me.default.createElement(Be.Col,{xs:22},me.default.createElement("div",{style:Dp},me.default.createElement("div",{style:Mp},me.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),me.default.createElement(Be.Card,{title:o,headStyle:{borderBottom:0}},me.default.createElement(Be.Form,{layout:"vertical",form:e,onFinish:l=>{a(l)},requiredMark:!1,initialValues:{remember:!1}},me.default.createElement(Be.Form.Item,{name:"username",label:t("pages.login.username","Username"),rules:[{required:!0}]},me.default.createElement(Be.Input,{size:"large",placeholder:t("pages.login.username","Username")})),me.default.createElement(Be.Form.Item,{name:"password",label:t("pages.login.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},me.default.createElement(Be.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),me.default.createElement("div",{style:{marginBottom:"12px"}},me.default.createElement(Be.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},me.default.createElement(Be.Checkbox,{style:{fontSize:"12px"}},t("pages.login.remember","Remember me"))),me.default.createElement("a",{style:{float:"right",fontSize:"12px"},href:"#"},t("pages.login.forgotPassword","Forgot password?"))),me.default.createElement(Be.Button,{type:"primary",size:"large",htmlType:"submit",loading:n,block:!0},t("pages.login.signin","Sign in"))),me.default.createElement("div",{style:{marginTop:8}},me.default.createElement(Bp,{style:{fontSize:12}},t("pages.login.noAccount","Don\u2019t have an account?")," ",me.default.createElement("a",{href:"#",style:{fontWeight:"bold"}},t("pages.login.signup","Sign up")))))))))},xe=W(E("react")),or=E("antd"),zn=E("@ant-design/icons"),Cr={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:Up}=or.Typography,jp=()=>xe.createElement(or.Row,{align:"middle",justify:"center",style:Cr.root},xe.createElement(or.Col,{style:{textAlign:"center"}},xe.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),xe.createElement(Up,{style:Cr.title},"Welcome on board"),xe.createElement("p",{style:Cr.p1},"Your configuration is completed."),xe.createElement("p",{style:Cr.p2},"Now you can get started by adding your resources to the"," ",xe.createElement("code",{style:Cr.code},"resources")," property of"," ",xe.createElement("code",{style:Cr.code},"<Refine>")),xe.createElement(or.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},xe.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},xe.createElement(or.Button,{size:"large",icon:xe.createElement(zn.ReadOutlined,null)},"Documentation")),xe.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},xe.createElement(or.Button,{size:"large",icon:xe.createElement(zn.FolderOutlined,null)},"Examples")),xe.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},xe.createElement(or.Button,{size:"large",icon:xe.createElement(zn.TeamOutlined,null)},"Community"))))),Ne=W(E("react")),lr=E("antd"),Un=E("@ant-design/icons"),jn={root:{height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover",backgroundColor:"#331049"},title:{color:"white",fontWeight:800,fontSize:"64px",marginBottom:"8px"},p1:{color:"white",marginBottom:0,fontSize:"20px",fontWeight:"bold"},p2:{color:"white",fontSize:"20px"},code:{backgroundColor:"white",color:"#331049"}},{Title:Wp}=lr.Typography,Qp=()=>Ne.createElement(lr.Row,{align:"middle",justify:"center",style:jn.root},Ne.createElement(lr.Col,{style:{textAlign:"center"}},Ne.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),Ne.createElement(Wp,{style:jn.title},"Welcome on board"),Ne.createElement("p",{style:jn.p1},"Your configuration is completed."),Ne.createElement(lr.Space,{size:"large",wrap:!0,style:{marginTop:"70px",justifyContent:"center"}},Ne.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ne.createElement(lr.Button,{size:"large",icon:Ne.createElement(Un.ReadOutlined,null)},"Documentation")),Ne.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ne.createElement(lr.Button,{size:"large",icon:Ne.createElement(Un.FolderOutlined,null)},"Examples")),Ne.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ne.createElement(lr.Button,{size:"large",icon:Ne.createElement(Un.TeamOutlined,null)},"Community"))))),Pr=W(E("react")),ie=W(E("react")),Wn=V(),$e=E("antd"),Qn=V(),$a={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},wa={maxWidth:"408px",margin:"auto"},La={textAlign:"center",color:"#626262",marginBottom:0,fontSize:"24px",letterSpacing:"-0.04em",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},{Text:Vp,Title:Hp}=$e.Typography,Kp=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:m})=>{let[f]=$e.Form.useForm(),p=(0,Qn.useTranslate)(),v=(0,Wn.useRouterType)(),h=(0,Wn.useLink)(),{Link:P}=(0,Qn.useRouterContext)(),g=v==="legacy"?P:h,y=(0,Wn.useActiveAuthProvider)(),{mutate:i,isLoading:c}=(0,Qn.useLogin)({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),k=ie.default.createElement(Hp,{level:3,style:La},p("pages.login.title","Sign in to your account")),d=()=>e&&e.length>0?ie.default.createElement(ie.default.Fragment,null,e.map(s=>ie.default.createElement($e.Button,{key:s.name,type:"default",block:!0,icon:s.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>i({providerName:s.name})},s.label)),ie.default.createElement($e.Divider,null,p("pages.login.divider","or"))):null,b=ie.default.createElement($e.Card,{title:k,headStyle:{borderBottom:0},style:wa,...n!=null?n:{}},d(),ie.default.createElement($e.Form,{layout:"vertical",form:f,onFinish:s=>i(s),requiredMark:!1,initialValues:{remember:!1},...m},ie.default.createElement($e.Form.Item,{name:"email",label:p("pages.login.fields.email","Email"),rules:[{required:!0},{type:"email",message:p("pages.login.errors.validEmail","Invalid email address")}]},ie.default.createElement($e.Input,{size:"large",placeholder:p("pages.login.fields.email","Email")})),ie.default.createElement($e.Form.Item,{name:"password",label:p("pages.login.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},ie.default.createElement($e.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),ie.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},a!=null?a:ie.default.createElement($e.Form.Item,{name:"remember",valuePropName:"checked",noStyle:!0},ie.default.createElement($e.Checkbox,{style:{fontSize:"12px"}},p("pages.login.buttons.rememberMe","Remember me"))),r!=null?r:ie.default.createElement(g,{style:{fontSize:"12px",marginLeft:"auto"},to:"/forgot-password"},p("pages.login.buttons.forgotPassword","Forgot password?"))),ie.default.createElement($e.Form.Item,null,ie.default.createElement($e.Button,{type:"primary",size:"large",htmlType:"submit",loading:c,block:!0},p("pages.login.signin","Sign in")))),ie.default.createElement("div",{style:{marginTop:8}},t!=null?t:ie.default.createElement(Vp,{style:{fontSize:12}},p("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",ie.default.createElement(g,{to:"/register",style:{fontWeight:"bold"}},p("pages.login.signup","Sign up")))));return ie.default.createElement($e.Layout,{style:$a,...o!=null?o:{}},ie.default.createElement($e.Row,{justify:"center",align:"middle",style:{height:"100vh"}},ie.default.createElement($e.Col,{xs:22},l?l(b):b)))},Ee=W(E("react")),Vn=V(),Te=E("antd"),Hn=V(),{Text:_p,Title:Yp}=Te.Typography,Gp=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let[l]=Te.Form.useForm(),m=(0,Hn.useTranslate)(),f=(0,Vn.useRouterType)(),p=(0,Vn.useLink)(),{Link:v}=(0,Hn.useRouterContext)(),h=f==="legacy"?v:p,P=(0,Vn.useActiveAuthProvider)(),{mutate:g,isLoading:y}=(0,Hn.useRegister)({v3LegacyAuthProviderCompatible:Boolean(P==null?void 0:P.isLegacy)}),i=Ee.default.createElement(Yp,{level:3,style:La},m("pages.register.title","Sign up for your account")),c=()=>e&&e.length>0?Ee.default.createElement(Ee.default.Fragment,null,e.map(d=>Ee.default.createElement(Te.Button,{key:d.name,type:"ghost",block:!0,icon:d.icon,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",marginBottom:"8px"},onClick:()=>g({providerName:d.name})},d.label)),Ee.default.createElement(Te.Divider,null,m("pages.login.divider","or"))):null,k=Ee.default.createElement(Te.Card,{title:i,headStyle:{borderBottom:0},style:wa,...a!=null?a:{}},c(),Ee.default.createElement(Te.Form,{layout:"vertical",form:l,onFinish:d=>g(d),requiredMark:!1,...o},Ee.default.createElement(Te.Form.Item,{name:"email",label:m("pages.register.email","Email"),rules:[{required:!0},{type:"email",message:m("pages.register.errors.validEmail","Invalid email address")}]},Ee.default.createElement(Te.Input,{size:"large",placeholder:m("pages.register.fields.email","Email")})),Ee.default.createElement(Te.Form.Item,{name:"password",label:m("pages.register.fields.password","Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},Ee.default.createElement(Te.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),Ee.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},t!=null?t:Ee.default.createElement(_p,{style:{fontSize:12,marginLeft:"auto"}},m("pages.login.buttons.haveAccount","Have an account?")," ",Ee.default.createElement(h,{style:{fontWeight:"bold"},to:"/login"},m("pages.login.signin","Sign in")))),Ee.default.createElement(Te.Form.Item,null,Ee.default.createElement(Te.Button,{type:"primary",size:"large",htmlType:"submit",loading:y,block:!0},m("pages.register.buttons.submit","Sign up")))));return Ee.default.createElement(Te.Layout,{style:$a,...r!=null?r:{}},Ee.default.createElement(Te.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Ee.default.createElement(Te.Col,{xs:22},n?n(k):k)))},Ve=W(E("react")),Si=V(),dt=E("antd"),Kn=V(),{Text:Zp,Title:Jp}=dt.Typography,Xp=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let[o]=dt.Form.useForm(),l=(0,Kn.useTranslate)(),m=(0,Si.useRouterType)(),f=(0,Si.useLink)(),{Link:p}=(0,Kn.useRouterContext)(),v=m==="legacy"?p:f,{mutate:h,isLoading:P}=(0,Kn.useForgotPassword)(),g=Ve.default.createElement(Jp,{level:3,style:La},l("pages.forgotPassword.title","Forgot your password?")),y=Ve.default.createElement(dt.Card,{title:g,headStyle:{borderBottom:0},style:wa,...r!=null?r:{}},Ve.default.createElement(dt.Form,{layout:"vertical",form:o,onFinish:i=>h(i),requiredMark:!1,...n},Ve.default.createElement(dt.Form.Item,{name:"email",label:l("pages.forgotPassword.fields.email","Email"),rules:[{required:!0},{type:"email",message:l("pages.forgotPassword.errors.validEmail","Invalid email address")}]},Ve.default.createElement(dt.Input,{type:"email",size:"large",placeholder:l("pages.forgotPassword.fields.email","Email")})),Ve.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"}},e!=null?e:Ve.default.createElement(Zp,{style:{fontSize:12,marginLeft:"auto"}},l("pages.register.buttons.haveAccount","Have an account? ")," ",Ve.default.createElement(v,{style:{fontWeight:"bold"},to:"/login"},l("pages.login.signin","Sign in")))),Ve.default.createElement(dt.Form.Item,null,Ve.default.createElement(dt.Button,{type:"primary",size:"large",htmlType:"submit",loading:P,block:!0},l("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Ve.default.createElement(dt.Layout,{style:$a,...t!=null?t:{}},Ve.default.createElement(dt.Row,{justify:"center",align:"middle",style:{height:"100vh"}},Ve.default.createElement(dt.Col,{xs:22},a?a(y):y)))},at=W(E("react")),ef=V(),He=E("antd"),qi=V(),{Title:tf}=He.Typography,rf=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let[n]=He.Form.useForm(),o=(0,qi.useTranslate)(),l=(0,ef.useActiveAuthProvider)(),{mutate:m,isLoading:f}=(0,qi.useUpdatePassword)({v3LegacyAuthProviderCompatible:Boolean(l==null?void 0:l.isLegacy)}),p=at.default.createElement(tf,{level:3,style:La},o("pages.updatePassword.title","Set New Password")),v=at.default.createElement(He.Card,{title:p,headStyle:{borderBottom:0},style:wa,...t!=null?t:{}},at.default.createElement(He.Form,{layout:"vertical",form:n,onFinish:h=>m(h),requiredMark:!1,...a},at.default.createElement(He.Form.Item,{name:"password",label:o("pages.updatePassword.fields.password","New Password"),rules:[{required:!0}],style:{marginBottom:"12px"}},at.default.createElement(He.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),at.default.createElement(He.Form.Item,{name:"confirmPassword",label:o("pages.updatePassword.fields.confirmPassword","Confirm New Password"),hasFeedback:!0,dependencies:["password"],rules:[{required:!0},({getFieldValue:h})=>({validator(P,g){return!g||h("password")===g?Promise.resolve():Promise.reject(new Error(o("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")))}})],style:{marginBottom:"12px"}},at.default.createElement(He.Input,{type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",size:"large"})),at.default.createElement(He.Form.Item,null,at.default.createElement(He.Button,{type:"primary",size:"large",htmlType:"submit",loading:f,block:!0},o("pages.updatePassword.buttons.submit","Update")))));return at.default.createElement(He.Layout,{style:$a,...e!=null?e:{}},at.default.createElement(He.Row,{justify:"center",align:"middle",style:{height:"100vh"}},at.default.createElement(He.Col,{xs:22},r?r(v):v)))},af=e=>{let{type:t}=e;return Pr.default.createElement(Pr.default.Fragment,null,(()=>{switch(t){case"register":return Pr.default.createElement(Gp,{...e});case"forgotPassword":return Pr.default.createElement(Xp,{...e});case"updatePassword":return Pr.default.createElement(rf,{...e});default:return Pr.default.createElement(Kp,{...e})}})())},ar=W(E("react")),nr=V(),_n=E("antd"),nf=E("@ant-design/icons"),Hr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:a})=>{var n,o,l;let m=(0,nr.useRouterType)(),{breadcrumbs:f}=(0,nr.useBreadcrumb)({meta:a}),p=(0,nr.useLink)(),{Link:v}=(0,nr.useRouterContext)(),{hasDashboard:h}=(0,nr.useRefineContext)(),{resources:P}=(0,nr.useResource)(),g=(0,nr.matchResourceFromRoute)("/",P),y=m==="legacy"?v:p;return f.length===1?null:ar.default.createElement(_n.Breadcrumb,{...e},t&&(h||g.found)&&ar.default.createElement(_n.Breadcrumb.Item,null,ar.default.createElement(y,{to:"/"},(l=(o=(n=g==null?void 0:g.resource)==null?void 0:n.meta)==null?void 0:o.icon)!=null?l:ar.default.createElement(nf.HomeOutlined,null))),f.map(({label:i,icon:c,href:k})=>ar.default.createElement(_n.Breadcrumb.Item,{key:i},!r&&c,k?ar.default.createElement(y,{to:k},i):ar.default.createElement("span",null,i))))},Qr=W(E("react")),of=E("@ant-design/pro-layout"),Yn=E("antd"),lf=E("@ant-design/icons"),Kr=({children:e,...t})=>{let r=typeof t.backIcon>"u"?Qr.default.createElement(Yn.Button,{type:"text",icon:Qr.default.createElement(lf.ArrowLeftOutlined,null)}):t.backIcon,a=typeof t.title=="string"?Qr.default.createElement(Yn.Typography.Title,{level:4,style:{marginBottom:0}},t.title):t.title,n=typeof t.title=="string"?Qr.default.createElement(Yn.Typography.Title,{level:5,type:"secondary",style:{marginBottom:0}},t.subTitle):t.subTitle;return Qr.default.createElement(of.PageHeader,{...t,backIcon:r,title:a,subTitle:n,style:{padding:0,...t.style}},e)},uf=e=>{let{fileList:t}=e;return[...t]}});var Jr=_(E("react")),$u=_(V());var xf=_(_r()),If=_(E("antd"));var pt=_(E("react")),Po=_(V());var sf=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,to=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];sf.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a};var Vi=_(V());function ro(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,Vi.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}var Yr=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var ao=e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null};var Hi=_(E("prettier/standalone")),Ki=_(E("prettier/parser-typescript")),no=e=>{try{return Hi.default.format(e,{parser:"typescript",plugins:[Ki.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var oo=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var lo=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,_i=(e,t)=>{let r=lo.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1};var Ke=e=>e.replace(lo,"");var Q=e=>Ke(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var io=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`);var Yi=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,cf=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,df=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,uo=(e,t={})=>{let r=e.matchAll(Yi),a=new Set;for(let n of r){let[,o,l,m,f]=n;if(f in t){let p=t[f];if(f==="react")continue;o&&a.add(`const { default: ${o} } = ${p};`),l&&a.add(`const${l.replace(df,"$1: $3$4")} = ${p};`),m&&a.add(`const ${m} = ${p};`)}}return oo(`
    ${Array.from(a).join(`
`)}
    ${e.replace(Yi,"").replace(cf,"")}
    `)};var Gr=_(E("pluralize"));var so=(e,t)=>e?t.find(a=>{let n=Ke(e.key);return a.name===n||a.name===(Gr.default.isPlural(n)?n:Gr.default.plural(n))||a.name===(Gr.default.isSingular(n)?n:Gr.default.singular(n))}):void 0;var Gi=_(E("pluralize"));var mt=(e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=Gi.default.singular(a),l=Q(n).replace(/ /g,"")||r,m=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(l)?`${l}${m}`:`${m}${l}`};var mf=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",U=(e,...t)=>e.reduce((a,n,o)=>`${a}${n}${mf(t[o])}`,"").trim();var co=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var mo=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var pf=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,ir=e=>pf.test(e);function po(e,t,r){let a=`${e}`;return t&&(a+="?.",ir(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",ir(r)?a+=r:a+=`['${r}']`),a}function ff(e,t,r){return(r!=null?r:[]).map(n=>po(e,t,n))}var O=(e,t,r,a=' + " " + ')=>Array.isArray(r)?a?ff(e,t,r).join(a):po(e,t,r[0]):po(e,t,r);var Ft=e=>{let t=e.reduce((a,[n,o,l])=>(a[o]||(a[o]=[]),a[o].includes(n)||(l?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(p=>Array.isArray(p)&&p[1]),l=n.filter(p=>typeof p=="string"),m=o?`${o[0]}`:"",f=l.length?`{ ${l.join(", ")} }`:"";return`import ${m}${m&&f?", ":""}${f} from "${a}";`})};var fo=_(E("pluralize")),At=(e="")=>fo.default.isSingular(e)?e:fo.default.singular(e);var vo=_(E("pluralize")),Ir=(e="")=>vo.default.isPlural(e)?e:vo.default.plural(e);var vf=/^id$/i,Fr=e=>vf.test(e);var go=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var $t=e=>{};var be=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=Q(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var Zi=e=>{let t=(r,a,n,o=t)=>{let l=e.map(f=>f(r,a,n,o));return ao(l)};return t};var Ji=e=>(r,a,n,o,l)=>e.reduce((m,f)=>f(m,a,n,o,l),r);var Xi=(e,t,r,a)=>{let n=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(n){if(!o){let m=a(e,t[0],r,a);return m?{...m,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var eu=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var yo=_(E("dayjs")),gf=/(_at|_on|At|On|AT|ON)(\[\])?$/,yf=["/",":","-","."],tu=(e,t)=>{let r=gf.test(e)&&(0,yo.default)(t).isValid(),a=typeof t=="string"&&(0,yo.default)(t).isValid();return typeof t=="string"&&yf.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1};var hf=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ru=(e,t)=>typeof t=="string"&&hf.test(t)?{key:e,type:"email",priority:1}:!1;var bf=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,au=(e,t)=>typeof t=="string"&&bf.test(t)?{key:e,type:"image",priority:2}:!1;var nu=(e,t)=>typeof t>"u"||t===null?null:!1;var ou=(e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1};var Ef=/id$/i,lu=(e,t,r,a)=>{let n=t!==null,o=!Array.isArray(t);if(n&&o&&typeof t=="object"){if(Object.keys(t).length===1&&Ef.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let f=to(e,t);if((f?f.length>0:!1)&&f){let v=f&&Array.isArray(f)?f[0]:f,h=a(v,t[v],t,a);if(h){let P=Array.isArray(f)?f.map(g=>h.accessor?`${g}.${Array.isArray(h.accessor)?h.accessor[0]:h.accessor}`:g):h.accessor?Array.isArray(h.accessor)?`${f}.${h.accessor[0]}`:`${f}.${h.accessor}`:f;return{...h,fieldable:!0,key:e,accessor:P,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var iu=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var uu=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var Cf=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,su=(e,t)=>typeof t=="string"&&Cf.test(t)?{key:e,type:"url",priority:1}:!1;var cu=[Xi,eu,tu,ru,au,nu,ou,lu,_i,iu,uu,su];var du=(e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,m=P=>l.test(`${P}`),f=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!f?o:(o.multiple?a[o.key]:[a[o.key]]).every(P=>m(o.accessor?P[o.accessor]:P))?{...o,canRelation:!0}:o}return o});var Pf=/(image|photo|avatar|cover|thumbnail|icon)/i,mu=e=>e.map(r=>r.type==="url"&&Pf.test(r.key)?{...r,type:"image"}:r);var pu=(e,t)=>e.map(a=>{let n=so(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a});var fu=(e,t,r,a,n)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let m=l.accessor?a[l.key][l.accessor]:a[l.key],f=n(l.key,m,a,n);if(f&&f.type!=="relation")return{...l,fieldable:!0,relation:!1,type:f.type,canRelation:!0}}return l});var vu=[mu,pu,fu,du];var Dt=_(E("react")),Sa=_(E("prism-react-renderer")),gu=_(E("prism-react-renderer/themes/vsDark")),ho=({code:e,wrapperProps:t})=>((0,Dt.useEffect)(()=>{var a;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(a=document.getElementById("code-highlight"))==null||a.appendChild(r)},[]),Dt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},Dt.default.createElement(Sa.default,{...Sa.defaultProps,theme:gu.default,code:e,language:"tsx"},({className:r,style:a,tokens:n,getLineProps:o,getTokenProps:l})=>Dt.default.createElement("pre",{className:r,style:{...a,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},n.map((m,f)=>Dt.default.createElement("div",{key:f,...o({line:m,key:f})},m.map((p,v)=>Dt.default.createElement("span",{key:v,...l({token:p,key:v})}))))))));var ot=_(E("react")),kf=_(V()),qa=E("@aliemir/react-live");var yu=[["react","React",ot.default],["@refinedev/core","RefineCore",kf]],bo=ot.default.createContext({}),Eo=({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{var m;let n=(m=t&&io(uo(t,[...yu,...r!=null?r:[]].reduce((f,[p,v,h,P])=>P?f:{...f,[p]:v},{}))))!=null?m:"",o=ot.default.useMemo(()=>({React:ot.default,...ot.default,...[...yu,...r!=null?r:[]].reduce((f,[p,v,h])=>({...f,[v]:h}),{})}),[r]),l=ot.default.useMemo(()=>()=>{let{error:p}=ot.default.useContext(bo);return a?ot.default.createElement(a,{error:p?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${p}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},[a,e]);return ot.default.createElement(qa.LiveProvider,{Context:bo,code:n,scope:o,noInline:!0},!e&&ot.default.createElement(qa.LivePreview,{Context:bo}),ot.default.createElement(l,null))};var ur=_(E("react")),Na=_(V());var hu=(e,t,r)=>{let{resource:a,id:n,resources:o}=(0,Na.useResource)(t),l=r!=null?r:n,m=(0,Na.useDataProvider)(),[f,p]=ur.default.useState(void 0),[v,h]=ur.default.useState(void 0),[P,g]=ur.default.useState(!0),[y,i]=ur.default.useState(!1),c=ur.default.useCallback(async k=>{var s,C;let d=(s=Yr(a))!=null?s:ro(a==null?void 0:a.name,void 0,o),b=m(d);i(!0),p(void 0);try{if((e==="list"||e==="create")&&a){let I=(C=(await b.getList({resource:a==null?void 0:a.name})).data)==null?void 0:C[0];I||p(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),h(I),setTimeout(()=>{i(!1)},500)}if((e==="edit"||e==="show")&&k&&a){let I=(await b.getOne({resource:a==null?void 0:a.name,id:k})).data;I||p(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),h(I),setTimeout(()=>{i(!1)},500)}}catch(u){console.warn("An error occured while fetching the resource data. Please check the error message below:",u),p(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${a==null?void 0:a.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{i(!1)},500)}},[e,m,a,o]);return ur.default.useEffect(()=>{g(!1),!y&&!v&&c(l)},[c,l]),{data:v,loading:y,initial:P,error:f}};var $r=_(E("react")),bu=_(V());var Co=E("lodash"),Eu=({record:e,fields:t,infer:r})=>{let a=(0,bu.useDataProvider)(),[n,o]=$r.default.useState([]),[l,m]=$r.default.useState(!0),[f,p]=$r.default.useState(!1),v=$r.default.useCallback(async h=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let P=[];p(!0);try{let g=h.map(async i=>{if(i&&(i.relation||i.canRelation)&&e){let c=Yr(i.resource),k=a(c),d=Array.isArray(i.accessor)?void 0:i.multiple?e[i.key].map(b=>i.accessor?(0,Co.get)(b,i.accessor):b)[0]:i.accessor?(0,Co.get)(e[i.key],i.accessor):e[i.key];if(d&&i.resource)try{let{data:b}=await k.getOne({resource:i.resource.name,id:d});P.push({status:"success",resource:i.resource.name,field:i.key});let s=r("__",b,{},r);return{...i,relationInfer:s}}catch{return P.push({status:"error",resource:i.resource.name,field:i.key}),{...i,relationInfer:null}}if(d){let b,s;try{let{data:I}=await k.getOne({resource:Ir(Ke(i.key)),id:d});P.push({status:"success",resource:Ir(Ke(i.key)),field:i.key}),b=I,s=!0}catch{P.push({status:"error",resource:Ir(Ke(i.key)),field:i.key});try{let{data:x}=await k.getOne({resource:At(Ke(i.key)),id:d});P.push({status:"success",resource:At(Ke(i.key)),field:i.key}),b=x,s=!1}catch{return P.push({status:"error",resource:At(Ke(i.key)),field:i.key}),{...i,relationInfer:null}}}let C=r("__",b,{},r),u=Ke(i.key);return{...i,relation:!0,type:"relation",resource:{name:s?Ir(u):At(u)},fieldable:!1,canRelation:void 0,relationInfer:C}}return{...i,relationInfer:null}}return i}),y=await Promise.all(g);o(y.filter(i=>i)),setTimeout(()=>{p(!1)},500)}catch{setTimeout(()=>{p(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${P.length} attempts and succeeded with ${P.filter(g=>g.status==="success").length} attempts.`),console.groupEnd()},500)},[a,e]);return $r.default.useEffect(()=>{m(!1),!f&&t&&t.length>0&&n.length===0&&v(t)},[v,f,t,v]),{fields:n,loading:f,initial:l}};var Rt=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:l,codeViewerComponent:m})=>{let f=Zi([...cu,...r]),p=Ji([...vu,...a]),v=({resourceName:P,fieldTransformer:g,id:y})=>{var $,L,D,T,q,R;let{resource:i,resources:c}=(0,Po.useResource)(P),{resource:k}=(0,Po.useResource)(),{data:d,loading:b,initial:s,error:C}=hu(e,P!=null?P:i==null?void 0:i.name,y),u=pt.default.useMemo(()=>{if(d){let S=Object.keys(d).map(A=>{let z=d[A];return f(A,z,d,f)}).filter(Boolean);if(i){let A=p(S,c,i,d,f);return g?A.flatMap(H=>{let Y=g(H);return Y?[Y]:[]}):A}return[]}return[]},[d,c,i,g]),{fields:I,loading:x}=Eu({record:d,fields:u,infer:f}),F=pt.default.useMemo(()=>!b&&!x&&!s&&i?n({resource:i,resources:c,fields:I,infer:f,isCustomPage:i.name!==(k==null?void 0:k.name),id:y}):"",[i,c,I,b,x]);return pt.default.createElement(pt.default.Fragment,null,o&&(b||x)&&pt.default.createElement(o,null),!b&&!x&&pt.default.createElement(pt.default.Fragment,null,pt.default.createElement(Eo,{fetchError:!b&&C?C:!b&&!s&&!d,code:co(F,mt((R=(q=(T=(D=($=i==null?void 0:i.meta)==null?void 0:$.label)!=null?D:(L=i==null?void 0:i.options)==null?void 0:L.label)!=null?T:i==null?void 0:i.label)!=null?q:i==null?void 0:i.name)!=null?R:"Resource",e)),errorComponent:l,additionalScope:t}),m&&pt.default.createElement(m,{code:mo(F),loading:b||x})))};return({name:P,resource:g,fieldTransformer:y,id:i})=>pt.default.createElement(v,{fieldTransformer:y,resourceName:g!=null?g:P,key:g!=null?g:P,id:i})};var Zr=_(E("react")),wr=E("antd"),Mt=({error:e})=>e?Zr.default.createElement(wr.Row,{justify:"center",align:"middle",style:{minHeight:"200px"}},Zr.default.createElement(wr.Col,null,Zr.default.createElement(wr.Alert,{message:"Error",description:Zr.default.createElement("div",{dangerouslySetInnerHTML:{__html:e!=null?e:""}}),type:"error",showIcon:!0}))):null;var Ta=_(E("react")),Lr=E("antd"),Bt=()=>Ta.default.createElement(Lr.Row,{justify:"center",align:"middle",style:{minHeight:"300px"}},Ta.default.createElement(Lr.Col,null,Ta.default.createElement(Lr.Spin,{size:"large"})));var pe=_(E("react")),ht=_(E("@ant-design/icons")),Ot=E("antd");var zt=({code:e,loading:t})=>{let r=pe.default.useMemo(()=>no(e!=null?e:""),[e]),a=pe.default.useRef(null),[n,o]=pe.default.useState(!1),[l,m]=pe.default.useState(!1);if(t)return null;let f=()=>{var p,v,h,P;(p=a==null?void 0:a.current)==null||p.select(),(v=a==null?void 0:a.current)==null||v.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((P=(h=a==null?void 0:a.current)==null?void 0:h.value)!=null?P:""),m(!0),setTimeout(()=>{m(!1)},1e3))};return r?pe.default.createElement(pe.default.Fragment,null,pe.default.createElement("div",{style:{position:"fixed",bottom:12,right:60}},pe.default.createElement(Ot.Space,null,pe.default.createElement(Ot.Button,{type:"primary",onClick:()=>o(!0),icon:pe.default.createElement(ht.CodeOutlined,null)},"Show Code"),pe.default.createElement(Ot.Button,{type:"default",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046",icon:pe.default.createElement(ht.MessageOutlined,null)},"Give Feedback"))),pe.default.createElement("div",{style:{height:"50px"}}),pe.default.createElement(Ot.Modal,{width:800,open:n,onCancel:()=>o(!1),closeIcon:pe.default.createElement(ht.CloseOutlined,{style:{color:"#666b7a"}}),footer:null,bodyStyle:{padding:0}},pe.default.createElement(ho,{code:r}),pe.default.createElement("textarea",{ref:a,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input","aria-hidden":"true",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}}),pe.default.createElement(Ot.Button,{style:{position:"absolute",bottom:12,right:12,width:100},key:"copy",type:"default",icon:l?pe.default.createElement(ht.CheckOutlined,{style:{color:"green"}}):pe.default.createElement(ht.CopyOutlined,null),onClick:f},l?"Copied":"Copy"))):null};var Cu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var b;let n=mt((b=e.label)!=null?b:e.name,"show"),o="record",l=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["useShow","@refinedev/core"],["Show","@refinedev/antd"],["Typography","antd"]],f=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)).filter(Boolean).map(s=>{if((s==null?void 0:s.relation)&&!s.fieldable&&s.resource){if(s.multiple){l.push(["useMany","@refinedev/core"]);let C=O(o,s.key);return s.accessor&&(C=`${O(o,s.key)}?.map((item: any) => ${O("item",void 0,s.accessor)})`),`
                const { data: ${be(s.key,"Data")}, isLoading: ${be(s.key,"IsLoading")} } =
                useMany({
                    resource: "${s.resource.name}",
                    ids: ${C} || [],
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
                `}return l.push(["useOne","@refinedev/core"]),`
                const { data: ${be(s.key,"Data")}, isLoading: ${be(s.key,"IsLoading")} } =
                useOne({
                    resource: "${s.resource.name}",
                    id: ${O(o,s.key,s.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
            `}}).filter(Boolean),p=s=>{if(s.relation&&s.resource){let C=be(s.key,"Data"),u=be(s.key,"IsLoading");return s.multiple?(l.push(["TagField","@refinedev/antd"]),U`
                <Title level={5}>${Q(s.key)}</Title>
                {${u} ? <>Loading...</> : (
                    <>
                    ${(()=>{var I,x;if(s.relationInfer)if((I=s.relationInfer)!=null&&I.accessor){if(Array.isArray(s.relationInfer.accessor))return"Not Handled.";{let F=At((x=s.resource)==null?void 0:x.name),$=O(F,void 0,s.relationInfer.accessor);return`{${C}?.data?.map((${F}: any) => <TagField key={${$}} value={${$}} />)}`}}else return;else return})()}
                    </>
                )}
                `):U`
                <Title level={5}>${Q(s.key)}</Title>
                {${u} ? <>Loading...</> : (
                    <>
                    ${(()=>{var I;return s.relationInfer?(I=s.relationInfer)!=null&&I.accessor?Array.isArray(s.relationInfer.accessor)?`{${O(`${C}?.data`,void 0,s.relationInfer.accessor,' + " " + ')}}`:`{${C}?.data?.${s.relationInfer.accessor}}`:`{${C}?.data}`:`{${C}?.data?.id}`})()}
                    </>
                )}
                
                `}},v=s=>{if(s.type==="text"){if(l.push(["TagField","@refinedev/antd"],["TextField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {${O(o,s.key)}?.map((item: any) => (
                    <TagField value={${C}} key={${C}} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <TextField value={${O(o,s.key,s.accessor)}} />
            `}},h=s=>{if(s.type==="image"){if(l.push(["ImageField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {${O(o,s.key)}?.map((item: any) => (
                    <ImageField style={{ maxWidth: 200 }} value={${C}} key={${C}} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <ImageField style={{ maxWidth: 200 }} value={${O(o,s.key,s.accessor," + ")}} />
                `}},P=s=>{if(s.type==="email"){if(l.push(["TagField","@refinedev/antd"],["EmailField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                <>
                {${O(o,s.key)}?.map((item: any) => (
                    <TagField value={${C}} key={${C}} />
                ))}
                </>
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <EmailField value={${O(o,s.key,s.accessor," + ")}} />
            `}},g=s=>{if(s.type==="url"){if(l.push(["TagField","@refinedev/antd"],["UrlField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {${O(o,s.key)}?.map((item: any) => (
                    <TagField value={${C}} key={${C}} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <UrlField value={${O(o,s.key,s.accessor," + ")}} />
            `}},y=s=>{if(s.type==="boolean"){if(l.push(["TagField","@refinedev/antd"],["BooleanField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {(${O(o,s.key)} as any[])?.map((item, index) => (
                    <BooleanField value={${C}} key={index} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <BooleanField value={${O(o,s.key,s.accessor," && ")}} />
            `}},i=s=>{if(s.type==="date"){if(l.push(["DateField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {${O(o,s.key)}?.map((item: any) => (
                    <DateField value={${C}} key={${C}} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <DateField value={${O(o,s.key,s.accessor," + ' ' + ")}} />
            `}},c=s=>{if(s.type==="richtext")return l.push(["MarkdownField","@refinedev/antd"]),U`
                <Title level={5}>${Q(s.key)}</Title>
                <MarkdownField value={${O(o,s.key,s.accessor,' + " " + ')}} />
            `},k=s=>{if(s.type==="number"){if(l.push(["NumberField","@refinedev/antd"]),s.multiple){let C=O("item",void 0,s.accessor);return U`
                <Title level={5}>${Q(s.key)}</Title>
                {${O(o,s.key)}?.map((item: any) => (
                    <TagField value={${C}} key={${C}} />
                ))}
            `}return U`
                <Title level={5}>${Q(s.key)}</Title>
                <NumberField value={${O(o,s.key,s.accessor,' + " " + ')} ?? ""} />
            `}},d=t.map(s=>{switch(s==null?void 0:s.type){case"text":return v(s);case"number":return k(s);case"richtext":return c(s);case"email":return P(s);case"image":return h(s);case"date":return i(s);case"boolean":return y(s);case"url":return g(s);case"relation":return p(s);default:return}});return $t(l),U`
    ${Ft(l)}
    
    const { Title } = Typography;

    export const ${n}: React.FC<IResourceComponentsProps> = () => {
        const { queryResult } = useShow(${r?`{ 
                    resource: "${e.name}", 
                    id: ${a}
                }`:""});
        const { data, isLoading } = queryResult;
    
        const ${o} = data?.data;

        ${f}

        return (
            <Show isLoading={isLoading}>
                ${d.join("")}
            </Show>
        );
    };
    `},ko=Rt({type:"show",additionalScope:[["@refinedev/antd","RefineAntd",xf],["antd","AntdPackage",If]],codeViewerComponent:zt,loadingComponent:Bt,errorComponent:Mt,renderer:Cu});var Ff=_(_r()),$f=_(E("antd"));var Pu=({resource:e,fields:t,isCustomPage:r})=>{var C;let a=mt((C=e.label)!=null?C:e.name,"list"),n="tableProps?.dataSource",o=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["BaseRecord","@refinedev/core"],["useTable","@refinedev/antd"],["List","@refinedev/antd"],["Table","antd"],["Space","antd"]],m=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{if((u==null?void 0:u.relation)&&!u.fieldable&&u.resource){o.push(["useMany","@refinedev/core"]);let I="";return u.multiple?I=`[].concat(...(${n}?.map((item) => ${O("item",u.key,u.accessor,!1)}) ?? []))`:I=`${n}?.map((item) => ${O("item",u.key,u.accessor,!1)}) ?? []`,`
                const { data: ${be(u.key,"Data")}, isLoading: ${be(u.key,"IsLoading")} } =
                useMany({
                    resource: "${u.resource.name}",
                    ids: ${I},
                    queryOptions: {
                        enabled: !!${n},
                    },
                });
                `}}).filter(Boolean),f=u=>{var I,x;if(u.relation&&u.resource){let $=`${be(u.key,"Data")}?.data`,L=be(u.key,"IsLoading");if(Array.isArray(u.accessor))return;let D=`${L} ? <>Loading...</> : `,T=u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,q=`title="${Q(u.key)}"`,R="";if(u.multiple){o.push(["TagField","@refinedev/antd"]);let S="item";if(u!=null&&u.relationInfer){let A=`${$}?.find((resourceItems) => resourceItems.id === ${O("item",void 0,u.accessor)})`;S=O(A,void 0,(I=u==null?void 0:u.relationInfer)==null?void 0:I.accessor)}R=`render={(value: any[]) => ${D} (
                    <>
                        {${O("value",void 0)}?.map((item, index) => (
                            <TagField key={index} value={${S}} />
                        ))}
                    </>
                )}`}else if(u!=null&&u.relationInfer){let S=`${$}?.find((item) => item.id === value)`,A=O(S,void 0,(x=u==null?void 0:u.relationInfer)==null?void 0:x.accessor);R=`render={(value) => ${D} ${A}}`}else R="";return U`<Table.Column ${T} ${q} ${R} />`}},p=u=>{if(u.type==="image"){o.push(["ImageField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <ImageField style={{ maxWidth: "100px" }} value={${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0," + ")}} />}`;if(u.multiple){let $=O("item",void 0,u.accessor," + ");F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <ImageField style={{ maxWidth: "100px" }} value={${$}} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},v=u=>{if(u.type==="email"){o.push(["TagField","@refinedev/antd"],["EmailField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <EmailField value={${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0,' + " " + ')}} />}`;if(u.multiple){let $=O("item",void 0,u.accessor,' + " " + ');F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <TagField value={${$}} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},h=u=>{if(u.type==="url"){o.push(["UrlField","@refinedev/antd"],["TagField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <UrlField value={${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0," + ")}} />}`;if(u.multiple){let $=O("item",void 0,u.accessor," + ");F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <TagField value={${$}} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},P=u=>{if((u==null?void 0:u.type)==="boolean"){o.push(["BooleanField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <BooleanField value={${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0," && ")}} />}`;if(u.multiple){let $=O("item",void 0,u.accessor," && ");F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <BooleanField value={${$}} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},g=u=>{if(u.type==="date"){o.push(["DateField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:`dataIndex={["${u.key}", ${u.accessor?`"${u.accessor}"`:""}]}`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <DateField value={${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0,' + " " + ')}} />}`;if(u.multiple){let $=O("item",void 0,u.accessor,' + " " + ');F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <DateField value={${$}} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},y=u=>{if((u==null?void 0:u.type)==="richtext"){o.push(["MarkdownField","@refinedev/antd"]);let I=Array.isArray(u.accessor)||u.multiple?`dataIndex="${u.key}"`:u.accessor?`dataIndex={["${u.key}", "${u.accessor}"]}`:`dataIndex="${u.key}"`,x=`title="${Q(u.key)}"`,F=U`render={(value: any) => <MarkdownField value={(${O("value",void 0,Array.isArray(u.accessor)?u.accessor:void 0)}).slice(0, 80) + "..."} />}`;if(u.multiple){let $=O("item",void 0,u.accessor,' + " " + ');F=U`render={(value: any[]) => (<>{value?.map((item, index) => (
                    <MarkdownField value={(${$})?.slice(0, 80) + "..."} key={index} />
                ))}</>)}`}return U`<Table.Column ${I} ${x} ${F} />`}},i=u=>{if(u&&(u.type==="text"||u.type==="number")){let I=u.accessor&&!Array.isArray(u.accessor)&&!u.multiple?`dataIndex={["${u.key}", "${u.accessor}"]}`:`dataIndex="${u.key}"`,x=`title="${Q(u.key)}"`,F="";if(u.multiple){o.push(["TagField","@refinedev/antd"]);let $=O("item",void 0,u.accessor,' + " " + ');F=`render={(value: any[]) => (<>{value?.map((item) => (
                    <TagField value={${$}} key={${$}} />
                ))}</>)}`}return!u.multiple&&Array.isArray(u.accessor)&&(F=`render={(value: any) => (<>{${O("value",void 0,u.accessor)}}</>)}`),`<Table.Column ${I} ${x} ${F} />`}},{canEdit:c,canShow:k,canDelete:d}=e!=null?e:{};c&&o.push(["EditButton","@refinedev/antd"]),k&&o.push(["ShowButton","@refinedev/antd"]),d&&o.push(["DeleteButton","@refinedev/antd"]);let b=c||k||d?U`
            <Table.Column
                title="Actions"
                dataIndex="actions"
                render={(_, record: BaseRecord) => (
                    <Space>
                    ${c?U`
                        <EditButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    ${k?U`
                        <ShowButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    ${d?U`
                        <DeleteButton
                            hideText
                            size="small"
                            recordItemId={record.id}
                        />
                        `:""}
                    </Space>
                )}
            />
        `:"",s=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":return i(u);case"richtext":return y(u);case"email":return v(u);case"image":return p(u);case"date":return g(u);case"boolean":return P(u);case"url":return h(u);case"relation":return f(u);default:return}});return $t(o),U`
    ${Ft(o)}
    
    export const ${a}: React.FC<IResourceComponentsProps> = () => {
        const { tableProps } = useTable({
            syncWithLocation: true,
            ${r?` resource: "${e.name}",`:""}
        });
    
        ${m}

        return (
            <List>
                <Table {...tableProps} rowKey="id">
                    ${s.join(`\r
`)}
                    ${b}
                </Table>
            </List>
        );
    };
    `},xo=Rt({type:"list",additionalScope:[["@refinedev/antd","RefineAntd",Ff],["antd","AntdPackage",$f]],codeViewerComponent:zt,loadingComponent:Bt,errorComponent:Mt,renderer:Pu});var wf=_(_r()),Lf=_(E("antd")),ku=_(E("dayjs"));var xu=({resource:e,fields:t,isCustomPage:r})=>{var y;let a=mt((y=e.label)!=null?y:e.name,"create"),n=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["Create","@refinedev/antd"],["Form","antd"],["useForm","@refinedev/antd"],["Input","antd"]],l=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource)return n.push(["useSelect","@refinedev/antd"]),`
                const { selectProps: ${be(i.key,"SelectProps")} } =
                useSelect({
                    resource: "${i.resource.name}",
                    ${go(i)}
                });
            `}).filter(Boolean),m=i=>{if(i.relation&&i.resource){n.push(["Select","antd"]);let c=be(i.key,"SelectProps"),k=i.accessor?i.multiple?`"${i.key}"`:`["${i.key}", "${i.accessor}"]`:`"${i.key}"`,d="",b="";return i.accessor&&i.multiple&&(b=`getValueFromEvent={(selected: string[]) => {
                    return selected?.map((item) => ({ ${ir(`${i.accessor}`)?i.accessor:`["${i.accessor}"]`}: item }));
                }}`,d=`getValueProps={(value: any[]) => {
                    return {
                        value: value?.map((item) => ${O("item",void 0,i.accessor)}),
                    };
                }}`),U`
                <Form.Item
                    label="${Q(i.key)}"
                    name={${k}}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    ${d}
                    ${b}
                >
                    <Select ${i.multiple?'mode="multiple"':""} {...${c}} />
                </Form.Item>             
                `}},f=i=>{if(i.type==="text"||i.type==="url"||i.type==="email"||i.type==="number")return Fr(i.key)||i.multiple?void 0:U`
                <Form.Item
                    label="${Q(i.key)}"
                    name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input  />
                </Form.Item>
            `},p=i=>{if(i.type==="image"){n.push(["Upload","antd"],["getValueFromEvent","@refinedev/antd"]);let c='valuePropName="fileList"';return i.multiple&&!i.accessor&&(c="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),i.multiple||(i.accessor?c="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":c="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),U`
                <Form.Item label="${Q(i.key)}">
                    <Form.Item
                        name="${i.key}"
                        ${c}
                        getValueFromEvent={getValueFromEvent}
                        noStyle
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Upload.Dragger
                            listType="picture"
                            ${i.multiple?"multiple":""}
                            beforeUpload={() => false}
                        >
                            <p className="ant-upload-text">
                                Drag & drop a file in this area
                            </p>
                        </Upload.Dragger>
                    </Form.Item>
                </Form.Item>
                `}},v=i=>{if(i.type==="boolean")return n.push(["Checkbox","antd"]),i.multiple?void 0:U`
                <Form.Item
                    label="${Q(i.key)}"
                    valuePropName="checked"
                    name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Checkbox>${Q(i.key)}</Checkbox>
                </Form.Item>
            `},h=i=>{if(i.type==="date")return n.push(["DatePicker","antd"],["dayjs","dayjs",!0]),i.multiple?void 0:U`
                <Form.Item
                    label="${Q(i.key)}"
                    name={["${i.key}"${i.accessor?', "'+i.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                >
                    <DatePicker />
                </Form.Item>
            `},P=i=>{if(i.type==="richtext")return U`
            <Form.Item
                label="${Q(i.key)}"
                name="${i.key}"
                rules={[
                    {
                        required: true,
                    },
                ]}
            >
                <Input.TextArea rows={5} />
            </Form.Item>
            `},g=t.map(i=>{switch(i==null?void 0:i.type){case"text":case"number":case"email":case"url":return f(i);case"richtext":return P(i);case"image":return p(i);case"date":return h(i);case"boolean":return v(i);case"relation":return m(i);default:return}});return $t(n),U`
    ${Ft(n)}
    
    export const ${a}: React.FC<IResourceComponentsProps> = () => {
        const { formProps, saveButtonProps, queryResult } = useForm(${r?`{
                      resource: "${e.name}",
                      action: "create",
                  }`:""});
    
        ${l}

        return (
            <Create saveButtonProps={saveButtonProps}>
                <Form {...formProps} layout="vertical">
                    ${g.join("")}
                </Form>
            </Create>
        );
    };
    `},Io=Rt({type:"create",additionalScope:[["@refinedev/antd","RefineAntd",wf],["dayjs","dayjs",ku.default,!0],["antd","AntdPackage",Lf]],codeViewerComponent:zt,loadingComponent:Bt,errorComponent:Mt,renderer:xu});var Sf=_(_r()),qf=_(E("antd")),Iu=_(E("dayjs"));var Fu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var c,k;let n=mt((c=e.label)!=null?c:e.name,"edit"),o=be((k=e.label)!=null?k:e.name,"Data"),l=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["Edit","@refinedev/antd"],["Form","antd"],["useForm","@refinedev/antd"],["Input","antd"]],f=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{if((d==null?void 0:d.relation)&&!d.fieldable&&d.resource){l.push(["useSelect","@refinedev/antd"]);let b=O(o,d.key,d.accessor,!1);return d.multiple&&d.accessor&&(b=`${O(o,d.key)}?.map((item: any) => ${O("item",void 0,d.accessor)})`),`
                const { selectProps: ${be(d.key,"SelectProps")} } =
                useSelect({
                    resource: "${d.resource.name}",
                    defaultValue: ${b},
                    ${d.relationInfer&&d.relationInfer.accessor?typeof d.relationInfer.accessor=="string"?d.relationInfer.accessor!=="title"?`optionLabel: "${d.relationInfer.accessor}",`:"":`optionLabel: "${d.relationInfer.accessor[0]}",`:""}
                });
            `}}).filter(Boolean),p=d=>{if(d.relation&&d.resource){l.push(["Select","antd"]);let b=be(d.key,"SelectProps"),s=d.accessor?d.multiple?`"${d.key}"`:`["${d.key}", "${d.accessor}"]`:`"${d.key}"`,C="",u="";return d.accessor&&d.multiple&&(u=`getValueFromEvent={(selected: string[]) => {
                    return selected?.map((item) => ({ ${ir(`${d.accessor}`)?d.accessor:`["${d.accessor}"]`}: item }));
                }}`,C=`getValueProps={(value: any[]) => {
                    return {
                        value: value?.map((item) => ${O("item",void 0,d.accessor)}),
                    };
                }}`),U`
                <Form.Item
                    label="${Q(d.key)}"
                    name={${s}}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    ${C}
                    ${u}
                >
                    <Select ${d.multiple?'mode="multiple"':""} {...${b}} />
                </Form.Item>             
                `}},v=d=>{if(d.type==="text"||d.type==="url"||d.type==="email"||d.type==="number"){if(d.multiple){let b=O(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return`
                    <>
                        {(${O(o,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                label={\`${Q(d.key)} \${index+1}\`}
                                name={[${b}]}
                            >
                                <Input
                                    type="${d.type}"
                                ${Fr(d.key)?"readOnly disabled":""} />
                            </Form.Item>
                        ))}
                    </>
                `}return U`
                <Form.Item
                    label="${Q(d.key)}"
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Input ${Fr(d.key)?"readOnly disabled":""} />
                </Form.Item>
            `}},h=d=>{if(d.type==="image"){l.push(["Upload","antd"],["getValueFromEvent","@refinedev/antd"]);let b='valuePropName="fileList"';return d.multiple&&!d.accessor&&(b="getValueProps={(value) => ({ fileList: value?.map((item: any) => ({ url: item, name: item, uid: item }))})}"),d.multiple||(d.accessor?b="getValueProps={(value) => ({ fileList: value ? [value] : [] })}":b="getValueProps={(value) => ({ fileList: [{ url: value, name: value, uid: value }]})}"),U`
                <Form.Item label="${Q(d.key)}">
                    <Form.Item
                        name="${d.key}"
                        ${b}
                        getValueFromEvent={getValueFromEvent}
                        noStyle
                        rules={[
                            {
                                required: true,
                            },
                        ]}
                    >
                        <Upload.Dragger
                            listType="picture"
                            ${d.multiple?"multiple":""}
                            beforeUpload={() => false}
                        >
                            <p className="ant-upload-text">
                                Drag & drop a file in this area
                            </p>
                        </Upload.Dragger>
                    </Form.Item>
                </Form.Item>
                `}},P=d=>{if(d.type==="boolean"){if(l.push(["Checkbox","antd"]),d.multiple){let b=O(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return`
                    <>
                        {(${O(o,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                valuePropName="checked"
                                label={\`${Q(d.key)} \${index+1}\`}
                                name={[${b}]}
                            >
                                <Checkbox>${Q(d.key)}</Checkbox>
                            </Form.Item>
                        ))}
                    </>
                `}return U`
                <Form.Item
                    label="${Q(d.key)}"
                    valuePropName="checked"
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                >
                    <Checkbox>${Q(d.key)}</Checkbox>
                </Form.Item>
            `}},g=d=>{if(d.type==="date"){if(l.push(["DatePicker","antd"],["dayjs","dayjs",!0]),d.multiple){let b=O(d.key,"index",d.accessor).split("?.").map(s=>`"${s}"`).join(", ").replace(/"index"/,"index");return U`
                    <>
                        {(${O(o,d.key)} as any[])?.map((item, index) => (
                            <Form.Item
                                key={index}
                                label={\`${Q(d.key)} \${index+1}\`}
                                name={[${b}]}
                                getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                            >
                                <DatePicker />
                            </Form.Item>
                        ))}
                    </>
                `}return U`
                <Form.Item
                    label="${Q(d.key)}"
                    name={["${d.key}"${d.accessor?', "'+d.accessor+'"':""}]}
                    rules={[
                        {
                            required: true,
                        },
                    ]}
                    getValueProps={(value) => ({ value: value ? dayjs(value) : undefined })}
                >
                    <DatePicker />
                </Form.Item>
            `}},y=d=>{if(d.type==="richtext")return U`
            <Form.Item
                label="${Q(d.key)}"
                name="${d.key}"
                rules={[
                    {
                        required: true,
                    },
                ]}
            >
                <Input.TextArea rows={5} />
            </Form.Item>
            `},i=t.map(d=>{switch(d==null?void 0:d.type){case"text":case"number":case"email":case"url":return v(d);case"richtext":return y(d);case"image":return h(d);case"date":return g(d);case"boolean":return P(d);case"relation":return p(d);default:return}});return $t(l),U`
    ${Ft(l)}
    
    export const ${n}: React.FC<IResourceComponentsProps> = () => {
        const { formProps, saveButtonProps, queryResult } = useForm(${r?`{
                      resource: "${e.name}",
                      id: ${a},
                      action: "edit",
                  }`:""});
    
        const ${o} = queryResult?.data?.data;
    
        ${f}

        return (
            <Edit saveButtonProps={saveButtonProps}>
                <Form {...formProps} layout="vertical">
                    ${i.join("")}
                </Form>
            </Edit>
        );
    };
    `},Fo=Rt({type:"edit",additionalScope:[["@refinedev/antd","RefineAntd",Sf],["dayjs","dayjs",Iu.default,!0],["antd","AntdPackage",qf]],codeViewerComponent:zt,loadingComponent:Bt,errorComponent:Mt,renderer:Fu});var Ny=({action:e,id:t,...r})=>{let{action:a,id:n}=(0,$u.useResource)();switch(e!=null?e:a){case"show":return Jr.default.createElement(ko,{...r,id:t!=null?t:n});case"create":return Jr.default.createElement(Io,{...r,id:t!=null?t:n});case"edit":return Jr.default.createElement(Fo,{...r,id:t!=null?t:n});default:return Jr.default.createElement(xo,{...r,id:t!=null?t:n})}};})();
//# sourceMappingURL=antd.js.map