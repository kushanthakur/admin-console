(()=>{var Su=Object.create;var go=Object.defineProperty;var Lu=Object.getOwnPropertyDescriptor;var Fu=Object.getOwnPropertyNames;var qu=Object.getPrototypeOf,Tu=Object.prototype.hasOwnProperty;var g=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var ia=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Au=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Fu(t))!Tu.call(e,n)&&n!==r&&go(e,n,{get:()=>t[n],enumerable:!(a=Lu(t,n))||a.enumerable});return e};var j=(e,t,r)=>(r=e!=null?Su(qu(e)):{},Au(t||!e||!e.__esModule?go(r,"default",{value:e,enumerable:!0}):r,e));var _=ia((xf,Xl)=>{var Nu=Object.create,ga=Object.defineProperty,Mu=Object.getOwnPropertyDescriptor,Du=Object.getOwnPropertyNames,Ru=Object.getPrototypeOf,Bu=Object.prototype.hasOwnProperty,Ou=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},rl=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Du(t))!Bu.call(e,n)&&n!==r&&ga(e,n,{get:()=>t[n],enumerable:!(a=Mu(t,n))||a.enumerable});return e},R=(e,t,r)=>(r=e!=null?Nu(Ru(e)):{},rl(t||!e||!e.__esModule?ga(r,"default",{value:e,enumerable:!0}):r,e)),Wu=e=>rl(ga({},"__esModule",{value:!0}),e),al={};Ou(al,{AuthPage:()=>td,Authenticated:()=>vd,CanAccess:()=>yd,ErrorComponent:()=>Yc,GitHubBanner:()=>bd,LayoutWrapper:()=>md,LoginPage:()=>Gl,ReadyPage:()=>Kl,Refine:()=>dd,ResourceContext:()=>Wr,RouteChangeHandler:()=>Zl,UndoableQueue:()=>Yl,WelcomePage:()=>rd,createTreeView:()=>ms,file2Base64:()=>ns,getDefaultFilter:()=>as,getDefaultSortOrder:()=>rs,getNextPageParam:()=>xl,getPreviousPageParam:()=>Cl,handleUseParams:()=>os,importCSVMapper:()=>dl,legacyResourceTransform:()=>El,matchResourceFromRoute:()=>ds,parseTableParams:()=>sn,parseTableParamsFromQuery:()=>ts,pickNotDeprecated:()=>L,routeGenerator:()=>yl,setInitialFilters:()=>tn,setInitialSorters:()=>rn,stringifyTableParams:()=>Ja,unionFilters:()=>Rr,unionSorters:()=>en,useActiveAuthProvider:()=>ke,useApiUrl:()=>qs,useAuthenticated:()=>Ku,useBack:()=>Ul,useBreadcrumb:()=>_c,useCan:()=>Vl,useCanWithoutCache:()=>Ac,useCancelNotification:()=>Er,useCheckError:()=>Yu,useCreate:()=>fn,useCreateMany:()=>$l,useCustom:()=>As,useCustomMutation:()=>Ms,useDataProvider:()=>qe,useDelete:()=>ws,useDeleteMany:()=>Fs,useExport:()=>vc,useForgotPassword:()=>ul,useForm:()=>gc,useGetIdentity:()=>ll,useGetLocale:()=>lc,useGetToPath:()=>bn,useGo:()=>at,useHandleNotification:()=>_e,useImport:()=>Cc,useInfiniteList:()=>Os,useInvalidate:()=>Jt,useIsAuthenticated:()=>ln,useIsExistAuthentication:()=>cl,useLink:()=>ba,useList:()=>mn,useLiveMode:()=>Fl,useLog:()=>Xt,useLogList:()=>zc,useLogin:()=>on,useLogout:()=>Xa,useMany:()=>Pl,useMenu:()=>Kc,useModal:()=>Ec,useMutationMode:()=>Pr,useNavigation:()=>nt,useNotification:()=>Rt,useOnError:()=>Ve,useOne:()=>pn,useParse:()=>Rl,useParsed:()=>rt,usePermissions:()=>Uu,usePublish:()=>Zt,useRedirectionAfterSubmission:()=>zl,useRefineContext:()=>hn,useRegister:()=>il,useResource:()=>ne,useResourceSubscription:()=>Or,useResourceWithRoute:()=>ha,useRouterContext:()=>Te,useRouterType:()=>ye,useSelect:()=>Dc,useSetLocale:()=>oc,useShow:()=>hc,useSubscription:()=>Us,useSyncWithLocation:()=>jl,useTable:()=>Bc,useTitle:()=>dc,useToPath:()=>Pc,useTranslate:()=>ie,useUpdate:()=>Il,useUpdateMany:()=>Ss,useUpdatePassword:()=>sl,useWarnAboutChange:()=>yn,userFriendlyResourceName:()=>cn});Xl.exports=Wu(al);var Gt=R(g("react")),Cr=R(g("react")),nl=Cr.default.createContext({}),ju=({children:e,isProvided:t,...r})=>{let{replace:a}=nt(),n=async m=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,m))}catch(f){return Promise.reject(f)}},o=async m=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,m))}catch(f){return Promise.reject(f)}},l=async m=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,m))}catch(f){return Promise.reject(f)}},c=async m=>{var v;try{return await((v=r.checkAuth)==null?void 0:v.call(r,m)),Promise.resolve()}catch(f){return f!=null&&f.redirectPath&&a(f.redirectPath),Promise.reject(f)}};return Cr.default.createElement(nl.Provider,{value:{...r,login:n,logout:l,checkAuth:c,register:o,isProvided:t}},e)},ol=Cr.default.createContext({}),zu=({children:e,isProvided:t,...r})=>{let a=async v=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,v))}catch(y){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",y),Promise.reject(y)}},n=async v=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,v))}catch(y){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",y),Promise.reject(y)}},o=async v=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,v))}catch(y){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",y),Promise.reject(y)}},l=async v=>{var f;try{let y=await((f=r.check)==null?void 0:f.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",y),Promise.reject(y)}},c=async v=>{var f;try{let y=await((f=r.forgotPassword)==null?void 0:f.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",y),Promise.reject(y)}},m=async v=>{var f;try{let y=await((f=r.updatePassword)==null?void 0:f.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",y),Promise.reject(y)}};return Cr.default.createElement(ol.Provider,{value:{...r,login:a,logout:o,check:l,register:n,forgotPassword:c,updatePassword:m,isProvided:t}},e)},et=()=>Cr.default.useContext(nl),st=()=>Cr.default.useContext(ol),yo=g("@tanstack/react-query");function Uu({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=et(),{getPermissions:a}=st(),n=(0,yo.useQuery)(["usePermissions"],a!=null?a:()=>Promise.resolve(void 0),{enabled:!e&&!!a,...e?{}:t}),o=(0,yo.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?o:n}var ho=g("@tanstack/react-query");function ll({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=et(),{getIdentity:a}=st(),n=(0,ho.useQuery)(["getUserIdentity"],a!=null?a:()=>Promise.resolve({}),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t}),o=(0,ho.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?o:n}var bo=g("@tanstack/react-query"),Qu=g("@tanstack/react-query"),nn=()=>{let e=(0,Qu.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function Xa({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ye(),n=at(),{push:o}=nt(),{open:l,close:c}=Rt(),{logout:m}=et(),{logout:v}=st(),f=(0,bo.useMutation)(["useLogout"],v,{onSuccess:(C,u)=>{let{success:h,error:s,redirectTo:i}=C,{redirectPath:b}=u!=null?u:{},P=b!=null?b:i;h&&(c==null||c("useLogout-error")),(s||!h)&&(l==null||l(Wa(s))),P!==!1&&(a==="legacy"?o(P!=null?P:"/login"):P&&n({to:P})),r()},onError:C=>{l==null||l(Wa(C))},...e===!0?{}:t}),y=(0,bo.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],m,{onSuccess:(C,u)=>{var h;let s=(h=u==null?void 0:u.redirectPath)!=null?h:C;if(s!==!1){if(s){a==="legacy"?o(s):n({to:s});return}a==="legacy"?o("/login"):n({to:"/login"}),r()}},onError:C=>{l==null||l(Wa(C))},...e?t:{}});return e?y:f}var Wa=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),xo=g("@tanstack/react-query"),Hu=R(g("qs")),Vu=R(g("react"));function on({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ye(),n=at(),{replace:o}=nt(),l=rt(),{useLocation:c}=Te(),{search:m}=c(),{close:v,open:f}=Rt(),{login:y}=et(),{login:C}=st(),u=Vu.default.useMemo(()=>{var i;return a==="legacy"?Hu.default.parse(m,{ignoreQueryPrefix:!0}).to:(i=l.params)==null?void 0:i.to},[a,l.params,m]),h=(0,xo.useMutation)(["useLogin"],C,{onSuccess:({success:i,redirectTo:b,error:P})=>{i&&(v==null||v("login-error")),(P||!i)&&(f==null||f(ja(P))),u&&i?a==="legacy"?o(u):n({to:u,type:"replace"}):b?a==="legacy"?o(b):n({to:b,type:"replace"}):a==="legacy"&&o("/"),setTimeout(()=>{r()})},onError:i=>{f==null||f(ja(i))},...e===!0?{}:t}),s=(0,xo.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],y,{onSuccess:i=>{u&&o(u),i!==!1&&!u&&(typeof i=="string"?a==="legacy"?o(i):n({to:i,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),v==null||v("login-error"),setTimeout(()=>{r()})},onError:i=>{f==null||f(ja(i))},...e?t:{}});return e?s:h}var ja=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),Co=g("@tanstack/react-query");function il({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ye(),n=at(),{replace:o}=nt(),{register:l}=et(),{register:c}=st(),{close:m,open:v}=Rt(),f=(0,Co.useMutation)(["useRegister"],c,{onSuccess:({success:C,redirectTo:u,error:h})=>{C&&(m==null||m("register-error")),(h||!C)&&(v==null||v(za(h))),u?a==="legacy"?o(u):n({to:u,type:"replace"}):a==="legacy"&&o("/"),r()},onError:C=>{v==null||v(za(C))},...e===!0?{}:t}),y=(0,Co.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],l,{onSuccess:C=>{C!==!1&&(C?a==="legacy"?o(C):n({to:C,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),m==null||m("register-error")),r()},onError:C=>{v==null||v(za(C))},...e?t:{}});return e?y:f}var za=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),Eo=g("@tanstack/react-query");function ul({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ye(),a=at(),{replace:n}=nt(),{forgotPassword:o}=et(),{forgotPassword:l}=st(),{close:c,open:m}=Rt(),v=(0,Eo.useMutation)(["useForgotPassword"],l,{onSuccess:({success:y,redirectTo:C,error:u})=>{y&&(c==null||c("forgot-password-error")),(u||!y)&&(m==null||m(Ua(u))),C&&(r==="legacy"?n(C):a({to:C,type:"replace"}))},onError:y=>{m==null||m(Ua(y))},...e===!0?{}:t}),f=(0,Eo.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],o,{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?n(y):a({to:y,type:"replace"})),c==null||c("forgot-password-error")},onError:y=>{m==null||m(Ua(y))},...e?t:{}});return e?f:v}var Ua=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),_u=R(g("react")),ko=g("@tanstack/react-query"),Gu=R(g("qs"));function sl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ye(),a=at(),{replace:n}=nt(),{updatePassword:o}=et(),{updatePassword:l}=st(),{close:c,open:m}=Rt(),v=rt(),{useLocation:f}=Te(),{search:y}=f(),C=_u.default.useMemo(()=>{var s;if(r==="legacy"){let i=Gu.default.parse(y,{ignoreQueryPrefix:!0});return i!=null?i:{}}else return(s=v.params)!=null?s:{}},[y,v,r]),u=(0,ko.useMutation)(["useUpdatePassword"],async s=>l==null?void 0:l({...C,...s}),{onSuccess:({success:s,redirectTo:i,error:b})=>{s&&(c==null||c("update-password-error")),(b||!s)&&(m==null||m(Qa(b))),i&&(r==="legacy"?n(i):a({to:i,type:"replace"}))},onError:s=>{m==null||m(Qa(s))},...e===!0?{}:t}),h=(0,ko.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async s=>o==null?void 0:o({...C,...s}),{onSuccess:s=>{s!==!1&&s&&(r==="legacy"?n(s):a({to:s,type:"replace"})),c==null||c("update-password-error")},onError:s=>{m==null||m(Qa(s))},...e?t:{}});return e?h:u}var Qa=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),Po=g("@tanstack/react-query");function ln({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=et(),{check:a}=st(),n=(0,Po.useQuery)(["useAuthenticated",t],async()=>{var l;return(l=await(a==null?void 0:a(t)))!=null?l:{}},{retry:!1,enabled:!e}),o=(0,Po.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var l;return(l=await(r==null?void 0:r(t)))!=null?l:{}},{retry:!1,enabled:e});return e?o:n}var Ku=ln,wo=g("@tanstack/react-query");function Ve({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ye(),r=at(),{replace:a}=nt(),{checkError:n}=et(),{onError:o}=st(),{mutate:l}=Xa({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:c}=Xa({v3LegacyAuthProviderCompatible:Boolean(e)}),m=(0,wo.useMutation)(["useCheckError"],o,{onSuccess:({logout:f,redirectTo:y})=>{if(f){c({redirectPath:y});return}if(y){t==="legacy"?a(y):r({to:y,type:"replace"});return}}}),v=(0,wo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],n,{onError:f=>{l({redirectPath:f})}});return e?v:m}var Yu=Ve,cl=()=>{let{isProvided:e}=et(),{isProvided:t}=st();return Boolean(t||e)},Zu=g("@tanstack/react-query"),Ha=e=>e/1e3,Xu=R(g("lodash/zip")),Ju=R(g("lodash/fromPairs")),dl=(e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,Ju.default)((0,Xu.default)(r,n))).map((n,o,l)=>t.call(void 0,n,o,l))},Io=R(g("pluralize")),un=R(g("qs")),ml=R(g("lodash/unionWith")),pl=R(g("lodash/differenceWith")),es=R(g("warn-once")),sn=e=>{var t;let{current:r,pageSize:a,sorter:n,sorters:o,filters:l}=un.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:a&&Number(a),parsedSorter:(t=L(o,n))!=null?t:[],parsedFilters:l!=null?l:[]}},ts=e=>{let t=un.default.stringify(e);return sn(`/${t}`)},Ja=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...l}=e;return un.default.stringify({...l,...r||{},sorters:L(n,a),filters:o},t)},fl=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,vl=(e,t)=>e.field==t.field,Rr=(e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,es.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,ml.default)(e,t,r,fl).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),en=(e,t)=>(0,ml.default)(e,t,vl).filter(r=>r.order!==void 0&&r.order!==null),tn=(e,t)=>[...(0,pl.default)(t,e,fl),...e],rn=(e,t)=>[...(0,pl.default)(t,e,vl),...e],rs=(e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},as=(e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:l}=n;return l===e&&o===r}});if(a)return a.value||[]},ns=e=>new Promise((t,r)=>{let a=new FileReader,n=()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))};a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),cn=(e="",t)=>{let r=ma(e);return t==="singular"?Io.default.singular(r):Io.default.plural(r)},os=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,L=(...e)=>e.find(t=>typeof t<"u"),tt=(e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:l=>[...o.resourceAll,"list",{...l,...L(r,a)||{}}],many:l=>[...o.resourceAll,"getMany",l&&l.map(String),{...L(r,a)||{}}].filter(c=>c!==void 0),detail:l=>[...o.resourceAll,"detail",l==null?void 0:l.toString(),{...L(r,a)||{}}],logList:l=>["logList",e,l,a].filter(c=>c!==void 0)};return o},ls=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),dn=e=>e.startsWith(":"),xr=e=>e.split("/").filter(t=>t!==""),is=(e,t)=>{let r=xr(e),a=xr(t);return r.length===a.length},It=e=>e.replace(/^\/|\/$/g,""),us=(e,t)=>{let r=It(e),a=It(t);if(!is(r,a))return!1;let n=xr(r);return xr(a).every((o,l)=>dn(o)||o===n[l])},ss=(e,t,r)=>{let a=It(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},Mt=(e,t)=>{var r,a;let n=L((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!n)return;let o=t.find(l=>{var c;return((c=l.identifier)!=null?c:l.name)===n});return o!=null?o:{name:n}},gl=(e,t,r)=>{let a=[],n=Mt(e,t);for(;n;)a.push(n),n=Mt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var l,c;let m=r&&(c=(l=o.options)==null?void 0:l.route)!=null?c:o.name;return It(m)}).join("/")}`},He=(e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=gl(e,t,r);return n.forEach(l=>{var c,m,v,f;let y=r&&l==="clone"?e.create:e[l],C;typeof y=="function"||r?C=ss(r&&(f=(v=(c=e.meta)==null?void 0:c.route)!=null?v:(m=e.options)==null?void 0:m.route)!=null?f:e.name,l,r?o:void 0):typeof y=="string"?C=y:typeof y=="object"&&(C=y.path),C&&a.push({action:l,resource:e,route:`/${C.replace(/^\//,"")}`})}),a},cs=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let a=e.map(l=>({...l,splitted:xr(It(l.route))})),n=(r=(t=a[0])==null?void 0:t.splitted.length)!=null?r:0,o=[...a];for(let l=0;l<n;l++){let c=o.filter(m=>!dn(m.splitted[l]));if(c.length!==0){if(c.length===1){o=c;break}o=c}}return o[0]},ds=(e,t)=>{let r=t.flatMap(n=>He(n,t)).filter(n=>us(e,n.route)),a=cs(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},yl=(e,t)=>{var r,a,n;let o,l=gl(e,t,!0);if(l){let c=L(e.meta,e.options);o=`${l}/${(r=c==null?void 0:c.route)!=null?r:e.name}`}else o=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${o.replace(/^\//,"")}`},ms=e=>{var t,r,a;let n=[],o={},l={},c,m;for(let v=0;v<e.length;v++){c=e[v];let f=(a=(r=c.route)!=null?r:(t=L(c==null?void 0:c.meta,c.options))==null?void 0:t.route)!=null?a:"";o[f]=c,o[f].children=[],l[c.name]=c,l[c.name].children=[]}for(let v in o)o.hasOwnProperty(v)&&(m=o[v],m.parentName&&l[m.parentName]?l[m.parentName].children.push(m):n.push(m));return n},ma=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),hl=R(g("react")),ps=R(g("react")),bl=({children:e})=>ps.default.createElement("div",null,e),Pt={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},Dt=hl.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:bl,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Pt}),fs=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:l,Title:c,Layout:m=bl,Header:v,Sider:f,Footer:y,OffLayoutArea:C,LoginPage:u=Gl,catchAll:h,liveMode:s="off",onLiveEvent:i,options:b})=>hl.default.createElement(Dt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:c,undoableTimeout:n,Layout:m,Header:v,Sider:f,Footer:y,OffLayoutArea:C,DashboardPage:l,LoginPage:u,catchAll:h,liveMode:s,onLiveEvent:i,options:b}},o),vs=({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:c,warnWhenUnsavedChanges:m}={})=>{var v,f,y,C,u,h,s,i,b,P,E,d,x,k,p,w,I,$,S,D,N,B,O,F;let A={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(f=(v=e==null?void 0:e.mutationMode)!=null?v:a)!=null?f:Pt.mutationMode,undoableTimeout:(C=(y=e==null?void 0:e.undoableTimeout)!=null?y:c)!=null?C:Pt.undoableTimeout,syncWithLocation:(h=(u=e==null?void 0:e.syncWithLocation)!=null?u:l)!=null?h:Pt.syncWithLocation,warnWhenUnsavedChanges:(i=(s=e==null?void 0:e.warnWhenUnsavedChanges)!=null?s:m)!=null?i:Pt.warnWhenUnsavedChanges,liveMode:(P=(b=e==null?void 0:e.liveMode)!=null?b:r)!=null?P:Pt.liveMode,redirect:{afterCreate:(d=(E=e==null?void 0:e.redirect)==null?void 0:E.afterCreate)!=null?d:Pt.redirect.afterCreate,afterClone:(k=(x=e==null?void 0:e.redirect)==null?void 0:x.afterClone)!=null?k:Pt.redirect.afterClone,afterEdit:(w=(p=e==null?void 0:e.redirect)==null?void 0:p.afterEdit)!=null?w:Pt.redirect.afterEdit}},M=($=(I=e==null?void 0:e.disableTelemetry)!=null?I:t)!=null?$:!1,Q={clientConfig:(N=(D=(S=e==null?void 0:e.reactQuery)==null?void 0:S.clientConfig)!=null?D:n)!=null?N:{},devtoolConfig:(F=(O=(B=e==null?void 0:e.reactQuery)==null?void 0:B.devtoolConfig)!=null?O:o)!=null?F:{}};return{optionsWithDefaults:A,disableTelemetryWithDefault:M,reactQueryWithDefaults:Q}},gs=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},$o=async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let l=await o();a.push(t(l,n))}catch(l){a.push(r(l,n))}return a},ge=(e,t=[],r=!1)=>{if(!!e)return r?t.find(n=>{var o;return It((o=n.route)!=null?o:"")===It(e)})||t.find(n=>n.name===e):t.find(a=>{var n;return((n=a.identifier)!=null?n:a.name)===e})},Y=(e,t,r)=>{if(t)return t;let a=ge(e,r),n=L(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},ya=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),xl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},Cl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},El=e=>{let t=[];return e==null||e.forEach(r=>{var a,n,o;t.push({...r,label:(o=(a=r.meta)==null?void 0:a.label)!=null?o:(n=r.options)==null?void 0:n.label,route:yl(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},ys=e=>xr(It(e)).flatMap(t=>dn(t)?[t.slice(1)]:[]),hs=(e,t={},r={})=>e.reduce((a,n)=>{var o;let l=r[n]||((o=t.params)==null?void 0:o[n])||(n==="id"?t.id:void 0)||(n==="action"?t.action:void 0)||(n==="resource"?t.resource:void 0);return typeof l<"u"&&(a[n]=l),a},{}),Je=(e,t={},r={})=>{let a=ys(e),n=hs(a,t,r);return e.replace(/:([^\/]+)/g,(o,l)=>{let c=n[l];return typeof c<"u"?`${c}`:o})},ke=()=>{let e=et(),t=st();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},kl=({hasPagination:e,pagination:t,configPagination:r}={})=>{var a,n,o;let l=e===!1?"off":"server",c=(a=t==null?void 0:t.mode)!=null?a:l,m=(n=L(t==null?void 0:t.current,r==null?void 0:r.current))!=null?n:1,v=(o=L(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?o:10;return{current:m,pageSize:v,mode:c}},mn=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:c,errorNotification:m,meta:v,metaData:f,liveMode:y,onLiveEvent:C,liveParams:u,dataProviderName:h})=>{let{resources:s}=ne(),i=qe(),b=ie(),P=ke(),{mutate:E}=Ve({v3LegacyAuthProviderCompatible:Boolean(P==null?void 0:P.isLegacy)}),d=_e(),x=Y(e,h,s),k=L(v,f),p=L(r,t==null?void 0:t.filters),w=L(o,t==null?void 0:t.sort),I=L(a,t==null?void 0:t.hasPagination),$=kl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:I}),S=$.mode==="server",D={meta:k,metaData:k,filters:p,hasPagination:S,pagination:$,sorters:w,config:{...t,sort:w}},N=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,B=tt(e,x,k,k),{getList:O}=i(x);return Or({resource:e,types:["*"],params:{meta:k,metaData:k,pagination:$,hasPagination:S,sort:w,sorters:w,filters:p,subscriptionType:"useList",...u},channel:`resources/${e}`,enabled:N,liveMode:y,onLiveEvent:C}),(0,Zu.useQuery)(B.list({filters:p,hasPagination:S,...S&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:F,pageParam:A,signal:M})=>O({resource:e,pagination:$,hasPagination:S,filters:p,sort:w,sorters:w,meta:{...k||{},queryContext:{queryKey:F,pageParam:A,signal:M}},metaData:{...k||{},queryContext:{queryKey:F,pageParam:A,signal:M}}}),{...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!e,select:F=>{var A;let M=F,{current:Q,mode:K,pageSize:q}=$;return K==="client"&&(M={...M,data:M.data.slice((Q-1)*q,Q*q),total:M.total}),l!=null&&l.select?(A=l==null?void 0:l.select)==null?void 0:A.call(l,M):M},onSuccess:F=>{var A;(A=l==null?void 0:l.onSuccess)==null||A.call(l,F);let M=typeof c=="function"?c(F,D,e):c;d(M)},onError:F=>{var A;E(F),(A=l==null?void 0:l.onError)==null||A.call(l,F);let M=typeof m=="function"?m(F,D,e):m;d(M,{key:`${e}-useList-notification`,message:b("notifications.error",{statusCode:F.statusCode},`Error (status code: ${F.statusCode})`),description:F.message,type:"error"})}})},bs=g("@tanstack/react-query"),pn=({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:c,onLiveEvent:m,liveParams:v,dataProviderName:f})=>{let{resources:y}=ne(),C=qe(),u=tt(e,Y(e,f,y),L(o,l),L(o,l)),{getOne:h}=C(Y(e,f,y)),s=ie(),i=ke(),{mutate:b}=Ve({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),P=_e();return Or({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:L(o,l),metaData:L(o,l),subscriptionType:"useOne",...v},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:c,onLiveEvent:m}),(0,bs.useQuery)(u.detail(t),({queryKey:E,pageParam:d,signal:x})=>h({resource:e,id:t,meta:{...L(o,l)||{},queryContext:{queryKey:E,pageParam:d,signal:x}},metaData:{...L(o,l)||{},queryContext:{queryKey:E,pageParam:d,signal:x}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:E=>{var d;(d=r==null?void 0:r.onSuccess)==null||d.call(r,E);let x=typeof a=="function"?a(E,{id:t,...L(o,l)||{}},e):a;P(x)},onError:E=>{var d;b(E),(d=r==null?void 0:r.onError)==null||d.call(r,E);let x=typeof n=="function"?n(E,{id:t,...L(o,l)||{}},e):n;P(x,{key:`${t}-${e}-getOne-notification`,message:s("notifications.error",{statusCode:E.statusCode},`Error (status code: ${E.statusCode})`),description:E.message,type:"error"})}})},xs=g("@tanstack/react-query"),Pl=({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:c,onLiveEvent:m,liveParams:v,dataProviderName:f})=>{let{resources:y}=ne(),C=qe(),u=tt(e,Y(e,f,y),L(o,l),L(o,l)),{getMany:h,getOne:s}=C(Y(e,f,y)),i=ie(),b=ke(),{mutate:P}=Ve({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),E=_e(),d=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Or({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:L(o,l),metaData:L(o,l),subscriptionType:"useMany",...v},channel:`resources/${e}`,enabled:d,liveMode:c,onLiveEvent:m}),(0,xs.useQuery)(u.many(t),({queryKey:x,pageParam:k,signal:p})=>h?h({resource:e,ids:t,metaData:{...L(o,l)||{},queryContext:{queryKey:x,pageParam:k,signal:p}}}):ya(t.map(w=>s({resource:e,id:w,metaData:{...L(o,l)||{},queryContext:{queryKey:x,pageParam:k,signal:p}}}))),{...r,onSuccess:x=>{var k;(k=r==null?void 0:r.onSuccess)==null||k.call(r,x);let p=typeof a=="function"?a(x,t,e):a;E(p)},onError:x=>{var k;P(x),(k=r==null?void 0:r.onError)==null||k.call(r,x);let p=typeof n=="function"?n(x,t,e):n;E(p,{key:`${t[0]}-${e}-getMany-notification`,message:i("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})}})},So=g("@tanstack/react-query"),pa=R(g("react")),Va=R(g("lodash/isEqual")),wl=pa.default.createContext({notifications:[],notificationDispatch:()=>!1}),Cs=[],Es=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Va.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Va.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Va.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},ks=({children:e})=>{let[t,r]=(0,pa.useReducer)(Es,Cs),a={notifications:t,notificationDispatch:r};return pa.default.createElement(wl.Provider,{value:a},e,typeof window<"u"&&t.map(n=>pa.default.createElement(Yl,{key:`${n.id}-${n.resource}-queue`,notification:n})))},Lo=R(g("pluralize")),Il=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,So.useQueryClient)(),a=qe(),{mutationMode:n,undoableTimeout:o}=Pr(),l=ie(),c=ke(),{mutate:m}=Ve({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),v=Zt(),{log:f}=Xt(),{notificationDispatch:y}=Er(),C=_e(),u=Jt();return(0,So.useMutation)(({id:h,values:s,resource:i,mutationMode:b,undoableTimeout:P,onCancel:E,meta:d,metaData:x,dataProviderName:k})=>{let p=b!=null?b:n,w=P!=null?P:o;return p!=="undoable"?a(Y(i,k,t)).update({resource:i,id:h,variables:s,meta:L(d,x),metaData:L(d,x)}):new Promise((I,$)=>{let S=()=>{a(Y(i,k,t)).update({resource:i,id:h,variables:s,meta:L(d,x),metaData:L(d,x)}).then(N=>I(N)).catch(N=>$(N))},D=()=>{$({message:"mutationCancelled"})};E&&E(D),y({type:"ADD",payload:{id:h,resource:i,cancelMutation:D,doMutation:S,seconds:w,isSilent:!!E}})})},{onMutate:async({resource:h,id:s,mutationMode:i,values:b,dataProviderName:P})=>{let E=tt(h,Y(h,P,t)),d=r.getQueriesData(E.resourceAll),x=i!=null?i:n;return await r.cancelQueries(E.resourceAll,void 0,{silent:!0}),x!=="pessimistic"&&(r.setQueriesData(E.list(),k=>{if(!k)return null;let p=k.data.map(w=>{var I;return((I=w.id)==null?void 0:I.toString())===(s==null?void 0:s.toString())?{id:s,...w,...b}:w});return{...k,data:p}}),r.setQueriesData(E.many(),k=>{if(!k)return null;let p=k.data.map(w=>{var I;return((I=w.id)==null?void 0:I.toString())===(s==null?void 0:s.toString())&&(w={id:s,...w,...b}),w});return{...k,data:p}}),r.setQueriesData(E.detail(s),k=>k?{...k,data:{...k.data,...b}}:null)),{previousQueries:d,queryKey:E}},onSettled:(h,s,{id:i,resource:b,dataProviderName:P,invalidates:E=["list","many","detail"]})=>{u({resource:b,dataProviderName:Y(b,P,t),invalidates:E,id:i}),y({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(h,{id:s,resource:i,successNotification:b,dataProviderName:P,values:E,meta:d,metaData:x},k)=>{var p;let w=Lo.default.singular(i),I=typeof b=="function"?b(h,{id:s,values:E},i):b;C(I,{key:`${s}-${i}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${i}.${i}`,w)},`Successfully updated ${w}`),type:"success"}),v==null||v({channel:`resources/${i}`,type:"updated",payload:{ids:(p=h.data)!=null&&p.id?[h.data.id]:void 0},date:new Date});let $;if(k){let O=r.getQueryData(k.queryKey.detail(s));$=Object.keys(E||{}).reduce((F,A)=>{var M;return F[A]=(M=O==null?void 0:O.data)==null?void 0:M[A],F},{})}let{fields:S,operation:D,variables:N,...B}=L(d,x)||{};f==null||f.mutate({action:"update",resource:i,data:E,previousData:$,meta:{id:s,dataProviderName:Y(i,P,t),...B}})},onError:(h,{id:s,resource:i,errorNotification:b,values:P},E)=>{if(E)for(let d of E.previousQueries)r.setQueryData(d[0],d[1]);if(h.message!=="mutationCancelled"){m==null||m(h);let d=Lo.default.singular(i),x=typeof b=="function"?b(h,{id:s,values:P},i):b;C(x,{key:`${s}-${i}-notification`,message:l("notifications.editError",{resource:l(`${i}.${i}`,d),statusCode:h.statusCode},`Error when updating ${d} (status code: ${h.statusCode})`),description:h.message,type:"error"})}},...e})},Ps=g("@tanstack/react-query"),Fo=R(g("pluralize")),fn=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=Ve({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=qe(),n=Jt(),{resources:o}=ne(),l=ie(),c=Zt(),{log:m}=Xt(),v=_e();return(0,Ps.useMutation)(({resource:f,values:y,meta:C,metaData:u,dataProviderName:h})=>a(Y(f,h,o)).create({resource:f,variables:y,meta:L(C,u),metaData:L(C,u)}),{onSuccess:(f,{resource:y,successNotification:C,dataProviderName:u,invalidates:h=["list","many"],values:s,meta:i,metaData:b})=>{var P,E,d;let x=Fo.default.singular(y),k=typeof C=="function"?C(f,s,y):C;v(k,{key:`create-${y}-notification`,message:l("notifications.createSuccess",{resource:l(`${y}.${y}`,x)},`Successfully created ${x}`),description:l("notifications.success","Success"),type:"success"}),n({resource:y,dataProviderName:Y(y,u,o),invalidates:h}),c==null||c({channel:`resources/${y}`,type:"created",payload:{ids:(P=f==null?void 0:f.data)!=null&&P.id?[f.data.id]:void 0},date:new Date});let{fields:p,operation:w,variables:I,...$}=L(i,b)||{};m==null||m.mutate({action:"create",resource:y,data:s,meta:{dataProviderName:Y(y,u,o),id:(d=(E=f==null?void 0:f.data)==null?void 0:E.id)!=null?d:void 0,...$}})},onError:(f,{resource:y,errorNotification:C,values:u})=>{r(f);let h=Fo.default.singular(y),s=typeof C=="function"?C(f,u,y):C;v(s,{key:`create-${y}-notification`,description:f.message,message:l("notifications.createError",{resource:l(`${y}.${y}`,h),statusCode:f.statusCode},`There was an error creating ${h} (status code: ${f.statusCode})`),type:"error"})},...e})},qo=g("@tanstack/react-query"),To=R(g("pluralize")),ws=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=Ve({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=qe(),{resources:n}=ne(),o=(0,qo.useQueryClient)(),{mutationMode:l,undoableTimeout:c}=Pr(),{notificationDispatch:m}=Er(),v=ie(),f=Zt(),{log:y}=Xt(),C=_e(),u=Jt();return(0,qo.useMutation)(({id:h,mutationMode:s,undoableTimeout:i,resource:b,onCancel:P,meta:E,metaData:d,dataProviderName:x,values:k})=>{let p=s!=null?s:l,w=i!=null?i:c;return p!=="undoable"?a(Y(b,x,n)).deleteOne({resource:b,id:h,meta:L(E,d),metaData:L(E,d),variables:k}):new Promise((I,$)=>{let S=()=>{a(Y(b,x,n)).deleteOne({resource:b,id:h,meta:L(E,d),variables:k}).then(N=>I(N)).catch(N=>$(N))},D=()=>{$({message:"mutationCancelled"})};P&&P(D),m({type:"ADD",payload:{id:h,resource:b,cancelMutation:D,doMutation:S,seconds:w,isSilent:!!P}})})},{onMutate:async({id:h,resource:s,mutationMode:i,dataProviderName:b})=>{let P=tt(s,Y(s,b,n)),E=i!=null?i:l;await o.cancelQueries(P.resourceAll,void 0,{silent:!0});let d=o.getQueriesData(P.resourceAll);return E!=="pessimistic"&&(o.setQueriesData(P.list(),x=>x?{data:x.data.filter(k=>{var p;return((p=k.id)==null?void 0:p.toString())!==h.toString()}),total:x.total-1}:null),o.setQueriesData(P.many(),x=>{if(!x)return null;let k=x.data.filter(p=>{var w;return((w=p.id)==null?void 0:w.toString())!==(h==null?void 0:h.toString())});return{...x,data:k}})),{previousQueries:d,queryKey:P}},onSettled:(h,s,{id:i,resource:b,dataProviderName:P,invalidates:E=["list","many"]})=>{u({resource:b,dataProviderName:Y(b,P,n),invalidates:E}),m({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(h,{id:s,resource:i,successNotification:b,dataProviderName:P,meta:E,metaData:d},x)=>{let k=To.default.singular(i!=null?i:"");o.removeQueries(x==null?void 0:x.queryKey.detail(s));let p=typeof b=="function"?b(h,s,i):b;C(p,{key:`${s}-${i}-notification`,description:v("notifications.success","Success"),message:v("notifications.deleteSuccess",{resource:v(`${i}.${i}`,k)},`Successfully deleted a ${k}`),type:"success"}),f==null||f({channel:`resources/${i}`,type:"deleted",payload:{ids:s?[s]:[]},date:new Date});let{fields:w,operation:I,variables:$,...S}=L(E,d)||{};y==null||y.mutate({action:"delete",resource:i,meta:{id:s,dataProviderName:Y(i,P,n),...S}}),o.removeQueries(x==null?void 0:x.queryKey.detail(s))},onError:(h,{id:s,resource:i,errorNotification:b},P)=>{if(P)for(let E of P.previousQueries)o.setQueryData(E[0],E[1]);if(h.message!=="mutationCancelled"){r(h);let E=To.default.singular(i!=null?i:""),d=typeof b=="function"?b(h,s,i):b;C(d,{key:`${s}-${i}-notification`,message:v("notifications.deleteError",{resource:E,statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}},...e})},Is=g("@tanstack/react-query"),$s=R(g("pluralize")),$l=({mutationOptions:e}={})=>{let t=qe(),{resources:r}=ne(),a=ie(),n=Zt(),o=_e(),l=Jt(),{log:c}=Xt();return(0,Is.useMutation)(({resource:m,values:v,meta:f,metaData:y,dataProviderName:C})=>{let u=t(Y(m,C,r));return u.createMany?u.createMany({resource:m,variables:v,meta:L(f,y),metaData:L(f,y)}):ya(v.map(h=>u.create({resource:m,variables:h,meta:L(f,y),metaData:L(f,y)})))},{onSuccess:(m,{resource:v,successNotification:f,dataProviderName:y,invalidates:C=["list","many"],values:u,meta:h,metaData:s})=>{let i=$s.default.plural(v),b=typeof f=="function"?f(m,u,v):f;o(b,{key:`createMany-${v}-notification`,message:a("notifications.createSuccess",{resource:a(`${v}.${v}`,v)},`Successfully created ${i}`),description:a("notifications.success","Success"),type:"success"}),l({resource:v,dataProviderName:Y(v,y,r),invalidates:C});let P=m==null?void 0:m.data.filter(p=>(p==null?void 0:p.id)!==void 0).map(p=>p.id);n==null||n({channel:`resources/${v}`,type:"created",payload:{ids:P},date:new Date});let{fields:E,operation:d,variables:x,...k}=L(h,s)||{};c==null||c.mutate({action:"createMany",resource:v,data:u,meta:{dataProviderName:Y(v,y,r),ids:P,...k}})},onError:(m,{resource:v,errorNotification:f,values:y})=>{let C=typeof f=="function"?f(m,y,v):f;o(C,{key:`createMany-${v}-notification`,description:m.message,message:a("notifications.createError",{resource:a(`${v}.${v}`,v),statusCode:m.statusCode},`There was an error creating ${v} (status code: ${m.statusCode}`),type:"error"})},...e})},Ao=g("@tanstack/react-query"),No=R(g("pluralize")),Ss=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,Ao.useQueryClient)(),a=qe(),n=ie(),{mutationMode:o,undoableTimeout:l}=Pr(),c=ke(),{mutate:m}=Ve({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),{notificationDispatch:v}=Er(),f=Zt(),y=_e(),C=Jt(),{log:u}=Xt();return(0,Ao.useMutation)(({ids:h,values:s,resource:i,onCancel:b,mutationMode:P,undoableTimeout:E,meta:d,metaData:x,dataProviderName:k})=>{let p=P!=null?P:o,w=E!=null?E:l,I=a(Y(i,k,t)),$=()=>I.updateMany?I.updateMany({resource:i,ids:h,variables:s,meta:L(d,x),metaData:L(d,x)}):ya(h.map(S=>I.update({resource:i,id:S,variables:s,meta:L(d,x),metaData:L(d,x)})));return p!=="undoable"?$():new Promise((S,D)=>{let N=()=>{$().then(O=>S(O)).catch(O=>D(O))},B=()=>{D({message:"mutationCancelled"})};b&&b(B),v({type:"ADD",payload:{id:h,resource:i,cancelMutation:B,doMutation:N,seconds:w,isSilent:!!b}})})},{onMutate:async({resource:h,ids:s,values:i,mutationMode:b,dataProviderName:P,meta:E,metaData:d})=>{let x=tt(h,Y(h,P,t),L(E,d),L(E,d)),k=b!=null?b:o;await r.cancelQueries(x.resourceAll,void 0,{silent:!0});let p=r.getQueriesData(x.resourceAll);if(k!=="pessimistic"){r.setQueriesData(x.list(),w=>{if(!w)return null;let I=w.data.map($=>$.id!==void 0&&s.filter(S=>S!==void 0).map(String).includes($.id.toString())?{...$,...i}:$);return{...w,data:I}}),r.setQueriesData(x.many(),w=>{if(!w)return null;let I=w.data.map($=>$.id!==void 0&&s.filter(S=>S!==void 0).map(String).includes($.id.toString())?{...$,...i}:$);return{...w,data:I}});for(let w of s)r.setQueriesData(x.detail(w),I=>{if(!I)return null;let $={...I.data,...i};return{...I,data:$}})}return{previousQueries:p,queryKey:x}},onSettled:(h,s,{ids:i,resource:b,dataProviderName:P})=>{C({resource:b,invalidates:["list","many"],dataProviderName:Y(b,P,t)}),i.forEach(E=>C({resource:b,invalidates:["detail"],dataProviderName:Y(b,P,t),id:E})),v({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(h,{ids:s,resource:i,meta:b,metaData:P,dataProviderName:E,successNotification:d,values:x},k)=>{let p=No.default.singular(i),w=typeof d=="function"?d(h,{ids:s,values:x},i):d;y(w,{key:`${s}-${i}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${i}.${i}`,i)},`Successfully updated ${p}`),type:"success"}),f==null||f({channel:`resources/${i}`,type:"updated",payload:{ids:s.map(String)},date:new Date});let I=[];k&&s.forEach(B=>{let O=r.getQueryData(k.queryKey.detail(B));I.push(Object.keys(x||{}).reduce((F,A)=>{var M;return F[A]=(M=O==null?void 0:O.data)==null?void 0:M[A],F},{}))});let{fields:$,operation:S,variables:D,...N}=L(b,P)||{};u==null||u.mutate({action:"updateMany",resource:i,data:x,previousData:I,meta:{ids:s,dataProviderName:Y(i,E,t),...N}})},onError:(h,{ids:s,resource:i,errorNotification:b,values:P},E)=>{if(E)for(let d of E.previousQueries)r.setQueryData(d[0],d[1]);if(h.message!=="mutationCancelled"){m==null||m(h);let d=No.default.singular(i),x=typeof b=="function"?b(h,{ids:s,values:P},i):b;y(x,{key:`${s}-${i}-updateMany-error-notification`,message:n("notifications.editError",{resource:d,statusCode:h.statusCode},`Error when updating ${d} (status code: ${h.statusCode})`),description:h.message,type:"error"})}},...e})},Mo=g("@tanstack/react-query"),Ls=R(g("pluralize")),Fs=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=Ve({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:a,undoableTimeout:n}=Pr(),o=qe(),{notificationDispatch:l}=Er(),c=ie(),m=Zt(),v=_e(),f=Jt(),{log:y}=Xt(),{resources:C}=ne(),u=(0,Mo.useQueryClient)();return(0,Mo.useMutation)(({resource:h,ids:s,mutationMode:i,undoableTimeout:b,onCancel:P,meta:E,metaData:d,dataProviderName:x,values:k})=>{let p=i!=null?i:a,w=b!=null?b:n,I=o(Y(h,x,C)),$=()=>I.deleteMany?I.deleteMany({resource:h,ids:s,meta:L(E,d),metaData:L(E,d),variables:k}):ya(s.map(S=>I.deleteOne({resource:h,id:S,meta:L(E,d),metaData:L(E,d),variables:k})));return p!=="undoable"?$():new Promise((S,D)=>{let N=()=>{$().then(O=>S(O)).catch(O=>D(O))},B=()=>{D({message:"mutationCancelled"})};P&&P(B),l({type:"ADD",payload:{id:s,resource:h,cancelMutation:B,doMutation:N,seconds:w,isSilent:!!P}})})},{onMutate:async({ids:h,resource:s,mutationMode:i,dataProviderName:b})=>{let P=tt(s,Y(s,b,C)),E=i!=null?i:a;await u.cancelQueries(P.resourceAll,void 0,{silent:!0});let d=u.getQueriesData(P.resourceAll);if(E!=="pessimistic"){u.setQueriesData(P.list(),x=>x?{data:x.data.filter(k=>k.id&&!h.map(String).includes(k.id.toString())),total:x.total-1}:null),u.setQueriesData(P.many(),x=>{if(!x)return null;let k=x.data.filter(p=>p.id?!h.map(String).includes(p.id.toString()):!1);return{...x,data:k}});for(let x of h)u.setQueriesData(P.detail(x),k=>!k||k.data.id==x?null:{...k})}return{previousQueries:d,queryKey:P}},onSettled:(h,s,{resource:i,ids:b,dataProviderName:P,invalidates:E=["list","many"]})=>{f({resource:i,dataProviderName:Y(i,P,C),invalidates:E}),l({type:"REMOVE",payload:{id:b,resource:i}})},onSuccess:(h,{ids:s,resource:i,meta:b,metaData:P,dataProviderName:E,successNotification:d},x)=>{s.forEach(S=>u.removeQueries(x==null?void 0:x.queryKey.detail(S)));let k=typeof d=="function"?d(h,s,i):d;v(k,{key:`${s}-${i}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${i}.${i}`,i)},`Successfully deleted ${i}`),type:"success"}),m==null||m({channel:`resources/${i}`,type:"deleted",payload:{ids:s},date:new Date});let{fields:p,operation:w,variables:I,...$}=L(b,P)||{};y==null||y.mutate({action:"deleteMany",resource:i,meta:{ids:s,dataProviderName:Y(i,E,C),...$}}),s.forEach(S=>u.removeQueries(x==null?void 0:x.queryKey.detail(S)))},onError:(h,{ids:s,resource:i,errorNotification:b},P)=>{if(P)for(let E of P.previousQueries)u.setQueryData(E[0],E[1]);if(h.message!=="mutationCancelled"){r(h);let E=Ls.default.singular(i),d=typeof b=="function"?b(h,s,i):b;v(d,{key:`${s}-${i}-notification`,message:c("notifications.deleteError",{resource:E,statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}},...e})},qs=e=>{let t=qe(),{getApiUrl:r}=t(e);return r()},Ts=g("@tanstack/react-query"),As=({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:l,metaData:c,dataProviderName:m})=>{let v=qe(),{custom:f}=v(m),y=ke(),{mutate:C}=Ve({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),u=ie(),h=_e();if(f)return(0,Ts.useQuery)([m,"custom",t,e,{...r,...L(l,c)||{}}],({queryKey:s,pageParam:i,signal:b})=>f({url:e,method:t,...r,metaData:{...L(l,c)||{},queryContext:{queryKey:s,pageParam:i,signal:b}}}),{...a,onSuccess:s=>{var i;(i=a==null?void 0:a.onSuccess)==null||i.call(a,s);let b=typeof n=="function"?n(s,{...r,...L(l,c)||{}}):n;h(b)},onError:s=>{var i;C(s),(i=a==null?void 0:a.onError)==null||i.call(a,s);let b=typeof o=="function"?o(s,{...r,...L(l,c)||{}}):o;h(b,{key:`${t}-notification`,message:u("notifications.error",{statusCode:s.statusCode},`Error (status code: ${s.statusCode})`),description:s.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},Ns=g("@tanstack/react-query"),Ms=({mutationOptions:e}={})=>{let t=ke(),{mutate:r}=Ve({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=_e(),n=qe(),o=ie();return(0,Ns.useMutation)(({url:l,method:c,values:m,meta:v,metaData:f,dataProviderName:y,config:C})=>{let{custom:u}=n(y);if(u)return u({url:l,method:c,payload:m,meta:L(v,f),metaData:L(v,f),headers:{...C==null?void 0:C.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:c,config:m,meta:v,metaData:f})=>{let y=typeof c=="function"?c(l,{...m,...L(v,f)||{}}):c;a(y)},onError:(l,{errorNotification:c,method:m,config:v,meta:f,metaData:y})=>{r(l);let C=typeof c=="function"?c(l,{...v,...L(f,y)||{}}):c;a(C,{key:`${m}-notification`,message:o("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...e})},Do=g("react"),Sl=R(g("react")),Ds=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),vn=Sl.default.createContext(Ds()),Rs=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Sl.default.createElement(vn.Provider,{value:r},e)},qe=()=>{let e=(0,Do.useContext)(vn);return(0,Do.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},Bs=g("@tanstack/react-query"),Os=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:c,errorNotification:m,meta:v,metaData:f,liveMode:y,onLiveEvent:C,liveParams:u,dataProviderName:h})=>{let{resources:s}=ne(),i=qe(),b=ie(),P=ke(),{mutate:E}=Ve({v3LegacyAuthProviderCompatible:Boolean(P==null?void 0:P.isLegacy)}),d=_e(),x=Y(e,h,s),k=L(v,f),p=L(r,t==null?void 0:t.filters),w=L(o,t==null?void 0:t.sort),I=L(a,t==null?void 0:t.hasPagination),$=kl({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:I}),S=$.mode==="server",D={meta:k,metaData:k,filters:p,hasPagination:S,pagination:$,sorters:w,config:{...t,sort:w}},N=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,B=tt(e,x,k,k),{getList:O}=i(x);return Or({resource:e,types:["*"],params:{meta:k,metaData:k,pagination:$,hasPagination:S,sort:w,sorters:w,filters:p,subscriptionType:"useList",...u},channel:`resources/${e}`,enabled:N,liveMode:y,onLiveEvent:C}),(0,Bs.useInfiniteQuery)(B.list({filters:p,hasPagination:S,...S&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:F,pageParam:A,signal:M})=>{let Q={...$,current:A};return O({resource:e,pagination:Q,hasPagination:S,filters:p,sort:w,sorters:w,meta:{...k||{},queryContext:{queryKey:F,pageParam:A,signal:M}},metaData:{...k||{},queryContext:{queryKey:F,pageParam:A,signal:M}}}).then(({data:K,total:q,...V})=>({data:K,total:q,pagination:Q,...V}))},{getNextPageParam:F=>xl(F),getPreviousPageParam:F=>Cl(F),...l,onSuccess:F=>{var A;(A=l==null?void 0:l.onSuccess)==null||A.call(l,F);let M=typeof c=="function"?c(F,D,e):c;d(M)},onError:F=>{var A;E(F),(A=l==null?void 0:l.onError)==null||A.call(l,F);let M=typeof m=="function"?m(F,D,e):m;d(M,{key:`${e}-useInfiniteList-notification`,message:b("notifications.error",{statusCode:F.statusCode},`Error (status code: ${F.statusCode})`),description:F.message,type:"error"})}})},_a=g("react"),Ws=g("@tanstack/react-query"),Ll=R(g("react")),Br=Ll.default.createContext(void 0),js=({liveProvider:e,children:t})=>Ll.default.createElement(Br.Provider,{value:e},t),Or=({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:l})=>{let c=(0,Ws.useQueryClient)(),m=tt(e),v=(0,_a.useContext)(Br),{liveMode:f,onLiveEvent:y}=(0,_a.useContext)(Dt),C=o!=null?o:f;(0,_a.useEffect)(()=>{let u;return C&&C!=="off"&&n&&(u=v==null?void 0:v.subscribe({channel:r,params:{resource:e,...t},types:a,callback:h=>{C==="auto"&&c.invalidateQueries(m.resourceAll),l==null||l(h),y==null||y(h)}})),()=>{u&&(v==null||v.unsubscribe(u))}},[n])},zs=g("react"),Fl=e=>{let{liveMode:t}=(0,zs.useContext)(Dt);return e!=null?e:t},Ro=g("react"),Us=({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,Ro.useContext)(Br);(0,Ro.useEffect)(()=>{let l;return a&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{l&&(o==null||o.unsubscribe(l))}},[a])},Qs=g("react"),Zt=()=>{let e=(0,Qs.useContext)(Br);return e==null?void 0:e.publish},Hs=g("react"),ql=R(g("react")),Vs=g("react"),_s=g("react"),Gs=R(g("lodash/isEqual")),Ks=e=>{let t=(0,_s.useRef)(e);return(0,Gs.default)(t.current,e)||(t.current=e),t.current},Tl=(e,t)=>{let r=Ks(t);return(0,Vs.useMemo)(e,r)},Wr=ql.default.createContext({resources:[]}),Ys=({resources:e,children:t})=>{let r=Tl(()=>El(e!=null?e:[]),[e]);return ql.default.createElement(Wr.Provider,{value:{resources:r}},t)},Al=R(g("react")),Nl=Al.default.createContext("new"),Zs=Nl.Provider,ye=()=>Al.default.useContext(Nl),Xs=R(g("react")),Ml=R(g("react")),Dl={},jr=(0,Ml.createContext)(Dl),Js=({children:e,router:t})=>Ml.default.createElement(jr.Provider,{value:t!=null?t:Dl},e),Bo=R(g("react")),Rl=()=>{let e=(0,Bo.useContext)(jr);return Bo.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},rt=()=>{let e=Rl();return Xs.default.useMemo(()=>e(),[e])};function ne(e){var t,r;let{resources:a}=(0,Hs.useContext)(Wr),n=ye(),o=rt(),l={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},c=ha(),{useParams:m}=Te(),v=m();if(n==="legacy"){let C=l.resourceNameOrRouteName?l.resourceNameOrRouteName:v.resource,u=C?c(C):void 0,h=(t=l==null?void 0:l.recordItemId)!=null?t:v.id,s=v.action,i=(r=l==null?void 0:l.resourceName)!=null?r:u==null?void 0:u.name;return{resources:a,resource:u,resourceName:i,id:h,action:s}}let f,y=typeof e=="string"?e:l==null?void 0:l.resourceNameOrRouteName;if(y){let C=ge(y,a);C?f=C:f={name:y}}else o!=null&&o.resource&&(f=o.resource);return{resources:a,resource:f,resourceName:f==null?void 0:f.name,id:o.id,action:o.action}}var Oo=g("react"),ha=()=>{let{resources:e}=(0,Oo.useContext)(Wr);return(0,Oo.useCallback)(t=>ge(t,e,!0)||{name:t,route:t},[e])},ec=g("react"),Er=()=>{let{notifications:e,notificationDispatch:t}=(0,ec.useContext)(wl);return{notifications:e,notificationDispatch:t}},tc=g("react"),Bl=R(g("react")),gn=(0,Bl.createContext)({}),rc=({open:e,close:t,children:r})=>Bl.default.createElement(gn.Provider,{value:{open:e,close:t}},r),Rt=()=>{let{open:e,close:t}=(0,tc.useContext)(gn);return{open:e,close:t}},ac=g("react"),_e=()=>{let{open:e}=Rt();return(0,ac.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},Wo=g("react"),Ol=R(g("react")),kr=Ol.default.createContext({}),nc=({children:e,i18nProvider:t})=>Ol.default.createElement(kr.Provider,{value:{i18nProvider:t}},e),oc=()=>{let{i18nProvider:e}=(0,Wo.useContext)(kr);return(0,Wo.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},jo=g("react"),ie=()=>{let{i18nProvider:e}=(0,jo.useContext)(kr);return(0,jo.useMemo)(()=>{function t(r,a,n){var o,l;return(l=(o=e==null?void 0:e.translate(r,a,n))!=null?o:n)!=null?l:typeof a=="string"&&typeof n>"u"?a:r}return t},[e])},zo=g("react"),lc=()=>{let{i18nProvider:e}=(0,zo.useContext)(kr);return(0,zo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},ic=g("react"),Pr=()=>{let{mutationMode:e,undoableTimeout:t}=(0,ic.useContext)(Dt);return{mutationMode:e,undoableTimeout:t}},Uo=g("react"),an=R(g("react")),Wl=an.default.createContext({}),uc=({children:e})=>{let[t,r]=(0,an.useState)(!1);return an.default.createElement(Wl.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},yn=()=>{let{warnWhenUnsavedChanges:e}=(0,Uo.useContext)(Dt),{warnWhen:t,setWarnWhen:r}=(0,Uo.useContext)(Wl);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},sc=g("react"),jl=()=>{let{syncWithLocation:e}=(0,sc.useContext)(Dt);return{syncWithLocation:e}},cc=g("react"),dc=()=>{let{Title:e}=(0,cc.useContext)(Dt);return e},mc=g("react"),hn=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:c,syncWithLocation:m,undoableTimeout:v,warnWhenUnsavedChanges:f,DashboardPage:y,LoginPage:C,catchAll:u,options:h}=(0,mc.useContext)(Dt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:c,syncWithLocation:m,undoableTimeout:v,warnWhenUnsavedChanges:f,DashboardPage:y,LoginPage:C,catchAll:u,options:h}},pc=g("react"),fc=g("export-to-csv-fix-source-map"),vc=({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:l=20,mapData:c=u=>u,exportOptions:m,meta:v,metaData:f,dataProviderName:y,onError:C}={})=>{var u;let[h,s]=(0,pc.useState)(!1),i=qe(),{resource:b,resources:P}=ne(),E=`${cn(b==null?void 0:b.name,"plural")}-${new Date().toLocaleString()}`,{getList:d}=i(Y((u=b==null?void 0:b.identifier)!=null?u:b==null?void 0:b.name,y,P));return{isLoading:h,triggerExport:async()=>{var x;s(!0);let k=[],p=1,w=!0;for(;w;)try{let{data:I,total:$}=await d({resource:(x=b==null?void 0:b.name)!=null?x:"",filters:n,sort:L(a,r),sorters:L(a,r),pagination:{current:p,pageSize:l,mode:"server"},meta:L(v,f),metaData:L(v,f)});p++,k.push(...I),o&&k.length>=o&&(k=k.slice(0,o),w=!1),$===k.length&&(w=!1)}catch(I){s(!1),w=!1,C==null||C(I);return}new fc.ExportToCsv({filename:E,useKeysAsHeaders:!0,...m}).generateCsv(k.map(c)),s(!1)}}},Qo=R(g("react")),gc=({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:l,errorNotification:c,meta:m,metaData:v,mutationMode:f,liveMode:y,onLiveEvent:C,liveParams:u,undoableTimeout:h,dataProviderName:s,invalidates:i,queryOptions:b,createMutationOptions:P,updateMutationOptions:E}={})=>{let{options:d}=hn(),{resources:x}=ne(),k=ye(),{resource:p,id:w,action:I}=rt(),{useParams:$}=Te(),{resource:S,action:D,id:N}=$(),B=typeof p=="string"?p:p==null?void 0:p.name,O=!e||e===(k==="legacy"?S:B)?r!=null?r:k==="legacy"?N:w:r,[F,A]=Qo.default.useState(O);Qo.default.useEffect(()=>{O!==F&&A(r)},[r]);let M=e!=null?e:k==="legacy"?S:B,Q=k==="legacy"?D:I,K=t!=null?t:Q==="edit"||Q==="clone"?Q:"create",q=ha(),V;if(k==="legacy")M&&(V=q(M));else if(e){let te=ge(e,x);te?V=te:V={name:e,route:e}}else if(typeof p=="string"){let te=ge(p,x);te?V=te:V={name:p,route:p}}else V=p;let{mutationMode:W}=Pr(),le=f!=null?f:W,X=K==="create",Z=K==="edit",J=K==="clone",pe=gs({redirectFromProps:o,action:K,redirectOptions:d.redirect}),me=F!==void 0&&(Z||J),Me=pn({resource:V==null?void 0:V.name,id:F!=null?F:"",queryOptions:{enabled:me,...b},liveMode:y,onLiveEvent:C,liveParams:u,meta:L(m,v),metaData:L(m,v),dataProviderName:s}),{isFetching:We}=Me,je=fn({mutationOptions:P}),{mutate:ze,isLoading:Fe}=je,Ht=Il({mutationOptions:E}),{mutate:gt,isLoading:Nr}=Ht,{setWarnWhen:Et}=yn(),yt=zl();return{...X||J?{formLoading:We||Fe,mutationResult:je,onFinish:async te=>{Et(!1);let $e=se=>{yt({redirect:pe,resource:V,id:se,meta:v})};return le!=="pessimistic"&&setTimeout(()=>{$e()}),new Promise((se,Ce)=>{if(le!=="pessimistic"&&se(),!!V)return ze({values:te,resource:V.name,successNotification:l,errorNotification:c,meta:L(m,v),metaData:L(m,v),dataProviderName:s,invalidates:i},{onSuccess:(we,Ze,De)=>{var kt;a&&a(we,te,De);let Vt=(kt=we==null?void 0:we.data)==null?void 0:kt.id;$e(Vt),se(we)},onError:(we,Ze,De)=>{if(n)return n(we,te,De);Ce()}})})}}:{formLoading:We||Nr,mutationResult:Ht,onFinish:async te=>{if(Et(!1),!V)return;let $e={id:F!=null?F:"",values:te,resource:V.name,mutationMode:le,undoableTimeout:h,successNotification:l,errorNotification:c,meta:L(m,v),metaData:L(m,v),dataProviderName:s,invalidates:i},se=()=>{A(O),yt({redirect:pe,resource:V,id:F,meta:v})};return le!=="pessimistic"&&setTimeout(()=>{se()}),new Promise((Ce,we)=>(le!=="pessimistic"&&Ce(),setTimeout(()=>{gt($e,{onSuccess:(Ze,De,kt)=>{a&&a(Ze,te,kt),le==="pessimistic"&&se(),Ce(Ze)},onError:(Ze,De,kt)=>{if(n)return n(Ze,te,kt);we()}})})))}},queryResult:Me,id:F,setId:A,redirect:(te,$e)=>{yt({redirect:te!==void 0?te:Z?"list":"edit",resource:V,id:$e!=null?$e:F,meta:v})}}},yc=g("react"),zl=()=>{let{show:e,edit:t,list:r,create:a}=nt();return(0,yc.useCallback)(({redirect:n,resource:o,id:l,meta:c={}})=>{if(n&&o)return!!o.show&&n==="show"&&l?e(o,l,void 0,c):!!o.edit&&n==="edit"&&l?t(o,l,void 0,c):!!o.create&&n==="create"?a(o,void 0,c):r(o,"push",c)},[])},Ho=R(g("react")),at=()=>{let e=(0,Ho.useContext)(jr);return Ho.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},Vo=R(g("react")),Ul=()=>{let e=(0,Vo.useContext)(jr);return Vo.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},nt=()=>{let{resources:e}=ne(),t=ye(),{useHistory:r}=Te(),a=r(),n=rt(),o=at(),l=Ul(),c=(u,h="push")=>{t==="legacy"?a[h](u):o({to:u,type:h})},m=(u,h={})=>{var s,i,b;if(t==="legacy"){let P=typeof u=="string"?(s=ge(u,e,!0))!=null?s:{name:u,route:u}:u,E=He(P,e,!0).find(d=>d.action==="create");return E?Je(E.route,n,h):""}else{let P=typeof u=="string"?(i=ge(u,e))!=null?i:{name:u}:u,E=(b=He(P,e).find(d=>d.action==="create"))==null?void 0:b.route;return E?o({to:Je(E,n,h),type:"path"}):""}},v=(u,h,s={})=>{var i,b,P;let E=encodeURIComponent(h);if(t==="legacy"){let d=typeof u=="string"?(i=ge(u,e,!0))!=null?i:{name:u,route:u}:u,x=He(d,e,!0).find(k=>k.action==="edit");return x?Je(x.route,n,{...s,id:E}):""}else{let d=typeof u=="string"?(b=ge(u,e))!=null?b:{name:u}:u,x=(P=He(d,e).find(k=>k.action==="edit"))==null?void 0:P.route;return x?o({to:Je(x,n,{...s,id:E}),type:"path"}):""}},f=(u,h,s={})=>{var i,b,P;let E=encodeURIComponent(h);if(t==="legacy"){let d=typeof u=="string"?(i=ge(u,e,!0))!=null?i:{name:u,route:u}:u,x=He(d,e,!0).find(k=>k.action==="clone");return x?Je(x.route,n,{...s,id:E}):""}else{let d=typeof u=="string"?(b=ge(u,e))!=null?b:{name:u}:u,x=(P=He(d,e).find(k=>k.action==="clone"))==null?void 0:P.route;return x?o({to:Je(x,n,{...s,id:E}),type:"path"}):""}},y=(u,h,s={})=>{var i,b,P;let E=encodeURIComponent(h);if(t==="legacy"){let d=typeof u=="string"?(i=ge(u,e,!0))!=null?i:{name:u,route:u}:u,x=He(d,e,!0).find(k=>k.action==="show");return x?Je(x.route,n,{...s,id:E}):""}else{let d=typeof u=="string"?(b=ge(u,e))!=null?b:{name:u}:u,x=(P=He(d,e).find(k=>k.action==="show"))==null?void 0:P.route;return x?o({to:Je(x,n,{...s,id:E}),type:"path"}):""}},C=(u,h={})=>{var s,i,b;if(t==="legacy"){let P=typeof u=="string"?(s=ge(u,e,!0))!=null?s:{name:u,route:u}:u,E=He(P,e,!0).find(d=>d.action==="list");return E?Je(E.route,n,h):""}else{let P=typeof u=="string"?(i=ge(u,e))!=null?i:{name:u}:u,E=(b=He(P,e).find(d=>d.action==="list"))==null?void 0:b.route;return E?o({to:Je(E,n,h),type:"path"}):""}};return{create:(u,h="push",s={})=>{c(m(u,s),h)},createUrl:m,edit:(u,h,s="push",i={})=>{c(v(u,h,i),s)},editUrl:v,clone:(u,h,s="push",i={})=>{c(f(u,h,i),s)},cloneUrl:f,show:(u,h,s="push",i={})=>{c(y(u,h,i),s)},showUrl:y,list:(u,h="push",s={})=>{c(C(u,s),h)},listUrl:C,push:(u,...h)=>{t==="legacy"?a.push(u,...h):o({to:u,type:"push"})},replace:(u,...h)=>{t==="legacy"?a.replace(u,...h):o({to:u,type:"replace"})},goBack:()=>{t==="legacy"?a.goBack():l()}}},_o=R(g("react")),hc=({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:l,onLiveEvent:c,dataProviderName:m,queryOptions:v}={})=>{let f=ye(),{resources:y}=ne(),{useParams:C}=Te(),{resource:u,id:h}=rt(),{resource:s,id:i}=C(),b=u==null?void 0:u.name,P=!e||e===(f==="legacy"?s:b)?t!=null?t:f==="legacy"?i:h:t,[E,d]=(0,_o.useState)(P);_o.default.useEffect(()=>{P!==E&&d(P)},[P]);let x=e!=null?e:f==="legacy"?s:b,k,p=ha();if(f==="legacy")x&&(k=p(x));else if(e){let w=ge(e,y);w?k=w:k={name:e,route:e}}else if(typeof u=="string"){let w=ge(u,y);w?k=w:k={name:u,route:u}}else k=u;return{queryResult:pn({resource:k==null?void 0:k.name,id:E!=null?E:"",queryOptions:{enabled:E!==void 0,...v},successNotification:r,errorNotification:a,meta:L(n,o),metaData:L(n,o),liveMode:l,onLiveEvent:c,dataProviderName:m}),showId:E,setShowId:d}},ua=g("react"),bc=g("papaparse"),xc=R(g("lodash/chunk")),Cc=({resourceName:e,resource:t,mapData:r=f=>f,paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:c,onProgress:m,dataProviderName:v}={})=>{let[f,y]=(0,ua.useState)(0),[C,u]=(0,ua.useState)(0),[h,s]=(0,ua.useState)(!1),{resource:i}=ne(t!=null?t:e),b=$l(),P=fn(),E;n===1?E=P:E=b;let d=()=>{u(0),y(0),s(!1)},x=p=>{let w={succeeded:p.filter(I=>I.type==="success"),errored:p.filter(I=>I.type==="error")};o==null||o(w),s(!1)};(0,ua.useEffect)(()=>{m==null||m({totalAmount:C,processedAmount:f})},[C,f]);let k=({file:p})=>(d(),new Promise(w=>{s(!0),(0,bc.parse)(p,{complete:async({data:I})=>{let $=dl(I,r);if(u($.length),n===1){let S=$.map(N=>async()=>{var B;return{response:await P.mutateAsync({resource:(B=i==null?void 0:i.name)!=null?B:"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:v,meta:L(l,c),metaData:L(l,c)}),value:N}}),D=await $o(S,({response:N,value:B})=>(y(O=>O+1),{response:[N.data],type:"success",request:[B]}),(N,B)=>({response:[N],type:"error",request:[$[B]]}));w(D)}else{let S=(0,xc.default)($,n),D=S.map(B=>async()=>{var O;return{response:await b.mutateAsync({resource:(O=i==null?void 0:i.name)!=null?O:"",values:B,successNotification:!1,errorNotification:!1,dataProviderName:v,meta:L(l,c),metaData:L(l,c)}),value:B,currentBatchLength:B.length}}),N=await $o(D,({response:B,currentBatchLength:O,value:F})=>(y(A=>A+O),{response:B.data,type:"success",request:F}),(B,O)=>({response:[B],type:"error",request:S[O]}));w(N)}},...a})}).then(w=>(x(w),w)));return{inputProps:{type:"file",accept:".csv",onChange:p=>{p.target.files&&p.target.files.length>0&&k({file:p.target.files[0]})}},mutationResult:E,isLoading:h,handleChange:k}},Ga=g("react"),Ec=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Ga.useState)(e),a=(0,Ga.useCallback)(()=>r(!0),[t]),n=(0,Ga.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},kc=R(g("react")),bn=()=>{let e=ye(),{resource:t,resources:r}=ne(),a=rt();return kc.default.useCallback(({resource:n,action:o,meta:l})=>{var c;let m=n||t;if(!m)return;let v=(c=He(m,r,e==="legacy").find(f=>f.action===o))==null?void 0:c.route;return v?Je(v,a,l):void 0},[r,t,a])},Pc=({resource:e,action:t,meta:r,legacy:a})=>bn()({resource:e,action:t,meta:r,legacy:a}),Go=R(g("react")),ba=()=>{let e=(0,Go.useContext)(jr);return e!=null&&e.Link?e.Link:({to:t,...r})=>Go.default.createElement("a",{href:t,...r})},wc=g("react"),Ql=R(g("react")),Nt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ic=Ql.default.createContext(Nt),xn=Ic,$c=({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l})=>Ql.default.createElement(xn.Provider,{value:{useHistory:t!=null?t:Nt.useHistory,useLocation:r!=null?r:Nt.useLocation,useParams:a!=null?a:Nt.useParams,Prompt:n!=null?n:Nt.Prompt,Link:o!=null?o:Nt.Link,routes:l!=null?l:Nt.routes}},e),Te=()=>{let e=(0,wc.useContext)(xn),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}=e!=null?e:Nt;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}},Sc=g("react"),Lc=g("@tanstack/react-query"),Hl=R(g("react")),xa=Hl.default.createContext({}),Fc=({can:e,children:t})=>Hl.default.createElement(xa.Provider,{value:{can:e}},t),qc=e=>{let{icon:t,list:r,edit:a,create:n,show:o,clone:l,children:c,meta:m,options:v,...f}=e,{icon:y,...C}=m!=null?m:{},{icon:u,...h}=v!=null?v:{};return{...f,...m?{meta:C}:{},...v?{options:h}:{}}},Vl=({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,Sc.useContext)(xa),{resource:o,...l}=r!=null?r:{},c=qc(o!=null?o:{}),m=(0,Lc.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:c},enabled:a==null?void 0:a.enabled}],()=>{var v;return(v=n==null?void 0:n({action:e,resource:t,params:r}))!=null?v:Promise.resolve({can:!0})},{enabled:typeof n<"u",...a,retry:!1});return typeof n>"u"?{data:{can:!0}}:m},Tc=g("react"),Ac=()=>{let{can:e}=(0,Tc.useContext)(xa);return{can:e}},gr=g("react"),Nc=R(g("lodash/uniqBy")),Mc=R(g("lodash/debounce")),sa=R(g("lodash/get")),Dc=e=>{var t,r,a;let[n,o]=(0,gr.useState)([]),[l,c]=(0,gr.useState)([]),[m,v]=(0,gr.useState)([]),{resource:f,sort:y,sorters:C,filters:u=[],optionLabel:h="title",optionValue:s="id",debounce:i=300,successNotification:b,errorNotification:P,defaultValueQueryOptions:E,queryOptions:d,fetchSize:x,pagination:k,hasPagination:p=!1,liveMode:w,defaultValue:I=[],onLiveEvent:$,onSearch:S,liveParams:D,meta:N,metaData:B,dataProviderName:O}=e,{resources:F}=ne(),A=ge(f,F),M=(t=A==null?void 0:A.name)!=null?t:f,Q=Array.isArray(I)?I:[I],K=(0,gr.useCallback)(Z=>{v(Z.data.map(J=>({label:(0,sa.default)(J,h),value:(0,sa.default)(J,s)})))},[h,s]),q=E!=null?E:d,V=Pl({resource:M,ids:Q,queryOptions:{...q,enabled:Q.length>0&&((r=E==null?void 0:E.enabled)!=null?r:!0),onSuccess:Z=>{var J;K(Z),(J=q==null?void 0:q.onSuccess)==null||J.call(q,Z)}},meta:L(N,B),metaData:L(N,B),liveMode:"off",dataProviderName:O}),W=(0,gr.useCallback)(Z=>{c(Z.data.map(J=>({label:(0,sa.default)(J,h),value:(0,sa.default)(J,s)})))},[h,s]),le=mn({resource:M,sorters:L(C,y),filters:u.concat(n),pagination:{current:k==null?void 0:k.current,pageSize:(a=k==null?void 0:k.pageSize)!=null?a:x,mode:k==null?void 0:k.mode},hasPagination:p,queryOptions:{...d,onSuccess:Z=>{var J;W(Z),(J=d==null?void 0:d.onSuccess)==null||J.call(d,Z)}},successNotification:b,errorNotification:P,meta:L(N,B),metaData:L(N,B),liveMode:w,liveParams:D,onLiveEvent:$,dataProviderName:O}),X=Z=>{if(S){o(S(Z));return}if(Z)o([{field:h,operator:"contains",value:Z}]);else{o([]);return}};return{queryResult:le,defaultValueQueryResult:V,options:(0,gr.useMemo)(()=>(0,Nc.default)([...l,...m],"value"),[l,m]),onSearch:(0,Mc.default)(X,i)}},Kt=R(g("react")),Ko=R(g("qs")),ca=R(g("lodash/differenceWith")),da=R(g("lodash/isEqual")),Rc=R(g("warn-once")),Yo=[],Zo=[];function Bc({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=Zo,defaultSetFilterBehavior:l,initialFilter:c,permanentFilter:m=Yo,filters:v,sorters:f,syncWithLocation:y,resource:C,successNotification:u,errorNotification:h,queryOptions:s,liveMode:i,onLiveEvent:b,liveParams:P,meta:E,metaData:d,dataProviderName:x}={}){var k,p,w,I,$,S,D,N,B,O;let{syncWithLocation:F}=jl(),A=y!=null?y:F,M=Fl(i),Q=ye(),{useLocation:K}=Te(),{search:q,pathname:V}=K(),W=rt(),le=r===!1?"off":"server",X=((k=a==null?void 0:a.mode)!=null?k:le)!=="off",Z=L(a==null?void 0:a.current,e),J=L(a==null?void 0:a.pageSize,t),pe=L(E,d),{parsedCurrent:me,parsedPageSize:Me,parsedSorter:We,parsedFilters:je}=sn(q!=null?q:"?"),ze=L(v==null?void 0:v.initial,c),Fe=(p=L(v==null?void 0:v.permanent,m))!=null?p:Yo,Ht=L(f==null?void 0:f.initial,n),gt=(w=L(f==null?void 0:f.permanent,o))!=null?w:Zo,Nr=(I=L(v==null?void 0:v.defaultBehavior,l))!=null?I:"merge",Et,yt,te,$e;A?(Et=(($=W==null?void 0:W.params)==null?void 0:$.current)||me||Z||1,yt=((S=W==null?void 0:W.params)==null?void 0:S.pageSize)||Me||J||10,te=((D=W==null?void 0:W.params)==null?void 0:D.sorters)||(We.length?We:Ht),$e=((N=W==null?void 0:W.params)==null?void 0:N.filters)||(je.length?je:ze)):(Et=Z||1,yt=J||10,te=Ht,$e=ze);let{replace:se}=nt(),Ce=at(),{resource:we}=ne(C),Ze=we==null?void 0:we.name;Kt.default.useEffect(()=>{(0,Rc.default)(typeof Ze>"u","useTable: `resource` is not defined.")},[Ze]);let[De,kt]=(0,Kt.useState)(rn(gt,te!=null?te:[])),[Vt,aa]=(0,Kt.useState)(tn(Fe,$e!=null?$e:[])),[Mr,so]=(0,Kt.useState)(Et),[_t,co]=(0,Kt.useState)(yt),ku=({pagination:{current:fe,pageSize:Xe},sorter:na,filters:oa})=>{var la;if(Q==="new")return(la=Ce({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...X?{current:fe,pageSize:Xe}:{},sorters:na,filters:oa,...mo()}}))!=null?la:"";{let Dr=Ko.default.parse(q==null?void 0:q.substring(1)),vo=Ja({pagination:{pageSize:Xe,current:fe},sorters:De!=null?De:na,filters:oa,...Dr});return`${V!=null?V:""}?${vo!=null?vo:""}`}};(0,Kt.useEffect)(()=>{q===""&&(so(Et),co(yt),kt(rn(gt,te!=null?te:[])),aa(tn(Fe,$e!=null?$e:[])))},[q]);let mo=()=>{var fe;if(Q==="new"){let{sorters:Xe,filters:na,pageSize:oa,current:la,...Dr}=(fe=W==null?void 0:W.params)!=null?fe:{};return Dr}else{let{sorter:Xe,filters:na,pageSize:oa,current:la,...Dr}=Ko.default.parse(q,{ignoreQueryPrefix:!0});return Dr}};(0,Kt.useEffect)(()=>{if(A){let fe=mo();if(Q==="new")Ce({type:"replace",options:{keepQuery:!0},query:{...X?{pageSize:_t,current:Mr}:{},sorters:(0,ca.default)(De,gt,da.default),filters:(0,ca.default)(Vt,Fe,da.default)}});else{let Xe=Ja({...X?{pagination:{pageSize:_t,current:Mr}}:{},sorters:(0,ca.default)(De,gt,da.default),filters:(0,ca.default)(Vt,Fe,da.default),...fe});return se==null?void 0:se(`${V}?${Xe}`,void 0,{shallow:!0})}}},[A,Mr,_t,De,Vt]);let po=mn({resource:Ze,hasPagination:r,pagination:{current:Mr,pageSize:_t,mode:a==null?void 0:a.mode},filters:Rr(Fe,Vt),sorters:en(gt,De),queryOptions:s,successNotification:u,errorNotification:h,meta:pe,metaData:pe,liveMode:M,liveParams:P,onLiveEvent:b,dataProviderName:x}),Pu=fe=>{aa(Xe=>Rr(Fe,fe,Xe))},wu=fe=>{aa(Rr(Fe,fe))},Iu=fe=>{aa(Xe=>Rr(Fe,fe(Xe)))},$u=(fe,Xe=Nr)=>{typeof fe=="function"?Iu(fe):Xe==="replace"?wu(fe):Pu(fe)},fo=fe=>{kt(()=>en(gt,fe))};return{tableQueryResult:po,sorters:De,setSorters:fo,sorter:De,setSorter:fo,filters:Vt,setFilters:$u,current:Mr,setCurrent:so,pageSize:_t,setPageSize:co,pageCount:_t?Math.ceil(((O=(B=po.data)==null?void 0:B.total)!=null?O:0)/_t):1,createLinkForSyncWithLocation:ku}}var Xo=g("react"),Ka=g("@tanstack/react-query"),_l=R(g("react")),Ca=_l.default.createContext({}),Oc=({create:e,get:t,update:r,children:a})=>_l.default.createElement(Ca.Provider,{value:{create:e,get:t,update:r}},a),Xt=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Ka.useQueryClient)(),a=(0,Xo.useContext)(Ca),n=ke(),{resources:o}=(0,Xo.useContext)(Wr),{data:l,refetch:c,isLoading:m}=ll({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy),queryOptions:{enabled:!!a}}),v=(0,Ka.useMutation)(async y=>{var C,u,h,s,i;let b=ge(y.resource,o),P=L((C=b==null?void 0:b.meta)==null?void 0:C.audit,(u=b==null?void 0:b.options)==null?void 0:u.audit,(s=(h=b==null?void 0:b.options)==null?void 0:h.auditLog)==null?void 0:s.permissions);if(P&&!ls(P,y.action))return;let E;return m&&(E=await c()),await((i=a.create)==null?void 0:i.call(a,{...y,author:l!=null?l:E==null?void 0:E.data}))},e),f=(0,Ka.useMutation)(async y=>{var C;return await((C=a.update)==null?void 0:C.call(a,y))},{onSuccess:y=>{if(y!=null&&y.resource){let C=tt(y==null?void 0:y.resource);r.invalidateQueries(C.logList())}},...t});return{log:v,rename:f}},Wc=g("react"),jc=g("@tanstack/react-query"),zc=({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:l}=(0,Wc.useContext)(Ca),c=tt(e,void 0,n);return(0,jc.useQuery)(c.logList(r),()=>{var m;return(m=l==null?void 0:l({resource:e,action:t,author:a,meta:r,metaData:n}))!=null?m:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},Uc=g("react"),Qc=g("@tanstack/react-query"),Jt=()=>{let{resources:e}=ne(),t=(0,Qc.useQueryClient)();return(0,Uc.useCallback)(({resource:r,dataProviderName:a,invalidates:n,id:o})=>{if(n===!1)return;let l=tt(r,Y(r,a,e));n.forEach(c=>{switch(c){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},Hc=g("react"),Vc=R(g("warn-once")),_c=({meta:e={}}={})=>{let t=ye(),{i18nProvider:r}=(0,Hc.useContext)(kr),a=rt(),n=ie(),{resources:o,resource:l,action:c}=ne(),m=[];if(!(l!=null&&l.name))return{breadcrumbs:m};let v=f=>{var y,C,u,h,s,i,b,P;let E=typeof f=="string"?(y=ge(f,o,t==="legacy"))!=null?y:{name:f}:f;if(E){let d=L((C=E==null?void 0:E.meta)==null?void 0:C.parent,E==null?void 0:E.parentName);d&&v(d);let x=He(E,o,t==="legacy").find(w=>w.action==="list"),k=(u=x==null?void 0:x.resource)!=null&&u.list?x==null?void 0:x.route:void 0,p=k?t==="legacy"?k:Je(k,a,e):void 0;m.push({label:(i=L((h=E.meta)==null?void 0:h.label,(s=E.options)==null?void 0:s.label))!=null?i:n(`${E.name}.${E.name}`,ma(E.name)),href:p,icon:L((b=E.meta)==null?void 0:b.icon,(P=E.options)==null?void 0:P.icon,E.icon)})}};if(v(l),c&&c!=="list"){let f=`actions.${c}`,y=n(f);typeof r<"u"&&y===f?((0,Vc.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${c}" action. Please add "actions.${c}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:n(`buttons.${c}`,ma(c))})):m.push({label:n(f,ma(c))})}return{breadcrumbs:m}},Ya=R(g("react")),fa=(e,t,r=!1)=>{let a=[],n=Mt(e,t);for(;n;)a.push(n),n=Mt(n,t);return a.reverse(),`/${[...a,e].map(o=>{var l,c;return It((c=(l=r?o.route:void 0)!=null?l:o.identifier)!=null?c:o.name)}).join("/").replace(/^\//,"")}`},Gc=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{var o,l;let c=[],m=Mt(n,e);for(;m;)c.push(m),m=Mt(m,e);c.reverse();let v=r;c.forEach(y=>{var C,u;let h=(u=(C=t?y.route:void 0)!=null?C:y.identifier)!=null?u:y.name;v.children[h]||(v.children[h]={item:y,children:{}}),v=v.children[h]});let f=(l=(o=t?n.route:void 0)!=null?o:n.identifier)!=null?l:n.name;v.children[f]||(v.children[f]={item:n,children:{}})});let a=n=>{let o=[];return Object.keys(n.children).forEach(l=>{let c=fa(n.children[l].item,e,t),m={...n.children[l].item,key:c,children:a(n.children[l])};o.push(m)}),o};return a(r)},Jo=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),Kc=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=ie(),a=bn(),n=ye(),{resource:o,resources:l}=ne(),{pathname:c}=rt(),{useLocation:m}=Te(),{pathname:v}=m(),f=n==="legacy"?Jo(v):c?Jo(c):void 0,y=`/${(f!=null?f:"").replace(/^\//,"")}`,C=o?fa(o,l,n==="legacy"):y!=null?y:"",u=Ya.default.useMemo(()=>{if(!o)return[];let i=Mt(o,l),b=[fa(o,l)];for(;i;)b.push(fa(i,l)),i=Mt(i,l);return b},[]),h=Ya.default.useCallback(i=>{var b,P,E,d,x,k,p,w;if(((E=(b=i==null?void 0:i.meta)==null?void 0:b.hide)!=null?E:(P=i==null?void 0:i.options)==null?void 0:P.hide)||!(i!=null&&i.list)&&i.children.length===0)return;let I=i.list?a({resource:i,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&I&&I.match(/(\/|^):(.+?)(\/|$){1}/)))return{...i,route:I,icon:L((d=i.meta)==null?void 0:d.icon,(x=i.options)==null?void 0:x.icon,i.icon),label:(w=L((k=i==null?void 0:i.meta)==null?void 0:k.label,(p=i==null?void 0:i.options)==null?void 0:p.label))!=null?w:r(`${i.name}.${i.name}`,cn(i.name,"plural"))}},[n,e,r,t]),s=Ya.default.useMemo(()=>{let i=Gc(l,n==="legacy"),b=P=>P.flatMap(E=>{let d=b(E.children),x=h({...E,children:d});return x?[x]:[]});return b(i)},[l,n,h]);return{defaultOpenKeys:u,selectedKey:C,menuItems:s}},Yc=()=>{let[e,t]=(0,Gt.useState)(),r=ie(),{push:a}=nt(),n=at(),o=ye(),{resource:l,action:c}=ne();return(0,Gt.useEffect)(()=>{l&&c&&t(r("pages.error.info",{action:c,resource:l==null?void 0:l.name},`You may have forgotten to add the "${c}" component to "${l==null?void 0:l.name}" resource.`))},[l,c]),Gt.default.createElement(Gt.default.Fragment,null,Gt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Gt.default.createElement("p",null,e),Gt.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},Ee=R(g("react")),Gl=()=>{let[e,t]=(0,Ee.useState)(""),[r,a]=(0,Ee.useState)(""),n=ie(),o=ke(),{mutate:l}=on({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)});return Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("h1",null,n("pages.login.title","Sign in your account")),Ee.default.createElement("form",{onSubmit:c=>{c.preventDefault(),l({username:e,password:r})}},Ee.default.createElement("table",null,Ee.default.createElement("tbody",null,Ee.default.createElement("tr",null,Ee.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),Ee.default.createElement("td",null,Ee.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:c=>t(c.target.value)}))),Ee.default.createElement("tr",null,Ee.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),Ee.default.createElement("td",null,Ee.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:c=>a(c.target.value)}))))),Ee.default.createElement("br",null),Ee.default.createElement("input",{type:"submit",value:"login"})))},yr=R(g("react")),re=R(g("react")),Zc=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:c})=>{let m=ye(),v=ba(),{Link:f}=Te(),y=m==="legacy"?f:v,[C,u]=(0,re.useState)(""),[h,s]=(0,re.useState)(""),[i,b]=(0,re.useState)(!1),P=ie(),E=ke(),{mutate:d}=on({v3LegacyAuthProviderCompatible:Boolean(E==null?void 0:E.isLegacy)}),x=(w,I)=>w?typeof w=="string"?re.default.createElement(y,{to:w},I):w:null,k=()=>e?e.map(w=>{var I;return re.default.createElement("div",{key:w.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},re.default.createElement("button",{onClick:()=>d({providerName:w.name}),style:{display:"flex",alignItems:"center"}},w==null?void 0:w.icon,(I=w.label)!=null?I:re.default.createElement("label",null,w.label)))}):null,p=re.default.createElement("div",{...n},re.default.createElement("h1",{style:{textAlign:"center"}},P("pages.login.title","Sign in to your account")),k(),re.default.createElement("hr",null),re.default.createElement("form",{onSubmit:w=>{w.preventDefault(),d({email:C,password:h,remember:i})},...c},re.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},re.default.createElement("label",null,P("pages.login.fields.email","Email")),re.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:C,onChange:w=>u(w.target.value)}),re.default.createElement("label",null,P("pages.login.fields.password","Password")),re.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:h,onChange:w=>s(w.target.value)}),a!=null?a:re.default.createElement(re.default.Fragment,null,re.default.createElement("label",null,P("pages.login.buttons.rememberMe","Remember me"),re.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:i,value:i.toString(),onChange:()=>{b(!i)}}))),re.default.createElement("br",null),r!=null?r:x("/forgot-password",P("pages.login.buttons.forgotPassword","Forgot password?")),re.default.createElement("input",{type:"submit",value:P("pages.login.signin","Sign in")}),t!=null?t:re.default.createElement("span",null,P("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",x("/register",P("pages.login.register","Sign up"))))));return re.default.createElement("div",{...o},l?l(p):p)},ve=R(g("react")),Xc=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let l=ye(),c=ba(),{Link:m}=Te(),v=l==="legacy"?m:c,[f,y]=(0,ve.useState)(""),[C,u]=(0,ve.useState)(""),h=ie(),s=ke(),{mutate:i,isLoading:b}=il({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)}),P=(x,k)=>x?typeof x=="string"?ve.default.createElement(v,{to:x},k):x:null,E=()=>e?e.map(x=>{var k;return ve.default.createElement("div",{key:x.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ve.default.createElement("button",{onClick:()=>i({providerName:x.name}),style:{display:"flex",alignItems:"center"}},x==null?void 0:x.icon,(k=x.label)!=null?k:ve.default.createElement("label",null,x.label)))}):null,d=ve.default.createElement("div",{...a},ve.default.createElement("h1",{style:{textAlign:"center"}},h("pages.register.title","Sign up for your account")),E(),ve.default.createElement("hr",null),ve.default.createElement("form",{onSubmit:x=>{x.preventDefault(),i({email:f,password:C})},...o},ve.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ve.default.createElement("label",null,h("pages.register.fields.email","Email")),ve.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:x=>y(x.target.value)}),ve.default.createElement("label",null,h("pages.register.fields.password","Password")),ve.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:C,onChange:x=>u(x.target.value)}),ve.default.createElement("input",{type:"submit",value:h("pages.register.buttons.submit","Sign up"),disabled:b}),t!=null?t:ve.default.createElement(ve.default.Fragment,null,ve.default.createElement("span",null,h("pages.login.buttons.haveAccount","Have an account?")," ",P("/login",h("pages.login.signin","Sign in")))))));return ve.default.createElement("div",{...r},n?n(d):d)},Ue=R(g("react")),Jc=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let o=ie(),l=ye(),c=ba(),{Link:m}=Te(),v=l==="legacy"?m:c,[f,y]=(0,Ue.useState)(""),{mutate:C,isLoading:u}=ul(),h=(i,b)=>i?typeof i=="string"?Ue.default.createElement(v,{to:i},b):i:null,s=Ue.default.createElement("div",{...r},Ue.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Ue.default.createElement("hr",null),Ue.default.createElement("form",{onSubmit:i=>{i.preventDefault(),C({email:f})},...n},Ue.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ue.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),Ue.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:f,onChange:i=>y(i.target.value)}),Ue.default.createElement("input",{type:"submit",disabled:u,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ue.default.createElement("br",null),e!=null?e:Ue.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",h("/login",o("pages.login.signin","Sign in"))))));return Ue.default.createElement("div",{...t},a?a(s):s)},Qe=R(g("react")),ed=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let n=ie(),o=ke(),{mutate:l,isLoading:c}=sl({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),[m,v]=(0,Qe.useState)(""),[f,y]=(0,Qe.useState)(""),C=Qe.default.createElement("div",{...t},Qe.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),Qe.default.createElement("hr",null),Qe.default.createElement("form",{onSubmit:u=>{u.preventDefault(),l({password:m,confirmPassword:f})},...a},Qe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Qe.default.createElement("label",null,n("pages.updatePassword.fields.password","New Password")),Qe.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:m,onChange:u=>v(u.target.value)}),Qe.default.createElement("label",null,n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Qe.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:f,onChange:u=>y(u.target.value)}),Qe.default.createElement("input",{type:"submit",disabled:c,value:n("pages.updatePassword.buttons.submit","Update")}))));return Qe.default.createElement("div",{...e},r?r(C):C)},td=e=>{let{type:t}=e;return yr.default.createElement(yr.default.Fragment,null,(()=>{switch(t){case"register":return yr.default.createElement(Xc,{...e});case"forgotPassword":return yr.default.createElement(Jc,{...e});case"updatePassword":return yr.default.createElement(ed,{...e});default:return yr.default.createElement(Zc,{...e})}})())},Re=R(g("react")),Kl=()=>Re.default.createElement(Re.default.Fragment,null,Re.default.createElement("h1",null,"Welcome on board"),Re.default.createElement("p",null,"Your configuration is completed."),Re.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Re.default.createElement("code",null,"`resources`")," property of ",Re.default.createElement("code",null,"`<Refine>`")),Re.default.createElement("div",{style:{display:"flex",gap:8}},Re.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Documentation")),Re.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Examples")),Re.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Community")))),ut=R(g("react")),rd=()=>ut.default.createElement(ut.default.Fragment,null,ut.default.createElement("h1",null,"Welcome on board"),ut.default.createElement("p",null,"Your configuration is completed."),ut.default.createElement("div",{style:{display:"flex",gap:8}},ut.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Documentation")),ut.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Examples")),ut.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ut.default.createElement("button",null,"Community")))),ae=R(g("react")),Za=g("@tanstack/react-query"),ad=g("@tanstack/react-query-devtools"),nd=g("react"),Yt=g("react"),od="4.1.2",ld=()=>{let e=cl(),t=(0,Yt.useContext)(Ca),r=(0,Yt.useContext)(Br),a=(0,Yt.useContext)(xn),n=(0,Yt.useContext)(vn),{i18nProvider:o}=(0,Yt.useContext)(kr),l=(0,Yt.useContext)(gn),c=(0,Yt.useContext)(xa),{resources:m}=ne(),v=!!t.create||!!t.get||!!t.update,f=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),y=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,C=!!n,u=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),h=!!l.close||!!l.open,s=!!c.can;return{providers:{auth:e,auditLog:v,live:f,router:y,data:C,i18n:u,notification:h,accessControl:s},version:od,resourceCount:m.length}},id=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},ud=()=>{let e=ld();return(0,nd.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${id(e)}`},[]),null},sd=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},el=R(g("react")),cd=e=>{let t=el.default.useRef(!1);el.default.useEffect(()=>{t.current===!1&&e&&sd(e)&&(t.current=!0)},[e])},dd=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:l,auditLogProvider:c,resources:m,DashboardPage:v,ReadyPage:f,LoginPage:y,catchAll:C,children:u,liveProvider:h,i18nProvider:s,Title:i,Layout:b,Sider:P,Header:E,Footer:d,OffLayoutArea:x,onLiveEvent:k,options:p})=>{let{optionsWithDefaults:w,disableTelemetryWithDefault:I,reactQueryWithDefaults:$}=vs({options:p}),S=Tl(()=>{var B;return $.clientConfig instanceof Za.QueryClient?$.clientConfig:new Za.QueryClient({...$.clientConfig,defaultOptions:{...$.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(B=$.clientConfig.defaultOptions)==null?void 0:B.queries}}})},[$.clientConfig]),D=ae.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])();if(cd(n),a&&!n&&(m!=null?m:[]).length===0)return f?ae.default.createElement(f,null):ae.default.createElement(Kl,null);let{RouterComponent:N=ae.default.Fragment}=n?{}:a!=null?a:{};return ae.default.createElement(Za.QueryClientProvider,{client:S},ae.default.createElement(rc,{...D},ae.default.createElement(ju,{...e!=null?e:{},isProvided:Boolean(e)},ae.default.createElement(zu,{...t!=null?t:{},isProvided:Boolean(t)},ae.default.createElement(Rs,{...r},ae.default.createElement(js,{liveProvider:h},ae.default.createElement(Zs,{value:a&&!n?"legacy":"new"},ae.default.createElement(Js,{router:n},ae.default.createElement($c,{...a},ae.default.createElement(Ys,{resources:m!=null?m:[]},ae.default.createElement(nc,{i18nProvider:s},ae.default.createElement(Fc,{...l!=null?l:{}},ae.default.createElement(Oc,{...c!=null?c:{}},ae.default.createElement(ks,null,ae.default.createElement(fs,{mutationMode:w.mutationMode,warnWhenUnsavedChanges:w.warnWhenUnsavedChanges,syncWithLocation:w.syncWithLocation,Title:i,undoableTimeout:w.undoableTimeout,catchAll:C,DashboardPage:v,LoginPage:y,Layout:b,Sider:P,Footer:d,Header:E,OffLayoutArea:x,hasDashboard:!!v,liveMode:w.liveMode,onLiveEvent:k,options:w},ae.default.createElement(uc,null,ae.default.createElement(N,null,u,!I&&ae.default.createElement(ud,null),ae.default.createElement(Zl,null))))))))))))))))),$.devtoolConfig===!1?null:ae.default.createElement(ad.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...$.devtoolConfig}))},tl=g("react"),Yl=({notification:e})=>{let t=ie(),{notificationDispatch:r}=Er(),{open:a}=Rt(),[n,o]=(0,tl.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Ha(e.seconds)},`You have ${Ha(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Ha(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let c=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(c)}};return(0,tl.useEffect)(()=>{l()},[e]),null},va=R(g("react")),md=({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:l})=>{let{Layout:c,Footer:m,Header:v,Sider:f,Title:y,OffLayoutArea:C}=hn(),u=t!=null?t:c;return va.default.createElement(u,{Sider:r!=null?r:f,Header:a!=null?a:v,Footer:o!=null?o:m,Title:n!=null?n:y,OffLayoutArea:l!=null?l:C},e,va.default.createElement(pd,null))},pd=()=>{let{Prompt:e}=Te(),t=ie(),{warnWhen:r,setWarnWhen:a}=yn(),n=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,va.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),va.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},wt=R(g("react")),fd=()=>{let e=at(),[t,r]=wt.default.useState(void 0);return wt.default.useEffect(()=>{t&&e(t)},[t]),wt.default.useCallback(a=>{t||r(a)},[t])};function vd({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o,l,c,m,v;let f=ke(),y=Boolean(f==null?void 0:f.isLegacy),C=ln({v3LegacyAuthProviderCompatible:Boolean(f==null?void 0:f.isLegacy)}),u=ye(),h=rt(),s=at(),i=fd(),{replace:b}=nt(),{useLocation:P}=Te(),{pathname:E,search:d}=P(),x=C.isLoading,k=f!=null&&f.isProvided?y?C.isSuccess:(o=C.data)==null?void 0:o.authenticated:!0,p=y?typeof e=="string"?e:"/login":typeof e=="string"?e:(l=C.data)==null?void 0:l.redirectTo;if(x)return n?wt.default.createElement(wt.default.Fragment,null,n):null;if(k)return wt.default.createElement(wt.default.Fragment,null,r!=null?r:null);if(typeof a>"u"){if(u==="legacy"){let w=t&&E?`?to=${encodeURIComponent(`${E}${d!=null?d:""}`)}`:"",I=E==null?void 0:E.split(/[?#]/)[0];!(I!=null&&I.includes("/login"))&&I!==e&&b(`/${(p!=null?p:"/login").replace(/^\//,"")}${w}`)}else{if(((c=h.pathname)==null?void 0:c.split(/[?#]/)[0])===p)return null;let w=(m=h.params)!=null&&m.to?(v=h.params)==null?void 0:v.to:s({to:h.pathname||"/",options:{keepQuery:!0},type:"path"});p&&i({to:`/${p.replace(/^\//,"")}`,query:w&&typeof w=="string"&&w.length>1?{to:w}:{}})}return null}return wt.default.createElement(wt.default.Fragment,null,a)}var gd=g("react"),Zl=()=>{let{useLocation:e}=Te(),{checkAuth:t}=et(),r=e();return(0,gd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},hr=R(g("react")),yd=({resource:e,action:t,params:r,fallback:a,children:n,...o})=>{let{data:l}=Vl({resource:e,action:t,params:r});return l!=null&&l.can?hr.default.isValidElement(n)?hr.default.cloneElement(n,o):hr.default.createElement(hr.default.Fragment,null,n):(l==null?void 0:l.can)===!1?hr.default.createElement(hr.default.Fragment,null,a!=null?a:null):null},br=R(g("react")),hd=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],bd=()=>((0,br.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),hd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),br.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},br.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},br.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},br.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),br.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var Bt=ia((Cf,oi)=>{var xd=Object.create,Ea=Object.defineProperty,Cd=Object.getOwnPropertyDescriptor,Ed=Object.getOwnPropertyNames,kd=Object.getPrototypeOf,Pd=Object.prototype.hasOwnProperty,wd=(e,t)=>{for(var r in t)Ea(e,r,{get:t[r],enumerable:!0})},ai=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ed(t))!Pd.call(e,n)&&n!==r&&Ea(e,n,{get:()=>t[n],enumerable:!(a=Cd(t,n))||a.enumerable});return e},Id=(e,t,r)=>(r=e!=null?xd(kd(e)):{},ai(t||!e||!e.__esModule?Ea(r,"default",{value:e,enumerable:!0}):r,e)),$d=e=>ai(Ea({},"__esModule",{value:!0}),e),ni={};wd(ni,{useForm:()=>En,useModalForm:()=>Fd,useStepsForm:()=>Ld});oi.exports=$d(ni);var Jl=g("react"),Sd=g("react-hook-form"),ei=_(),En=({refineCoreProps:e,warnWhenUnsavedChanges:t,...r}={})=>{let{warnWhenUnsavedChanges:a,setWarnWhen:n}=(0,ei.useWarnAboutChange)(),o=t!=null?t:a,l=(0,ei.useForm)({...e}),{queryResult:c,onFinish:m,formLoading:v}=l,f=(0,Sd.useForm)({...r}),{watch:y,reset:C,getValues:u,handleSubmit:h}=f;(0,Jl.useEffect)(()=>{var b;if(typeof(c==null?void 0:c.data)<"u"){let P={},E=Object.keys(u());Object.entries(((b=c==null?void 0:c.data)==null?void 0:b.data)||{}).forEach(([d,x])=>{E.includes(d)&&(P[d]=x)}),C(P)}},[c==null?void 0:c.data]),(0,Jl.useEffect)(()=>{let b=y((P,{type:E})=>{E==="change"&&s(P)});return()=>b.unsubscribe()},[y]);let s=b=>(o&&n(!0),b),i=(b,P)=>async E=>(n(!1),await h(b,P)(E));return{...f,handleSubmit:i,refineCore:l,saveButtonProps:{disabled:v,onClick:b=>{i(m,()=>!1)(b)}}}},ti=g("react"),Ld=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:a=!1}=e!=null?e:{},[n,o]=(0,ti.useState)(r),l=En({...t}),{trigger:c,getValues:m,reset:v,formState:{dirtyFields:f},refineCore:{queryResult:y}}=l;(0,ti.useEffect)(()=>{var u;if(y!=null&&y.data){let h={},s=Object.keys(m());Object.entries((u=y==null?void 0:y.data)==null?void 0:u.data).forEach(([i,b])=>{s.includes(i)&&(f[i]?h[i]=m(i):h[i]=b)}),v(h,{keepDirty:!0,keepValues:!0})}},[y==null?void 0:y.data,n]);let C=u=>{let h=u;u<0&&(h=0),o(h)};return{...l,steps:{currentStep:n,gotoStep:async u=>{if(u!==n){if(u<n&&!a){C(u);return}await c()&&C(u)}}}}},ri=g("react"),er=_(),Cn=Id(g("react")),Fd=({modalProps:e,refineCoreProps:t,syncWithLocation:r,...a}={})=>{var n,o,l,c,m,v,f;let y=Cn.default.useRef(!1),C=(0,er.useTranslate)(),{resource:u,action:h}=t!=null?t:{},{resource:s,action:i}=(0,er.useResource)(u),b=(0,er.useParsed)(),P=(0,er.useGo)(),E=(n=h!=null?h:i)!=null?n:"",d=typeof r=="object"&&r.syncId,x=typeof r=="object"&&"key"in r?r.key:s&&E&&r?`modal-${(o=s==null?void 0:s.identifier)!=null?o:s==null?void 0:s.name}-${E}`:void 0,{defaultVisible:k=!1,autoSubmitClose:p=!0,autoResetForm:w=!0}=e!=null?e:{},I=En({refineCoreProps:t,...a}),{reset:$,refineCore:{onFinish:S,id:D,setId:N},saveButtonProps:B,handleSubmit:O}=I,{visible:F,show:A,close:M}=(0,er.useModal)({defaultVisible:k});Cn.default.useEffect(()=>{var X,Z,J,pe;if(y.current===!1&&x){let me=(Z=(X=b==null?void 0:b.params)==null?void 0:X[x])==null?void 0:Z.open;if(typeof me=="boolean"?me&&A():typeof me=="string"&&me==="true"&&A(),d){let Me=(pe=(J=b==null?void 0:b.params)==null?void 0:J[x])==null?void 0:pe.id;Me&&(N==null||N(Me))}y.current=!0}},[x,b,d,N]),Cn.default.useEffect(()=>{var X;y.current===!0&&(F&&x?P({query:{[x]:{...(X=b==null?void 0:b.params)==null?void 0:X[x],open:!0,...d&&D&&{id:D}}},options:{keepQuery:!0},type:"replace"}):x&&!F&&P({query:{[x]:void 0},options:{keepQuery:!0},type:"replace"}))},[D,F,A,x,d]);let Q=async X=>{await S(X),p&&M(),w&&$()},{warnWhen:K,setWarnWhen:q}=(0,er.useWarnAboutChange)(),V=(0,ri.useCallback)(()=>{if(K)if(window.confirm(C("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))q(!1);else return;N==null||N(void 0),M()},[K]),W=(0,ri.useCallback)(X=>{N==null||N(X),A()},[]),le=C(`${s==null?void 0:s.name}.titles.${h}`,void 0,`${(0,er.userFriendlyResourceName)(`${h} ${(f=(v=(m=(l=s==null?void 0:s.meta)==null?void 0:l.label)!=null?m:(c=s==null?void 0:s.options)==null?void 0:c.label)!=null?v:s==null?void 0:s.label)!=null?f:s==null?void 0:s.name}`,"singular")}`);return{modal:{submit:Q,close:V,show:W,visible:F,title:le},...I,saveButtonProps:{...B,onClick:X=>O(Q)(X)}}}});var ct=ia((Ef,ii)=>{var kn=Object.defineProperty,qd=Object.getOwnPropertyDescriptor,Td=Object.getOwnPropertyNames,Ad=Object.prototype.hasOwnProperty,Nd=(e,t)=>{for(var r in t)kn(e,r,{get:t[r],enumerable:!0})},Md=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Td(t))!Ad.call(e,n)&&n!==r&&kn(e,n,{get:()=>t[n],enumerable:!(a=qd(t,n))||a.enumerable});return e},Dd=e=>Md(kn({},"__esModule",{value:!0}),e),li={};Nd(li,{RefineButtonTestIds:()=>Rd});ii.exports=Dd(li);var Rd={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Xr=ia((Af,ji)=>{var Bd=Object.create,Aa=Object.defineProperty,Od=Object.getOwnPropertyDescriptor,Wd=Object.getOwnPropertyNames,jd=Object.getPrototypeOf,zd=Object.prototype.hasOwnProperty,Ud=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})},Fi=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Wd(t))!zd.call(e,n)&&n!==r&&Aa(e,n,{get:()=>t[n],enumerable:!(a=Od(t,n))||a.enumerable});return e},U=(e,t,r)=>(r=e!=null?Bd(jd(e)):{},Fi(t||!e||!e.__esModule?Aa(r,"default",{value:e,enumerable:!0}):r,e)),Qd=e=>Fi(Aa({},"__esModule",{value:!0}),e),qi={};Ud(qi,{AuthPage:()=>mm,BooleanField:()=>Hm,Breadcrumb:()=>Zr,CircularDeterminate:()=>Ri,CloneButton:()=>Am,Create:()=>fm,CreateButton:()=>Mi,DarkTheme:()=>Ep,DateField:()=>Ym,DeleteButton:()=>Tn,Edit:()=>gm,EditButton:()=>Di,EmailField:()=>Um,ErrorComponent:()=>Jd,ExportButton:()=>Lm,FileField:()=>Xm,Header:()=>Ai,ImportButton:()=>Dm,Layout:()=>Hd,LightTheme:()=>Cp,List:()=>ym,ListButton:()=>Nn,LoginPage:()=>Kd,MarkdownField:()=>lp,NotistackSnackbarContent:()=>ka.SnackbarContent,NumberField:()=>rp,ReadyPage:()=>Yd,RefineSnackbarProvider:()=>Sp,RefreshButton:()=>An,SaveButton:()=>Mn,Show:()=>bm,ShowButton:()=>wm,Sider:()=>Ti,SnackbarProvider:()=>ka.SnackbarProvider,TagField:()=>zm,TextFieldComponent:()=>Om,Title:()=>Ni,UrlField:()=>Bi,WelcomePage:()=>Zd,notificationProvider:()=>wp,useAutocomplete:()=>dp,useDataGrid:()=>yp,useSnackbar:()=>ka.useSnackbar,withSnackbar:()=>ka.withSnackbar});ji.exports=Qd(qi);var ka=g("notistack"),tr=U(g("react")),Pn=g("@mui/material"),z=U(g("react")),ee=g("@mui/material"),$t=g("@mui/icons-material"),Ae=_(),Ti=({Title:e,render:t,meta:r})=>{var a;let[n,o]=(0,z.useState)(!1),[l,c]=(0,z.useState)(!1),m=()=>n?64:200,v=(0,Ae.useTranslate)(),f=(0,Ae.useRouterType)(),y=(0,Ae.useLink)(),{Link:C}=(0,Ae.useRouterContext)(),u=f==="legacy"?C:y,{hasDashboard:h}=(0,Ae.useRefineContext)(),s=(0,Ae.useTranslate)(),{menuItems:i,selectedKey:b,defaultOpenKeys:P}=(0,Ae.useMenu)({meta:r}),E=(0,Ae.useIsExistAuthentication)(),d=(0,Ae.useTitle)(),x=(0,Ae.useActiveAuthProvider)(),{mutate:k}=(0,Ae.useLogout)({v3LegacyAuthProviderCompatible:Boolean(x==null?void 0:x.isLegacy)}),[p,w]=(0,z.useState)({});z.default.useEffect(()=>{w(F=>{let A=Object.keys(F).filter(Q=>F[Q]),M=new Set([...A,...P]);return Object.fromEntries(Array.from(M.values()).map(Q=>[Q,!0]))})},[P]);let I=(a=e!=null?e:d)!=null?a:Ni,$=F=>{w({...p,[F]:!p[F]})},S=(F,A)=>F.map(M=>{let{icon:Q,label:K,route:q,name:V,children:W,parentName:le,meta:X,options:Z}=M,J=p[M.key||""]||!1,pe=M.key===A,me=(0,Ae.pickNotDeprecated)(X==null?void 0:X.parent,Z==null?void 0:Z.parent,le)!==void 0;return W.length>0?z.default.createElement(Ae.CanAccess,{key:M.key,resource:V.toLowerCase(),action:"list",params:{resource:M}},z.default.createElement("div",{key:M.key},z.default.createElement(ee.Tooltip,{title:K!=null?K:V,placement:"right",disableHoverListener:!n,arrow:!0},z.default.createElement(ee.ListItemButton,{onClick:()=>{n?(o(!1),J||$(M.key||"")):$(M.key||"")},sx:{pl:me?4:2,justifyContent:"center","&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"}}},z.default.createElement(ee.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},Q!=null?Q:z.default.createElement($t.ListOutlined,null)),z.default.createElement(ee.ListItemText,{primary:K,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:pe?"bold":"normal"}}),!n&&(J?z.default.createElement($t.ExpandLess,null):z.default.createElement($t.ExpandMore,null)))),!n&&z.default.createElement(ee.Collapse,{in:p[M.key||""],timeout:"auto",unmountOnExit:!0},z.default.createElement(ee.List,{component:"div",disablePadding:!0},S(W,A))))):z.default.createElement(Ae.CanAccess,{key:M.key,resource:V.toLowerCase(),action:"list",params:{resource:M}},z.default.createElement(ee.Tooltip,{title:K!=null?K:V,placement:"right",disableHoverListener:!n,arrow:!0},z.default.createElement(ee.ListItemButton,{component:u,to:q,selected:pe,onClick:()=>{c(!1)},sx:{pl:me?4:2,py:me?1.25:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},z.default.createElement(ee.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},Q!=null?Q:z.default.createElement($t.ListOutlined,null)),z.default.createElement(ee.ListItemText,{primary:K,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:pe?"bold":"normal"}}))))}),D=h?z.default.createElement(Ae.CanAccess,{resource:"dashboard",action:"list"},z.default.createElement(ee.Tooltip,{title:s("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!n,arrow:!0},z.default.createElement(ee.ListItemButton,{component:u,to:"/",selected:b==="/",onClick:()=>{c(!1)},sx:{pl:2,py:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},z.default.createElement(ee.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},z.default.createElement($t.Dashboard,null)),z.default.createElement(ee.ListItemText,{primary:s("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:b==="/"?"bold":"normal"}})))):null,N=E&&z.default.createElement(ee.Tooltip,{title:v("buttons.logout","Logout"),placement:"right",disableHoverListener:!n,arrow:!0},z.default.createElement(ee.ListItemButton,{key:"logout",onClick:()=>k(),sx:{justifyContent:"center"}},z.default.createElement(ee.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},z.default.createElement($t.Logout,null)),z.default.createElement(ee.ListItemText,{primary:v("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),B=S(i,b),O=z.default.createElement(ee.List,{disablePadding:!0,sx:{mt:1,color:"secondary.contrastText"}},(()=>t?t({dashboard:D,logout:N,items:B,collapsed:n}):z.default.createElement(z.default.Fragment,null,D,B,N))());return z.default.createElement(z.default.Fragment,null,z.default.createElement(ee.Box,{sx:{width:{xs:m()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),z.default.createElement(ee.Box,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:m()},display:"flex"}},z.default.createElement(ee.Drawer,{variant:"temporary",open:l,onClose:()=>c(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{width:256,bgcolor:"secondary.main"}}},z.default.createElement(ee.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},z.default.createElement(I,{collapsed:!1})),O),z.default.createElement(ee.Drawer,{variant:"permanent",PaperProps:{elevation:1},sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:m,bgcolor:"secondary.main",overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},z.default.createElement(ee.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},z.default.createElement(I,{collapsed:n})),z.default.createElement(ee.Box,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},O),z.default.createElement(ee.Button,{sx:{background:"rgba(0,0,0,.5)",color:"secondary.contrastText",textAlign:"center",borderRadius:0,borderTop:"1px solid #ffffff1a"},fullWidth:!0,size:"large",onClick:()=>o(F=>!F)},n?z.default.createElement($t.ChevronRight,null):z.default.createElement($t.ChevronLeft,null))),z.default.createElement(ee.Box,{sx:{display:{xs:"block",md:"none"},position:"fixed",top:"64px",left:"0px",borderRadius:"0 6px 6px 0",bgcolor:"secondary.main",zIndex:1199,width:"36px"}},z.default.createElement(ee.IconButton,{sx:{color:"#fff",width:"36px"},onClick:()=>c(F=>!F)},z.default.createElement($t.MenuRounded,null)))))},wr=U(g("react")),ui=_(),Ir=g("@mui/material"),Ai=()=>{let e=(0,ui.useActiveAuthProvider)(),{data:t}=(0,ui.useGetIdentity)({v3LegacyAuthProviderCompatible:Boolean(e==null?void 0:e.isLegacy)});return t&&(t.name||t.avatar)?wr.default.createElement(Ir.AppBar,{color:"default",position:"sticky",elevation:1},wr.default.createElement(Ir.Toolbar,null,wr.default.createElement(Ir.Stack,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},wr.default.createElement(Ir.Stack,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},wr.default.createElement(Ir.Typography,{variant:"subtitle2"},t==null?void 0:t.name),wr.default.createElement(Ir.Avatar,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))))):null},Hd=({Sider:e,Header:t,Title:r,Footer:a,OffLayoutArea:n,children:o})=>{let l=e!=null?e:Ti,c=t!=null?t:Ai;return tr.default.createElement(Pn.Box,{display:"flex",flexDirection:"row"},tr.default.createElement(l,{Title:r}),tr.default.createElement(Pn.Box,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"}},tr.default.createElement(c,null),tr.default.createElement(Pn.Box,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:m=>m.palette.background.default}},o),a&&tr.default.createElement(a,null)),n&&tr.default.createElement(n,null))},Pa=U(g("react")),wn=_(),Vd=g("@mui/material"),Ni=({collapsed:e})=>{let t=(0,wn.useRouterType)(),r=(0,wn.useLink)(),{Link:a}=(0,wn.useRouterContext)();return Pa.default.createElement(Vd.Button,{fullWidth:!0,variant:"text",disableRipple:!0},Pa.default.createElement(t==="legacy"?a:r,{to:"/"},e?Pa.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",width:"28px",style:{maxHeight:"38px"}}):Pa.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))},ue=U(g("react")),_d=_(),Gd=Bt(),he=g("@mui/material"),si=_(),Kd=()=>{var e;let{register:t,handleSubmit:r,formState:{errors:a}}=(0,Gd.useForm)(),n=(0,_d.useActiveAuthProvider)(),{mutate:o,isLoading:l}=(0,si.useLogin)({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy)}),c=(0,si.useTranslate)();return ue.createElement(ue.Fragment,null,ue.createElement(he.Box,{component:"div",sx:{background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"}},ue.createElement(he.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},ue.createElement(he.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},ue.createElement("div",null,ue.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo",style:{maxWidth:200}})),ue.createElement(he.Box,{mt:4},ue.createElement(he.Card,null,ue.createElement(he.CardContent,{sx:{paddingX:"32px"}},ue.createElement(he.Typography,{component:"h1",variant:"h5",align:"center",sx:{fontWeight:"700",margin:"12px 0"}},c("pages.login.title","Sign in your account")),ue.createElement(he.Box,{component:"form",onSubmit:r(m=>{o(m)}),gap:"16px"},ue.createElement(he.TextField,{...t("username",{required:!0}),id:"username",margin:"normal",size:"small",fullWidth:!0,label:c("pages.login.username","Username"),name:"username",autoComplete:"username",autoFocus:!0}),ue.createElement(he.TextField,{...t("password",{required:!0}),id:"password",size:"small",margin:"normal",fullWidth:!0,name:"password",label:c("pages.login.password","Password"),helperText:(e=a==null?void 0:a.password)==null?void 0:e.message,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),ue.createElement(he.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},ue.createElement(he.FormControlLabel,{sx:{span:{fontSize:"12px",color:"text.secondary"}},color:"secondary",control:ue.createElement(he.Checkbox,{size:"small",id:"remember",...t("remember")}),label:c("pages.login.remember","Remember me")}),ue.createElement(he.Link,{href:"#",sx:{fontSize:"12px",textDecoration:"none"}},ue.createElement(he.Typography,{sx:{fontSize:"12px"}},c("pages.login.forgotPassword","Forgot password?")))),ue.createElement(he.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:l},c("pages.login.signin","Sign in")),ue.createElement(he.Box,{style:{marginTop:8}},ue.createElement(he.Typography,{variant:"subtitle2"},c("pages.login.noAccount","Don\u2019t have an account?")," ",ue.createElement(he.Link,{underline:"none",href:"#",style:{fontWeight:"bold"}},c("pages.login.signup","Sign up"))))))))))))},Pe=U(g("react")),Ne=g("@mui/material"),Yd=()=>{let e=t=>Pe.createElement(Ne.Typography,{sx:{backgroundColor:r=>r.palette.secondary.contrastText,color:r=>r.palette.secondary.main,display:"inline-block",fontFamily:"monospace"}},t);return Pe.createElement(Pe.Fragment,null,Pe.createElement(Ne.Grid,{container:!0,sx:{backgroundColor:t=>t.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},Pe.createElement(Ne.Grid,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:t=>t.palette.primary.contrastText},Pe.createElement(Ne.Typography,{display:"flex",justifyContent:"center"},Pe.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),Pe.createElement(Ne.Typography,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),Pe.createElement(Ne.Typography,{variant:"h5",mt:2},"Your configuration is completed."),Pe.createElement(Ne.Typography,{variant:"h6",mt:2},"Now you can get started by adding your resources to the"," ",e("resources")," property of"," ",e("Refine")),Pe.createElement(Ne.Grid,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},Pe.createElement(Ne.Stack,{spacing:2,direction:{xs:"column",sm:"row"}},Pe.createElement(Ne.Link,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Pe.createElement(Ne.Button,{variant:"outlined",fullWidth:!0},"Documentation")),Pe.createElement(Ne.Link,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Pe.createElement(Ne.Button,{variant:"outlined",fullWidth:!0},"Examples")),Pe.createElement(Ne.Link,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Pe.createElement(Ne.Button,{variant:"outlined",fullWidth:!0},"Community")))))))},Se=U(g("react")),Ge=g("@mui/material"),Zd=()=>Se.createElement(Se.Fragment,null,Se.createElement(Ge.Grid,{container:!0,sx:{backgroundColor:e=>e.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},Se.createElement(Ge.Grid,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:e=>e.palette.primary.contrastText},Se.createElement(Ge.Typography,{display:"flex",justifyContent:"center"},Se.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),Se.createElement(Ge.Typography,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),Se.createElement(Ge.Typography,{variant:"h5",mt:2},"Your configuration is completed."),Se.createElement(Ge.Grid,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},Se.createElement(Ge.Stack,{spacing:2,direction:{xs:"column",sm:"row"}},Se.createElement(Ge.Link,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(Ge.Button,{variant:"outlined",fullWidth:!0},"Documentation")),Se.createElement(Ge.Link,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(Ge.Button,{variant:"outlined",fullWidth:!0},"Examples")),Se.createElement(Ge.Link,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(Ge.Button,{variant:"outlined",fullWidth:!0},"Community"))))))),ht=U(g("react")),In=_(),ci=_(),rr=g("@mui/material"),Xd=g("@mui/icons-material"),Jd=()=>{let[e,t]=(0,ht.useState)(),{push:r}=(0,ci.useNavigation)(),a=(0,In.useGo)(),n=(0,In.useRouterType)(),{resource:o,action:l}=(0,In.useResource)(),c=(0,ci.useTranslate)();return(0,ht.useEffect)(()=>{o&&l&&t(c("pages.error.info",{action:l,resource:o==null?void 0:o.name},`You may have forgotten to add the "${l}" component to "${o==null?void 0:o.name}" resource.`))},[l,o]),ht.default.createElement(rr.Grid,{display:"flex",justifyContent:"center",alignItems:"center",mt:20},ht.default.createElement(rr.Grid,{container:!0,direction:"column",display:"flex",alignItems:"center"},ht.default.createElement(rr.Typography,{variant:"h1"},"404"),ht.default.createElement(rr.Stack,{direction:"row",spacing:"2"},ht.default.createElement(rr.Typography,null,c("pages.error.404","Sorry, the page you visited does not exist.")),e&&ht.default.createElement(rr.Tooltip,{title:e},ht.default.createElement(Xd.Info,{}))),ht.default.createElement(rr.Button,{onClick:()=>{n==="legacy"?r("/"):a({to:"/"})}},c("pages.error.backHome","Back Home"))))},$r=U(g("react")),ce=U(g("react")),em=_(),tm=Bt(),rm=g("react-hook-form"),be=g("@mui/material"),zr=_(),Na={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},Ma={textAlign:"center",fontSize:"24px",letterSpacing:"-0.04em",marginBottom:"24px",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"},am=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:c})=>{var m;let{onSubmit:v,...f}=c||{},y=(0,tm.useForm)({...f}),{register:C,handleSubmit:u,formState:{errors:h}}=y,s=(0,em.useActiveAuthProvider)(),{mutate:i,isLoading:b}=(0,zr.useLogin)({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)}),P=(0,zr.useTranslate)(),E=(0,zr.useRouterType)(),d=(0,zr.useLink)(),{Link:x}=(0,zr.useRouterContext)(),k=E==="legacy"?x:d,p=()=>e&&e.length>0?ce.createElement(ce.Fragment,null,e.map(I=>ce.createElement(be.Button,{key:I.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>i({providerName:I.name}),startIcon:I.icon},I.label)),ce.createElement(be.Divider,{style:{fontSize:12}},P("pages.login.divider","or"))):null,w=ce.createElement(be.Card,{...n!=null?n:{}},ce.createElement(be.CardContent,{sx:{paddingX:"32px"}},ce.createElement(be.Typography,{component:"h1",variant:"h5",align:"center",style:Ma,color:"primary"},P("pages.login.title","Sign in to your account")),ce.createElement(be.Box,{component:"form",onSubmit:u(I=>v?v(I):i(I)),gap:"16px"},p(),ce.createElement(be.TextField,{...C("email",{required:!0}),id:"email",margin:"normal",fullWidth:!0,label:P("pages.login.fields.email","Email"),error:!!h.email,name:"email",type:"email",autoComplete:"email"}),ce.createElement(be.TextField,{...C("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:P("pages.login.fields.password","Password"),helperText:(m=h==null?void 0:h.password)==null?void 0:m.message,error:!!h.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),ce.createElement(be.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},a!=null?a:ce.createElement(be.FormControlLabel,{sx:{span:{fontSize:"14px",color:"text.secondary"}},color:"secondary",control:ce.createElement(be.Checkbox,{size:"small",id:"remember",...C("remember")}),label:P("pages.login.buttons.rememberMe","Remember me")}),r!=null?r:ce.createElement(be.Link,{variant:"body2",component:k,underline:"none",to:"/forgot-password"},P("pages.login.buttons.forgotPassword","Forgot password?"))),ce.createElement(be.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:b},P("pages.login.signin","Sign in")),t!=null?t:ce.createElement(be.Box,{style:{marginTop:8}},ce.createElement(be.Typography,{variant:"body2",component:"span"},P("pages.login.buttons.noAccount","Don\u2019t have an account?")),ce.createElement(be.Link,{ml:"8px",variant:"body2",component:k,underline:"none",to:"/register",fontWeight:"bold"},P("pages.login.signup","Sign up"))))));return ce.createElement(rm.FormProvider,{...y},ce.createElement(be.Box,{component:"div",style:Na,...o!=null?o:{}},ce.createElement(be.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},ce.createElement(be.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},l?l(w):w))))},Le=U(g("react")),nm=_(),om=Bt(),Be=g("@mui/material"),Ur=_(),lm=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,providers:n,formProps:o})=>{let{onSubmit:l,...c}=o||{},{register:m,handleSubmit:v,formState:{errors:f}}=(0,om.useForm)({...c}),y=(0,nm.useActiveAuthProvider)(),{mutate:C,isLoading:u}=(0,Ur.useRegister)({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),h=(0,Ur.useTranslate)(),s=(0,Ur.useRouterType)(),i=(0,Ur.useLink)(),{Link:b}=(0,Ur.useRouterContext)(),P=s==="legacy"?b:i,E=()=>n&&n.length>0?Le.createElement(Le.Fragment,null,n.map(x=>Le.createElement(Be.Button,{key:x.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>C({providerName:x.name}),startIcon:x.icon},x.label)),Le.createElement(Be.Divider,{style:{fontSize:12}},h("pages.login.divider","or"))):null,d=Le.createElement(Be.Card,{...r!=null?r:{}},Le.createElement(Be.CardContent,{sx:{paddingX:"32px"}},Le.createElement(Be.Typography,{component:"h1",variant:"h5",align:"center",style:Ma,color:"primary"},h("pages.register.title","Sign up for your account")),E(),Le.createElement(Be.Box,{component:"form",onSubmit:v(x=>l?l(x):C(x)),gap:"16px"},Le.createElement(Be.TextField,{...m("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:h("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:h("pages.register.email","Email"),error:!!f.email,helperText:f.email?f.email.message:"",name:"email",autoComplete:"email"}),Le.createElement(Be.TextField,{...m("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:h("pages.register.fields.password","Password"),helperText:f.password?f.password.message:"",error:!!f.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),e!=null?e:Le.createElement(Be.Box,{display:"flex",justifyContent:"flex-end"},Le.createElement(Be.Typography,{variant:"body2",component:"span"},h("pages.login.buttons.haveAccount","Have an account?")),Le.createElement(Be.Link,{ml:"6px",variant:"body2",component:P,underline:"none",to:"/login",fontWeight:"bold"},h("pages.login.signin","Sign in"))),Le.createElement(Be.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:u},h("pages.register.signup","Sign up")))));return Le.createElement(Be.Box,{component:"div",style:Na,...t!=null?t:{}},Le.createElement(Be.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},a?a(d):d))},Ke=U(g("react")),im=Bt(),dt=g("@mui/material"),Qr=_(),um=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let{onSubmit:o,...l}=n||{},{register:c,handleSubmit:m,formState:{errors:v}}=(0,im.useForm)({...l}),{mutate:f,isLoading:y}=(0,Qr.useForgotPassword)(),C=(0,Qr.useTranslate)(),u=(0,Qr.useRouterType)(),h=(0,Qr.useLink)(),{Link:s}=(0,Qr.useRouterContext)(),i=u==="legacy"?s:h,b=Ke.createElement(dt.Card,{...r!=null?r:{}},Ke.createElement(dt.CardContent,{sx:{paddingX:"32px"}},Ke.createElement(dt.Typography,{component:"h1",variant:"h5",align:"center",style:Ma,color:"primary"},C("pages.forgotPassword.title","Forgot your password?")),Ke.createElement(dt.Box,{component:"form",onSubmit:m(P=>o?o(P):f(P)),gap:"16px"},Ke.createElement(dt.TextField,{...c("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:C("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:C("pages.forgotPassword.fields.email","Email"),name:"email",type:"email",error:!!v.email,autoComplete:"email"}),e!=null?e:Ke.createElement(dt.Box,{textAlign:"right"},Ke.createElement(dt.Typography,{variant:"body2",component:"span"},C("pages.register.buttons.haveAccount","Have an account?"))," ",Ke.createElement(dt.Link,{variant:"body2",component:i,underline:"none",to:"/register",fontWeight:"bold"},C("pages.login.signin","Sign in"))),Ke.createElement(dt.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:y},C("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Ke.createElement(Ke.Fragment,null,Ke.createElement(dt.Box,{component:"div",style:Na,...t!=null?t:{}},Ke.createElement(dt.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},a?a(b):b)))},mt=U(g("react")),sm=_(),cm=Bt(),St=g("@mui/material"),di=_(),dm=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{var n,o;let{onSubmit:l,...c}=a||{},{register:m,watch:v,handleSubmit:f,formState:{errors:y}}=(0,cm.useForm)({...c}),C=(0,sm.useActiveAuthProvider)(),{mutate:u,isLoading:h}=(0,di.useUpdatePassword)({v3LegacyAuthProviderCompatible:Boolean(C==null?void 0:C.isLegacy)}),s=(0,di.useTranslate)(),i=mt.createElement(St.Card,{...t!=null?t:{}},mt.createElement(St.CardContent,{sx:{paddingX:"32px"}},mt.createElement(St.Typography,{component:"h1",variant:"h5",align:"center",style:Ma,color:"primary"},s("pages.updatePassword.title","Set New Password")),mt.createElement(St.Box,{component:"form",onSubmit:f(b=>l?l(b):u(b)),gap:"16px"},mt.createElement(St.TextField,{...m("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:s("pages.updatePassword.fields.password","New Password"),helperText:(n=y==null?void 0:y.password)==null?void 0:n.message,error:!!(y!=null&&y.password),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),mt.createElement(St.TextField,{...m("confirmPassword",{required:!0,validate:b=>v("password")!==b?s("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):!0}),id:"confirmPassword",margin:"normal",fullWidth:!0,name:"confirmPassword",label:s("pages.updatePassword.fields.confirmPassword","Confirm New Password"),helperText:(o=y==null?void 0:y.confirmPassword)==null?void 0:o.message,error:!!(y!=null&&y.confirmPassword),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-confirm-password"}),mt.createElement(St.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:h},s("pages.updatePassword.buttons.submit","Update")))));return mt.createElement(mt.Fragment,null,mt.createElement(St.Box,{component:"div",style:Na,...e!=null?e:{}},mt.createElement(St.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},r?r(i):i)))},mm=e=>{let{type:t}=e;return $r.default.createElement($r.default.Fragment,null,(()=>{switch(t){case"register":return $r.default.createElement(lm,{...e});case"forgotPassword":return $r.default.createElement(um,{...e});case"updatePassword":return $r.default.createElement(dm,{...e});default:return $r.default.createElement(am,{...e})}})())},ot=U(g("react")),ar=_(),nr=g("@mui/material"),pm=U(g("@mui/icons-material/ArrowBack")),fm=({title:e,children:t,saveButtonProps:r,resource:a,isLoading:n=!1,breadcrumb:o,wrapperProps:l,headerProps:c,contentProps:m,headerButtonProps:v,headerButtons:f,footerButtonProps:y,footerButtons:C,goBack:u})=>{var h,s,i,b,P,E;let d=(0,ar.useTranslate)(),{options:{breadcrumb:x}={}}=(0,ar.useRefineContext)(),k=(0,ar.useRouterType)(),p=(0,ar.useBack)(),{goBack:w}=(0,ar.useNavigation)(),{resource:I,action:$}=(0,ar.useResource)(a),S=typeof o>"u"?x:o,D=typeof S<"u"?(h=ot.default.createElement(ot.default.Fragment,null,S))!=null?h:void 0:ot.default.createElement(Zr,null),N=ot.default.createElement(Mn,{...n?{disabled:!0}:{},...r});return ot.default.createElement(nr.Card,{...l!=null?l:{}},D,ot.default.createElement(nr.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:ot.default.createElement(nr.Typography,{variant:"h5"},d(`${I==null?void 0:I.name}.titles.create`,`Create ${(0,ar.userFriendlyResourceName)((E=(P=(b=(s=I==null?void 0:I.meta)==null?void 0:s.label)!=null?b:(i=I==null?void 0:I.options)==null?void 0:i.label)!=null?P:I==null?void 0:I.label)!=null?E:I==null?void 0:I.name,"singular")}`)),avatar:typeof u<"u"?u:ot.default.createElement(nr.IconButton,{onClick:$!=="list"||typeof $<"u"?k==="legacy"?w:p:void 0},ot.default.createElement(pm.default,null)),action:f?ot.default.createElement(nr.Box,{display:"flex",gap:"16px",...v!=null?v:{}},f?typeof f=="function"?f({defaultButtons:null}):f:null):void 0,...c!=null?c:{}}),ot.default.createElement(nr.CardContent,{...m!=null?m:{}},t),ot.default.createElement(nr.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...y!=null?y:{}},C?typeof C=="function"?C({defaultButtons:N}):C:N))},xe=U(g("react")),bt=_(),or=g("@mui/material"),vm=U(g("@mui/icons-material/ArrowBack")),gm=({title:e,saveButtonProps:t,mutationMode:r,recordItemId:a,children:n,deleteButtonProps:o,canDelete:l,resource:c,isLoading:m=!1,breadcrumb:v,dataProviderName:f,wrapperProps:y,headerProps:C,contentProps:u,headerButtonProps:h,headerButtons:s,footerButtonProps:i,footerButtons:b,goBack:P})=>{var E,d,x,k,p,w,I,$,S,D,N;let B=(0,bt.useTranslate)(),{options:{breadcrumb:O}={}}=(0,bt.useRefineContext)(),{mutationMode:F}=(0,bt.useMutationMode)(),A=r!=null?r:F,M=(0,bt.useRouterType)(),Q=(0,bt.useBack)(),K=(0,bt.useGo)(),{goBack:q,list:V}=(0,bt.useNavigation)(),{resource:W,action:le,id:X}=(0,bt.useResource)(c),Z=(0,bt.useToPath)({resource:W,action:"list"}),J=a!=null?a:X,pe=typeof v>"u"?O:v,me=l!=null?l:((d=(E=W==null?void 0:W.meta)==null?void 0:E.canDelete)!=null?d:W==null?void 0:W.canDelete)||o,Me=typeof pe<"u"?(x=xe.default.createElement(xe.default.Fragment,null,pe))!=null?x:void 0:xe.default.createElement(Zr,null),We=xe.default.createElement(xe.default.Fragment,null,!a&&xe.default.createElement(Nn,{...m?{disabled:!0}:{},resource:M==="legacy"?W==null?void 0:W.route:(k=W==null?void 0:W.identifier)!=null?k:W==null?void 0:W.name}),xe.default.createElement(An,{...m?{disabled:!0}:{},resource:M==="legacy"?W==null?void 0:W.route:(p=W==null?void 0:W.identifier)!=null?p:W==null?void 0:W.name,recordItemId:J,dataProviderName:f})),je=xe.default.createElement(xe.default.Fragment,null,me&&(J||(o==null?void 0:o.recordItemId))&&xe.default.createElement(Tn,{...m?{disabled:!0}:{},resource:M==="legacy"?W==null?void 0:W.route:(w=W==null?void 0:W.identifier)!=null?w:W==null?void 0:W.name,mutationMode:A,variant:"outlined",onSuccess:()=>{var ze,Fe;M==="legacy"?V((Fe=(ze=W==null?void 0:W.route)!=null?ze:W==null?void 0:W.name)!=null?Fe:""):K({to:Z})},recordItemId:J,dataProviderName:f,...o}),xe.default.createElement(Mn,{...m?{disabled:!0}:{},...t}));return xe.default.createElement(or.Card,{...y!=null?y:{}},Me,xe.default.createElement(or.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:xe.default.createElement(or.Typography,{variant:"h5"},B(`${W==null?void 0:W.name}.titles.edit`,`Edit ${(0,bt.userFriendlyResourceName)((N=(D=(S=(I=W==null?void 0:W.meta)==null?void 0:I.label)!=null?S:($=W==null?void 0:W.options)==null?void 0:$.label)!=null?D:W==null?void 0:W.label)!=null?N:W==null?void 0:W.name,"singular")}`)),avatar:typeof P<"u"?P:xe.default.createElement(or.IconButton,{onClick:le!=="list"&&typeof le<"u"?M==="legacy"?q:Q:void 0},xe.default.createElement(vm.default,null)),action:xe.default.createElement(or.Box,{display:"flex",gap:"16px",...h!=null?h:{}},s?typeof s=="function"?s({defaultButtons:We}):s:We),...C!=null?C:{}}),xe.default.createElement(or.CardContent,{...u!=null?u:{}},n),xe.default.createElement(or.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...i!=null?i:{}},b?typeof b=="function"?b({defaultButtons:je}):b:je))},Lt=U(g("react")),Hr=_(),Vr=g("@mui/material"),ym=({title:e,canCreate:t,children:r,createButtonProps:a,resource:n,breadcrumb:o,wrapperProps:l,headerProps:c,contentProps:m,headerButtonProps:v,headerButtons:f})=>{var y,C,u,h,s,i,b,P;let E=(0,Hr.useTranslate)(),{options:{breadcrumb:d}={}}=(0,Hr.useRefineContext)(),x=(0,Hr.useRouterType)(),{resource:k}=(0,Hr.useResource)(n),p=t!=null?t:((y=k==null?void 0:k.canCreate)!=null?y:!!(k!=null&&k.create))||a,w=typeof o>"u"?d:o,I=typeof w<"u"?(C=Lt.default.createElement(Lt.default.Fragment,null,w))!=null?C:void 0:Lt.default.createElement(Zr,null),$=p?Lt.default.createElement(Mi,{resource:x==="legacy"?k==null?void 0:k.route:(u=k==null?void 0:k.identifier)!=null?u:k==null?void 0:k.name,...a}):null;return Lt.default.createElement(Vr.Card,{...l!=null?l:{}},I,Lt.default.createElement(Vr.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:Lt.default.createElement(Vr.Typography,{variant:"h5"},E(`${k==null?void 0:k.name}.titles.list`,(0,Hr.userFriendlyResourceName)((P=(b=(i=(h=k==null?void 0:k.meta)==null?void 0:h.label)!=null?i:(s=k==null?void 0:k.options)==null?void 0:s.label)!=null?b:k==null?void 0:k.label)!=null?P:k==null?void 0:k.name,"plural"))),action:Lt.default.createElement(Vr.Box,{display:"flex",gap:"16px",...v},f?typeof f=="function"?f({defaultButtons:$}):f:$),...c!=null?c:{}}),Lt.default.createElement(Vr.CardContent,{...m!=null?m:{}},r))},Ie=U(g("react")),Ft=_(),lr=g("@mui/material"),hm=U(g("@mui/icons-material/ArrowBack")),bm=({title:e,canEdit:t,canDelete:r,isLoading:a=!1,children:n,resource:o,recordItemId:l,breadcrumb:c,dataProviderName:m,wrapperProps:v,headerProps:f,contentProps:y,headerButtonProps:C,headerButtons:u,footerButtonProps:h,footerButtons:s,goBack:i})=>{var b,P,E,d,x,k,p,w,I,$,S,D,N;let B=(0,Ft.useTranslate)(),{options:{breadcrumb:O}={}}=(0,Ft.useRefineContext)(),F=(0,Ft.useRouterType)(),A=(0,Ft.useBack)(),M=(0,Ft.useGo)(),{goBack:Q,list:K}=(0,Ft.useNavigation)(),{resource:q,action:V,id:W}=(0,Ft.useResource)(o),le=(0,Ft.useToPath)({resource:q,action:"list"}),X=l!=null?l:W,Z=typeof c>"u"?O:c,J=(P=r!=null?r:(b=q==null?void 0:q.meta)==null?void 0:b.canDelete)!=null?P:q==null?void 0:q.canDelete,pe=(E=t!=null?t:q==null?void 0:q.canEdit)!=null?E:!!(q!=null&&q.edit),me=typeof Z<"u"?(d=Ie.default.createElement(Ie.default.Fragment,null,Z))!=null?d:void 0:Ie.default.createElement(Zr,null),Me=Ie.default.createElement(Ie.default.Fragment,null,!l&&Ie.default.createElement(Nn,{...a?{disabled:!0}:{},resource:F==="legacy"?q==null?void 0:q.route:(x=q==null?void 0:q.identifier)!=null?x:q==null?void 0:q.name}),pe&&Ie.default.createElement(Di,{...a?{disabled:!0}:{},resource:F==="legacy"?q==null?void 0:q.route:(k=q==null?void 0:q.identifier)!=null?k:q==null?void 0:q.name,recordItemId:X}),J&&typeof X<"u"&&Ie.default.createElement(Tn,{...a?{disabled:!0}:{},resource:F==="legacy"?q==null?void 0:q.route:(p=q==null?void 0:q.identifier)!=null?p:q==null?void 0:q.name,recordItemId:X,onSuccess:()=>{var We,je;F==="legacy"?K((je=(We=q==null?void 0:q.route)!=null?We:q==null?void 0:q.name)!=null?je:""):M({to:le})},dataProviderName:m}),Ie.default.createElement(An,{...a?{disabled:!0}:{},resource:F==="legacy"?q==null?void 0:q.route:(w=q==null?void 0:q.identifier)!=null?w:q==null?void 0:q.name,recordItemId:X,dataProviderName:m}));return Ie.default.createElement(lr.Card,{...v!=null?v:{}},me,Ie.default.createElement(lr.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:Ie.default.createElement(lr.Typography,{variant:"h5"},B(`${q==null?void 0:q.name}.titles.show`,`Show ${(0,Ft.userFriendlyResourceName)((N=(D=(S=(I=q==null?void 0:q.meta)==null?void 0:I.label)!=null?S:($=q==null?void 0:q.options)==null?void 0:$.label)!=null?D:q==null?void 0:q.label)!=null?N:q==null?void 0:q.name,"singular")}`)),avatar:typeof i<"u"?i:Ie.default.createElement(lr.IconButton,{onClick:V!=="list"&&typeof V<"u"?F==="legacy"?Q:A:void 0},Ie.default.createElement(hm.default,null)),action:Ie.default.createElement(lr.Box,{display:"flex",gap:"16px",...C!=null?C:{}},u?typeof u=="function"?u({defaultButtons:Me}):u:Me),...f!=null?f:{}}),Ie.default.createElement(lr.CardContent,{...y!=null?y:{}},n),Ie.default.createElement(lr.CardActions,{sx:{padding:"16px"},...h!=null?h:{}},s?typeof s=="function"?s({defaultButtons:null}):s:null))},wa=U(g("react")),ir=_(),kf=ct(),xm=g("@mui/material"),mi=g("@mui/icons-material"),Mi=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:c,...m})=>{var v,f;let y=(v=a==null?void 0:a.enabled)!=null?v:!0,C=(f=a==null?void 0:a.hideIfUnauthorized)!=null?f:!1,u=(0,ir.useTranslate)(),h=(0,ir.useRouterType)(),s=(0,ir.useLink)(),{Link:i}=(0,ir.useRouterContext)(),b=h==="legacy"?i:s,{createUrl:P}=(0,ir.useNavigation)(),{resource:E}=(0,ir.useResource)(e!=null?e:t),{data:d}=(0,ir.useCan)({resource:E==null?void 0:E.name,action:"create",queryOptions:{enabled:y},params:{resource:E}}),x=()=>d!=null&&d.can?"":d!=null&&d.reason?d.reason:u("buttons.notAccessTitle","You don't have permission to access"),k=E?P(E,o):"",{sx:p,...w}=m;return y&&C&&!(d!=null&&d.can)?null:wa.default.createElement(b,{to:k,replace:!1,onClick:I=>{if((d==null?void 0:d.can)===!1){I.preventDefault();return}c&&(I.preventDefault(),c(I))},style:{textDecoration:"none"}},wa.default.createElement(xm.Button,{disabled:(d==null?void 0:d.can)===!1,startIcon:!r&&wa.default.createElement(mi.AddBoxOutlined,{...n}),title:x(),variant:"contained",sx:{minWidth:0,...p},...w},r?wa.default.createElement(mi.AddBoxOutlined,{fontSize:"small",...n}):l!=null?l:u("buttons.create","Create")))},Ia=U(g("react")),ur=_(),Pf=ct(),Cm=g("@mui/material"),pi=g("@mui/icons-material"),Di=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:c,onClick:m,...v})=>{var f,y;let C=(f=n==null?void 0:n.enabled)!=null?f:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,h=(0,ur.useTranslate)(),s=(0,ur.useRouterType)(),i=(0,ur.useLink)(),{Link:b}=(0,ur.useRouterContext)(),P=s==="legacy"?b:i,{editUrl:E}=(0,ur.useNavigation)(),{id:d,resource:x}=(0,ur.useResource)(e!=null?e:t),{data:k}=(0,ur.useCan)({resource:x==null?void 0:x.name,action:"edit",params:{id:r!=null?r:d,resource:x},queryOptions:{enabled:C}}),p=()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:h("buttons.notAccessTitle","You don't have permission to access"),w=x&&(r!=null?r:d)?E(x,r!=null?r:d,l):"",{sx:I,...$}=v;return C&&u&&!(k!=null&&k.can)?null:Ia.default.createElement(P,{to:w,replace:!1,onClick:S=>{if((k==null?void 0:k.can)===!1){S.preventDefault();return}m&&(S.preventDefault(),m(S))},style:{textDecoration:"none"}},Ia.default.createElement(Cm.Button,{disabled:(k==null?void 0:k.can)===!1,startIcon:!a&&Ia.default.createElement(pi.EditOutlined,{sx:{selfAlign:"center"},...o}),title:p(),sx:{minWidth:0,...I},...$},a?Ia.default.createElement(pi.EditOutlined,{fontSize:"small",...o}):c!=null?c:h("buttons.edit","Edit")))},xt=U(g("react")),sr=_(),wf=ct(),_r=g("@mui/material"),Em=g("@mui/lab"),fi=g("@mui/icons-material"),Tn=({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:l,errorNotification:c,hideText:m=!1,accessControl:v,meta:f,metaData:y,dataProviderName:C,confirmTitle:u,confirmOkText:h,confirmCancelText:s,svgIconProps:i,invalidates:b,...P})=>{var E,d;let x=(E=v==null?void 0:v.enabled)!=null?E:!0,k=(d=v==null?void 0:v.hideIfUnauthorized)!=null?d:!1,p=(0,sr.useTranslate)(),{id:w,resource:I}=(0,sr.useResource)(e!=null?e:t),{mutationMode:$}=(0,sr.useMutationMode)(),S=n!=null?n:$,{mutate:D,isLoading:N,variables:B}=(0,sr.useDelete)(),{data:O}=(0,sr.useCan)({resource:I==null?void 0:I.name,action:"delete",params:{id:r!=null?r:w,resource:I},queryOptions:{enabled:x}}),[F,A]=xt.default.useState(!1),M=()=>{A(!0)},Q=()=>{A(!1)},K=()=>{var W;(r!=null?r:w)&&(I==null?void 0:I.name)&&(A(!1),D({id:(W=r!=null?r:w)!=null?W:"",resource:I==null?void 0:I.name,mutationMode:S,successNotification:l,errorNotification:c,meta:(0,sr.pickNotDeprecated)(f,y),metaData:(0,sr.pickNotDeprecated)(f,y),dataProviderName:C,invalidates:b},{onSuccess:le=>{a&&a(le)}}))},{sx:q,...V}=P;return x&&k&&!(O!=null&&O.can)?null:xt.default.createElement("div",null,xt.default.createElement(Em.LoadingButton,{color:"error",onClick:M,disabled:(O==null?void 0:O.can)===!1,loading:(r!=null?r:w)===(B==null?void 0:B.id)&&N,startIcon:!m&&xt.default.createElement(fi.DeleteOutline,{...i}),sx:{minWidth:0,...q},loadingPosition:m?"center":"start",...V},m?xt.default.createElement(fi.DeleteOutline,{fontSize:"small",...i}):o!=null?o:p("buttons.delete","Delete")),xt.default.createElement(_r.Dialog,{open:F,onClose:Q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},xt.default.createElement(_r.DialogTitle,{id:"alert-dialog-title"},u!=null?u:p("buttons.confirm","Are you sure?")),xt.default.createElement(_r.DialogActions,{sx:{justifyContent:"center"}},xt.default.createElement(_r.Button,{onClick:Q},s!=null?s:p("buttons.cancel","Cancel")),xt.default.createElement(_r.Button,{color:"error",onClick:K,autoFocus:!0},h!=null?h:p("buttons.delete","Delete")))))},$n=U(g("react")),Gr=_(),If=ct(),km=g("@mui/lab"),vi=g("@mui/icons-material"),An=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,meta:n,metaData:o,dataProviderName:l,svgIconProps:c,children:m,onClick:v,...f})=>{var y;let{resource:C,id:u}=(0,Gr.useResource)(e!=null?e:t),h=(0,Gr.useTranslate)(),{refetch:s,isFetching:i}=(0,Gr.useOne)({resource:C==null?void 0:C.name,id:(y=r!=null?r:u)!=null?y:"",queryOptions:{enabled:!1},meta:(0,Gr.pickNotDeprecated)(n,o),metaData:(0,Gr.pickNotDeprecated)(n,o),liveMode:"off",dataProviderName:l}),{sx:b,...P}=f;return $n.default.createElement(km.LoadingButton,{startIcon:!a&&$n.default.createElement(vi.RefreshOutlined,{...c}),loading:i,loadingPosition:a?"center":"start",onClick:E=>v?v(E):s(),sx:{minWidth:0,...b},...P},a?$n.default.createElement(vi.RefreshOutlined,{fontSize:"small",...c}):m!=null?m:h("buttons.refresh","Refresh"))},$a=U(g("react")),cr=_(),$f=ct(),Pm=g("@mui/material"),gi=g("@mui/icons-material"),wm=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:c,onClick:m,...v})=>{var f,y;let C=(f=n==null?void 0:n.enabled)!=null?f:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{showUrl:h}=(0,cr.useNavigation)(),s=(0,cr.useRouterType)(),i=(0,cr.useLink)(),{Link:b}=(0,cr.useRouterContext)(),P=s==="legacy"?b:i,E=(0,cr.useTranslate)(),{id:d,resource:x}=(0,cr.useResource)(e!=null?e:t),{data:k}=(0,cr.useCan)({resource:x==null?void 0:x.name,action:"show",params:{id:r!=null?r:d,resource:x},queryOptions:{enabled:C}}),p=()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:E("buttons.notAccessTitle","You don't have permission to access"),w=x&&(r||d)?h(x,r!=null?r:d,l):"",{sx:I,...$}=v;return C&&u&&!(k!=null&&k.can)?null:$a.default.createElement(P,{to:w,replace:!1,onClick:S=>{if((k==null?void 0:k.can)===!1){S.preventDefault();return}m&&(S.preventDefault(),m(S))},style:{textDecoration:"none"}},$a.default.createElement(Pm.Button,{disabled:(k==null?void 0:k.can)===!1,startIcon:!a&&$a.default.createElement(gi.VisibilityOutlined,{...o}),title:p(),sx:{minWidth:0,...I},...$},a?$a.default.createElement(gi.VisibilityOutlined,{fontSize:"small",...o}):c!=null?c:E("buttons.show","Show")))},Sa=U(g("react")),qt=_(),Sf=ct(),Im=g("@mui/material"),yi=g("@mui/icons-material"),Nn=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:c,...m})=>{var v,f,y,C,u,h,s,i;let b=(v=a==null?void 0:a.enabled)!=null?v:!0,P=(f=a==null?void 0:a.hideIfUnauthorized)!=null?f:!1,{listUrl:E}=(0,qt.useNavigation)(),d=(0,qt.useRouterType)(),x=(0,qt.useLink)(),{Link:k}=(0,qt.useRouterContext)(),p=d==="legacy"?k:x,w=(0,qt.useTranslate)(),{resource:I}=(0,qt.useResource)(e!=null?e:t),{data:$}=(0,qt.useCan)({resource:I==null?void 0:I.name,action:"list",queryOptions:{enabled:b},params:{resource:I}}),S=()=>$!=null&&$.can?"":$!=null&&$.reason?$.reason:w("buttons.notAccessTitle","You don't have permission to access"),D=I?E(I,o):"",{sx:N,...B}=m;return b&&P&&!($!=null&&$.can)?null:Sa.default.createElement(p,{to:D,replace:!1,onClick:O=>{if(($==null?void 0:$.can)===!1){O.preventDefault();return}c&&(O.preventDefault(),c(O))},style:{textDecoration:"none"}},Sa.default.createElement(Im.Button,{disabled:($==null?void 0:$.can)===!1,startIcon:!r&&Sa.default.createElement(yi.ListOutlined,{...n}),title:S(),sx:{minWidth:0,...N},...B},r?Sa.default.createElement(yi.ListOutlined,{fontSize:"small",...n}):l!=null?l:w(`${(C=(y=I==null?void 0:I.name)!=null?y:e)!=null?C:t}.titles.list`,(0,qt.userFriendlyResourceName)((i=(s=(h=(u=I==null?void 0:I.meta)==null?void 0:u.label)!=null?h:I==null?void 0:I.label)!=null?s:I==null?void 0:I.name)!=null?i:(0,qt.pickNotDeprecated)(e,t),"plural"))))},Sn=U(g("react")),$m=_(),Lf=ct(),Sm=g("@mui/lab"),hi=g("@mui/icons-material"),Lm=({hideText:e=!1,children:t,loading:r=!1,svgIconProps:a,...n})=>{let o=(0,$m.useTranslate)(),{sx:l,...c}=n;return Sn.default.createElement(Sm.LoadingButton,{...n,loading:r,startIcon:!e&&Sn.default.createElement(hi.ImportExportOutlined,{...a}),loadingPosition:e?"center":"start",sx:{minWidth:0,...l},...c},e?Sn.default.createElement(hi.ImportExportOutlined,{fontSize:"small",...a}):t!=null?t:o("buttons.export","Export"))},Ln=U(g("react")),Fm=_(),Ff=ct(),qm=g("@mui/lab"),bi=g("@mui/icons-material"),Mn=({hideText:e=!1,svgIconProps:t,children:r,...a})=>{let n=(0,Fm.useTranslate)(),{sx:o,...l}=a;return Ln.default.createElement(qm.LoadingButton,{startIcon:!e&&Ln.default.createElement(bi.SaveOutlined,{...t}),sx:{minWidth:0,...o},variant:"contained",...l},e?Ln.default.createElement(bi.SaveOutlined,{fontSize:"small",...t}):r!=null?r:n("buttons.save","Save"))},La=U(g("react")),dr=_(),qf=ct(),Tm=g("@mui/material"),xi=g("@mui/icons-material"),Am=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:c,onClick:m,...v})=>{var f,y;let C=(f=n==null?void 0:n.enabled)!=null?f:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{cloneUrl:h}=(0,dr.useNavigation)(),s=(0,dr.useRouterType)(),i=(0,dr.useLink)(),{Link:b}=(0,dr.useRouterContext)(),P=s==="legacy"?b:i,E=(0,dr.useTranslate)(),{id:d,resource:x}=(0,dr.useResource)(e!=null?e:t),{data:k}=(0,dr.useCan)({resource:x==null?void 0:x.name,action:"create",params:{id:r!=null?r:d,resource:x},queryOptions:{enabled:C}}),p=()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:E("buttons.notAccessTitle","You don't have permission to access"),w=x&&(r||d)?h(x,r!=null?r:d,l):"",{sx:I,...$}=v;return C&&u&&!(k!=null&&k.can)?null:La.default.createElement(P,{to:w,replace:!1,onClick:S=>{if((k==null?void 0:k.can)===!1){S.preventDefault();return}m&&(S.preventDefault(),m(S))},style:{textDecoration:"none"}},La.default.createElement(Tm.Button,{disabled:(k==null?void 0:k.can)===!1,startIcon:!a&&La.default.createElement(xi.AddBoxOutlined,{...o}),title:p(),sx:{minWidth:0,...I},...$},a?La.default.createElement(xi.AddBoxOutlined,{fontSize:"small",...o}):c!=null?c:E("buttons.clone","Clone")))},Kr=U(g("react")),Nm=_(),Tf=ct(),Mm=g("@mui/lab"),Ci=g("@mui/icons-material"),Dm=({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:a,children:n,...o})=>{let l=(0,Nm.useTranslate)(),{sx:c,...m}=o;return Kr.default.createElement("label",{htmlFor:"contained-button-file"},Kr.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),Kr.default.createElement(Mm.LoadingButton,{component:"span",startIcon:!t&&Kr.default.createElement(Ci.ImportExportOutlined,{...a}),loadingPosition:t?"center":"start",loading:r,sx:{minWidth:0,...c},...m},t?Kr.default.createElement(Ci.ImportExportOutlined,{fontSize:"small",...a}):n!=null?n:l("buttons.import","Import")))},pt=U(g("react")),Sr=g("@mui/material"),Ri=({undoableTimeout:e,message:t})=>{let[r,a]=(0,pt.useState)(100),[n,o]=(0,pt.useState)(e);return(0,pt.useEffect)(()=>{let l=100/e,c=setInterval(()=>{o(m=>m-1),a(m=>m-l)},1e3);return n===0&&clearInterval(c),()=>{clearInterval(c)}},[n]),pt.default.createElement(pt.default.Fragment,null,pt.default.createElement(Sr.Box,{sx:{position:"relative",display:"inline-flex"}},pt.default.createElement(Sr.CircularProgress,{color:"inherit",variant:"determinate",value:r}),pt.default.createElement(Sr.Box,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},pt.default.createElement(Sr.Typography,{component:"div"},n))),pt.default.createElement(Sr.Box,{sx:{marginLeft:"10px",maxWidth:{xs:"150px",md:"100%"}}},pt.default.createElement(Sr.Typography,{variant:"subtitle2"},t)))},Rm=U(g("react")),Bm=g("@mui/material"),Om=({value:e,...t})=>Rm.default.createElement(Bm.Typography,{variant:"body2",...t},e),Wm=U(g("react")),jm=g("@mui/material"),zm=({value:e,...t})=>Wm.default.createElement(jm.Chip,{label:e==null?void 0:e.toString(),...t}),Ei=U(g("react")),ki=g("@mui/material"),Um=({value:e,...t})=>Ei.default.createElement(ki.Typography,{variant:"body2"},Ei.default.createElement(ki.Link,{href:`mailto:${e}`,...t},e)),Yr=U(g("react")),Qm=g("@mui/material"),Pi=g("@mui/icons-material"),Hm=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a,falseIcon:n,svgIconProps:o,...l})=>Yr.default.createElement(Qm.Tooltip,{title:e?t:r,...l},e?Yr.default.createElement("span",null,a!=null?a:Yr.default.createElement(Pi.CheckOutlined,{...o})):Yr.default.createElement("span",null,n!=null?n:Yr.default.createElement(Pi.CloseOutlined,{...o}))),Vm=U(g("react")),Dn=U(g("dayjs")),_m=U(g("dayjs/plugin/localizedFormat")),Gm=g("@mui/material");Dn.default.extend(_m.default);var Km=Dn.default.locale(),Ym=({value:e,locales:t,format:r="L",...a})=>Vm.default.createElement(Gm.Typography,{variant:"body2",...a},(0,Dn.default)(e).locale(t||Km).format(r)),Zm=U(g("react")),Xm=({title:e,src:t,...r})=>Zm.default.createElement(Bi,{value:t,title:e,...r},e!=null?e:t),wi=U(g("react")),Ii=g("@mui/material"),Bi=({children:e,value:t,...r})=>wi.default.createElement(Ii.Typography,{variant:"body2"},wi.default.createElement(Ii.Link,{href:t,...r},e!=null?e:t)),Jm=U(g("react")),ep=g("@mui/material");function tp(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var rp=({value:e,locale:t,options:r,...a})=>{let n=parseFloat(e.toString());return Jm.default.createElement(ep.Typography,{variant:"body2",...a},tp()?n.toLocaleString(t,r):n)},ap=U(g("react")),np=U(g("react-markdown")),op=U(g("remark-gfm")),lp=({value:e=""})=>ap.default.createElement(np.default,{plugins:[op.default]},e),mr=U(g("react")),pr=_(),Fa=g("@mui/material"),ip=g("@mui/icons-material"),Zr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:a})=>{var n,o,l,c;let{breadcrumbs:m}=(0,pr.useBreadcrumb)({meta:a}),v=(0,pr.useRouterType)(),f=(0,pr.useLink)(),{Link:y}=(0,pr.useRouterContext)(),C=v==="legacy"?y:f,{hasDashboard:u}=(0,pr.useRefineContext)(),{resources:h}=(0,pr.useResource)(),s=(0,pr.matchResourceFromRoute)("/",h);if(m.length===1)return null;let i=b=>mr.default.createElement(Fa.Link,{...b,component:C});return mr.default.createElement(Fa.Breadcrumbs,{"aria-label":"breadcrumb",sx:{paddingY:2,paddingX:2,...(n=e==null?void 0:e.sx)!=null?n:{}},...e},t&&(u||s.found)&&mr.default.createElement(i,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",to:"/"},(c=(l=(o=s==null?void 0:s.resource)==null?void 0:o.meta)==null?void 0:l.icon)!=null?c:mr.default.createElement(ip.HomeOutlined,{sx:{fontSize:"18px"}})),m.map(({label:b,icon:P,href:E})=>mr.default.createElement(Fa.Grid,{key:b,sx:{display:"flex",alignItems:"center","& .MuiSvgIcon-root":{fontSize:"16px"}}},!r&&P,E?mr.default.createElement(i,{underline:"hover",sx:{display:"flex",alignItems:"center",fontSize:"14px"},color:"inherit",to:E,variant:"subtitle1",marginLeft:.5},b):mr.default.createElement(Fa.Typography,{fontSize:"14px"},b))))},up=_(),sp=U(g("lodash/isEqual")),cp=U(g("lodash/unionWith")),dp=e=>{var t,r;let{queryResult:a,defaultValueQueryResult:n,onSearch:o}=(0,up.useSelect)(e);return{autocompleteProps:{options:(0,cp.default)(((t=a.data)==null?void 0:t.data)||[],((r=n.data)==null?void 0:r.data)||[],sp.default),loading:a.isFetching||n.isFetching,onInputChange:(l,c)=>{(l==null?void 0:l.type)==="change"&&o(c)},filterOptions:l=>l},onSearch:o,queryResult:a,defaultValueQueryResult:n}},$i=g("react"),Lr=_(),qa=g("@mui/material"),Si=U(g("lodash/differenceWith")),Fn=U(g("lodash/isEqual")),qn=g("@mui/x-data-grid"),mp=e=>e.map(({field:t,sort:r})=>({field:t,order:r||"asc"})),pp=e=>e.map(({field:t,order:r})=>({field:t,sort:r})),fp=e=>{if(!e)return"eq";switch(e){case"equals":case"is":case"=":return"eq";case"!=":case"not":return"ne";case">":case"after":return"gt";case">=":case"onOrAfter":return"gte";case"<":case"before":return"lt";case"<=":case"onOrBefore":return"lte";case"isEmpty":return"null";case"isNotEmpty":return"nnull";default:return e}},vp=({items:e,linkOperator:t})=>{let r=e.map(({columnField:a,value:n,operatorValue:o})=>({field:a,value:n!=null?n:"",operator:fp(o)}));return t===qn.GridLinkOperator.Or?[{operator:"or",value:r}]:r},Li=(e,t)=>{switch(t){case"number":switch(e){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"singleSelect":case"boolean":switch(e){case"eq":return"is";default:return e}case void 0:case"string":switch(e){case"eq":return"equals";case"contains":return"contains";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"date":case"dateTime":switch(e){case"eq":return"is";case"ne":return"not";case"gt":return"after";case"gte":return"onOrAfter";case"lt":return"before";case"lte":return"onOrBefore";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}default:return e}},gp=(e,t)=>{var r;let a=[],n=e.some(o=>o.operator==="or");return t&&(n?((r=e.find(o=>o.operator==="or"))==null?void 0:r.value).map(({field:o,value:l,operator:c})=>{let m=t[o];a.push({columnField:o,operatorValue:Li(c,m),value:l===""?void 0:l,id:o+c})}):e.map(({field:o,value:l,operator:c})=>{let m=t[o];a.push({columnField:o,operatorValue:Li(c,m),value:l===""?void 0:l,id:o+c})})),{items:a,linkOperator:n?qn.GridLinkOperator.Or:qn.GridLinkOperator.And}};function yp({onSearch:e,initialCurrent:t,initialPageSize:r=25,pagination:a,hasPagination:n=!0,initialSorter:o,permanentSorter:l,defaultSetFilterBehavior:c="replace",initialFilter:m,permanentFilter:v,filters:f,sorters:y,syncWithLocation:C,resource:u,successNotification:h,errorNotification:s,queryOptions:i,liveMode:b,onLiveEvent:P,liveParams:E,meta:d,metaData:x,dataProviderName:k}={}){var p,w,I;let $=(0,qa.useTheme)(),S=(0,Lr.useLiveMode)(b),[D,N]=(0,$i.useState)(),{tableQueryResult:B,current:O,setCurrent:F,pageSize:A,setPageSize:M,filters:Q,setFilters:K,sorters:q,setSorters:V,sorter:W,setSorter:le,pageCount:X,createLinkForSyncWithLocation:Z}=(0,Lr.useTable)({permanentSorter:l,permanentFilter:v,initialCurrent:t,initialPageSize:r,pagination:a,hasPagination:n,initialSorter:o,initialFilter:m,filters:f,sorters:y,syncWithLocation:C,defaultSetFilterBehavior:c,resource:u,successNotification:h,errorNotification:s,queryOptions:i,liveMode:b,onLiveEvent:P,liveParams:E,meta:(0,Lr.pickNotDeprecated)(d,x),metaData:(0,Lr.pickNotDeprecated)(d,x),dataProviderName:k}),[J,pe]=(0,$i.useState)(Q),{data:me,isFetched:Me,isLoading:We}=B,je=n===!1?"off":"server",ze=((p=a==null?void 0:a.mode)!=null?p:je)!=="off",Fe=(w=(0,Lr.pickNotDeprecated)(y==null?void 0:y.permanent,l))!=null?w:[],Ht=(I=(0,Lr.pickNotDeprecated)(f==null?void 0:f.permanent,v))!=null?I:[],gt=se=>{ze&&F(se+1)},Nr=se=>{ze&&M(se)},Et=se=>{let Ce=mp(se);V(Ce)},yt=se=>{let Ce=vp(se);pe(Ce),K(Ce.filter(we=>we.value!=="")),ze&&F(1)},te=async se=>{if(e){let Ce=await e(se);pe(Ce),K(Ce.filter(we=>we.value!=="")),ze&&F(1)}},$e=()=>ze?{paginationMode:"server",page:O-1,onPageChange:gt,pageSize:A,onPageSizeChange:Nr}:{paginationMode:"client"};return{tableQueryResult:B,dataGridProps:{disableSelectionOnClick:!0,rows:(me==null?void 0:me.data)||[],loading:S==="auto"?We:!Me,rowCount:(me==null?void 0:me.total)||0,...$e(),sortingMode:"server",sortModel:pp((0,Si.default)(q,Fe,Fn.default)),onSortModelChange:Et,filterMode:"server",filterModel:gp((0,Si.default)(J,Ht,Fn.default),D),onFilterModelChange:yt,onStateChange:se=>{let Ce=Object.fromEntries(Object.entries(se.columns.lookup).map(([we,Ze])=>[we,Ze.type]));!(0,Fn.default)(Ce,D)&&N(Ce)},sx:{border:"none","& .MuiDataGrid-columnHeaders":{background:(0,qa.darken)($.palette.background.paper,.05),borderBottom:`1px solid ${(0,qa.darken)($.palette.background.paper,.1)}`},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${(0,qa.darken)($.palette.background.paper,.05)}`}}},current:O,setCurrent:F,pageSize:A,setPageSize:M,pageCount:X,sorters:q,setSorters:V,sorter:W,setSorter:le,filters:Q,setFilters:K,search:te,createLinkForSyncWithLocation:Z}}var Oi=g("@mui/material"),hp={mode:"light",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#f0f0f0",paper:"#ffffff"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#fa541c",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#0b82f0",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#626262",secondary:"#9f9f9f",disabled:"#c1c1c1"}},bp={mode:"dark",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#212121",paper:"#242424"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#ee2a1e",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#1890ff",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"#d1d1d1"}},xp={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},Wi={shape:{borderRadius:6},typography:{...xp}},Cp=(0,Oi.createTheme)({...Wi,palette:hp,components:{MuiAppBar:{styleOverrides:{colorDefault:{backgroundColor:"#fff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.01))"}}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),Ep=(0,Oi.createTheme)({...Wi,palette:bp,components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.025), rgba(255, 255, 255, 0.025))"}}},MuiAppBar:{defaultProps:{color:"transparent"}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),Ot=U(g("react")),kp=g("notistack"),Ta=g("@mui/material"),Pp=g("@mui/icons-material"),wp=()=>{let{closeSnackbar:e,enqueueSnackbar:t}=(0,kp.useSnackbar)();return{open:({message:r,type:a,undoableTimeout:n,key:o,cancelMutation:l,description:c})=>{if(a==="progress"){let m=v=>Ot.default.createElement(Ta.IconButton,{onClick:()=>{l==null||l(),e(v)},color:"inherit"},Ot.default.createElement(Pp.UndoOutlined,null));t(Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement(Ri,{undoableTimeout:n!=null?n:0,message:r})),{action:m,anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,key:o,autoHideDuration:(n!=null?n:0)*1e3,disableWindowBlurListener:!0})}else t(Ot.default.createElement(Ta.Box,null,Ot.default.createElement(Ta.Typography,{variant:"subtitle2",component:"h6"},c),Ot.default.createElement(Ta.Typography,{variant:"caption",component:"p"},r)),{variant:a,anchorOrigin:{vertical:"top",horizontal:"right"},disableWindowBlurListener:!0})},close:r=>{e(r)}}},Ip=g("@mui/material"),$p=g("notistack"),Sp=(0,Ip.styled)($p.SnackbarProvider)`
    &.SnackbarItem-contentRoot {
        background-color: ${e=>e.theme.palette.background.default};
        color: ${e=>e.theme.palette.primary.main};
    }
    &.SnackbarItem-variantSuccess {
        background-color: ${e=>e.theme.palette.success.main};
        color: ${e=>e.theme.palette.success.contrastText};
    }
    &.SnackbarItem-variantError {
        background-color: ${e=>e.theme.palette.error.main};
        color: ${e=>e.theme.palette.error.contrastText};
    }
    &.SnackbarItem-variantInfo {
        background-color: ${e=>e.theme.palette.info.main};
        color: ${e=>e.theme.palette.info.contrastText};
    }
    &.SnackbarItem-variantWarning {
        background-color: ${e=>e.theme.palette.warning.main};
        color: ${e=>e.theme.palette.warning.contrastText};
    }
`});var ra=j(g("react")),Eu=j(_());var Qp=j(Xr()),Hp=j(g("@emotion/react")),Vp=j(g("@emotion/styled")),_p=j(g("@mui/lab")),Gp=j(g("@mui/material")),Kp=j(g("@mui/x-data-grid"));var vt=j(g("react")),ao=j(_());var Lp=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,Rn=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];Lp.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a};var zi=j(_());function Bn(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,zi.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}var Jr=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var On=e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null};var Ui=j(g("prettier/standalone")),Qi=j(g("prettier/parser-typescript")),Wn=e=>{try{return Ui.default.format(e,{parser:"typescript",plugins:[Qi.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var jn=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var zn=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,Hi=(e,t)=>{let r=zn.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1};var Ye=e=>e.replace(zn,"");var H=e=>Ye(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var Un=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`);var Vi=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Fp=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,qp=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Qn=(e,t={})=>{let r=e.matchAll(Vi),a=new Set;for(let n of r){let[,o,l,c,m]=n;if(m in t){let v=t[m];if(m==="react")continue;o&&a.add(`const { default: ${o} } = ${v};`),l&&a.add(`const${l.replace(qp,"$1: $3$4")} = ${v};`),c&&a.add(`const ${c} = ${v};`)}}return jn(`
    ${Array.from(a).join(`
`)}
    ${e.replace(Vi,"").replace(Fp,"")}
    `)};var ea=j(g("pluralize"));var Hn=(e,t)=>e?t.find(a=>{let n=Ye(e.key);return a.name===n||a.name===(ea.default.isPlural(n)?n:ea.default.plural(n))||a.name===(ea.default.isSingular(n)?n:ea.default.singular(n))}):void 0;var _i=j(g("pluralize"));var ft=(e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=_i.default.singular(a),l=H(n).replace(/ /g,"")||r,c=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(l)?`${l}${c}`:`${c}${l}`};var Tp=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",G=(e,...t)=>e.reduce((a,n,o)=>`${a}${n}${Tp(t[o])}`,"").trim();var Vn=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var _n=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var Ap=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Gn=e=>Ap.test(e);function Kn(e,t,r){let a=`${e}`;return t&&(a+="?.",Gn(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",Gn(r)?a+=r:a+=`['${r}']`),a}function Np(e,t,r){return(r!=null?r:[]).map(n=>Kn(e,t,n))}var T=(e,t,r,a=' + " " + ')=>Array.isArray(r)?a?Np(e,t,r).join(a):Kn(e,t,r[0]):Kn(e,t,r),Oe=(e,t,r)=>{let a=e;return t&&(a+=`.${t}`),r&&(Array.isArray(r)?a+=`.${r[0]}`:a+=`.${r}`),a};var Tt=e=>{let t=e.reduce((a,[n,o,l])=>(a[o]||(a[o]=[]),a[o].includes(n)||(l?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(v=>Array.isArray(v)&&v[1]),l=n.filter(v=>typeof v=="string"),c=o?`${o[0]}`:"",m=l.length?`{ ${l.join(", ")} }`:"";return`import ${c}${c&&m?", ":""}${m} from "${a}";`})};var Yn=j(g("pluralize")),Fr=(e="")=>Yn.default.isSingular(e)?e:Yn.default.singular(e);var Zn=j(g("pluralize")),qr=(e="")=>Zn.default.isPlural(e)?e:Zn.default.plural(e);var Mp=/^id$/i,fr=e=>Mp.test(e);var At=e=>{};var de=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=H(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var Gi=e=>{let t=(r,a,n,o=t)=>{let l=e.map(m=>m(r,a,n,o));return On(l)};return t};var Ki=e=>(r,a,n,o,l)=>e.reduce((c,m)=>m(c,a,n,o,l),r);var Yi=(e,t,r,a)=>{let n=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(n){if(!o){let c=a(e,t[0],r,a);return c?{...c,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var Zi=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var Xn=j(g("dayjs")),Dp=/(_at|_on|At|On|AT|ON)(\[\])?$/,Rp=["/",":","-","."],Xi=(e,t)=>{let r=Dp.test(e)&&(0,Xn.default)(t).isValid(),a=typeof t=="string"&&(0,Xn.default)(t).isValid();return typeof t=="string"&&Rp.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1};var Bp=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ji=(e,t)=>typeof t=="string"&&Bp.test(t)?{key:e,type:"email",priority:1}:!1;var Op=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,eu=(e,t)=>typeof t=="string"&&Op.test(t)?{key:e,type:"image",priority:2}:!1;var tu=(e,t)=>typeof t>"u"||t===null?null:!1;var ru=(e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1};var Wp=/id$/i,au=(e,t,r,a)=>{let n=t!==null,o=!Array.isArray(t);if(n&&o&&typeof t=="object"){if(Object.keys(t).length===1&&Wp.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let m=Rn(e,t);if((m?m.length>0:!1)&&m){let f=m&&Array.isArray(m)?m[0]:m,y=a(f,t[f],t,a);if(y){let C=Array.isArray(m)?m.map(u=>y.accessor?`${u}.${Array.isArray(y.accessor)?y.accessor[0]:y.accessor}`:u):y.accessor?Array.isArray(y.accessor)?`${m}.${y.accessor[0]}`:`${m}.${y.accessor}`:m;return{...y,fieldable:!0,key:e,accessor:C,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var nu=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var ou=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var jp=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,lu=(e,t)=>typeof t=="string"&&jp.test(t)?{key:e,type:"url",priority:1}:!1;var iu=[Yi,Zi,Xi,Ji,eu,tu,ru,au,Hi,nu,ou,lu];var uu=(e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,c=C=>l.test(`${C}`),m=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!m?o:(o.multiple?a[o.key]:[a[o.key]]).every(C=>c(o.accessor?C[o.accessor]:C))?{...o,canRelation:!0}:o}return o});var zp=/(image|photo|avatar|cover|thumbnail|icon)/i,su=e=>e.map(r=>r.type==="url"&&zp.test(r.key)?{...r,type:"image"}:r);var cu=(e,t)=>e.map(a=>{let n=Hn(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a});var du=(e,t,r,a,n)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let c=l.accessor?a[l.key][l.accessor]:a[l.key],m=n(l.key,c,a,n);if(m&&m.type!=="relation")return{...l,fieldable:!0,relation:!1,type:m.type,canRelation:!0}}return l});var mu=[su,cu,du,uu];var Wt=j(g("react")),Da=j(g("prism-react-renderer")),pu=j(g("prism-react-renderer/themes/vsDark")),Jn=({code:e,wrapperProps:t})=>((0,Wt.useEffect)(()=>{var a;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(a=document.getElementById("code-highlight"))==null||a.appendChild(r)},[]),Wt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},Wt.default.createElement(Da.default,{...Da.defaultProps,theme:pu.default,code:e,language:"tsx"},({className:r,style:a,tokens:n,getLineProps:o,getTokenProps:l})=>Wt.default.createElement("pre",{className:r,style:{...a,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},n.map((c,m)=>Wt.default.createElement("div",{key:m,...o({line:c,key:m})},c.map((v,f)=>Wt.default.createElement("span",{key:f,...l({token:v,key:f})}))))))));var lt=j(g("react")),Up=j(_()),Ra=g("@aliemir/react-live");var fu=[["react","React",lt.default],["@refinedev/core","RefineCore",Up]],eo=lt.default.createContext({}),to=({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{var c;let n=(c=t&&Un(Qn(t,[...fu,...r!=null?r:[]].reduce((m,[v,f,y,C])=>C?m:{...m,[v]:f},{}))))!=null?c:"",o=lt.default.useMemo(()=>({React:lt.default,...lt.default,...[...fu,...r!=null?r:[]].reduce((m,[v,f,y])=>({...m,[f]:y}),{})}),[r]),l=lt.default.useMemo(()=>()=>{let{error:v}=lt.default.useContext(eo);return a?lt.default.createElement(a,{error:v?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${v}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},[a,e]);return lt.default.createElement(Ra.LiveProvider,{Context:eo,code:n,scope:o,noInline:!0},!e&&lt.default.createElement(Ra.LivePreview,{Context:eo}),lt.default.createElement(l,null))};var vr=j(g("react")),Ba=j(_());var vu=(e,t,r)=>{let{resource:a,id:n,resources:o}=(0,Ba.useResource)(t),l=r!=null?r:n,c=(0,Ba.useDataProvider)(),[m,v]=vr.default.useState(void 0),[f,y]=vr.default.useState(void 0),[C,u]=vr.default.useState(!0),[h,s]=vr.default.useState(!1),i=vr.default.useCallback(async b=>{var d,x;let P=(d=Jr(a))!=null?d:Bn(a==null?void 0:a.name,void 0,o),E=c(P);s(!0),v(void 0);try{if((e==="list"||e==="create")&&a){let p=(x=(await E.getList({resource:a==null?void 0:a.name})).data)==null?void 0:x[0];p||v(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(p),setTimeout(()=>{s(!1)},500)}if((e==="edit"||e==="show")&&b&&a){let p=(await E.getOne({resource:a==null?void 0:a.name,id:b})).data;p||v(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(p),setTimeout(()=>{s(!1)},500)}}catch(k){console.warn("An error occured while fetching the resource data. Please check the error message below:",k),v(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${a==null?void 0:a.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{s(!1)},500)}},[e,c,a,o]);return vr.default.useEffect(()=>{u(!1),!h&&!f&&i(l)},[i,l]),{data:f,loading:h,initial:C,error:m}};var Tr=j(g("react")),gu=j(_());var ro=g("lodash"),yu=({record:e,fields:t,infer:r})=>{let a=(0,gu.useDataProvider)(),[n,o]=Tr.default.useState([]),[l,c]=Tr.default.useState(!0),[m,v]=Tr.default.useState(!1),f=Tr.default.useCallback(async y=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let C=[];v(!0);try{let u=y.map(async s=>{if(s&&(s.relation||s.canRelation)&&e){let i=Jr(s.resource),b=a(i),P=Array.isArray(s.accessor)?void 0:s.multiple?e[s.key].map(E=>s.accessor?(0,ro.get)(E,s.accessor):E)[0]:s.accessor?(0,ro.get)(e[s.key],s.accessor):e[s.key];if(P&&s.resource)try{let{data:E}=await b.getOne({resource:s.resource.name,id:P});C.push({status:"success",resource:s.resource.name,field:s.key});let d=r("__",E,{},r);return{...s,relationInfer:d}}catch{return C.push({status:"error",resource:s.resource.name,field:s.key}),{...s,relationInfer:null}}if(P){let E,d;try{let{data:p}=await b.getOne({resource:qr(Ye(s.key)),id:P});C.push({status:"success",resource:qr(Ye(s.key)),field:s.key}),E=p,d=!0}catch{C.push({status:"error",resource:qr(Ye(s.key)),field:s.key});try{let{data:w}=await b.getOne({resource:Fr(Ye(s.key)),id:P});C.push({status:"success",resource:Fr(Ye(s.key)),field:s.key}),E=w,d=!1}catch{return C.push({status:"error",resource:Fr(Ye(s.key)),field:s.key}),{...s,relationInfer:null}}}let x=r("__",E,{},r),k=Ye(s.key);return{...s,relation:!0,type:"relation",resource:{name:d?qr(k):Fr(k)},fieldable:!1,canRelation:void 0,relationInfer:x}}return{...s,relationInfer:null}}return s}),h=await Promise.all(u);o(h.filter(s=>s)),setTimeout(()=>{v(!1)},500)}catch{setTimeout(()=>{v(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${C.length} attempts and succeeded with ${C.filter(u=>u.status==="success").length} attempts.`),console.groupEnd()},500)},[a,e]);return Tr.default.useEffect(()=>{c(!1),!m&&t&&t.length>0&&n.length===0&&f(t)},[f,m,t,f]),{fields:n,loading:m,initial:l}};var jt=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:l,codeViewerComponent:c})=>{let m=Gi([...iu,...r]),v=Ki([...mu,...a]),f=({resourceName:C,fieldTransformer:u,id:h})=>{var $,S,D,N,B,O;let{resource:s,resources:i}=(0,ao.useResource)(C),{resource:b}=(0,ao.useResource)(),{data:P,loading:E,initial:d,error:x}=vu(e,C!=null?C:s==null?void 0:s.name,h),k=vt.default.useMemo(()=>{if(P){let F=Object.keys(P).map(A=>{let M=P[A];return m(A,M,P,m)}).filter(Boolean);if(s){let A=v(F,i,s,P,m);return u?A.flatMap(Q=>{let K=u(Q);return K?[K]:[]}):A}return[]}return[]},[P,i,s,u]),{fields:p,loading:w}=yu({record:P,fields:k,infer:m}),I=vt.default.useMemo(()=>!E&&!w&&!d&&s?n({resource:s,resources:i,fields:p,infer:m,isCustomPage:s.name!==(b==null?void 0:b.name),id:h}):"",[s,i,p,E,w]);return vt.default.createElement(vt.default.Fragment,null,o&&(E||w)&&vt.default.createElement(o,null),!E&&!w&&vt.default.createElement(vt.default.Fragment,null,vt.default.createElement(to,{fetchError:!E&&x?x:!E&&!d&&!P,code:Vn(I,ft((O=(B=(N=(D=($=s==null?void 0:s.meta)==null?void 0:$.label)!=null?D:(S=s==null?void 0:s.options)==null?void 0:S.label)!=null?N:s==null?void 0:s.label)!=null?B:s==null?void 0:s.name)!=null?O:"Resource",e)),errorComponent:l,additionalScope:t}),c&&vt.default.createElement(c,{code:_n(I),loading:E||w})))};return({name:C,resource:u,fieldTransformer:h,id:s})=>vt.default.createElement(f,{fieldTransformer:h,resourceName:u!=null?u:C,key:u!=null?u:C,id:s})};var ta=j(g("react")),Ar=g("@mui/material"),zt=({error:e})=>e?ta.default.createElement(Ar.Box,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"}},ta.default.createElement(Ar.Alert,{severity:"error"},ta.default.createElement(Ar.AlertTitle,null,"Error"),ta.default.createElement("div",{dangerouslySetInnerHTML:{__html:e!=null?e:""}}))):null;var no=j(g("react")),Oa=g("@mui/material"),Ut=()=>no.default.createElement(Oa.Box,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"}},no.default.createElement(Oa.CircularProgress,{size:"large"}));var oe=j(g("react")),it=g("@mui/material"),Ct=g("@tabler/icons");var Qt=({code:e,loading:t})=>{let r=oe.default.useMemo(()=>Wn(e!=null?e:""),[e]),a=oe.default.useRef(null),[n,o]=oe.default.useState(!1),[l,c]=oe.default.useState(!1);if(t)return null;let m=()=>{var v,f,y,C;(v=a==null?void 0:a.current)==null||v.select(),(f=a==null?void 0:a.current)==null||f.setSelectionRange(0,99999),typeof navigator<"u"&&(navigator.clipboard.writeText((C=(y=a==null?void 0:a.current)==null?void 0:y.value)!=null?C:""),c(!0),setTimeout(()=>{c(!1)},1e3))};return r?oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(it.Box,{sx:{position:"fixed",bottom:12,right:60}},oe.default.createElement(it.Box,{sx:{display:"flex",gap:2}},oe.default.createElement(it.Button,{variant:"contained",color:"primary",onClick:()=>o(!0),startIcon:oe.default.createElement(Ct.IconCode,{size:18}),sx:{whiteSpace:"nowrap"}},"Show Code"),oe.default.createElement(it.Button,{variant:"contained",color:"secondary",component:"a",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046",startIcon:oe.default.createElement(Ct.IconMessageCircle,{size:18}),sx:{whiteSpace:"nowrap"}},"Give Feedback"))),oe.default.createElement("div",{style:{height:"50px"}}),oe.default.createElement(it.Modal,{open:n,onClose:()=>o(!1)},oe.default.createElement(it.Box,{sx:{position:"absolute",maxWidth:"800px",width:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",boxShadow:24}},oe.default.createElement(it.IconButton,{onClick:()=>o(!1),disableRipple:!0,sx:{position:"absolute",right:0,top:0,height:56,width:56,display:"flex",alignItems:"center",justifyContent:"center"}},oe.default.createElement(Ct.IconX,{size:18,style:{color:"#666b7a"}})),oe.default.createElement(Jn,{code:r}),oe.default.createElement("textarea",{ref:a,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input",style:{display:"none"}}),oe.default.createElement("div",{style:{position:"absolute",bottom:12,right:12}},oe.default.createElement(it.Button,{key:"copy",sx:{textTransform:"capitalize",width:100},startIcon:l?oe.default.createElement(Ct.IconCheck,{size:18,style:{color:"green"}}):oe.default.createElement(Ct.IconCopy,{size:18}),color:"inherit",variant:"contained",onClick:m},l?"Copied":"Copy"))))):null};var hu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var E;let n=ft((E=e.label)!=null?E:e.name,"show"),o="record",l=[["useShow","@refinedev/core"],["Show","@refinedev/mui"],["Typography","@mui/material"],["Stack","@mui/material"]],m=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{if((d==null?void 0:d.relation)&&!d.fieldable&&d.resource){if(d.multiple){l.push(["useMany","@refinedev/core"]);let x=T(o,d.key);return d.accessor&&(x=`${T(o,d.key)}?.map((item: any) => ${T("item",void 0,d.accessor)})`),`
                const { data: ${de(d.key,"Data")}, isLoading: ${de(d.key,"IsLoading")} } =
                useMany({
                    resource: "${d.resource.name}",
                    ids: ${x} || [],
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
                `}return l.push(["useOne","@refinedev/core"]),`
                const { data: ${de(d.key,"Data")}, isLoading: ${de(d.key,"IsLoading")} } =
                useOne({
                    resource: "${d.resource.name}",
                    id: ${T(o,d.key,d.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
            `}}).filter(Boolean),v=d=>{if(d.relation&&d.resource){let x=de(d.key,"Data"),k=de(d.key,"IsLoading");return d.multiple?(l.push(["TagField","@refinedev/mui"]),G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                {${k} ? (
                    <>
                        Loading...
                    </>
                    ) : (
                    <>
                    ${(()=>{var p;if(d.relationInfer)if((p=d.relationInfer)!=null&&p.accessor){if(Array.isArray(d.relationInfer.accessor))return"Not Handled.";{let w=de(d.key),I=T(w,void 0,d.relationInfer.accessor);return`
                                        <Stack direction="row" spacing={1}>
                                            {${x}?.data?.map((${w}: any) => (
                                                <TagField key={${I}} value={${I}} />
                                            ))}
                                        </Stack>
                                    `}}else return"Not Handled.";else return"not-handled - relation with multiple but no resource"})()}
                    </>
                )}
                `):G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>

                {${k} ? (
                    <>Loading...</>
                ) : (
                    <>
                    ${(()=>{var p;return d.relationInfer?(p=d.relationInfer)!=null&&p.accessor?Array.isArray(d.relationInfer.accessor)?`{${T(`${x}?.data`,void 0,d.relationInfer.accessor,' + " " + ')}}`:`{${x}?.data?.${d.relationInfer.accessor}}`:`{${x}?.data}`:`{${x}?.data?.id}`})()}
                    </>
                )}
                `}},f=d=>{if(d.type==="text"){if(l.push(["TextFieldComponent as TextField","@refinedev/mui"]),d.multiple){l.push(["TagField","@refinedev/mui"]);let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <TagField value={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <TextField value={${T(o,d.key,d.accessor)}} />
            `}},y=d=>{if(d.type==="image"){if(d.multiple){let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <img style={{ maxWidth: 200, width: "100%", height: 200 }} src={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <img style={{ maxWidth: 200, width: "100%", height: 200 }} src={${T(o,d.key,d.accessor," + ")}} />
                `}},C=d=>{if(d.type==="email"){if(l.push(["EmailField","@refinedev/mui"]),d.multiple){l.push(["TagField","@refinedev/mui"]);let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <TagField value={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <EmailField value={${T(o,d.key,d.accessor," + ")}} />
            `}},u=d=>{if(d.type==="url"){if(l.push(["UrlField","@refinedev/mui"]),d.multiple){l.push(["TagField","@refinedev/mui"]);let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <TagField value={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <UrlField value={${T(o,d.key,d.accessor," + ")}} />
            `}},h=d=>{if(d.type==="boolean"){if(l.push(["BooleanField","@refinedev/mui"]),d.multiple){l.push(["TagField","@refinedev/mui"]);let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any, index: number) => (
                    <TagField value={${x}} key={index} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <BooleanField value={${T(o,d.key,d.accessor," && ")}} />
            `}},s=d=>{if(d.type==="date"){if(l.push(["DateField","@refinedev/mui"]),d.multiple){let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <DateField value={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <DateField value={${T(o,d.key,d.accessor," + ' ' + ")}} />
            `}},i=d=>{if(d.type==="richtext")return l.push(["MarkdownField","@refinedev/mui"]),G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <MarkdownField value={${T(o,d.key,d.accessor,' + " " + ')}} />
            `},b=d=>{if(d.type==="number"){if(l.push(["NumberField","@refinedev/mui"]),d.multiple){l.push(["TagField","@refinedev/mui"]);let x=T("item",void 0,d.accessor);return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <Stack direction="row" spacing={1}>
                {${T(o,d.key)}?.map((item: any) => (
                    <TagField value={${x}} key={${x}} />
                ))}
                </Stack>
            `}return G`
                <Typography variant="body1" fontWeight="bold">
                    ${H(d.key)}
                </Typography>
                <NumberField value={${T(o,d.key,d.accessor,' + " " + ')} ?? ""} />
            `}},P=t.map(d=>{switch(d==null?void 0:d.type){case"text":return f(d);case"number":return b(d);case"richtext":return i(d);case"email":return C(d);case"image":return y(d);case"date":return s(d);case"boolean":return h(d);case"url":return u(d);case"relation":return v(d);default:return}});return At(l),G`
    ${Tt(l)}

    export const ${n} = () => {
        const { queryResult } = useShow(${r?`{ 
                    resource: "${e.name}", 
                    id: ${a}
                }`:""});
        const { data, isLoading } = queryResult;
    
        const ${o} = data?.data;
    
        ${m}

        return (
            <Show isLoading={isLoading}>
                <Stack gap={1}>
                    ${P.join("")}
                </Stack>
            </Show>
        );
    };
    `},oo=jt({type:"show",additionalScope:[["@refinedev/mui","RefineMui",Qp],["@emotion/react","EmotionReact",Hp],["@emotion/styled","EmotionStyled",Vp],["@mui/lab","MuiLab",_p],["@mui/material","MuiMaterial",Gp],["@mui/x-data-grid","MuiXDataGrid",Kp]],codeViewerComponent:Qt,loadingComponent:Ut,errorComponent:zt,renderer:hu});var Yp=j(Xr()),Zp=j(g("@emotion/react")),Xp=j(g("@emotion/styled")),Jp=j(g("@mui/lab")),ef=j(g("@mui/material")),tf=j(g("@mui/x-data-grid"));var bu=({resource:e,fields:t,isCustomPage:r})=>{var k;let a=ft((k=e.label)!=null?k:e.name,"list"),n="dataGridProps?.rows",o=[["React","react",!0],["useDataGrid","@refinedev/mui"],["DataGrid","@mui/x-data-grid"],["GridColumns","@mui/x-data-grid"],["EditButton","@refinedev/mui"],["ShowButton","@refinedev/mui"],["DeleteButton","@refinedev/mui"],["List","@refinedev/mui"]],l=t.filter(p=>(p==null?void 0:p.relation)&&!(p!=null&&p.fieldable)&&(p==null?void 0:p.resource)),c=l.filter(Boolean).map(p=>{if((p==null?void 0:p.relation)&&!p.fieldable&&p.resource){o.push(["useMany","@refinedev/core"]);let w="";return p.multiple?w=`[].concat(...(${n}?.map((item: any) => ${T("item",p.key,p.accessor,!1)}) ?? []))`:w=`${n}?.map((item: any) => ${T("item",p.key,p.accessor,!1)}) ?? []`,`
                const { data: ${de(p.key,"Data")}, isLoading: ${de(p.key,"IsLoading")} } =
                useMany({
                    resource: "${p.resource.name}",
                    ids: ${w},
                    queryOptions: {
                        enabled: !!${n},
                    },
                });
                `}}).filter(Boolean),m=l==null?void 0:l.map(p=>{if(p&&p.resource)return`${de(p.key,"Data")}?.data`}).filter(Boolean),v=p=>{var w,I;if(p.relation&&p.resource){let $=`${de(p.key,"Data")}?.data`,S=de(p.key,"IsLoading");if(Array.isArray(p.accessor))return;let D=`${S} ? <>Loading...</> : `,N=`field: "${p.key}"`,B=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",O=`headerName: "${H(p.key)}"`,F="";if(p.multiple){o.push(["TagField","@refinedev/mui"]);let A="item";if(p!=null&&p.relationInfer){let M=`${$}?.find((resourceItems) => resourceItems.id === ${T("item",void 0,p.accessor)})`;A=T(M,void 0,(w=p==null?void 0:p.relationInfer)==null?void 0:w.accessor)}F=`
                renderCell: function render({ value }) {
                    return ${D} (
                        <>
                            {${T("value",void 0)}?.map((item: any, index: number) => (
                                <TagField key={index} value={${A}} />
                            ))}
                        </>
                    )
                }
                `}else if(p!=null&&p.relationInfer){let A=`${$}?.find((item) => item.id === value)`,M=T(A,void 0,(I=p==null?void 0:p.relationInfer)==null?void 0:I.accessor);F=`
                    renderCell: function render({ value }) {
                        return ${D} ${M};
                    }
                    `}else F="";return`
                {
                    ${N},
                    ${O},${B}
                    minWidth: 300,${F}
                }
            `}},f=p=>{if(p.type==="image"){let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
                renderCell: function render({ value }) {
                    return (
                        <img src={${T("value",void 0,Array.isArray(p.accessor)?p.accessor:void 0," + ")}} style={{ height: "50px", maxWidth: "100px" }} />
                    )
                }
            `;return p.multiple&&(S=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <img src={${T("item",void 0,p.accessor," + ")}} key={index} style={{ height: "50px", maxWidth: "100px" }} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${w},
                    ${I},${$}
                    minWidth: 100,${S}
                }
            `}},y=p=>{if(p.type==="email"){o.push(["EmailField","@refinedev/mui"]);let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
            renderCell: function render({ value }) {
                return (
                    <EmailField value={${T("value",void 0,Array.isArray(p.accessor)?p.accessor:void 0," + ")}} />
                )
            }
        `;return p.multiple&&(o.push(["TagField","@refinedev/mui"]),S=`
                renderCell: function render({ value }) {
                    return (
                        <>
                        {value?.map((item: any, index: number) => (
                            <TagField value={${T("item",void 0,p.accessor," + ")}} key={index} />
                        ))}
                        </>
                    )
                }
            `),`
            {
                ${w},
                ${I},${$}
                minWidth: 250,${S}
            }
        `}},C=p=>{if(p.type==="url"){o.push(["UrlField","@refinedev/mui"]);let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
                renderCell: function render({ value }) {
                    return (
                        <UrlField value={${T("value",void 0,Array.isArray(p.accessor)?p.accessor:void 0," + ")}} />
                    )
                }
            `;return p.multiple&&(o.push(["TagField","@refinedev/mui"]),S=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: any) => (
                                <TagField value={${T("item",void 0,p.accessor," + ")}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${w},
                    ${I},${$}
                    minWidth: 250,${S}
                }
            `}},u=p=>{if(p!=null&&p.type){o.push(["Checkbox","@refinedev/mui"]);let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
                renderCell: function render({ value }) {
                    return (
                        <Checkbox checked={!!${T("value",void 0,Array.isArray(p.accessor)?p.accessor:void 0," && ")}} />
                    );
                }
            `;return p.multiple&&(S=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <Checkbox checked={!!${T("item",void 0,p.accessor," && ")}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${w},
                    ${I},${$}
                    minWidth: 250,${S}
                }
            `}},h=p=>{if(p.type==="date"){o.push(["DateField","@refinedev/mui"]);let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
                renderCell: function render({ value }) {
                    return <DateField value={value} />;
                }
            `;return p.multiple&&(S=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <DateField value={${T("item",void 0,p.accessor,' + " " + ')}} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${w},
                    ${I},${$}
                    minWidth: 250,${S}
                }
            `}},s=p=>{if((p==null?void 0:p.type)==="richtext"){o.push(["MarkdownField","@refinedev/mui"]);let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S=`
                renderCell: function render({ value }) {
                    return <MarkdownField value={(value ?? "").slice(0, 80) + "..."} />;
                }
            `;return p.multiple&&(S=`
                    renderCell: function render({ value }) {
                        return (
                            <>
                            {value?.map((item: any, index: number) => (
                                <MarkdownField value={(${T("item",void 0,p.accessor,' + " " + ')}).slice(0, 80) + "..."} key={index} />
                            ))}
                            </>
                        )
                    }
                `),`
                {
                    ${w},
                    ${I},${$}
                    minWidth: 250,${S}
                }
            `}},i=p=>{if(p&&(p.type==="text"||p.type==="number")){let w=`field: "${p.key}"`,I=`headerName: "${H(p.key)}"`,$=p.accessor&&!p.multiple&&!Array.isArray(p.accessor)?`valueGetter: ({ row }) => {
            const value = ${T("row",p.key,p.accessor,!1)};

            return value;
        },`:"",S="";if(p.multiple){o.push(["TagField","@refinedev/mui"]);let D=T("item",void 0,p.accessor,' + " " + ');S=`
                renderCell: function render({ row }) {
                    return (
                        <>
                            {(${T("row",p.key)})?.map((item: any) => (
                                <TagField value={${D}} key={${D}} />
                            ))}
                        </>
                    )
                }
                `}return!p.multiple&&Array.isArray(p.accessor)&&(S=`
                renderCell: function render({ row }) {
                    return (
                        <>{${T("row",p.key,p.accessor)}}</>
                    );
                }
                `),`
            {
                ${w},
                ${I},${$}${p.type==="number"?"type: 'number',":""}
                minWidth: ${fr(p.key)?50:200},${S}
            }
            `}},{canEdit:b,canShow:P,canDelete:E}=e!=null?e:{};b&&o.push(["EditButton","@refinedev/mui"]),P&&o.push(["ShowButton","@refinedev/mui"]),E&&o.push(["DeleteButton","@refinedev/mui"]);let d=b||P||E?G`
            {
                field: "actions",
                headerName: "Actions",
                renderCell: function render({ row }) {
                    return (
                        <>
                            ${b?G`<EditButton hideText recordItemId={row.id} />`:""}
                            ${P?G`<ShowButton hideText recordItemId={row.id} />`:""}
                            ${E?G`<DeleteButton hideText recordItemId={row.id} />`:""}
                        </>
                    );
                },
                align: "center",
                headerAlign: "center",
                minWidth: 80,
            },
    `:"",x=t.map(p=>{switch(p==null?void 0:p.type){case"text":case"number":return i(p);case"richtext":return s(p);case"email":return y(p);case"image":return f(p);case"date":return h(p);case"boolean":return u(p);case"url":return C(p);case"relation":return v(p);default:return}});return At(o),G`
    ${Tt(o)}
    
    export const ${a} = () => {
        const { dataGridProps } = useDataGrid(
            ${r?`{ resource: "${e.name}" }`:""} 
        );
    
        ${c}

        const columns = React.useMemo<GridColumns<any>>(() => [
            ${[...x,d].filter(Boolean).join(`,\r
`)}
        ], [${m.join(",")}]);

        return (
            <List>
                <DataGrid {...dataGridProps} columns={columns} autoHeight />
            </List>
        );
    };
    `},lo=jt({type:"list",additionalScope:[["@refinedev/mui","RefineMui",Yp],["@emotion/react","EmotionReact",Zp],["@emotion/styled","EmotionStyled",Xp],["@mui/lab","MuiLab",Jp],["@mui/material","MuiMaterial",ef],["@mui/x-data-grid","MuiXDataGrid",tf]],codeViewerComponent:Qt,loadingComponent:Ut,errorComponent:zt,renderer:bu});var rf=j(Xr()),af=j(Bt()),nf=j(g("@emotion/react")),of=j(g("@emotion/styled")),lf=j(g("@mui/lab")),uf=j(g("@mui/material")),sf=j(g("@mui/x-data-grid")),cf=j(g("react-hook-form"));var xu=({resource:e,fields:t,isCustomPage:r})=>{var C;let a=ft((C=e.label)!=null?C:e.name,"create"),n=[["Create","@refinedev/mui"],["Box","@mui/material"],["useForm","@refinedev/react-hook-form"]],l=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{if((u==null?void 0:u.relation)&&!u.fieldable&&u.resource)return n.push(["useAutocomplete","@refinedev/mui"]),`
                const { autocompleteProps: ${de(u.key,"AutocompleteProps")} } =
                useAutocomplete({
                    resource: "${u.resource.name}",
                });
            `}).filter(Boolean),c=u=>{if(u.relation&&u.resource){n.push(["Autocomplete","@mui/material"],["Controller","react-hook-form"]);let h=de(u.key,"AutocompleteProps"),s=u.relationInfer&&u.relationInfer.accessor?typeof u.relationInfer.accessor=="string"?u.relationInfer.accessor:u.relationInfer.accessor[0]:"title",i=s.includes(".")||s.includes("[")||s.includes("]")||s.includes("-"),b=u.accessor?T("item",void 0,u.accessor,!1):"(item?.id ?? item)",P=u.accessor?T("value",void 0,u.accessor,!1):"(value?.id ?? value)",E=u.accessor?"value":u.multiple?"value?.map((item: any) => item?.id ?? item)":"value?.id ?? value";return G`
                <Controller
                    control={control}
                    name="${Oe(u.key,void 0)}"
                    rules={{ required: "This field is required" }}
                    // eslint-disable-next-line
                    ${u.multiple?"defaultValue={[] as any}":"defaultValue={null as any}"}
                    render={({ field }) => (
                        <Autocomplete
                            {...${h}}
                            {...field}
                            ${u.multiple?"multiple":""}
                            onChange={(_, value) => {
                                field.onChange(${E});
                            }}
                            getOptionLabel={(item) => {
                                return (
                                    ${h}?.options?.find(
                                        (p) =>
                                            p?.id?.toString() ===
                                            ${b}?.toString(),
                                    )?.${i?`["${s}"]`:s} ?? ""
                                );
                            }}
                            isOptionEqualToValue={(option, value) =>
                                value === undefined ||
                                option.id.toString() === ${P}?.toString()
                            }
                            renderInput={(params) => (
                                <TextField
                                    {...params}
                                    label="${H(u.key)}"
                                    margin="normal"
                                    variant="outlined"
                                    error={!!${T("(errors as any)",u.key,u.accessor,!1)}}
                                    helperText={${T("(errors as any)",u.key,u.accessor,!1)}?.message}
                                    required
                                />
                            )}
                        />
                    )}
                />
            `}},m=u=>{if(u.type==="text"||u.type==="url"||u.type==="email"||u.type==="number"||u.type==="date"||u.type==="richtext")return fr(u.key)||(n.push(["TextField","@mui/material"]),u.multiple)?void 0:G`
                <TextField
                    {...register("${Oe(u.key,void 0,u.accessor)}", {
                        required: "This field is required",
                        ${u.type==="number"?"valueAsNumber: true,":""}
                    })}
                    error={!!${T("(errors as any)",u.key,u.accessor,!1)}}
                    helperText={${T("(errors as any)",u.key,u.accessor,!1)}?.message}
                    margin="normal"
                    fullWidth
                    InputLabelProps={{ shrink: true }}
                    ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                    ${u.type==="richtext"?"multiline":""}
                    label="${H(u.key)}"
                    name="${Oe(u.key,void 0,u.accessor)}"
                />
            `},v=u=>{if(u.type==="boolean")return n.push(["Checkbox","@mui/material"],["FormControlLabel","@mui/material"],["Controller","react-hook-form"]),u.multiple?void 0:G`
                <Controller
                    control={control}
                    name="${Oe(u.key,void 0,u.accessor)}"
                    // eslint-disable-next-line
                    defaultValue={null as any}
                    render={({ field }) => (
                        <FormControlLabel label="${H(u.key)}" control={
                            <Checkbox
                                {...field}
                                checked={field.value}
                                onChange={(event) => {
                                    field.onChange(event.target.checked);
                                }}
                            />
                        } />
                    )}
                />
            `},f=u=>{if(u.type==="date"){let h=m(u);return`
                {/*
                    DatePicker component is not included in "@refinedev/mui" package.
                    To use a <DatePicker> component, you can follow the official documentation for Material UI.

                    Docs: https://mui.com/x/react-date-pickers/date-picker/#basic-usage
                */}
                ${h!=null?h:""}
                `}},y=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":case"email":case"url":case"richtext":return m(u);case"date":return f(u);case"boolean":return v(u);case"relation":return c(u);default:return}});return At(n),G`
    ${Tt(n)}

    export const ${a} = () => {
        const {
            saveButtonProps,
            refineCore: { formLoading },
            register,
            control,
            formState: { errors },
        } = useForm(
            ${r?`{
                refineCoreProps: {
                    resource: "${e.name}",
                    action: "create",
                }
            }`:""}
        );

        ${l}

        return (
            <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>
                <Box
                    component="form"
                    sx={{ display: "flex", flexDirection: "column" }}
                    autoComplete="off"
                >
                    ${y.join("")}
                </Box>
            </Create>
        );
    };
    `},io=jt({type:"create",additionalScope:[["@refinedev/mui","RefineMui",rf],["@refinedev/react-hook-form","RefineReactHookForm",af],["@emotion/react","EmotionReact",nf],["@emotion/styled","EmotionStyled",of],["@mui/lab","MuiLab",lf],["@mui/material","MuiMaterial",uf],["@mui/x-data-grid","MuiXDataGrid",sf],["react-hook-form","ReactHookForm",cf]],codeViewerComponent:Qt,loadingComponent:Ut,errorComponent:zt,renderer:xu});var df=j(Xr()),mf=j(Bt()),pf=j(g("@emotion/react")),ff=j(g("@emotion/styled")),vf=j(g("@mui/lab")),gf=j(g("@mui/material")),yf=j(g("@mui/x-data-grid")),hf=j(g("react-hook-form"));var Cu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var h,s;let n=ft((h=e.label)!=null?h:e.name,"edit"),o=de((s=e.label)!=null?s:e.name,"Data"),l=[["Edit","@refinedev/mui"],["Box","@mui/material"],["useForm","@refinedev/react-hook-form"]],m=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){l.push(["useAutocomplete","@refinedev/mui"]);let b=T(o,i.key,i.accessor,!1);return i.multiple&&i.accessor&&(b=`${T(o,i.key)}?.map((item: any) => ${T("item",void 0,i.accessor)})`),`
                const { autocompleteProps: ${de(i.key,"AutocompleteProps")} } =
                useAutocomplete({
                    resource: "${i.resource.name}",
                    defaultValue: ${b},
                });
            `}}).filter(Boolean),v=i=>{if(i.relation&&i.resource){l.push(["Autocomplete","@mui/material"],["Controller","react-hook-form"]);let b=de(i.key,"AutocompleteProps"),P=i.relationInfer&&i.relationInfer.accessor?typeof i.relationInfer.accessor=="string"?i.relationInfer.accessor:i.relationInfer.accessor[0]:"title",E=P.includes(".")||P.includes("[")||P.includes("]")||P.includes("-"),d=i.accessor?T("item",void 0,i.accessor,!1):"(item?.id ?? item)",x=i.accessor?T("value",void 0,i.accessor,!1):"(value?.id ?? value)",k=i.accessor?"value":i.multiple?"value?.map((item: any) => item?.id ?? item)":"value?.id ?? value";return G`
                <Controller
                    control={control}
                    name="${Oe(i.key,void 0)}"
                    rules={{ required: "This field is required" }}
                    // eslint-disable-next-line
                    ${i.multiple?"defaultValue={[] as any}":"defaultValue={null as any}"}
                    render={({ field }) => (
                        <Autocomplete
                            {...${b}}
                            {...field}
                            ${i.multiple?"multiple":""}
                            onChange={(_, value) => {
                                field.onChange(${k});
                            }}
                            getOptionLabel={(item) => {
                                return (
                                    ${b}?.options?.find(
                                        (p) =>
                                            p?.id?.toString() ===
                                            ${d}?.toString(),
                                    )?.${E?`["${P}"]`:P} ?? ""
                                );
                            }}
                            isOptionEqualToValue={(option, value) =>
                                value === undefined ||
                                option?.id?.toString() === ${x}?.toString()
                            }
                            renderInput={(params) => (
                                <TextField
                                    {...params}
                                    label="${H(i.key)}"
                                    margin="normal"
                                    variant="outlined"
                                    error={!!${T("(errors as any)",i.key,i.accessor,!1)}}
                                    helperText={${T("(errors as any)",i.key,i.accessor,!1)}?.message}
                                    required
                                />
                            )}
                        />
                    )}
                />
            `}},f=i=>{if(i.type==="text"||i.type==="url"||i.type==="email"||i.type==="number"||i.type==="date"||i.type==="richtext"){if(l.push(["TextField","@mui/material"]),i.multiple){l.push(["Box","@mui/material"]);let b=Oe(i.key,"${index}",i.accessor),P=T("(errors as any)",i.key,void 0,!1)+"?.[index]";return`
                    <Box sx={{display: "flex", gap: 1}}>
                        {${T(o,i.key)}?.map((item: any, index: number) => (
                            <TextField
                                key={index}
                                {...register(\`${b}\`, {
                                    required: "This field is required",
                                    ${i.type==="number"?"valueAsNumber: true,":""}
                                })}
                                error={!!${P}}
                                helperText={${P}?.message as string}
                                margin="normal"
                                fullWidth
                                InputLabelProps={{ shrink: true }}
                                ${i.type!=="date"&&i.type!=="richtext"?`type="${i.type}"`:""}
                                ${i.type==="richtext"?"multiline":""}
                                label={\`${H(i.key)} \${index+1}\`}
                                name={\`${Oe(i.key,void 0,i.accessor)}.\${index}\`}
                            />
                        ))}
                    </Box>
                `}return G`
                <TextField
                    {...register("${Oe(i.key,void 0,i.accessor)}", {
                        required: "This field is required",
                        ${i.type==="number"?"valueAsNumber: true,":""}
                    })}
                    error={!!${T("(errors as any)",i.key,i.accessor,!1)}}
                    helperText={${T("(errors as any)",i.key,i.accessor,!1)}?.message}
                    margin="normal"
                    fullWidth
                    InputLabelProps={{ shrink: true }}
                    ${i.type!=="date"&&i.type!=="richtext"?`type="${i.type}"`:""}
                    ${i.type==="richtext"?"multiline":""}
                    label="${H(i.key)}"
                    name="${Oe(i.key,void 0,i.accessor)}"
                    ${fr(i.key)?"disabled":""}
                />
            `}},y=i=>{if(i.type==="boolean"){if(l.push(["Checkbox","@mui/material"],["FormControlLabel","@mui/material"],["Controller","react-hook-form"]),i.multiple){l.push(["Box","@mui/material"]);let b=Oe(i.key,"${index}",i.accessor);return`
                    <Box sx={{display: "flex", gap: 1}}>
                        {${T(o,i.key)}?.map((item: any, index: number) => (
                            <Controller
                                key={index}
                                control={control}
                                name={\`${b}\`}
                                // eslint-disable-next-line
                                defaultValue={null as any}
                                render={({ field }) => (
                                    <FormControlLabel label={\`${H(i.key)} \${index+1}\`} control={
                                        <Checkbox
                                            {...field}
                                            checked={field.value}
                                            onChange={(event) => {
                                                field.onChange(event.target.checked);
                                            }}
                                        />
                                    } />
                                )}
                            />
                        ))}
                    </Box>
                `}return G`
                <Controller
                    control={control}
                    name="${Oe(i.key,void 0,i.accessor)}"
                    // eslint-disable-next-line
                    defaultValue={null as any}
                    render={({ field }) => (
                        <FormControlLabel label="${H(i.key)}" control={
                            <Checkbox
                                {...field}
                                checked={field.value}
                                onChange={(event) => {
                                    field.onChange(event.target.checked);
                                }}
                            />
                        } />
                    )}
                />
            `}},C=i=>{if(i.type==="date")return`
                {/*
                    DatePicker component is not included in "@refinedev/mui" package.
                    To use a <DatePicker> component, you can follow the official documentation for Material UI.

                    Docs: https://mui.com/x/react-date-pickers/date-picker/#basic-usage
                */}
                ${f(i)}
                `},u=t.map(i=>{switch(i==null?void 0:i.type){case"text":case"number":case"email":case"url":case"richtext":return f(i);case"date":return C(i);case"boolean":return y(i);case"relation":return v(i);default:return}});return At(l),G`
    ${Tt(l)}

    export const ${n} = () => {
        const {
            saveButtonProps,
            refineCore: { queryResult },
            register,
            control,
            formState: { errors },
        } = useForm(
            ${r?`{
                refineCoreProps: {
                    resource: "${e.name}",
                    id: ${a},
                    action: "edit",
                }
            }`:""}
        );

        const ${o} = queryResult?.data?.data;

        ${m}

        return (
            <Edit saveButtonProps={saveButtonProps}>
                <Box
                    component="form"
                    sx={{ display: "flex", flexDirection: "column" }}
                    autoComplete="off"
                >
                    ${u.join("")}
                </Box>
            </Edit>
        );
    };
    `},uo=jt({type:"edit",additionalScope:[["@refinedev/mui","RefineMui",df],["@refinedev/react-hook-form","RefineReactHookForm",mf],["@emotion/react","EmotionReact",pf],["@emotion/styled","EmotionStyled",ff],["@mui/lab","MuiLab",vf],["@mui/material","MuiMaterial",gf],["@mui/x-data-grid","MuiXDataGrid",yf],["react-hook-form","ReactHookForm",hf]],codeViewerComponent:Qt,loadingComponent:Ut,errorComponent:zt,renderer:Cu});var hy=({action:e,id:t,...r})=>{let{action:a,id:n}=(0,Eu.useResource)();switch(e!=null?e:a){case"show":return ra.default.createElement(oo,{...r,id:t!=null?t:n});case"create":return ra.default.createElement(io,{...r,id:t!=null?t:n});case"edit":return ra.default.createElement(uo,{...r,id:t!=null?t:n});default:return ra.default.createElement(lo,{...r,id:t!=null?t:n})}};})();
//# sourceMappingURL=mui.js.map