(()=>{var hi=Object.create;var On=Object.defineProperty;var bi=Object.getOwnPropertyDescriptor;var Ci=Object.getOwnPropertyNames;var xi=Object.getPrototypeOf,$i=Object.prototype.hasOwnProperty;var E=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Cr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Pi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ci(t))!$i.call(e,a)&&a!==r&&On(e,a,{get:()=>t[a],enumerable:!(n=bi(t,a))||n.enumerable});return e};var z=(e,t,r)=>(r=e!=null?hi(xi(e)):{},Pi(t||!e||!e.__esModule?On(r,"default",{value:e,enumerable:!0}):r,e));var Ae=Cr((Xu,Co)=>{var ki=Object.create,sr=Object.defineProperty,Ei=Object.getOwnPropertyDescriptor,wi=Object.getOwnPropertyNames,Ii=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty,Li=(e,t)=>{for(var r in t)sr(e,r,{get:t[r],enumerable:!0})},Pa=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of wi(t))!Si.call(e,a)&&a!==r&&sr(e,a,{get:()=>t[a],enumerable:!(n=Ei(t,a))||n.enumerable});return e},q=(e,t,r)=>(r=e!=null?ki(Ii(e)):{},Pa(t||!e||!e.__esModule?sr(r,"default",{value:e,enumerable:!0}):r,e)),Ni=e=>Pa(sr({},"__esModule",{value:!0}),e),ka={};Li(ka,{AuthPage:()=>Bl,Authenticated:()=>ou,CanAccess:()=>su,ErrorComponent:()=>Ql,GitHubBanner:()=>uu,LayoutWrapper:()=>ru,LoginPage:()=>yo,ReadyPage:()=>go,Refine:()=>tu,ResourceContext:()=>Wt,RouteChangeHandler:()=>bo,UndoableQueue:()=>ho,WelcomePage:()=>Hl,createTreeView:()=>rs,file2Base64:()=>_i,getDefaultFilter:()=>Ki,getDefaultSortOrder:()=>Hi,getNextPageParam:()=>Wa,getPreviousPageParam:()=>za,handleUseParams:()=>Gi,importCSVMapper:()=>Fa,legacyResourceTransform:()=>Va,matchResourceFromRoute:()=>ts,parseTableParams:()=>Vr,parseTableParamsFromQuery:()=>Bi,pickNotDeprecated:()=>S,routeGenerator:()=>Ta,setInitialFilters:()=>Rr,setInitialSorters:()=>Or,stringifyTableParams:()=>Mr,unionFilters:()=>Tt,unionSorters:()=>Dr,useActiveAuthProvider:()=>le,useApiUrl:()=>xs,useAuthenticated:()=>Ui,useBack:()=>co,useBreadcrumb:()=>Ol,useCan:()=>fo,useCanWithoutCache:()=>Pl,useCancelNotification:()=>St,useCheckError:()=>Qi,useCreate:()=>_r,useCreateMany:()=>_a,useCustom:()=>Ps,useCustomMutation:()=>Es,useDataProvider:()=>ce,useDelete:()=>vs,useDeleteMany:()=>Cs,useExport:()=>ol,useForgotPassword:()=>La,useForm:()=>il,useGetIdentity:()=>Ia,useGetLocale:()=>Ys,useGetToPath:()=>Xr,useGo:()=>Le,useHandleNotification:()=>xe,useImport:()=>dl,useInfiniteList:()=>Ls,useInvalidate:()=>ht,useIsAuthenticated:()=>Wr,useIsExistAuthentication:()=>Aa,useLink:()=>cr,useList:()=>Hr,useLiveMode:()=>Za,useLog:()=>gt,useLogList:()=>Fl,useLogin:()=>Qr,useLogout:()=>qr,useMany:()=>Ba,useMenu:()=>Ul,useModal:()=>pl,useMutationMode:()=>Nt,useNavigation:()=>Ne,useNotification:()=>tt,useOnError:()=>Ce,useOne:()=>Kr,useParse:()=>ao,useParsed:()=>Se,usePermissions:()=>qi,usePublish:()=>yt,useRedirectionAfterSubmission:()=>uo,useRefineContext:()=>Jr,useRegister:()=>Sa,useResource:()=>G,useResourceSubscription:()=>Qt,useResourceWithRoute:()=>ur,useRouterContext:()=>de,useRouterType:()=>ae,useSelect:()=>wl,useSetLocale:()=>Gs,useShow:()=>ll,useSubscription:()=>qs,useSyncWithLocation:()=>lo,useTable:()=>Sl,useTitle:()=>tl,useToPath:()=>fl,useTranslate:()=>Z,useUpdate:()=>Ka,useUpdateMany:()=>hs,useUpdatePassword:()=>Na,useWarnAboutChange:()=>Zr,userFriendlyResourceName:()=>jr});Co.exports=Ni(ka);var mt=q(E("react")),It=q(E("react")),Ea=It.default.createContext({}),Ai=({children:e,isProvided:t,...r})=>{let{replace:n}=Ne(),a=async m=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,m))}catch(v){return Promise.reject(v)}},o=async m=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,m))}catch(v){return Promise.reject(v)}},i=async m=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,m))}catch(v){return Promise.reject(v)}},d=async m=>{var f;try{return await((f=r.checkAuth)==null?void 0:f.call(r,m)),Promise.resolve()}catch(v){return v!=null&&v.redirectPath&&n(v.redirectPath),Promise.reject(v)}};return It.default.createElement(Ea.Provider,{value:{...r,login:a,logout:i,checkAuth:d,register:o,isProvided:t}},e)},wa=It.default.createContext({}),Fi=({children:e,isProvided:t,...r})=>{let n=async f=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,f))}catch(y){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",y),Promise.reject(y)}},a=async f=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,f))}catch(y){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",y),Promise.reject(y)}},o=async f=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,f))}catch(y){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",y),Promise.reject(y)}},i=async f=>{var v;try{let y=await((v=r.check)==null?void 0:v.call(r,f));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",y),Promise.reject(y)}},d=async f=>{var v;try{let y=await((v=r.forgotPassword)==null?void 0:v.call(r,f));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",y),Promise.reject(y)}},m=async f=>{var v;try{let y=await((v=r.updatePassword)==null?void 0:v.call(r,f));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",y),Promise.reject(y)}};return It.default.createElement(wa.Provider,{value:{...r,login:n,logout:o,check:i,register:a,forgotPassword:d,updatePassword:m,isProvided:t}},e)},we=()=>It.default.useContext(Ea),Re=()=>It.default.useContext(wa),Tn=E("@tanstack/react-query");function qi({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=we(),{getPermissions:n}=Re(),a=(0,Tn.useQuery)(["usePermissions"],n!=null?n:()=>Promise.resolve(void 0),{enabled:!e&&!!n,...e?{}:t}),o=(0,Tn.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?o:a}var Un=E("@tanstack/react-query");function Ia({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=we(),{getIdentity:n}=Re(),a=(0,Un.useQuery)(["getUserIdentity"],n!=null?n:()=>Promise.resolve({}),{enabled:!e&&!!n,retry:!1,...e===!0?{}:t}),o=(0,Un.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?o:a}var Qn=E("@tanstack/react-query"),Mi=E("@tanstack/react-query"),Ur=()=>{let e=(0,Mi.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function qr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ur(),n=ae(),a=Le(),{push:o}=Ne(),{open:i,close:d}=tt(),{logout:m}=we(),{logout:f}=Re(),v=(0,Qn.useMutation)(["useLogout"],f,{onSuccess:(x,p)=>{let{success:g,error:s,redirectTo:l}=x,{redirectPath:C}=p!=null?p:{},u=C!=null?C:l;g&&(d==null||d("useLogout-error")),(s||!g)&&(i==null||i(xr(s))),u!==!1&&(n==="legacy"?o(u!=null?u:"/login"):u&&a({to:u})),r()},onError:x=>{i==null||i(xr(x))},...e===!0?{}:t}),y=(0,Qn.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],m,{onSuccess:(x,p)=>{var g;let s=(g=p==null?void 0:p.redirectPath)!=null?g:x;if(s!==!1){if(s){n==="legacy"?o(s):a({to:s});return}n==="legacy"?o("/login"):a({to:"/login"}),r()}},onError:x=>{i==null||i(xr(x))},...e?t:{}});return e?y:v}var xr=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),Wn=E("@tanstack/react-query"),Di=q(E("qs")),Ri=q(E("react"));function Qr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ur(),n=ae(),a=Le(),{replace:o}=Ne(),i=Se(),{useLocation:d}=de(),{search:m}=d(),{close:f,open:v}=tt(),{login:y}=we(),{login:x}=Re(),p=Ri.default.useMemo(()=>{var l;return n==="legacy"?Di.default.parse(m,{ignoreQueryPrefix:!0}).to:(l=i.params)==null?void 0:l.to},[n,i.params,m]),g=(0,Wn.useMutation)(["useLogin"],x,{onSuccess:({success:l,redirectTo:C,error:u})=>{l&&(f==null||f("login-error")),(u||!l)&&(v==null||v($r(u))),p&&l?n==="legacy"?o(p):a({to:p,type:"replace"}):C?n==="legacy"?o(C):a({to:C,type:"replace"}):n==="legacy"&&o("/"),setTimeout(()=>{r()})},onError:l=>{v==null||v($r(l))},...e===!0?{}:t}),s=(0,Wn.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],y,{onSuccess:l=>{p&&o(p),l!==!1&&!p&&(typeof l=="string"?n==="legacy"?o(l):a({to:l,type:"replace"}):n==="legacy"?o("/"):a({to:"/",type:"replace"})),f==null||f("login-error"),setTimeout(()=>{r()})},onError:l=>{v==null||v($r(l))},...e?t:{}});return e?s:g}var $r=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),zn=E("@tanstack/react-query");function Sa({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Ur(),n=ae(),a=Le(),{replace:o}=Ne(),{register:i}=we(),{register:d}=Re(),{close:m,open:f}=tt(),v=(0,zn.useMutation)(["useRegister"],d,{onSuccess:({success:x,redirectTo:p,error:g})=>{x&&(m==null||m("register-error")),(g||!x)&&(f==null||f(Pr(g))),p?n==="legacy"?o(p):a({to:p,type:"replace"}):n==="legacy"&&o("/"),r()},onError:x=>{f==null||f(Pr(x))},...e===!0?{}:t}),y=(0,zn.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],i,{onSuccess:x=>{x!==!1&&(x?n==="legacy"?o(x):a({to:x,type:"replace"}):n==="legacy"?o("/"):a({to:"/",type:"replace"}),m==null||m("register-error")),r()},onError:x=>{f==null||f(Pr(x))},...e?t:{}});return e?y:v}var Pr=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),Vn=E("@tanstack/react-query");function La({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ae(),n=Le(),{replace:a}=Ne(),{forgotPassword:o}=we(),{forgotPassword:i}=Re(),{close:d,open:m}=tt(),f=(0,Vn.useMutation)(["useForgotPassword"],i,{onSuccess:({success:y,redirectTo:x,error:p})=>{y&&(d==null||d("forgot-password-error")),(p||!y)&&(m==null||m(kr(p))),x&&(r==="legacy"?a(x):n({to:x,type:"replace"}))},onError:y=>{m==null||m(kr(y))},...e===!0?{}:t}),v=(0,Vn.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],o,{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?a(y):n({to:y,type:"replace"})),d==null||d("forgot-password-error")},onError:y=>{m==null||m(kr(y))},...e?t:{}});return e?v:f}var kr=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),Oi=q(E("react")),jn=E("@tanstack/react-query"),Ti=q(E("qs"));function Na({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ae(),n=Le(),{replace:a}=Ne(),{updatePassword:o}=we(),{updatePassword:i}=Re(),{close:d,open:m}=tt(),f=Se(),{useLocation:v}=de(),{search:y}=v(),x=Oi.default.useMemo(()=>{var s;if(r==="legacy"){let l=Ti.default.parse(y,{ignoreQueryPrefix:!0});return l!=null?l:{}}else return(s=f.params)!=null?s:{}},[y,f,r]),p=(0,jn.useMutation)(["useUpdatePassword"],async s=>i==null?void 0:i({...x,...s}),{onSuccess:({success:s,redirectTo:l,error:C})=>{s&&(d==null||d("update-password-error")),(C||!s)&&(m==null||m(Er(C))),l&&(r==="legacy"?a(l):n({to:l,type:"replace"}))},onError:s=>{m==null||m(Er(s))},...e===!0?{}:t}),g=(0,jn.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async s=>o==null?void 0:o({...x,...s}),{onSuccess:s=>{s!==!1&&s&&(r==="legacy"?a(s):n({to:s,type:"replace"})),d==null||d("update-password-error")},onError:s=>{m==null||m(Er(s))},...e?t:{}});return e?g:p}var Er=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),Bn=E("@tanstack/react-query");function Wr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=we(),{check:n}=Re(),a=(0,Bn.useQuery)(["useAuthenticated",t],async()=>{var i;return(i=await(n==null?void 0:n(t)))!=null?i:{}},{retry:!1,enabled:!e}),o=(0,Bn.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var i;return(i=await(r==null?void 0:r(t)))!=null?i:{}},{retry:!1,enabled:e});return e?o:a}var Ui=Wr,Hn=E("@tanstack/react-query");function Ce({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ae(),r=Le(),{replace:n}=Ne(),{checkError:a}=we(),{onError:o}=Re(),{mutate:i}=qr({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:d}=qr({v3LegacyAuthProviderCompatible:Boolean(e)}),m=(0,Hn.useMutation)(["useCheckError"],o,{onSuccess:({logout:v,redirectTo:y})=>{if(v){d({redirectPath:y});return}if(y){t==="legacy"?n(y):r({to:y,type:"replace"});return}}}),f=(0,Hn.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],a,{onError:v=>{i({redirectPath:v})}});return e?f:m}var Qi=Ce,Aa=()=>{let{isProvided:e}=we(),{isProvided:t}=Re();return Boolean(t||e)},Wi=E("@tanstack/react-query"),wr=e=>e/1e3,zi=q(E("lodash/zip")),Vi=q(E("lodash/fromPairs")),Fa=(e,t=r=>r)=>{let[r,...n]=e;return n.map(a=>(0,Vi.default)((0,zi.default)(r,a))).map((a,o,i)=>t.call(void 0,a,o,i))},Kn=q(E("pluralize")),zr=q(E("qs")),qa=q(E("lodash/unionWith")),Ma=q(E("lodash/differenceWith")),ji=q(E("warn-once")),Vr=e=>{var t;let{current:r,pageSize:n,sorter:a,sorters:o,filters:i}=zr.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:n&&Number(n),parsedSorter:(t=S(o,a))!=null?t:[],parsedFilters:i!=null?i:[]}},Bi=e=>{let t=zr.default.stringify(e);return Vr(`/${t}`)},Mr=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:a,filters:o,...i}=e;return zr.default.stringify({...i,...r||{},sorters:S(a,n),filters:o},t)},Da=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Ra=(e,t)=>e.field==t.field,Tt=(e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,ji.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,qa.default)(e,t,r,Da).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),Dr=(e,t)=>(0,qa.default)(e,t,Ra).filter(r=>r.order!==void 0&&r.order!==null),Rr=(e,t)=>[...(0,Ma.default)(t,e,Da),...e],Or=(e,t)=>[...(0,Ma.default)(t,e,Ra),...e],Hi=(e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},Ki=(e,t,r="eq")=>{let n=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:o,field:i}=a;return i===e&&o===r}});if(n)return n.value||[]},_i=e=>new Promise((t,r)=>{let n=new FileReader,a=()=>{n.result&&(n.removeEventListener("load",a,!1),t(n.result))};n.addEventListener("load",a,!1),n.readAsDataURL(e.originFileObj),n.onerror=o=>(n.removeEventListener("load",a,!1),r(o))}),jr=(e="",t)=>{let r=nr(e);return t==="singular"?Kn.default.singular(r):Kn.default.plural(r)},Gi=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,S=(...e)=>e.find(t=>typeof t<"u"),Ie=(e,t,r,n)=>{let a=t||"default",o={all:[a],resourceAll:[a,e||""],list:i=>[...o.resourceAll,"list",{...i,...S(r,n)||{}}],many:i=>[...o.resourceAll,"getMany",i&&i.map(String),{...S(r,n)||{}}].filter(d=>d!==void 0),detail:i=>[...o.resourceAll,"detail",i==null?void 0:i.toString(),{...S(r,n)||{}}],logList:i=>["logList",e,i,n].filter(d=>d!==void 0)};return o},Yi=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),Br=e=>e.startsWith(":"),wt=e=>e.split("/").filter(t=>t!==""),Zi=(e,t)=>{let r=wt(e),n=wt(t);return r.length===n.length},Be=e=>e.replace(/^\/|\/$/g,""),Ji=(e,t)=>{let r=Be(e),n=Be(t);if(!Zi(r,n))return!1;let a=wt(r);return wt(n).every((o,i)=>Br(o)||o===a[i])},Xi=(e,t,r)=>{let n=Be(r||""),a=`${n}${n?"/":""}${e}`;return t==="list"?a=`${a}`:t==="create"?a=`${a}/create`:t==="edit"?a=`${a}/edit/:id`:t==="show"?a=`${a}/show/:id`:t==="clone"&&(a=`${a}/clone/:id`),`/${a.replace(/^\//,"")}`},Xe=(e,t)=>{var r,n;let a=S((r=e.meta)==null?void 0:r.parent,(n=e.options)==null?void 0:n.parent,e.parentName);if(!a)return;let o=t.find(i=>{var d;return((d=i.identifier)!=null?d:i.name)===a});return o!=null?o:{name:a}},Oa=(e,t,r)=>{let n=[],a=Xe(e,t);for(;a;)n.push(a),a=Xe(a,t);if(n.length!==0)return`/${n.reverse().map(o=>{var i,d;let m=r&&(d=(i=o.options)==null?void 0:i.route)!=null?d:o.name;return Be(m)}).join("/")}`},be=(e,t,r)=>{let n=[],a=["list","show","edit","create","clone"],o=Oa(e,t,r);return a.forEach(i=>{var d,m,f,v;let y=r&&i==="clone"?e.create:e[i],x;typeof y=="function"||r?x=Xi(r&&(v=(f=(d=e.meta)==null?void 0:d.route)!=null?f:(m=e.options)==null?void 0:m.route)!=null?v:e.name,i,r?o:void 0):typeof y=="string"?x=y:typeof y=="object"&&(x=y.path),x&&n.push({action:i,resource:e,route:`/${x.replace(/^\//,"")}`})}),n},es=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let n=e.map(i=>({...i,splitted:wt(Be(i.route))})),a=(r=(t=n[0])==null?void 0:t.splitted.length)!=null?r:0,o=[...n];for(let i=0;i<a;i++){let d=o.filter(m=>!Br(m.splitted[i]));if(d.length!==0){if(d.length===1){o=d;break}o=d}}return o[0]},ts=(e,t)=>{let r=t.flatMap(a=>be(a,t)).filter(a=>Ji(e,a.route)),n=es(r);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},Ta=(e,t)=>{var r,n,a;let o,i=Oa(e,t,!0);if(i){let d=S(e.meta,e.options);o=`${i}/${(r=d==null?void 0:d.route)!=null?r:e.name}`}else o=(a=(n=e.options)==null?void 0:n.route)!=null?a:e.name;return`/${o.replace(/^\//,"")}`},rs=e=>{var t,r,n;let a=[],o={},i={},d,m;for(let f=0;f<e.length;f++){d=e[f];let v=(n=(r=d.route)!=null?r:(t=S(d==null?void 0:d.meta,d.options))==null?void 0:t.route)!=null?n:"";o[v]=d,o[v].children=[],i[d.name]=d,i[d.name].children=[]}for(let f in o)o.hasOwnProperty(f)&&(m=o[f],m.parentName&&i[m.parentName]?i[m.parentName].children.push(m):a.push(m));return a},nr=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),Ua=q(E("react")),ns=q(E("react")),Qa=({children:e})=>ns.default.createElement("div",null,e),Ve={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},et=Ua.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Qa,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ve}),as=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:a,children:o,DashboardPage:i,Title:d,Layout:m=Qa,Header:f,Sider:v,Footer:y,OffLayoutArea:x,LoginPage:p=yo,catchAll:g,liveMode:s="off",onLiveEvent:l,options:C})=>Ua.default.createElement(et.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:d,undoableTimeout:a,Layout:m,Header:f,Sider:v,Footer:y,OffLayoutArea:x,DashboardPage:i,LoginPage:p,catchAll:g,liveMode:s,onLiveEvent:l,options:C}},o),os=({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:a,reactQueryDevtoolConfig:o,syncWithLocation:i,undoableTimeout:d,warnWhenUnsavedChanges:m}={})=>{var f,v,y,x,p,g,s,l,C,u,b,P,$,k,c,w,L,h,I,D,N,M,R,A;let O={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(v=(f=e==null?void 0:e.mutationMode)!=null?f:n)!=null?v:Ve.mutationMode,undoableTimeout:(x=(y=e==null?void 0:e.undoableTimeout)!=null?y:d)!=null?x:Ve.undoableTimeout,syncWithLocation:(g=(p=e==null?void 0:e.syncWithLocation)!=null?p:i)!=null?g:Ve.syncWithLocation,warnWhenUnsavedChanges:(l=(s=e==null?void 0:e.warnWhenUnsavedChanges)!=null?s:m)!=null?l:Ve.warnWhenUnsavedChanges,liveMode:(u=(C=e==null?void 0:e.liveMode)!=null?C:r)!=null?u:Ve.liveMode,redirect:{afterCreate:(P=(b=e==null?void 0:e.redirect)==null?void 0:b.afterCreate)!=null?P:Ve.redirect.afterCreate,afterClone:(k=($=e==null?void 0:e.redirect)==null?void 0:$.afterClone)!=null?k:Ve.redirect.afterClone,afterEdit:(w=(c=e==null?void 0:e.redirect)==null?void 0:c.afterEdit)!=null?w:Ve.redirect.afterEdit}},Q=(h=(L=e==null?void 0:e.disableTelemetry)!=null?L:t)!=null?h:!1,B={clientConfig:(N=(D=(I=e==null?void 0:e.reactQuery)==null?void 0:I.clientConfig)!=null?D:a)!=null?N:{},devtoolConfig:(A=(R=(M=e==null?void 0:e.reactQuery)==null?void 0:M.devtoolConfig)!=null?R:o)!=null?A:{}};return{optionsWithDefaults:O,disableTelemetryWithDefault:Q,reactQueryWithDefaults:B}},is=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},_n=async(e,t,r)=>{let n=[];for(let[a,o]of e.entries())try{let i=await o();n.push(t(i,a))}catch(i){n.push(r(i,a))}return n},ne=(e,t=[],r=!1)=>{if(!!e)return r?t.find(a=>{var o;return Be((o=a.route)!=null?o:"")===Be(e)})||t.find(a=>a.name===e):t.find(n=>{var a;return((a=n.identifier)!=null?a:n.name)===e})},W=(e,t,r)=>{if(t)return t;let n=ne(e,r),a=S(n==null?void 0:n.meta,n==null?void 0:n.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"},lr=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),Wa=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/a);return n<o?Number(n)+1:void 0},za=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},Va=e=>{let t=[];return e==null||e.forEach(r=>{var n,a,o;t.push({...r,label:(o=(n=r.meta)==null?void 0:n.label)!=null?o:(a=r.options)==null?void 0:a.label,route:Ta(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},ss=e=>wt(Be(e)).flatMap(t=>Br(t)?[t.slice(1)]:[]),ls=(e,t={},r={})=>e.reduce((n,a)=>{var o;let i=r[a]||((o=t.params)==null?void 0:o[a])||(a==="id"?t.id:void 0)||(a==="action"?t.action:void 0)||(a==="resource"?t.resource:void 0);return typeof i<"u"&&(n[a]=i),n},{}),Ee=(e,t={},r={})=>{let n=ss(e),a=ls(n,t,r);return e.replace(/:([^\/]+)/g,(o,i)=>{let d=a[i];return typeof d<"u"?`${d}`:o})},le=()=>{let e=we(),t=Re();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},ja=({hasPagination:e,pagination:t,configPagination:r}={})=>{var n,a,o;let i=e===!1?"off":"server",d=(n=t==null?void 0:t.mode)!=null?n:i,m=(a=S(t==null?void 0:t.current,r==null?void 0:r.current))!=null?a:1,f=(o=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?o:10;return{current:m,pageSize:f,mode:d}},Hr=({resource:e,config:t,filters:r,hasPagination:n,pagination:a,sorters:o,queryOptions:i,successNotification:d,errorNotification:m,meta:f,metaData:v,liveMode:y,onLiveEvent:x,liveParams:p,dataProviderName:g})=>{let{resources:s}=G(),l=ce(),C=Z(),u=le(),{mutate:b}=Ce({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),P=xe(),$=W(e,g,s),k=S(f,v),c=S(r,t==null?void 0:t.filters),w=S(o,t==null?void 0:t.sort),L=S(n,t==null?void 0:t.hasPagination),h=ja({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:L}),I=h.mode==="server",D={meta:k,metaData:k,filters:c,hasPagination:I,pagination:h,sorters:w,config:{...t,sort:w}},N=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,M=Ie(e,$,k,k),{getList:R}=l($);return Qt({resource:e,types:["*"],params:{meta:k,metaData:k,pagination:h,hasPagination:I,sort:w,sorters:w,filters:c,subscriptionType:"useList",...p},channel:`resources/${e}`,enabled:N,liveMode:y,onLiveEvent:x}),(0,Wi.useQuery)(M.list({filters:c,hasPagination:I,...I&&{pagination:h},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:A,pageParam:O,signal:Q})=>R({resource:e,pagination:h,hasPagination:I,filters:c,sort:w,sorters:w,meta:{...k||{},queryContext:{queryKey:A,pageParam:O,signal:Q}},metaData:{...k||{},queryContext:{queryKey:A,pageParam:O,signal:Q}}}),{...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!e,select:A=>{var O;let Q=A,{current:B,mode:ie,pageSize:X}=h;return ie==="client"&&(Q={...Q,data:Q.data.slice((B-1)*X,B*X),total:Q.total}),i!=null&&i.select?(O=i==null?void 0:i.select)==null?void 0:O.call(i,Q):Q},onSuccess:A=>{var O;(O=i==null?void 0:i.onSuccess)==null||O.call(i,A);let Q=typeof d=="function"?d(A,D,e):d;P(Q)},onError:A=>{var O;b(A),(O=i==null?void 0:i.onError)==null||O.call(i,A);let Q=typeof m=="function"?m(A,D,e):m;P(Q,{key:`${e}-useList-notification`,message:C("notifications.error",{statusCode:A.statusCode},`Error (status code: ${A.statusCode})`),description:A.message,type:"error"})}})},us=E("@tanstack/react-query"),Kr=({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:a,meta:o,metaData:i,liveMode:d,onLiveEvent:m,liveParams:f,dataProviderName:v})=>{let{resources:y}=G(),x=ce(),p=Ie(e,W(e,v,y),S(o,i),S(o,i)),{getOne:g}=x(W(e,v,y)),s=Z(),l=le(),{mutate:C}=Ce({v3LegacyAuthProviderCompatible:Boolean(l==null?void 0:l.isLegacy)}),u=xe();return Qt({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:S(o,i),metaData:S(o,i),subscriptionType:"useOne",...f},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:d,onLiveEvent:m}),(0,us.useQuery)(p.detail(t),({queryKey:b,pageParam:P,signal:$})=>g({resource:e,id:t,meta:{...S(o,i)||{},queryContext:{queryKey:b,pageParam:P,signal:$}},metaData:{...S(o,i)||{},queryContext:{queryKey:b,pageParam:P,signal:$}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:b=>{var P;(P=r==null?void 0:r.onSuccess)==null||P.call(r,b);let $=typeof n=="function"?n(b,{id:t,...S(o,i)||{}},e):n;u($)},onError:b=>{var P;C(b),(P=r==null?void 0:r.onError)==null||P.call(r,b);let $=typeof a=="function"?a(b,{id:t,...S(o,i)||{}},e):a;u($,{key:`${t}-${e}-getOne-notification`,message:s("notifications.error",{statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}})},cs=E("@tanstack/react-query"),Ba=({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:a,meta:o,metaData:i,liveMode:d,onLiveEvent:m,liveParams:f,dataProviderName:v})=>{let{resources:y}=G(),x=ce(),p=Ie(e,W(e,v,y),S(o,i),S(o,i)),{getMany:g,getOne:s}=x(W(e,v,y)),l=Z(),C=le(),{mutate:u}=Ce({v3LegacyAuthProviderCompatible:Boolean(C==null?void 0:C.isLegacy)}),b=xe(),P=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Qt({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:S(o,i),metaData:S(o,i),subscriptionType:"useMany",...f},channel:`resources/${e}`,enabled:P,liveMode:d,onLiveEvent:m}),(0,cs.useQuery)(p.many(t),({queryKey:$,pageParam:k,signal:c})=>g?g({resource:e,ids:t,metaData:{...S(o,i)||{},queryContext:{queryKey:$,pageParam:k,signal:c}}}):lr(t.map(w=>s({resource:e,id:w,metaData:{...S(o,i)||{},queryContext:{queryKey:$,pageParam:k,signal:c}}}))),{...r,onSuccess:$=>{var k;(k=r==null?void 0:r.onSuccess)==null||k.call(r,$);let c=typeof n=="function"?n($,t,e):n;b(c)},onError:$=>{var k;u($),(k=r==null?void 0:r.onError)==null||k.call(r,$);let c=typeof a=="function"?a($,t,e):a;b(c,{key:`${t[0]}-${e}-getMany-notification`,message:l("notifications.error",{statusCode:$.statusCode},`Error (status code: ${$.statusCode})`),description:$.message,type:"error"})}})},Gn=E("@tanstack/react-query"),ar=q(E("react")),Ir=q(E("lodash/isEqual")),Ha=ar.default.createContext({notifications:[],notificationDispatch:()=>!1}),ds=[],ps=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Ir.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Ir.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Ir.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},ms=({children:e})=>{let[t,r]=(0,ar.useReducer)(ps,ds),n={notifications:t,notificationDispatch:r};return ar.default.createElement(Ha.Provider,{value:n},e,typeof window<"u"&&t.map(a=>ar.default.createElement(ho,{key:`${a.id}-${a.resource}-queue`,notification:a})))},Yn=q(E("pluralize")),Ka=({mutationOptions:e}={})=>{let{resources:t}=G(),r=(0,Gn.useQueryClient)(),n=ce(),{mutationMode:a,undoableTimeout:o}=Nt(),i=Z(),d=le(),{mutate:m}=Ce({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),f=yt(),{log:v}=gt(),{notificationDispatch:y}=St(),x=xe(),p=ht();return(0,Gn.useMutation)(({id:g,values:s,resource:l,mutationMode:C,undoableTimeout:u,onCancel:b,meta:P,metaData:$,dataProviderName:k})=>{let c=C!=null?C:a,w=u!=null?u:o;return c!=="undoable"?n(W(l,k,t)).update({resource:l,id:g,variables:s,meta:S(P,$),metaData:S(P,$)}):new Promise((L,h)=>{let I=()=>{n(W(l,k,t)).update({resource:l,id:g,variables:s,meta:S(P,$),metaData:S(P,$)}).then(N=>L(N)).catch(N=>h(N))},D=()=>{h({message:"mutationCancelled"})};b&&b(D),y({type:"ADD",payload:{id:g,resource:l,cancelMutation:D,doMutation:I,seconds:w,isSilent:!!b}})})},{onMutate:async({resource:g,id:s,mutationMode:l,values:C,dataProviderName:u})=>{let b=Ie(g,W(g,u,t)),P=r.getQueriesData(b.resourceAll),$=l!=null?l:a;return await r.cancelQueries(b.resourceAll,void 0,{silent:!0}),$!=="pessimistic"&&(r.setQueriesData(b.list(),k=>{if(!k)return null;let c=k.data.map(w=>{var L;return((L=w.id)==null?void 0:L.toString())===(s==null?void 0:s.toString())?{id:s,...w,...C}:w});return{...k,data:c}}),r.setQueriesData(b.many(),k=>{if(!k)return null;let c=k.data.map(w=>{var L;return((L=w.id)==null?void 0:L.toString())===(s==null?void 0:s.toString())&&(w={id:s,...w,...C}),w});return{...k,data:c}}),r.setQueriesData(b.detail(s),k=>k?{...k,data:{...k.data,...C}}:null)),{previousQueries:P,queryKey:b}},onSettled:(g,s,{id:l,resource:C,dataProviderName:u,invalidates:b=["list","many","detail"]})=>{p({resource:C,dataProviderName:W(C,u,t),invalidates:b,id:l}),y({type:"REMOVE",payload:{id:l,resource:C}})},onSuccess:(g,{id:s,resource:l,successNotification:C,dataProviderName:u,values:b,meta:P,metaData:$},k)=>{var c;let w=Yn.default.singular(l),L=typeof C=="function"?C(g,{id:s,values:b},l):C;x(L,{key:`${s}-${l}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${l}.${l}`,w)},`Successfully updated ${w}`),type:"success"}),f==null||f({channel:`resources/${l}`,type:"updated",payload:{ids:(c=g.data)!=null&&c.id?[g.data.id]:void 0},date:new Date});let h;if(k){let R=r.getQueryData(k.queryKey.detail(s));h=Object.keys(b||{}).reduce((A,O)=>{var Q;return A[O]=(Q=R==null?void 0:R.data)==null?void 0:Q[O],A},{})}let{fields:I,operation:D,variables:N,...M}=S(P,$)||{};v==null||v.mutate({action:"update",resource:l,data:b,previousData:h,meta:{id:s,dataProviderName:W(l,u,t),...M}})},onError:(g,{id:s,resource:l,errorNotification:C,values:u},b)=>{if(b)for(let P of b.previousQueries)r.setQueryData(P[0],P[1]);if(g.message!=="mutationCancelled"){m==null||m(g);let P=Yn.default.singular(l),$=typeof C=="function"?C(g,{id:s,values:u},l):C;x($,{key:`${s}-${l}-notification`,message:i("notifications.editError",{resource:i(`${l}.${l}`,P),statusCode:g.statusCode},`Error when updating ${P} (status code: ${g.statusCode})`),description:g.message,type:"error"})}},...e})},fs=E("@tanstack/react-query"),Zn=q(E("pluralize")),_r=({mutationOptions:e}={})=>{let t=le(),{mutate:r}=Ce({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=ce(),a=ht(),{resources:o}=G(),i=Z(),d=yt(),{log:m}=gt(),f=xe();return(0,fs.useMutation)(({resource:v,values:y,meta:x,metaData:p,dataProviderName:g})=>n(W(v,g,o)).create({resource:v,variables:y,meta:S(x,p),metaData:S(x,p)}),{onSuccess:(v,{resource:y,successNotification:x,dataProviderName:p,invalidates:g=["list","many"],values:s,meta:l,metaData:C})=>{var u,b,P;let $=Zn.default.singular(y),k=typeof x=="function"?x(v,s,y):x;f(k,{key:`create-${y}-notification`,message:i("notifications.createSuccess",{resource:i(`${y}.${y}`,$)},`Successfully created ${$}`),description:i("notifications.success","Success"),type:"success"}),a({resource:y,dataProviderName:W(y,p,o),invalidates:g}),d==null||d({channel:`resources/${y}`,type:"created",payload:{ids:(u=v==null?void 0:v.data)!=null&&u.id?[v.data.id]:void 0},date:new Date});let{fields:c,operation:w,variables:L,...h}=S(l,C)||{};m==null||m.mutate({action:"create",resource:y,data:s,meta:{dataProviderName:W(y,p,o),id:(P=(b=v==null?void 0:v.data)==null?void 0:b.id)!=null?P:void 0,...h}})},onError:(v,{resource:y,errorNotification:x,values:p})=>{r(v);let g=Zn.default.singular(y),s=typeof x=="function"?x(v,p,y):x;f(s,{key:`create-${y}-notification`,description:v.message,message:i("notifications.createError",{resource:i(`${y}.${y}`,g),statusCode:v.statusCode},`There was an error creating ${g} (status code: ${v.statusCode})`),type:"error"})},...e})},Jn=E("@tanstack/react-query"),Xn=q(E("pluralize")),vs=({mutationOptions:e}={})=>{let t=le(),{mutate:r}=Ce({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=ce(),{resources:a}=G(),o=(0,Jn.useQueryClient)(),{mutationMode:i,undoableTimeout:d}=Nt(),{notificationDispatch:m}=St(),f=Z(),v=yt(),{log:y}=gt(),x=xe(),p=ht();return(0,Jn.useMutation)(({id:g,mutationMode:s,undoableTimeout:l,resource:C,onCancel:u,meta:b,metaData:P,dataProviderName:$,values:k})=>{let c=s!=null?s:i,w=l!=null?l:d;return c!=="undoable"?n(W(C,$,a)).deleteOne({resource:C,id:g,meta:S(b,P),metaData:S(b,P),variables:k}):new Promise((L,h)=>{let I=()=>{n(W(C,$,a)).deleteOne({resource:C,id:g,meta:S(b,P),variables:k}).then(N=>L(N)).catch(N=>h(N))},D=()=>{h({message:"mutationCancelled"})};u&&u(D),m({type:"ADD",payload:{id:g,resource:C,cancelMutation:D,doMutation:I,seconds:w,isSilent:!!u}})})},{onMutate:async({id:g,resource:s,mutationMode:l,dataProviderName:C})=>{let u=Ie(s,W(s,C,a)),b=l!=null?l:i;await o.cancelQueries(u.resourceAll,void 0,{silent:!0});let P=o.getQueriesData(u.resourceAll);return b!=="pessimistic"&&(o.setQueriesData(u.list(),$=>$?{data:$.data.filter(k=>{var c;return((c=k.id)==null?void 0:c.toString())!==g.toString()}),total:$.total-1}:null),o.setQueriesData(u.many(),$=>{if(!$)return null;let k=$.data.filter(c=>{var w;return((w=c.id)==null?void 0:w.toString())!==(g==null?void 0:g.toString())});return{...$,data:k}})),{previousQueries:P,queryKey:u}},onSettled:(g,s,{id:l,resource:C,dataProviderName:u,invalidates:b=["list","many"]})=>{p({resource:C,dataProviderName:W(C,u,a),invalidates:b}),m({type:"REMOVE",payload:{id:l,resource:C}})},onSuccess:(g,{id:s,resource:l,successNotification:C,dataProviderName:u,meta:b,metaData:P},$)=>{let k=Xn.default.singular(l!=null?l:"");o.removeQueries($==null?void 0:$.queryKey.detail(s));let c=typeof C=="function"?C(g,s,l):C;x(c,{key:`${s}-${l}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${l}.${l}`,k)},`Successfully deleted a ${k}`),type:"success"}),v==null||v({channel:`resources/${l}`,type:"deleted",payload:{ids:s?[s]:[]},date:new Date});let{fields:w,operation:L,variables:h,...I}=S(b,P)||{};y==null||y.mutate({action:"delete",resource:l,meta:{id:s,dataProviderName:W(l,u,a),...I}}),o.removeQueries($==null?void 0:$.queryKey.detail(s))},onError:(g,{id:s,resource:l,errorNotification:C},u)=>{if(u)for(let b of u.previousQueries)o.setQueryData(b[0],b[1]);if(g.message!=="mutationCancelled"){r(g);let b=Xn.default.singular(l!=null?l:""),P=typeof C=="function"?C(g,s,l):C;x(P,{key:`${s}-${l}-notification`,message:f("notifications.deleteError",{resource:b,statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})}},...e})},ys=E("@tanstack/react-query"),gs=q(E("pluralize")),_a=({mutationOptions:e}={})=>{let t=ce(),{resources:r}=G(),n=Z(),a=yt(),o=xe(),i=ht(),{log:d}=gt();return(0,ys.useMutation)(({resource:m,values:f,meta:v,metaData:y,dataProviderName:x})=>{let p=t(W(m,x,r));return p.createMany?p.createMany({resource:m,variables:f,meta:S(v,y),metaData:S(v,y)}):lr(f.map(g=>p.create({resource:m,variables:g,meta:S(v,y),metaData:S(v,y)})))},{onSuccess:(m,{resource:f,successNotification:v,dataProviderName:y,invalidates:x=["list","many"],values:p,meta:g,metaData:s})=>{let l=gs.default.plural(f),C=typeof v=="function"?v(m,p,f):v;o(C,{key:`createMany-${f}-notification`,message:n("notifications.createSuccess",{resource:n(`${f}.${f}`,f)},`Successfully created ${l}`),description:n("notifications.success","Success"),type:"success"}),i({resource:f,dataProviderName:W(f,y,r),invalidates:x});let u=m==null?void 0:m.data.filter(c=>(c==null?void 0:c.id)!==void 0).map(c=>c.id);a==null||a({channel:`resources/${f}`,type:"created",payload:{ids:u},date:new Date});let{fields:b,operation:P,variables:$,...k}=S(g,s)||{};d==null||d.mutate({action:"createMany",resource:f,data:p,meta:{dataProviderName:W(f,y,r),ids:u,...k}})},onError:(m,{resource:f,errorNotification:v,values:y})=>{let x=typeof v=="function"?v(m,y,f):v;o(x,{key:`createMany-${f}-notification`,description:m.message,message:n("notifications.createError",{resource:n(`${f}.${f}`,f),statusCode:m.statusCode},`There was an error creating ${f} (status code: ${m.statusCode}`),type:"error"})},...e})},ea=E("@tanstack/react-query"),ta=q(E("pluralize")),hs=({mutationOptions:e}={})=>{let{resources:t}=G(),r=(0,ea.useQueryClient)(),n=ce(),a=Z(),{mutationMode:o,undoableTimeout:i}=Nt(),d=le(),{mutate:m}=Ce({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),{notificationDispatch:f}=St(),v=yt(),y=xe(),x=ht(),{log:p}=gt();return(0,ea.useMutation)(({ids:g,values:s,resource:l,onCancel:C,mutationMode:u,undoableTimeout:b,meta:P,metaData:$,dataProviderName:k})=>{let c=u!=null?u:o,w=b!=null?b:i,L=n(W(l,k,t)),h=()=>L.updateMany?L.updateMany({resource:l,ids:g,variables:s,meta:S(P,$),metaData:S(P,$)}):lr(g.map(I=>L.update({resource:l,id:I,variables:s,meta:S(P,$),metaData:S(P,$)})));return c!=="undoable"?h():new Promise((I,D)=>{let N=()=>{h().then(R=>I(R)).catch(R=>D(R))},M=()=>{D({message:"mutationCancelled"})};C&&C(M),f({type:"ADD",payload:{id:g,resource:l,cancelMutation:M,doMutation:N,seconds:w,isSilent:!!C}})})},{onMutate:async({resource:g,ids:s,values:l,mutationMode:C,dataProviderName:u,meta:b,metaData:P})=>{let $=Ie(g,W(g,u,t),S(b,P),S(b,P)),k=C!=null?C:o;await r.cancelQueries($.resourceAll,void 0,{silent:!0});let c=r.getQueriesData($.resourceAll);if(k!=="pessimistic"){r.setQueriesData($.list(),w=>{if(!w)return null;let L=w.data.map(h=>h.id!==void 0&&s.filter(I=>I!==void 0).map(String).includes(h.id.toString())?{...h,...l}:h);return{...w,data:L}}),r.setQueriesData($.many(),w=>{if(!w)return null;let L=w.data.map(h=>h.id!==void 0&&s.filter(I=>I!==void 0).map(String).includes(h.id.toString())?{...h,...l}:h);return{...w,data:L}});for(let w of s)r.setQueriesData($.detail(w),L=>{if(!L)return null;let h={...L.data,...l};return{...L,data:h}})}return{previousQueries:c,queryKey:$}},onSettled:(g,s,{ids:l,resource:C,dataProviderName:u})=>{x({resource:C,invalidates:["list","many"],dataProviderName:W(C,u,t)}),l.forEach(b=>x({resource:C,invalidates:["detail"],dataProviderName:W(C,u,t),id:b})),f({type:"REMOVE",payload:{id:l,resource:C}})},onSuccess:(g,{ids:s,resource:l,meta:C,metaData:u,dataProviderName:b,successNotification:P,values:$},k)=>{let c=ta.default.singular(l),w=typeof P=="function"?P(g,{ids:s,values:$},l):P;y(w,{key:`${s}-${l}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${l}.${l}`,l)},`Successfully updated ${c}`),type:"success"}),v==null||v({channel:`resources/${l}`,type:"updated",payload:{ids:s.map(String)},date:new Date});let L=[];k&&s.forEach(M=>{let R=r.getQueryData(k.queryKey.detail(M));L.push(Object.keys($||{}).reduce((A,O)=>{var Q;return A[O]=(Q=R==null?void 0:R.data)==null?void 0:Q[O],A},{}))});let{fields:h,operation:I,variables:D,...N}=S(C,u)||{};p==null||p.mutate({action:"updateMany",resource:l,data:$,previousData:L,meta:{ids:s,dataProviderName:W(l,b,t),...N}})},onError:(g,{ids:s,resource:l,errorNotification:C,values:u},b)=>{if(b)for(let P of b.previousQueries)r.setQueryData(P[0],P[1]);if(g.message!=="mutationCancelled"){m==null||m(g);let P=ta.default.singular(l),$=typeof C=="function"?C(g,{ids:s,values:u},l):C;y($,{key:`${s}-${l}-updateMany-error-notification`,message:a("notifications.editError",{resource:P,statusCode:g.statusCode},`Error when updating ${P} (status code: ${g.statusCode})`),description:g.message,type:"error"})}},...e})},ra=E("@tanstack/react-query"),bs=q(E("pluralize")),Cs=({mutationOptions:e}={})=>{let t=le(),{mutate:r}=Ce({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:n,undoableTimeout:a}=Nt(),o=ce(),{notificationDispatch:i}=St(),d=Z(),m=yt(),f=xe(),v=ht(),{log:y}=gt(),{resources:x}=G(),p=(0,ra.useQueryClient)();return(0,ra.useMutation)(({resource:g,ids:s,mutationMode:l,undoableTimeout:C,onCancel:u,meta:b,metaData:P,dataProviderName:$,values:k})=>{let c=l!=null?l:n,w=C!=null?C:a,L=o(W(g,$,x)),h=()=>L.deleteMany?L.deleteMany({resource:g,ids:s,meta:S(b,P),metaData:S(b,P),variables:k}):lr(s.map(I=>L.deleteOne({resource:g,id:I,meta:S(b,P),metaData:S(b,P),variables:k})));return c!=="undoable"?h():new Promise((I,D)=>{let N=()=>{h().then(R=>I(R)).catch(R=>D(R))},M=()=>{D({message:"mutationCancelled"})};u&&u(M),i({type:"ADD",payload:{id:s,resource:g,cancelMutation:M,doMutation:N,seconds:w,isSilent:!!u}})})},{onMutate:async({ids:g,resource:s,mutationMode:l,dataProviderName:C})=>{let u=Ie(s,W(s,C,x)),b=l!=null?l:n;await p.cancelQueries(u.resourceAll,void 0,{silent:!0});let P=p.getQueriesData(u.resourceAll);if(b!=="pessimistic"){p.setQueriesData(u.list(),$=>$?{data:$.data.filter(k=>k.id&&!g.map(String).includes(k.id.toString())),total:$.total-1}:null),p.setQueriesData(u.many(),$=>{if(!$)return null;let k=$.data.filter(c=>c.id?!g.map(String).includes(c.id.toString()):!1);return{...$,data:k}});for(let $ of g)p.setQueriesData(u.detail($),k=>!k||k.data.id==$?null:{...k})}return{previousQueries:P,queryKey:u}},onSettled:(g,s,{resource:l,ids:C,dataProviderName:u,invalidates:b=["list","many"]})=>{v({resource:l,dataProviderName:W(l,u,x),invalidates:b}),i({type:"REMOVE",payload:{id:C,resource:l}})},onSuccess:(g,{ids:s,resource:l,meta:C,metaData:u,dataProviderName:b,successNotification:P},$)=>{s.forEach(I=>p.removeQueries($==null?void 0:$.queryKey.detail(I)));let k=typeof P=="function"?P(g,s,l):P;f(k,{key:`${s}-${l}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${l}.${l}`,l)},`Successfully deleted ${l}`),type:"success"}),m==null||m({channel:`resources/${l}`,type:"deleted",payload:{ids:s},date:new Date});let{fields:c,operation:w,variables:L,...h}=S(C,u)||{};y==null||y.mutate({action:"deleteMany",resource:l,meta:{ids:s,dataProviderName:W(l,b,x),...h}}),s.forEach(I=>p.removeQueries($==null?void 0:$.queryKey.detail(I)))},onError:(g,{ids:s,resource:l,errorNotification:C},u)=>{if(u)for(let b of u.previousQueries)p.setQueryData(b[0],b[1]);if(g.message!=="mutationCancelled"){r(g);let b=bs.default.singular(l),P=typeof C=="function"?C(g,s,l):C;f(P,{key:`${s}-${l}-notification`,message:d("notifications.deleteError",{resource:b,statusCode:g.statusCode},`Error (status code: ${g.statusCode})`),description:g.message,type:"error"})}},...e})},xs=e=>{let t=ce(),{getApiUrl:r}=t(e);return r()},$s=E("@tanstack/react-query"),Ps=({url:e,method:t,config:r,queryOptions:n,successNotification:a,errorNotification:o,meta:i,metaData:d,dataProviderName:m})=>{let f=ce(),{custom:v}=f(m),y=le(),{mutate:x}=Ce({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),p=Z(),g=xe();if(v)return(0,$s.useQuery)([m,"custom",t,e,{...r,...S(i,d)||{}}],({queryKey:s,pageParam:l,signal:C})=>v({url:e,method:t,...r,metaData:{...S(i,d)||{},queryContext:{queryKey:s,pageParam:l,signal:C}}}),{...n,onSuccess:s=>{var l;(l=n==null?void 0:n.onSuccess)==null||l.call(n,s);let C=typeof a=="function"?a(s,{...r,...S(i,d)||{}}):a;g(C)},onError:s=>{var l;x(s),(l=n==null?void 0:n.onError)==null||l.call(n,s);let C=typeof o=="function"?o(s,{...r,...S(i,d)||{}}):o;g(C,{key:`${t}-notification`,message:p("notifications.error",{statusCode:s.statusCode},`Error (status code: ${s.statusCode})`),description:s.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},ks=E("@tanstack/react-query"),Es=({mutationOptions:e}={})=>{let t=le(),{mutate:r}=Ce({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=xe(),a=ce(),o=Z();return(0,ks.useMutation)(({url:i,method:d,values:m,meta:f,metaData:v,dataProviderName:y,config:x})=>{let{custom:p}=a(y);if(p)return p({url:i,method:d,payload:m,meta:S(f,v),metaData:S(f,v),headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(i,{successNotification:d,config:m,meta:f,metaData:v})=>{let y=typeof d=="function"?d(i,{...m,...S(f,v)||{}}):d;n(y)},onError:(i,{errorNotification:d,method:m,config:f,meta:v,metaData:y})=>{r(i);let x=typeof d=="function"?d(i,{...f,...S(v,y)||{}}):d;n(x,{key:`${m}-notification`,message:o("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})},...e})},na=E("react"),Ga=q(E("react")),ws=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Gr=Ga.default.createContext(ws()),Is=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Ga.default.createElement(Gr.Provider,{value:r},e)},ce=()=>{let e=(0,na.useContext)(Gr);return(0,na.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},Ss=E("@tanstack/react-query"),Ls=({resource:e,config:t,filters:r,hasPagination:n,pagination:a,sorters:o,queryOptions:i,successNotification:d,errorNotification:m,meta:f,metaData:v,liveMode:y,onLiveEvent:x,liveParams:p,dataProviderName:g})=>{let{resources:s}=G(),l=ce(),C=Z(),u=le(),{mutate:b}=Ce({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),P=xe(),$=W(e,g,s),k=S(f,v),c=S(r,t==null?void 0:t.filters),w=S(o,t==null?void 0:t.sort),L=S(n,t==null?void 0:t.hasPagination),h=ja({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:L}),I=h.mode==="server",D={meta:k,metaData:k,filters:c,hasPagination:I,pagination:h,sorters:w,config:{...t,sort:w}},N=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,M=Ie(e,$,k,k),{getList:R}=l($);return Qt({resource:e,types:["*"],params:{meta:k,metaData:k,pagination:h,hasPagination:I,sort:w,sorters:w,filters:c,subscriptionType:"useList",...p},channel:`resources/${e}`,enabled:N,liveMode:y,onLiveEvent:x}),(0,Ss.useInfiniteQuery)(M.list({filters:c,hasPagination:I,...I&&{pagination:h},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:A,pageParam:O,signal:Q})=>{let B={...h,current:O};return R({resource:e,pagination:B,hasPagination:I,filters:c,sort:w,sorters:w,meta:{...k||{},queryContext:{queryKey:A,pageParam:O,signal:Q}},metaData:{...k||{},queryContext:{queryKey:A,pageParam:O,signal:Q}}}).then(({data:ie,total:X,...H})=>({data:ie,total:X,pagination:B,...H}))},{getNextPageParam:A=>Wa(A),getPreviousPageParam:A=>za(A),...i,onSuccess:A=>{var O;(O=i==null?void 0:i.onSuccess)==null||O.call(i,A);let Q=typeof d=="function"?d(A,D,e):d;P(Q)},onError:A=>{var O;b(A),(O=i==null?void 0:i.onError)==null||O.call(i,A);let Q=typeof m=="function"?m(A,D,e):m;P(Q,{key:`${e}-useInfiniteList-notification`,message:C("notifications.error",{statusCode:A.statusCode},`Error (status code: ${A.statusCode})`),description:A.message,type:"error"})}})},Sr=E("react"),Ns=E("@tanstack/react-query"),Ya=q(E("react")),Ut=Ya.default.createContext(void 0),As=({liveProvider:e,children:t})=>Ya.default.createElement(Ut.Provider,{value:e},t),Qt=({resource:e,params:t,channel:r,types:n,enabled:a=!0,liveMode:o,onLiveEvent:i})=>{let d=(0,Ns.useQueryClient)(),m=Ie(e),f=(0,Sr.useContext)(Ut),{liveMode:v,onLiveEvent:y}=(0,Sr.useContext)(et),x=o!=null?o:v;(0,Sr.useEffect)(()=>{let p;return x&&x!=="off"&&a&&(p=f==null?void 0:f.subscribe({channel:r,params:{resource:e,...t},types:n,callback:g=>{x==="auto"&&d.invalidateQueries(m.resourceAll),i==null||i(g),y==null||y(g)}})),()=>{p&&(f==null||f.unsubscribe(p))}},[a])},Fs=E("react"),Za=e=>{let{liveMode:t}=(0,Fs.useContext)(et);return e!=null?e:t},aa=E("react"),qs=({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:a})=>{let o=(0,aa.useContext)(Ut);(0,aa.useEffect)(()=>{let i;return n&&(i=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:a})),()=>{i&&(o==null||o.unsubscribe(i))}},[n])},Ms=E("react"),yt=()=>{let e=(0,Ms.useContext)(Ut);return e==null?void 0:e.publish},Ds=E("react"),Ja=q(E("react")),Rs=E("react"),Os=E("react"),Ts=q(E("lodash/isEqual")),Us=e=>{let t=(0,Os.useRef)(e);return(0,Ts.default)(t.current,e)||(t.current=e),t.current},Xa=(e,t)=>{let r=Us(t);return(0,Rs.useMemo)(e,r)},Wt=Ja.default.createContext({resources:[]}),Qs=({resources:e,children:t})=>{let r=Xa(()=>Va(e!=null?e:[]),[e]);return Ja.default.createElement(Wt.Provider,{value:{resources:r}},t)},eo=q(E("react")),to=eo.default.createContext("new"),Ws=to.Provider,ae=()=>eo.default.useContext(to),zs=q(E("react")),ro=q(E("react")),no={},zt=(0,ro.createContext)(no),Vs=({children:e,router:t})=>ro.default.createElement(zt.Provider,{value:t!=null?t:no},e),oa=q(E("react")),ao=()=>{let e=(0,oa.useContext)(zt);return oa.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},Se=()=>{let e=ao();return zs.default.useMemo(()=>e(),[e])};function G(e){var t,r;let{resources:n}=(0,Ds.useContext)(Wt),a=ae(),o=Se(),i={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},d=ur(),{useParams:m}=de(),f=m();if(a==="legacy"){let x=i.resourceNameOrRouteName?i.resourceNameOrRouteName:f.resource,p=x?d(x):void 0,g=(t=i==null?void 0:i.recordItemId)!=null?t:f.id,s=f.action,l=(r=i==null?void 0:i.resourceName)!=null?r:p==null?void 0:p.name;return{resources:n,resource:p,resourceName:l,id:g,action:s}}let v,y=typeof e=="string"?e:i==null?void 0:i.resourceNameOrRouteName;if(y){let x=ne(y,n);x?v=x:v={name:y}}else o!=null&&o.resource&&(v=o.resource);return{resources:n,resource:v,resourceName:v==null?void 0:v.name,id:o.id,action:o.action}}var ia=E("react"),ur=()=>{let{resources:e}=(0,ia.useContext)(Wt);return(0,ia.useCallback)(t=>ne(t,e,!0)||{name:t,route:t},[e])},js=E("react"),St=()=>{let{notifications:e,notificationDispatch:t}=(0,js.useContext)(Ha);return{notifications:e,notificationDispatch:t}},Bs=E("react"),oo=q(E("react")),Yr=(0,oo.createContext)({}),Hs=({open:e,close:t,children:r})=>oo.default.createElement(Yr.Provider,{value:{open:e,close:t}},r),tt=()=>{let{open:e,close:t}=(0,Bs.useContext)(Yr);return{open:e,close:t}},Ks=E("react"),xe=()=>{let{open:e}=tt();return(0,Ks.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},sa=E("react"),io=q(E("react")),Lt=io.default.createContext({}),_s=({children:e,i18nProvider:t})=>io.default.createElement(Lt.Provider,{value:{i18nProvider:t}},e),Gs=()=>{let{i18nProvider:e}=(0,sa.useContext)(Lt);return(0,sa.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},la=E("react"),Z=()=>{let{i18nProvider:e}=(0,la.useContext)(Lt);return(0,la.useMemo)(()=>{function t(r,n,a){var o,i;return(i=(o=e==null?void 0:e.translate(r,n,a))!=null?o:a)!=null?i:typeof n=="string"&&typeof a>"u"?n:r}return t},[e])},ua=E("react"),Ys=()=>{let{i18nProvider:e}=(0,ua.useContext)(Lt);return(0,ua.useCallback)(()=>e==null?void 0:e.getLocale(),[])},Zs=E("react"),Nt=()=>{let{mutationMode:e,undoableTimeout:t}=(0,Zs.useContext)(et);return{mutationMode:e,undoableTimeout:t}},ca=E("react"),Tr=q(E("react")),so=Tr.default.createContext({}),Js=({children:e})=>{let[t,r]=(0,Tr.useState)(!1);return Tr.default.createElement(so.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},Zr=()=>{let{warnWhenUnsavedChanges:e}=(0,ca.useContext)(et),{warnWhen:t,setWarnWhen:r}=(0,ca.useContext)(so);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},Xs=E("react"),lo=()=>{let{syncWithLocation:e}=(0,Xs.useContext)(et);return{syncWithLocation:e}},el=E("react"),tl=()=>{let{Title:e}=(0,el.useContext)(et);return e},rl=E("react"),Jr=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:i,mutationMode:d,syncWithLocation:m,undoableTimeout:f,warnWhenUnsavedChanges:v,DashboardPage:y,LoginPage:x,catchAll:p,options:g}=(0,rl.useContext)(et);return{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:i,mutationMode:d,syncWithLocation:m,undoableTimeout:f,warnWhenUnsavedChanges:v,DashboardPage:y,LoginPage:x,catchAll:p,options:g}},nl=E("react"),al=E("export-to-csv-fix-source-map"),ol=({resourceName:e,resource:t,sorter:r,sorters:n,filters:a,maxItemCount:o,pageSize:i=20,mapData:d=p=>p,exportOptions:m,meta:f,metaData:v,dataProviderName:y,onError:x}={})=>{var p;let[g,s]=(0,nl.useState)(!1),l=ce(),{resource:C,resources:u}=G(),b=`${jr(C==null?void 0:C.name,"plural")}-${new Date().toLocaleString()}`,{getList:P}=l(W((p=C==null?void 0:C.identifier)!=null?p:C==null?void 0:C.name,y,u));return{isLoading:g,triggerExport:async()=>{var $;s(!0);let k=[],c=1,w=!0;for(;w;)try{let{data:L,total:h}=await P({resource:($=C==null?void 0:C.name)!=null?$:"",filters:a,sort:S(n,r),sorters:S(n,r),pagination:{current:c,pageSize:i,mode:"server"},meta:S(f,v),metaData:S(f,v)});c++,k.push(...L),o&&k.length>=o&&(k=k.slice(0,o),w=!1),h===k.length&&(w=!1)}catch(L){s(!1),w=!1,x==null||x(L);return}new al.ExportToCsv({filename:b,useKeysAsHeaders:!0,...m}).generateCsv(k.map(d)),s(!1)}}},da=q(E("react")),il=({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:a,redirect:o,successNotification:i,errorNotification:d,meta:m,metaData:f,mutationMode:v,liveMode:y,onLiveEvent:x,liveParams:p,undoableTimeout:g,dataProviderName:s,invalidates:l,queryOptions:C,createMutationOptions:u,updateMutationOptions:b}={})=>{let{options:P}=Jr(),{resources:$}=G(),k=ae(),{resource:c,id:w,action:L}=Se(),{useParams:h}=de(),{resource:I,action:D,id:N}=h(),M=typeof c=="string"?c:c==null?void 0:c.name,R=!e||e===(k==="legacy"?I:M)?r!=null?r:k==="legacy"?N:w:r,[A,O]=da.default.useState(R);da.default.useEffect(()=>{R!==A&&O(r)},[r]);let Q=e!=null?e:k==="legacy"?I:M,B=k==="legacy"?D:L,ie=t!=null?t:B==="edit"||B==="clone"?B:"create",X=ur(),H;if(k==="legacy")Q&&(H=X(Q));else if(e){let Y=ne(e,$);Y?H=Y:H={name:e,route:e}}else if(typeof c=="string"){let Y=ne(c,$);Y?H=Y:H={name:c,route:c}}else H=c;let{mutationMode:ue}=Nt(),Pe=v!=null?v:ue,oe=ie==="create",J=ie==="edit",ee=ie==="clone",_e=is({redirectFromProps:o,action:ie,redirectOptions:P.redirect}),Ge=A!==void 0&&(J||ee),lt=Kr({resource:H==null?void 0:H.name,id:A!=null?A:"",queryOptions:{enabled:Ge,...C},liveMode:y,onLiveEvent:x,liveParams:p,meta:S(m,f),metaData:S(m,f),dataProviderName:s}),{isFetching:qt}=lt,Mt=_r({mutationOptions:u}),{mutate:_t,isLoading:Ue}=Mt,Dt=Ka({mutationOptions:b}),{mutate:Ye,isLoading:br}=Dt,{setWarnWhen:ut}=Zr(),Ze=uo();return{...oe||ee?{formLoading:qt||Ue,mutationResult:Mt,onFinish:async Y=>{ut(!1);let pe=Qe=>{Ze({redirect:_e,resource:H,id:Qe,meta:f})};return Pe!=="pessimistic"&&setTimeout(()=>{pe()}),new Promise((Qe,ct)=>{if(Pe!=="pessimistic"&&Qe(),!!H)return _t({values:Y,resource:H.name,successNotification:i,errorNotification:d,meta:S(m,f),metaData:S(m,f),dataProviderName:s,invalidates:l},{onSuccess:(Me,We,me)=>{var ze;n&&n(Me,Y,me);let dt=(ze=Me==null?void 0:Me.data)==null?void 0:ze.id;pe(dt),Qe(Me)},onError:(Me,We,me)=>{if(a)return a(Me,Y,me);ct()}})})}}:{formLoading:qt||br,mutationResult:Dt,onFinish:async Y=>{if(ut(!1),!H)return;let pe={id:A!=null?A:"",values:Y,resource:H.name,mutationMode:Pe,undoableTimeout:g,successNotification:i,errorNotification:d,meta:S(m,f),metaData:S(m,f),dataProviderName:s,invalidates:l},Qe=()=>{O(R),Ze({redirect:_e,resource:H,id:A,meta:f})};return Pe!=="pessimistic"&&setTimeout(()=>{Qe()}),new Promise((ct,Me)=>(Pe!=="pessimistic"&&ct(),setTimeout(()=>{Ye(pe,{onSuccess:(We,me,ze)=>{n&&n(We,Y,ze),Pe==="pessimistic"&&Qe(),ct(We)},onError:(We,me,ze)=>{if(a)return a(We,Y,ze);Me()}})})))}},queryResult:lt,id:A,setId:O,redirect:(Y,pe)=>{Ze({redirect:Y!==void 0?Y:J?"list":"edit",resource:H,id:pe!=null?pe:A,meta:f})}}},sl=E("react"),uo=()=>{let{show:e,edit:t,list:r,create:n}=Ne();return(0,sl.useCallback)(({redirect:a,resource:o,id:i,meta:d={}})=>{if(a&&o)return!!o.show&&a==="show"&&i?e(o,i,void 0,d):!!o.edit&&a==="edit"&&i?t(o,i,void 0,d):!!o.create&&a==="create"?n(o,void 0,d):r(o,"push",d)},[])},pa=q(E("react")),Le=()=>{let e=(0,pa.useContext)(zt);return pa.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},ma=q(E("react")),co=()=>{let e=(0,ma.useContext)(zt);return ma.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},Ne=()=>{let{resources:e}=G(),t=ae(),{useHistory:r}=de(),n=r(),a=Se(),o=Le(),i=co(),d=(p,g="push")=>{t==="legacy"?n[g](p):o({to:p,type:g})},m=(p,g={})=>{var s,l,C;if(t==="legacy"){let u=typeof p=="string"?(s=ne(p,e,!0))!=null?s:{name:p,route:p}:p,b=be(u,e,!0).find(P=>P.action==="create");return b?Ee(b.route,a,g):""}else{let u=typeof p=="string"?(l=ne(p,e))!=null?l:{name:p}:p,b=(C=be(u,e).find(P=>P.action==="create"))==null?void 0:C.route;return b?o({to:Ee(b,a,g),type:"path"}):""}},f=(p,g,s={})=>{var l,C,u;let b=encodeURIComponent(g);if(t==="legacy"){let P=typeof p=="string"?(l=ne(p,e,!0))!=null?l:{name:p,route:p}:p,$=be(P,e,!0).find(k=>k.action==="edit");return $?Ee($.route,a,{...s,id:b}):""}else{let P=typeof p=="string"?(C=ne(p,e))!=null?C:{name:p}:p,$=(u=be(P,e).find(k=>k.action==="edit"))==null?void 0:u.route;return $?o({to:Ee($,a,{...s,id:b}),type:"path"}):""}},v=(p,g,s={})=>{var l,C,u;let b=encodeURIComponent(g);if(t==="legacy"){let P=typeof p=="string"?(l=ne(p,e,!0))!=null?l:{name:p,route:p}:p,$=be(P,e,!0).find(k=>k.action==="clone");return $?Ee($.route,a,{...s,id:b}):""}else{let P=typeof p=="string"?(C=ne(p,e))!=null?C:{name:p}:p,$=(u=be(P,e).find(k=>k.action==="clone"))==null?void 0:u.route;return $?o({to:Ee($,a,{...s,id:b}),type:"path"}):""}},y=(p,g,s={})=>{var l,C,u;let b=encodeURIComponent(g);if(t==="legacy"){let P=typeof p=="string"?(l=ne(p,e,!0))!=null?l:{name:p,route:p}:p,$=be(P,e,!0).find(k=>k.action==="show");return $?Ee($.route,a,{...s,id:b}):""}else{let P=typeof p=="string"?(C=ne(p,e))!=null?C:{name:p}:p,$=(u=be(P,e).find(k=>k.action==="show"))==null?void 0:u.route;return $?o({to:Ee($,a,{...s,id:b}),type:"path"}):""}},x=(p,g={})=>{var s,l,C;if(t==="legacy"){let u=typeof p=="string"?(s=ne(p,e,!0))!=null?s:{name:p,route:p}:p,b=be(u,e,!0).find(P=>P.action==="list");return b?Ee(b.route,a,g):""}else{let u=typeof p=="string"?(l=ne(p,e))!=null?l:{name:p}:p,b=(C=be(u,e).find(P=>P.action==="list"))==null?void 0:C.route;return b?o({to:Ee(b,a,g),type:"path"}):""}};return{create:(p,g="push",s={})=>{d(m(p,s),g)},createUrl:m,edit:(p,g,s="push",l={})=>{d(f(p,g,l),s)},editUrl:f,clone:(p,g,s="push",l={})=>{d(v(p,g,l),s)},cloneUrl:v,show:(p,g,s="push",l={})=>{d(y(p,g,l),s)},showUrl:y,list:(p,g="push",s={})=>{d(x(p,s),g)},listUrl:x,push:(p,...g)=>{t==="legacy"?n.push(p,...g):o({to:p,type:"push"})},replace:(p,...g)=>{t==="legacy"?n.replace(p,...g):o({to:p,type:"replace"})},goBack:()=>{t==="legacy"?n.goBack():i()}}},fa=q(E("react")),ll=({resource:e,id:t,successNotification:r,errorNotification:n,meta:a,metaData:o,liveMode:i,onLiveEvent:d,dataProviderName:m,queryOptions:f}={})=>{let v=ae(),{resources:y}=G(),{useParams:x}=de(),{resource:p,id:g}=Se(),{resource:s,id:l}=x(),C=p==null?void 0:p.name,u=!e||e===(v==="legacy"?s:C)?t!=null?t:v==="legacy"?l:g:t,[b,P]=(0,fa.useState)(u);fa.default.useEffect(()=>{u!==b&&P(u)},[u]);let $=e!=null?e:v==="legacy"?s:C,k,c=ur();if(v==="legacy")$&&(k=c($));else if(e){let w=ne(e,y);w?k=w:k={name:e,route:e}}else if(typeof p=="string"){let w=ne(p,y);w?k=w:k={name:p,route:p}}else k=p;return{queryResult:Kr({resource:k==null?void 0:k.name,id:b!=null?b:"",queryOptions:{enabled:b!==void 0,...f},successNotification:r,errorNotification:n,meta:S(a,o),metaData:S(a,o),liveMode:i,onLiveEvent:d,dataProviderName:m}),showId:b,setShowId:P}},Xt=E("react"),ul=E("papaparse"),cl=q(E("lodash/chunk")),dl=({resourceName:e,resource:t,mapData:r=v=>v,paparseOptions:n,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:o,meta:i,metaData:d,onProgress:m,dataProviderName:f}={})=>{let[v,y]=(0,Xt.useState)(0),[x,p]=(0,Xt.useState)(0),[g,s]=(0,Xt.useState)(!1),{resource:l}=G(t!=null?t:e),C=_a(),u=_r(),b;a===1?b=u:b=C;let P=()=>{p(0),y(0),s(!1)},$=c=>{let w={succeeded:c.filter(L=>L.type==="success"),errored:c.filter(L=>L.type==="error")};o==null||o(w),s(!1)};(0,Xt.useEffect)(()=>{m==null||m({totalAmount:x,processedAmount:v})},[x,v]);let k=({file:c})=>(P(),new Promise(w=>{s(!0),(0,ul.parse)(c,{complete:async({data:L})=>{let h=Fa(L,r);if(p(h.length),a===1){let I=h.map(N=>async()=>{var M;return{response:await u.mutateAsync({resource:(M=l==null?void 0:l.name)!=null?M:"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:f,meta:S(i,d),metaData:S(i,d)}),value:N}}),D=await _n(I,({response:N,value:M})=>(y(R=>R+1),{response:[N.data],type:"success",request:[M]}),(N,M)=>({response:[N],type:"error",request:[h[M]]}));w(D)}else{let I=(0,cl.default)(h,a),D=I.map(M=>async()=>{var R;return{response:await C.mutateAsync({resource:(R=l==null?void 0:l.name)!=null?R:"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:f,meta:S(i,d),metaData:S(i,d)}),value:M,currentBatchLength:M.length}}),N=await _n(D,({response:M,currentBatchLength:R,value:A})=>(y(O=>O+R),{response:M.data,type:"success",request:A}),(M,R)=>({response:[M],type:"error",request:I[R]}));w(N)}},...n})}).then(w=>($(w),w)));return{inputProps:{type:"file",accept:".csv",onChange:c=>{c.target.files&&c.target.files.length>0&&k({file:c.target.files[0]})}},mutationResult:b,isLoading:g,handleChange:k}},Lr=E("react"),pl=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Lr.useState)(e),n=(0,Lr.useCallback)(()=>r(!0),[t]),a=(0,Lr.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:a}},ml=q(E("react")),Xr=()=>{let e=ae(),{resource:t,resources:r}=G(),n=Se();return ml.default.useCallback(({resource:a,action:o,meta:i})=>{var d;let m=a||t;if(!m)return;let f=(d=be(m,r,e==="legacy").find(v=>v.action===o))==null?void 0:d.route;return f?Ee(f,n,i):void 0},[r,t,n])},fl=({resource:e,action:t,meta:r,legacy:n})=>Xr()({resource:e,action:t,meta:r,legacy:n}),va=q(E("react")),cr=()=>{let e=(0,va.useContext)(zt);return e!=null&&e.Link?e.Link:({to:t,...r})=>va.default.createElement("a",{href:t,...r})},vl=E("react"),po=q(E("react")),Je={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},yl=po.default.createContext(Je),en=yl,gl=({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:i})=>po.default.createElement(en.Provider,{value:{useHistory:t!=null?t:Je.useHistory,useLocation:r!=null?r:Je.useLocation,useParams:n!=null?n:Je.useParams,Prompt:a!=null?a:Je.Prompt,Link:o!=null?o:Je.Link,routes:i!=null?i:Je.routes}},e),de=()=>{let e=(0,vl.useContext)(en),{useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:i}=e!=null?e:Je;return{useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:i}},hl=E("react"),bl=E("@tanstack/react-query"),mo=q(E("react")),dr=mo.default.createContext({}),Cl=({can:e,children:t})=>mo.default.createElement(dr.Provider,{value:{can:e}},t),xl=e=>{let{icon:t,list:r,edit:n,create:a,show:o,clone:i,children:d,meta:m,options:f,...v}=e,{icon:y,...x}=m!=null?m:{},{icon:p,...g}=f!=null?f:{};return{...v,...m?{meta:x}:{},...f?{options:g}:{}}},fo=({action:e,resource:t,params:r,queryOptions:n})=>{let{can:a}=(0,hl.useContext)(dr),{resource:o,...i}=r!=null?r:{},d=xl(o!=null?o:{}),m=(0,bl.useQuery)(["useCan",{action:e,resource:t,params:{...i,resource:d},enabled:n==null?void 0:n.enabled}],()=>{var f;return(f=a==null?void 0:a({action:e,resource:t,params:r}))!=null?f:Promise.resolve({can:!0})},{enabled:typeof a<"u",...n,retry:!1});return typeof a>"u"?{data:{can:!0}}:m},$l=E("react"),Pl=()=>{let{can:e}=(0,$l.useContext)(dr);return{can:e}},$t=E("react"),kl=q(E("lodash/uniqBy")),El=q(E("lodash/debounce")),er=q(E("lodash/get")),wl=e=>{var t,r,n;let[a,o]=(0,$t.useState)([]),[i,d]=(0,$t.useState)([]),[m,f]=(0,$t.useState)([]),{resource:v,sort:y,sorters:x,filters:p=[],optionLabel:g="title",optionValue:s="id",debounce:l=300,successNotification:C,errorNotification:u,defaultValueQueryOptions:b,queryOptions:P,fetchSize:$,pagination:k,hasPagination:c=!1,liveMode:w,defaultValue:L=[],onLiveEvent:h,onSearch:I,liveParams:D,meta:N,metaData:M,dataProviderName:R}=e,{resources:A}=G(),O=ne(v,A),Q=(t=O==null?void 0:O.name)!=null?t:v,B=Array.isArray(L)?L:[L],ie=(0,$t.useCallback)(J=>{f(J.data.map(ee=>({label:(0,er.default)(ee,g),value:(0,er.default)(ee,s)})))},[g,s]),X=b!=null?b:P,H=Ba({resource:Q,ids:B,queryOptions:{...X,enabled:B.length>0&&((r=b==null?void 0:b.enabled)!=null?r:!0),onSuccess:J=>{var ee;ie(J),(ee=X==null?void 0:X.onSuccess)==null||ee.call(X,J)}},meta:S(N,M),metaData:S(N,M),liveMode:"off",dataProviderName:R}),ue=(0,$t.useCallback)(J=>{d(J.data.map(ee=>({label:(0,er.default)(ee,g),value:(0,er.default)(ee,s)})))},[g,s]),Pe=Hr({resource:Q,sorters:S(x,y),filters:p.concat(a),pagination:{current:k==null?void 0:k.current,pageSize:(n=k==null?void 0:k.pageSize)!=null?n:$,mode:k==null?void 0:k.mode},hasPagination:c,queryOptions:{...P,onSuccess:J=>{var ee;ue(J),(ee=P==null?void 0:P.onSuccess)==null||ee.call(P,J)}},successNotification:C,errorNotification:u,meta:S(N,M),metaData:S(N,M),liveMode:w,liveParams:D,onLiveEvent:h,dataProviderName:R}),oe=J=>{if(I){o(I(J));return}if(J)o([{field:g,operator:"contains",value:J}]);else{o([]);return}};return{queryResult:Pe,defaultValueQueryResult:H,options:(0,$t.useMemo)(()=>(0,kl.default)([...i,...m],"value"),[i,m]),onSearch:(0,El.default)(oe,l)}},ft=q(E("react")),ya=q(E("qs")),tr=q(E("lodash/differenceWith")),rr=q(E("lodash/isEqual")),Il=q(E("warn-once")),ga=[],ha=[];function Sl({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:a,permanentSorter:o=ha,defaultSetFilterBehavior:i,initialFilter:d,permanentFilter:m=ga,filters:f,sorters:v,syncWithLocation:y,resource:x,successNotification:p,errorNotification:g,queryOptions:s,liveMode:l,onLiveEvent:C,liveParams:u,meta:b,metaData:P,dataProviderName:$}={}){var k,c,w,L,h,I,D,N,M,R;let{syncWithLocation:A}=lo(),O=y!=null?y:A,Q=Za(l),B=ae(),{useLocation:ie}=de(),{search:X,pathname:H}=ie(),ue=Se(),Pe=r===!1?"off":"server",oe=((k=n==null?void 0:n.mode)!=null?k:Pe)!=="off",J=S(n==null?void 0:n.current,e),ee=S(n==null?void 0:n.pageSize,t),_e=S(b,P),{parsedCurrent:Ge,parsedPageSize:lt,parsedSorter:qt,parsedFilters:Mt}=Vr(X!=null?X:"?"),_t=S(f==null?void 0:f.initial,d),Ue=(c=S(f==null?void 0:f.permanent,m))!=null?c:ga,Dt=S(v==null?void 0:v.initial,a),Ye=(w=S(v==null?void 0:v.permanent,o))!=null?w:ha,br=(L=S(f==null?void 0:f.defaultBehavior,i))!=null?L:"merge",ut,Ze,Y,pe;O?(ut=((h=ue==null?void 0:ue.params)==null?void 0:h.current)||Ge||J||1,Ze=((I=ue==null?void 0:ue.params)==null?void 0:I.pageSize)||lt||ee||10,Y=((D=ue==null?void 0:ue.params)==null?void 0:D.sorters)||(qt.length?qt:Dt),pe=((N=ue==null?void 0:ue.params)==null?void 0:N.filters)||(Mt.length?Mt:_t)):(ut=J||1,Ze=ee||10,Y=Dt,pe=_t);let{replace:Qe}=Ne(),ct=Le(),{resource:Me}=G(x),We=Me==null?void 0:Me.name;ft.default.useEffect(()=>{(0,Il.default)(typeof We>"u","useTable: `resource` is not defined.")},[We]);let[me,ze]=(0,ft.useState)(Or(Ye,Y!=null?Y:[])),[dt,Gt]=(0,ft.useState)(Rr(Ue,pe!=null?pe:[])),[Rt,An]=(0,ft.useState)(ut),[pt,Fn]=(0,ft.useState)(Ze),mi=({pagination:{current:te,pageSize:ke},sorter:Yt,filters:Zt})=>{var Jt;if(B==="new")return(Jt=ct({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...oe?{current:te,pageSize:ke}:{},sorters:Yt,filters:Zt,...qn()}}))!=null?Jt:"";{let Ot=ya.default.parse(X==null?void 0:X.substring(1)),Rn=Mr({pagination:{pageSize:ke,current:te},sorters:me!=null?me:Yt,filters:Zt,...Ot});return`${H!=null?H:""}?${Rn!=null?Rn:""}`}};(0,ft.useEffect)(()=>{X===""&&(An(ut),Fn(Ze),ze(Or(Ye,Y!=null?Y:[])),Gt(Rr(Ue,pe!=null?pe:[])))},[X]);let qn=()=>{var te;if(B==="new"){let{sorters:ke,filters:Yt,pageSize:Zt,current:Jt,...Ot}=(te=ue==null?void 0:ue.params)!=null?te:{};return Ot}else{let{sorter:ke,filters:Yt,pageSize:Zt,current:Jt,...Ot}=ya.default.parse(X,{ignoreQueryPrefix:!0});return Ot}};(0,ft.useEffect)(()=>{if(O){let te=qn();if(B==="new")ct({type:"replace",options:{keepQuery:!0},query:{...oe?{pageSize:pt,current:Rt}:{},sorters:(0,tr.default)(me,Ye,rr.default),filters:(0,tr.default)(dt,Ue,rr.default)}});else{let ke=Mr({...oe?{pagination:{pageSize:pt,current:Rt}}:{},sorters:(0,tr.default)(me,Ye,rr.default),filters:(0,tr.default)(dt,Ue,rr.default),...te});return Qe==null?void 0:Qe(`${H}?${ke}`,void 0,{shallow:!0})}}},[O,Rt,pt,me,dt]);let Mn=Hr({resource:We,hasPagination:r,pagination:{current:Rt,pageSize:pt,mode:n==null?void 0:n.mode},filters:Tt(Ue,dt),sorters:Dr(Ye,me),queryOptions:s,successNotification:p,errorNotification:g,meta:_e,metaData:_e,liveMode:Q,liveParams:u,onLiveEvent:C,dataProviderName:$}),fi=te=>{Gt(ke=>Tt(Ue,te,ke))},vi=te=>{Gt(Tt(Ue,te))},yi=te=>{Gt(ke=>Tt(Ue,te(ke)))},gi=(te,ke=br)=>{typeof te=="function"?yi(te):ke==="replace"?vi(te):fi(te)},Dn=te=>{ze(()=>Dr(Ye,te))};return{tableQueryResult:Mn,sorters:me,setSorters:Dn,sorter:me,setSorter:Dn,filters:dt,setFilters:gi,current:Rt,setCurrent:An,pageSize:pt,setPageSize:Fn,pageCount:pt?Math.ceil(((R=(M=Mn.data)==null?void 0:M.total)!=null?R:0)/pt):1,createLinkForSyncWithLocation:mi}}var ba=E("react"),Nr=E("@tanstack/react-query"),vo=q(E("react")),pr=vo.default.createContext({}),Ll=({create:e,get:t,update:r,children:n})=>vo.default.createElement(pr.Provider,{value:{create:e,get:t,update:r}},n),gt=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Nr.useQueryClient)(),n=(0,ba.useContext)(pr),a=le(),{resources:o}=(0,ba.useContext)(Wt),{data:i,refetch:d,isLoading:m}=Ia({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy),queryOptions:{enabled:!!n}}),f=(0,Nr.useMutation)(async y=>{var x,p,g,s,l;let C=ne(y.resource,o),u=S((x=C==null?void 0:C.meta)==null?void 0:x.audit,(p=C==null?void 0:C.options)==null?void 0:p.audit,(s=(g=C==null?void 0:C.options)==null?void 0:g.auditLog)==null?void 0:s.permissions);if(u&&!Yi(u,y.action))return;let b;return m&&(b=await d()),await((l=n.create)==null?void 0:l.call(n,{...y,author:i!=null?i:b==null?void 0:b.data}))},e),v=(0,Nr.useMutation)(async y=>{var x;return await((x=n.update)==null?void 0:x.call(n,y))},{onSuccess:y=>{if(y!=null&&y.resource){let x=Ie(y==null?void 0:y.resource);r.invalidateQueries(x.logList())}},...t});return{log:f,rename:v}},Nl=E("react"),Al=E("@tanstack/react-query"),Fl=({resource:e,action:t,meta:r,author:n,metaData:a,queryOptions:o})=>{let{get:i}=(0,Nl.useContext)(pr),d=Ie(e,void 0,a);return(0,Al.useQuery)(d.logList(r),()=>{var m;return(m=i==null?void 0:i({resource:e,action:t,author:n,meta:r,metaData:a}))!=null?m:Promise.resolve([])},{enabled:typeof i<"u",...o,retry:!1})},ql=E("react"),Ml=E("@tanstack/react-query"),ht=()=>{let{resources:e}=G(),t=(0,Ml.useQueryClient)();return(0,ql.useCallback)(({resource:r,dataProviderName:n,invalidates:a,id:o})=>{if(a===!1)return;let i=Ie(r,W(r,n,e));a.forEach(d=>{switch(d){case"all":t.invalidateQueries(i.all);break;case"list":t.invalidateQueries(i.list());break;case"many":t.invalidateQueries(i.many());break;case"resourceAll":t.invalidateQueries(i.resourceAll);break;case"detail":t.invalidateQueries(i.detail(o||""));break;default:break}})},[])},Dl=E("react"),Rl=q(E("warn-once")),Ol=({meta:e={}}={})=>{let t=ae(),{i18nProvider:r}=(0,Dl.useContext)(Lt),n=Se(),a=Z(),{resources:o,resource:i,action:d}=G(),m=[];if(!(i!=null&&i.name))return{breadcrumbs:m};let f=v=>{var y,x,p,g,s,l,C,u;let b=typeof v=="string"?(y=ne(v,o,t==="legacy"))!=null?y:{name:v}:v;if(b){let P=S((x=b==null?void 0:b.meta)==null?void 0:x.parent,b==null?void 0:b.parentName);P&&f(P);let $=be(b,o,t==="legacy").find(w=>w.action==="list"),k=(p=$==null?void 0:$.resource)!=null&&p.list?$==null?void 0:$.route:void 0,c=k?t==="legacy"?k:Ee(k,n,e):void 0;m.push({label:(l=S((g=b.meta)==null?void 0:g.label,(s=b.options)==null?void 0:s.label))!=null?l:a(`${b.name}.${b.name}`,nr(b.name)),href:c,icon:S((C=b.meta)==null?void 0:C.icon,(u=b.options)==null?void 0:u.icon,b.icon)})}};if(f(i),d&&d!=="list"){let v=`actions.${d}`,y=a(v);typeof r<"u"&&y===v?((0,Rl.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${d}" action. Please add "actions.${d}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:a(`buttons.${d}`,nr(d))})):m.push({label:a(v,nr(d))})}return{breadcrumbs:m}},Ar=q(E("react")),or=(e,t,r=!1)=>{let n=[],a=Xe(e,t);for(;a;)n.push(a),a=Xe(a,t);return n.reverse(),`/${[...n,e].map(o=>{var i,d;return Be((d=(i=r?o.route:void 0)!=null?i:o.identifier)!=null?d:o.name)}).join("/").replace(/^\//,"")}`},Tl=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(a=>{var o,i;let d=[],m=Xe(a,e);for(;m;)d.push(m),m=Xe(m,e);d.reverse();let f=r;d.forEach(y=>{var x,p;let g=(p=(x=t?y.route:void 0)!=null?x:y.identifier)!=null?p:y.name;f.children[g]||(f.children[g]={item:y,children:{}}),f=f.children[g]});let v=(i=(o=t?a.route:void 0)!=null?o:a.identifier)!=null?i:a.name;f.children[v]||(f.children[v]={item:a,children:{}})});let n=a=>{let o=[];return Object.keys(a.children).forEach(i=>{let d=or(a.children[i].item,e,t),m={...a.children[i].item,key:d,children:n(a.children[i])};o.push(m)}),o};return n(r)},Ca=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),Ul=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=Z(),n=Xr(),a=ae(),{resource:o,resources:i}=G(),{pathname:d}=Se(),{useLocation:m}=de(),{pathname:f}=m(),v=a==="legacy"?Ca(f):d?Ca(d):void 0,y=`/${(v!=null?v:"").replace(/^\//,"")}`,x=o?or(o,i,a==="legacy"):y!=null?y:"",p=Ar.default.useMemo(()=>{if(!o)return[];let l=Xe(o,i),C=[or(o,i)];for(;l;)C.push(or(l,i)),l=Xe(l,i);return C},[]),g=Ar.default.useCallback(l=>{var C,u,b,P,$,k,c,w;if(((b=(C=l==null?void 0:l.meta)==null?void 0:C.hide)!=null?b:(u=l==null?void 0:l.options)==null?void 0:u.hide)||!(l!=null&&l.list)&&l.children.length===0)return;let L=l.list?n({resource:l,action:"list",legacy:a==="legacy",meta:e}):void 0;if(!(t&&L&&L.match(/(\/|^):(.+?)(\/|$){1}/)))return{...l,route:L,icon:S((P=l.meta)==null?void 0:P.icon,($=l.options)==null?void 0:$.icon,l.icon),label:(w=S((k=l==null?void 0:l.meta)==null?void 0:k.label,(c=l==null?void 0:l.options)==null?void 0:c.label))!=null?w:r(`${l.name}.${l.name}`,jr(l.name,"plural"))}},[a,e,r,t]),s=Ar.default.useMemo(()=>{let l=Tl(i,a==="legacy"),C=u=>u.flatMap(b=>{let P=C(b.children),$=g({...b,children:P});return $?[$]:[]});return C(l)},[i,a,g]);return{defaultOpenKeys:p,selectedKey:x,menuItems:s}},Ql=()=>{let[e,t]=(0,mt.useState)(),r=Z(),{push:n}=Ne(),a=Le(),o=ae(),{resource:i,action:d}=G();return(0,mt.useEffect)(()=>{i&&d&&t(r("pages.error.info",{action:d,resource:i==null?void 0:i.name},`You may have forgotten to add the "${d}" component to "${i==null?void 0:i.name}" resource.`))},[i,d]),mt.default.createElement(mt.default.Fragment,null,mt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&mt.default.createElement("p",null,e),mt.default.createElement("button",{onClick:()=>{o==="legacy"?n("/"):a({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},se=q(E("react")),yo=()=>{let[e,t]=(0,se.useState)(""),[r,n]=(0,se.useState)(""),a=Z(),o=le(),{mutate:i}=Qr({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)});return se.default.createElement(se.default.Fragment,null,se.default.createElement("h1",null,a("pages.login.title","Sign in your account")),se.default.createElement("form",{onSubmit:d=>{d.preventDefault(),i({username:e,password:r})}},se.default.createElement("table",null,se.default.createElement("tbody",null,se.default.createElement("tr",null,se.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),se.default.createElement("td",null,se.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:d=>t(d.target.value)}))),se.default.createElement("tr",null,se.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),se.default.createElement("td",null,se.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:d=>n(d.target.value)}))))),se.default.createElement("br",null),se.default.createElement("input",{type:"submit",value:"login"})))},Pt=q(E("react")),K=q(E("react")),Wl=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:a,wrapperProps:o,renderContent:i,formProps:d})=>{let m=ae(),f=cr(),{Link:v}=de(),y=m==="legacy"?v:f,[x,p]=(0,K.useState)(""),[g,s]=(0,K.useState)(""),[l,C]=(0,K.useState)(!1),u=Z(),b=le(),{mutate:P}=Qr({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),$=(w,L)=>w?typeof w=="string"?K.default.createElement(y,{to:w},L):w:null,k=()=>e?e.map(w=>{var L;return K.default.createElement("div",{key:w.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},K.default.createElement("button",{onClick:()=>P({providerName:w.name}),style:{display:"flex",alignItems:"center"}},w==null?void 0:w.icon,(L=w.label)!=null?L:K.default.createElement("label",null,w.label)))}):null,c=K.default.createElement("div",{...a},K.default.createElement("h1",{style:{textAlign:"center"}},u("pages.login.title","Sign in to your account")),k(),K.default.createElement("hr",null),K.default.createElement("form",{onSubmit:w=>{w.preventDefault(),P({email:x,password:g,remember:l})},...d},K.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},K.default.createElement("label",null,u("pages.login.fields.email","Email")),K.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:w=>p(w.target.value)}),K.default.createElement("label",null,u("pages.login.fields.password","Password")),K.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:g,onChange:w=>s(w.target.value)}),n!=null?n:K.default.createElement(K.default.Fragment,null,K.default.createElement("label",null,u("pages.login.buttons.rememberMe","Remember me"),K.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:l,value:l.toString(),onChange:()=>{C(!l)}}))),K.default.createElement("br",null),r!=null?r:$("/forgot-password",u("pages.login.buttons.forgotPassword","Forgot password?")),K.default.createElement("input",{type:"submit",value:u("pages.login.signin","Sign in")}),t!=null?t:K.default.createElement("span",null,u("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",$("/register",u("pages.login.register","Sign up"))))));return K.default.createElement("div",{...o},i?i(c):c)},re=q(E("react")),zl=({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:a,formProps:o})=>{let i=ae(),d=cr(),{Link:m}=de(),f=i==="legacy"?m:d,[v,y]=(0,re.useState)(""),[x,p]=(0,re.useState)(""),g=Z(),s=le(),{mutate:l,isLoading:C}=Sa({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)}),u=($,k)=>$?typeof $=="string"?re.default.createElement(f,{to:$},k):$:null,b=()=>e?e.map($=>{var k;return re.default.createElement("div",{key:$.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},re.default.createElement("button",{onClick:()=>l({providerName:$.name}),style:{display:"flex",alignItems:"center"}},$==null?void 0:$.icon,(k=$.label)!=null?k:re.default.createElement("label",null,$.label)))}):null,P=re.default.createElement("div",{...n},re.default.createElement("h1",{style:{textAlign:"center"}},g("pages.register.title","Sign up for your account")),b(),re.default.createElement("hr",null),re.default.createElement("form",{onSubmit:$=>{$.preventDefault(),l({email:v,password:x})},...o},re.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},re.default.createElement("label",null,g("pages.register.fields.email","Email")),re.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:$=>y($.target.value)}),re.default.createElement("label",null,g("pages.register.fields.password","Password")),re.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:x,onChange:$=>p($.target.value)}),re.default.createElement("input",{type:"submit",value:g("pages.register.buttons.submit","Sign up"),disabled:C}),t!=null?t:re.default.createElement(re.default.Fragment,null,re.default.createElement("span",null,g("pages.login.buttons.haveAccount","Have an account?")," ",u("/login",g("pages.login.signin","Sign in")))))));return re.default.createElement("div",{...r},a?a(P):P)},ge=q(E("react")),Vl=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:a})=>{let o=Z(),i=ae(),d=cr(),{Link:m}=de(),f=i==="legacy"?m:d,[v,y]=(0,ge.useState)(""),{mutate:x,isLoading:p}=La(),g=(l,C)=>l?typeof l=="string"?ge.default.createElement(f,{to:l},C):l:null,s=ge.default.createElement("div",{...r},ge.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),ge.default.createElement("hr",null),ge.default.createElement("form",{onSubmit:l=>{l.preventDefault(),x({email:v})},...a},ge.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ge.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),ge.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:l=>y(l.target.value)}),ge.default.createElement("input",{type:"submit",disabled:p,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),ge.default.createElement("br",null),e!=null?e:ge.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",g("/login",o("pages.login.signin","Sign in"))))));return ge.default.createElement("div",{...t},n?n(s):s)},he=q(E("react")),jl=({wrapperProps:e,contentProps:t,renderContent:r,formProps:n})=>{let a=Z(),o=le(),{mutate:i,isLoading:d}=Na({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),[m,f]=(0,he.useState)(""),[v,y]=(0,he.useState)(""),x=he.default.createElement("div",{...t},he.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),he.default.createElement("hr",null),he.default.createElement("form",{onSubmit:p=>{p.preventDefault(),i({password:m,confirmPassword:v})},...n},he.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},he.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),he.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:m,onChange:p=>f(p.target.value)}),he.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),he.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:v,onChange:p=>y(p.target.value)}),he.default.createElement("input",{type:"submit",disabled:d,value:a("pages.updatePassword.buttons.submit","Update")}))));return he.default.createElement("div",{...e},r?r(x):x)},Bl=e=>{let{type:t}=e;return Pt.default.createElement(Pt.default.Fragment,null,(()=>{switch(t){case"register":return Pt.default.createElement(zl,{...e});case"forgotPassword":return Pt.default.createElement(Vl,{...e});case"updatePassword":return Pt.default.createElement(jl,{...e});default:return Pt.default.createElement(Wl,{...e})}})())},fe=q(E("react")),go=()=>fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("h1",null,"Welcome on board"),fe.default.createElement("p",null,"Your configuration is completed."),fe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",fe.default.createElement("code",null,"`resources`")," property of ",fe.default.createElement("code",null,"`<Refine>`")),fe.default.createElement("div",{style:{display:"flex",gap:8}},fe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},fe.default.createElement("button",null,"Documentation")),fe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},fe.default.createElement("button",null,"Examples")),fe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},fe.default.createElement("button",null,"Community")))),De=q(E("react")),Hl=()=>De.default.createElement(De.default.Fragment,null,De.default.createElement("h1",null,"Welcome on board"),De.default.createElement("p",null,"Your configuration is completed."),De.default.createElement("div",{style:{display:"flex",gap:8}},De.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},De.default.createElement("button",null,"Documentation")),De.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},De.default.createElement("button",null,"Examples")),De.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},De.default.createElement("button",null,"Community")))),_=q(E("react")),Fr=E("@tanstack/react-query"),Kl=E("@tanstack/react-query-devtools"),_l=E("react"),vt=E("react"),Gl="4.1.2",Yl=()=>{let e=Aa(),t=(0,vt.useContext)(pr),r=(0,vt.useContext)(Ut),n=(0,vt.useContext)(en),a=(0,vt.useContext)(Gr),{i18nProvider:o}=(0,vt.useContext)(Lt),i=(0,vt.useContext)(Yr),d=(0,vt.useContext)(dr),{resources:m}=G(),f=!!t.create||!!t.get||!!t.update,v=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),y=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,x=!!a,p=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),g=!!i.close||!!i.open,s=!!d.can;return{providers:{auth:e,auditLog:f,live:v,router:y,data:x,i18n:p,notification:g,accessControl:s},version:Gl,resourceCount:m.length}},Zl=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},Jl=()=>{let e=Yl();return(0,_l.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Zl(e)}`},[]),null},Xl=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},xa=q(E("react")),eu=e=>{let t=xa.default.useRef(!1);xa.default.useEffect(()=>{t.current===!1&&e&&Xl(e)&&(t.current=!0)},[e])},tu=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:a,notificationProvider:o,accessControlProvider:i,auditLogProvider:d,resources:m,DashboardPage:f,ReadyPage:v,LoginPage:y,catchAll:x,children:p,liveProvider:g,i18nProvider:s,Title:l,Layout:C,Sider:u,Header:b,Footer:P,OffLayoutArea:$,onLiveEvent:k,options:c})=>{let{optionsWithDefaults:w,disableTelemetryWithDefault:L,reactQueryWithDefaults:h}=os({options:c}),I=Xa(()=>{var M;return h.clientConfig instanceof Fr.QueryClient?h.clientConfig:new Fr.QueryClient({...h.clientConfig,defaultOptions:{...h.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(M=h.clientConfig.defaultOptions)==null?void 0:M.queries}}})},[h.clientConfig]),D=_.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])();if(eu(a),n&&!a&&(m!=null?m:[]).length===0)return v?_.default.createElement(v,null):_.default.createElement(go,null);let{RouterComponent:N=_.default.Fragment}=a?{}:n!=null?n:{};return _.default.createElement(Fr.QueryClientProvider,{client:I},_.default.createElement(Hs,{...D},_.default.createElement(Ai,{...e!=null?e:{},isProvided:Boolean(e)},_.default.createElement(Fi,{...t!=null?t:{},isProvided:Boolean(t)},_.default.createElement(Is,{...r},_.default.createElement(As,{liveProvider:g},_.default.createElement(Ws,{value:n&&!a?"legacy":"new"},_.default.createElement(Vs,{router:a},_.default.createElement(gl,{...n},_.default.createElement(Qs,{resources:m!=null?m:[]},_.default.createElement(_s,{i18nProvider:s},_.default.createElement(Cl,{...i!=null?i:{}},_.default.createElement(Ll,{...d!=null?d:{}},_.default.createElement(ms,null,_.default.createElement(as,{mutationMode:w.mutationMode,warnWhenUnsavedChanges:w.warnWhenUnsavedChanges,syncWithLocation:w.syncWithLocation,Title:l,undoableTimeout:w.undoableTimeout,catchAll:x,DashboardPage:f,LoginPage:y,Layout:C,Sider:u,Footer:P,Header:b,OffLayoutArea:$,hasDashboard:!!f,liveMode:w.liveMode,onLiveEvent:k,options:w},_.default.createElement(Js,null,_.default.createElement(N,null,p,!L&&_.default.createElement(Jl,null),_.default.createElement(bo,null))))))))))))))))),h.devtoolConfig===!1?null:_.default.createElement(Kl.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...h.devtoolConfig}))},$a=E("react"),ho=({notification:e})=>{let t=Z(),{notificationDispatch:r}=St(),{open:n}=tt(),[a,o]=(0,$a.useState)(),i=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:wr(e.seconds)},`You have ${wr(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:wr(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let d=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(d)}};return(0,$a.useEffect)(()=>{i()},[e]),null},ir=q(E("react")),ru=({children:e,Layout:t,Sider:r,Header:n,Title:a,Footer:o,OffLayoutArea:i})=>{let{Layout:d,Footer:m,Header:f,Sider:v,Title:y,OffLayoutArea:x}=Jr(),p=t!=null?t:d;return ir.default.createElement(p,{Sider:r!=null?r:v,Header:n!=null?n:f,Footer:o!=null?o:m,Title:a!=null?a:y,OffLayoutArea:i!=null?i:x},e,ir.default.createElement(nu,null))},nu=()=>{let{Prompt:e}=de(),t=Z(),{warnWhen:r,setWarnWhen:n}=Zr(),a=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,ir.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),ir.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},je=q(E("react")),au=()=>{let e=Le(),[t,r]=je.default.useState(void 0);return je.default.useEffect(()=>{t&&e(t)},[t]),je.default.useCallback(n=>{t||r(n)},[t])};function ou({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:a}){var o,i,d,m,f;let v=le(),y=Boolean(v==null?void 0:v.isLegacy),x=Wr({v3LegacyAuthProviderCompatible:Boolean(v==null?void 0:v.isLegacy)}),p=ae(),g=Se(),s=Le(),l=au(),{replace:C}=Ne(),{useLocation:u}=de(),{pathname:b,search:P}=u(),$=x.isLoading,k=v!=null&&v.isProvided?y?x.isSuccess:(o=x.data)==null?void 0:o.authenticated:!0,c=y?typeof e=="string"?e:"/login":typeof e=="string"?e:(i=x.data)==null?void 0:i.redirectTo;if($)return a?je.default.createElement(je.default.Fragment,null,a):null;if(k)return je.default.createElement(je.default.Fragment,null,r!=null?r:null);if(typeof n>"u"){if(p==="legacy"){let w=t&&b?`?to=${encodeURIComponent(`${b}${P!=null?P:""}`)}`:"",L=b==null?void 0:b.split(/[?#]/)[0];!(L!=null&&L.includes("/login"))&&L!==e&&C(`/${(c!=null?c:"/login").replace(/^\//,"")}${w}`)}else{if(((d=g.pathname)==null?void 0:d.split(/[?#]/)[0])===c)return null;let w=(m=g.params)!=null&&m.to?(f=g.params)==null?void 0:f.to:s({to:g.pathname||"/",options:{keepQuery:!0},type:"path"});c&&l({to:`/${c.replace(/^\//,"")}`,query:w&&typeof w=="string"&&w.length>1?{to:w}:{}})}return null}return je.default.createElement(je.default.Fragment,null,n)}var iu=E("react"),bo=()=>{let{useLocation:e}=de(),{checkAuth:t}=we(),r=e();return(0,iu.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},kt=q(E("react")),su=({resource:e,action:t,params:r,fallback:n,children:a,...o})=>{let{data:i}=fo({resource:e,action:t,params:r});return i!=null&&i.can?kt.default.isValidElement(a)?kt.default.cloneElement(a,o):kt.default.createElement(kt.default.Fragment,null,a):(i==null?void 0:i.can)===!1?kt.default.createElement(kt.default.Fragment,null,n!=null?n:null):null},Et=q(E("react")),lu=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],uu=()=>((0,Et.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),lu.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Et.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Et.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Et.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Et.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Et.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var ti=Cr((vp,ei)=>{var kn=Object.defineProperty,wu=Object.getOwnPropertyDescriptor,Iu=Object.getOwnPropertyNames,Su=Object.prototype.hasOwnProperty,Lu=(e,t)=>{for(var r in t)kn(e,r,{get:t[r],enumerable:!0})},Nu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Iu(t))!Su.call(e,a)&&a!==r&&kn(e,a,{get:()=>t[a],enumerable:!(n=wu(t,a))||n.enumerable});return e},Au=e=>Nu(kn({},"__esModule",{value:!0}),e),Xo={};Lu(Xo,{useTable:()=>qu});ei.exports=Au(Xo);var gr=E("react"),Fu=Ae(),Jo=E("@tanstack/react-table");function qu({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...n}){var a,o,i;let d=(0,Fu.useTable)({...t,hasPagination:e}),m=e===!1?"off":"server",f=((o=(a=t.pagination)==null?void 0:a.mode)!=null?o:m)!=="off",{tableQueryResult:{data:v},current:y,setCurrent:x,pageSize:p,setPageSize:g,sorters:s,setSorters:l,filters:C,setFilters:u,pageCount:b}=d,P=[];C.map(N=>{N.operator!=="or"&&N.operator!=="and"&&"field"in N&&P.push(N)});let $=(0,Jo.useReactTable)({getCoreRowModel:(0,Jo.getCoreRowModel)(),data:(i=v==null?void 0:v.data)!=null?i:[],initialState:{pagination:{pageIndex:y-1,pageSize:p},sorting:s.map(N=>({id:N.field,desc:N.order==="desc"})),columnFilters:P.map(N=>({id:N.field,value:N.value})),...r},pageCount:b,manualPagination:!0,manualSorting:!0,manualFiltering:!0,...n}),{state:k,columns:c}=$.options,{pagination:w,sorting:L,columnFilters:h}=k,{pageIndex:I,pageSize:D}=w!=null?w:{};return(0,gr.useEffect)(()=>{I!==void 0&&x(I+1)},[I]),(0,gr.useEffect)(()=>{D!==void 0&&g(D)},[D]),(0,gr.useEffect)(()=>{L!==void 0&&(l(L==null?void 0:L.map(N=>({field:N.id,order:N.desc?"desc":"asc"}))),L.length>0&&f&&x(1))},[L]),(0,gr.useEffect)(()=>{let N=[];h==null||h.map(R=>{var A,O;let Q=(O=(A=c.find(B=>B.id===R.id))==null?void 0:A.meta)==null?void 0:O.filterOperator;N.push({field:R.id,operator:Q!=null?Q:Array.isArray(R.value)?"in":"eq",value:R.value})});let M=P.filter(R=>!N.some(A=>R.field===A.field&&R.operator===A.operator));M==null||M.map(R=>{N.push({field:R.field,operator:R.operator,value:void 0})}),u(N),N.length>0&&f&&x(1)},[h]),{...$,refineCore:d}}});var Sn=Cr(($p,ui)=>{var Ru=Object.create,hr=Object.defineProperty,Ou=Object.getOwnPropertyDescriptor,Tu=Object.getOwnPropertyNames,Uu=Object.getPrototypeOf,Qu=Object.prototype.hasOwnProperty,Wu=(e,t)=>{for(var r in t)hr(e,r,{get:t[r],enumerable:!0})},si=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Tu(t))!Qu.call(e,a)&&a!==r&&hr(e,a,{get:()=>t[a],enumerable:!(n=Ou(t,a))||n.enumerable});return e},zu=(e,t,r)=>(r=e!=null?Ru(Uu(e)):{},si(t||!e||!e.__esModule?hr(r,"default",{value:e,enumerable:!0}):r,e)),Vu=e=>si(hr({},"__esModule",{value:!0}),e),li={};Wu(li,{useForm:()=>In,useModalForm:()=>Hu,useStepsForm:()=>Bu});ui.exports=Vu(li);var ni=E("react"),ju=E("react-hook-form"),ai=Ae(),In=({refineCoreProps:e,warnWhenUnsavedChanges:t,...r}={})=>{let{warnWhenUnsavedChanges:n,setWarnWhen:a}=(0,ai.useWarnAboutChange)(),o=t!=null?t:n,i=(0,ai.useForm)({...e}),{queryResult:d,onFinish:m,formLoading:f}=i,v=(0,ju.useForm)({...r}),{watch:y,reset:x,getValues:p,handleSubmit:g}=v;(0,ni.useEffect)(()=>{var C;if(typeof(d==null?void 0:d.data)<"u"){let u={},b=Object.keys(p());Object.entries(((C=d==null?void 0:d.data)==null?void 0:C.data)||{}).forEach(([P,$])=>{b.includes(P)&&(u[P]=$)}),x(u)}},[d==null?void 0:d.data]),(0,ni.useEffect)(()=>{let C=y((u,{type:b})=>{b==="change"&&s(u)});return()=>C.unsubscribe()},[y]);let s=C=>(o&&a(!0),C),l=(C,u)=>async b=>(a(!1),await g(C,u)(b));return{...v,handleSubmit:l,refineCore:i,saveButtonProps:{disabled:f,onClick:C=>{l(m,()=>!1)(C)}}}},oi=E("react"),Bu=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:n=!1}=e!=null?e:{},[a,o]=(0,oi.useState)(r),i=In({...t}),{trigger:d,getValues:m,reset:f,formState:{dirtyFields:v},refineCore:{queryResult:y}}=i;(0,oi.useEffect)(()=>{var p;if(y!=null&&y.data){let g={},s=Object.keys(m());Object.entries((p=y==null?void 0:y.data)==null?void 0:p.data).forEach(([l,C])=>{s.includes(l)&&(v[l]?g[l]=m(l):g[l]=C)}),f(g,{keepDirty:!0,keepValues:!0})}},[y==null?void 0:y.data,a]);let x=p=>{let g=p;p<0&&(g=0),o(g)};return{...i,steps:{currentStep:a,gotoStep:async p=>{if(p!==a){if(p<a&&!n){x(p);return}await d()&&x(p)}}}}},ii=E("react"),xt=Ae(),wn=zu(E("react")),Hu=({modalProps:e,refineCoreProps:t,syncWithLocation:r,...n}={})=>{var a,o,i,d,m,f,v;let y=wn.default.useRef(!1),x=(0,xt.useTranslate)(),{resource:p,action:g}=t!=null?t:{},{resource:s,action:l}=(0,xt.useResource)(p),C=(0,xt.useParsed)(),u=(0,xt.useGo)(),b=(a=g!=null?g:l)!=null?a:"",P=typeof r=="object"&&r.syncId,$=typeof r=="object"&&"key"in r?r.key:s&&b&&r?`modal-${(o=s==null?void 0:s.identifier)!=null?o:s==null?void 0:s.name}-${b}`:void 0,{defaultVisible:k=!1,autoSubmitClose:c=!0,autoResetForm:w=!0}=e!=null?e:{},L=In({refineCoreProps:t,...n}),{reset:h,refineCore:{onFinish:I,id:D,setId:N},saveButtonProps:M,handleSubmit:R}=L,{visible:A,show:O,close:Q}=(0,xt.useModal)({defaultVisible:k});wn.default.useEffect(()=>{var oe,J,ee,_e;if(y.current===!1&&$){let Ge=(J=(oe=C==null?void 0:C.params)==null?void 0:oe[$])==null?void 0:J.open;if(typeof Ge=="boolean"?Ge&&O():typeof Ge=="string"&&Ge==="true"&&O(),P){let lt=(_e=(ee=C==null?void 0:C.params)==null?void 0:ee[$])==null?void 0:_e.id;lt&&(N==null||N(lt))}y.current=!0}},[$,C,P,N]),wn.default.useEffect(()=>{var oe;y.current===!0&&(A&&$?u({query:{[$]:{...(oe=C==null?void 0:C.params)==null?void 0:oe[$],open:!0,...P&&D&&{id:D}}},options:{keepQuery:!0},type:"replace"}):$&&!A&&u({query:{[$]:void 0},options:{keepQuery:!0},type:"replace"}))},[D,A,O,$,P]);let B=async oe=>{await I(oe),c&&Q(),w&&h()},{warnWhen:ie,setWarnWhen:X}=(0,xt.useWarnAboutChange)(),H=(0,ii.useCallback)(()=>{if(ie)if(window.confirm(x("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))X(!1);else return;N==null||N(void 0),Q()},[ie]),ue=(0,ii.useCallback)(oe=>{N==null||N(oe),O()},[]),Pe=x(`${s==null?void 0:s.name}.titles.${g}`,void 0,`${(0,xt.userFriendlyResourceName)(`${g} ${(v=(f=(m=(i=s==null?void 0:s.meta)==null?void 0:i.label)!=null?m:(d=s==null?void 0:s.options)==null?void 0:d.label)!=null?f:s==null?void 0:s.label)!=null?v:s==null?void 0:s.name}`,"singular")}`);return{modal:{submit:B,close:H,show:ue,visible:A,title:Pe},...L,saveButtonProps:{...M,onClick:oe=>R(B)(oe)}}}});var Kt=z(E("react")),pi=z(Ae());var Te=z(E("react")),$n=z(Ae());var cu=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,tn=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];cu.test(e)&&r.unshift("url");let n=r.find(a=>a in t&&!!t[a]);if(n)return n==="firstName"&&"lastName"in t?["firstName","lastName"]:n};var xo=z(Ae());function rn(e,t,r){if(t)return t;let n=r==null?void 0:r.find(o=>o.name===e),a=(0,xo.pickNotDeprecated)(n==null?void 0:n.meta,n==null?void 0:n.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"}var Vt=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var nn=e=>{let t=[...e].filter(Boolean).sort((r,n)=>(n.priority||0)-(r.priority||0))[0];return t||null};var $o=z(E("prettier/standalone")),Po=z(E("prettier/parser-typescript")),an=e=>{try{return $o.default.format(e,{parser:"typescript",plugins:[Po.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var on=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var sn=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,ko=(e,t)=>{let r=sn.test(e),n=typeof t=="string"||typeof t=="number",a=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&n||r&&a?{key:e,relation:!0,multiple:!!a,type:"relation",priority:1}:!1};var $e=e=>e.replace(sn,"");var T=e=>$e(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ");var ln=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(a=>!a.trim().startsWith("export default")).join(`
`);var Eo=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,du=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,pu=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,un=(e,t={})=>{let r=e.matchAll(Eo),n=new Set;for(let a of r){let[,o,i,d,m]=a;if(m in t){let f=t[m];if(m==="react")continue;o&&n.add(`const { default: ${o} } = ${f};`),i&&n.add(`const${i.replace(pu,"$1: $3$4")} = ${f};`),d&&n.add(`const ${d} = ${f};`)}}return on(`
    ${Array.from(n).join(`
`)}
    ${e.replace(Eo,"").replace(du,"")}
    `)};var jt=z(E("pluralize"));var cn=(e,t)=>e?t.find(n=>{let a=$e(e.key);return n.name===a||n.name===(jt.default.isPlural(a)?a:jt.default.plural(a))||n.name===(jt.default.isSingular(a)?a:jt.default.singular(a))}):void 0;var wo=z(E("pluralize"));var Oe=(e,t,r="Inferred")=>{let n=e.replace(/[^a-zA-Z0-9]/g," "),a=wo.default.singular(n),i=T(a).replace(/ /g,"")||r,d=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(i)?`${i}${d}`:`${d}${i}`};var mu=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",U=(e,...t)=>e.reduce((n,a,o)=>`${n}${a}${mu(t[o])}`,"").trim();var dn=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var pn=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var fu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,mn=e=>fu.test(e);function fn(e,t,r){let n=`${e}`;return t&&(n+="?.",mn(t)?n+=t:n+=`['${t}']`),r&&(n+="?.",mn(r)?n+=r:n+=`['${r}']`),n}function vu(e,t,r){return(r!=null?r:[]).map(a=>fn(e,t,a))}var F=(e,t,r,n=' + " " + ')=>Array.isArray(r)?n?vu(e,t,r).join(n):fn(e,t,r[0]):fn(e,t,r),ve=(e,t,r)=>{let n=e;return t&&(n+=`.${t}`),r&&(Array.isArray(r)?n+=`.${r[0]}`:n+=`.${r}`),n};var He=e=>{let t=e.reduce((n,[a,o,i])=>(n[o]||(n[o]=[]),n[o].includes(a)||(i?n[o].push([a,!0]):n[o].push(a)),n),{});return Object.entries(t).map(([n,a])=>{let o=a.find(f=>Array.isArray(f)&&f[1]),i=a.filter(f=>typeof f=="string"),d=o?`${o[0]}`:"",m=i.length?`{ ${i.join(", ")} }`:"";return`import ${d}${d&&m?", ":""}${m} from "${n}";`})};var vn=z(E("pluralize")),ye=(e="")=>vn.default.isSingular(e)?e:vn.default.singular(e);var yn=z(E("pluralize")),Fe=(e="")=>yn.default.isPlural(e)?e:yn.default.plural(e);var yu=/^id$/i,Bt=e=>yu.test(e);var Ht=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var Ke=e=>{};var j=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let n=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),a=T(n).replace(/ /g,"");return`${a.charAt(0).toLowerCase()+a.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var Io=e=>{let t=(r,n,a,o=t)=>{let i=e.map(m=>m(r,n,a,o));return nn(i)};return t};var So=e=>(r,n,a,o,i)=>e.reduce((d,m)=>m(d,n,a,o,i),r);var Lo=(e,t,r,n)=>{let a=Array.isArray(t),o=Array.isArray(t)&&t.every(i=>typeof i=="string"||typeof i=="number");if(a){if(!o){let d=n(e,t[0],r,n);return d?{...d,key:e,multiple:!0,priority:1}:!1}let i=n(e,t[0],r,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:i==null?void 0:i.type}}return!1};var No=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var gn=z(E("dayjs")),gu=/(_at|_on|At|On|AT|ON)(\[\])?$/,hu=["/",":","-","."],Ao=(e,t)=>{let r=gu.test(e)&&(0,gn.default)(t).isValid(),n=typeof t=="string"&&(0,gn.default)(t).isValid();return typeof t=="string"&&hu.some(o=>t.includes(o))&&(r||n)?{key:e,type:"date",priority:1}:!1};var bu=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Fo=(e,t)=>typeof t=="string"&&bu.test(t)?{key:e,type:"email",priority:1}:!1;var Cu=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,qo=(e,t)=>typeof t=="string"&&Cu.test(t)?{key:e,type:"image",priority:2}:!1;var Mo=(e,t)=>typeof t>"u"||t===null?null:!1;var Do=(e,t)=>{let r=typeof t=="string"&&t.length>0,n=!isNaN(t);return r&&n||typeof t=="number"?{key:e,type:"number"}:!1};var xu=/id$/i,Ro=(e,t,r,n)=>{let a=t!==null,o=!Array.isArray(t);if(a&&o&&typeof t=="object"){if(Object.keys(t).length===1&&xu.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let m=tn(e,t);if((m?m.length>0:!1)&&m){let v=m&&Array.isArray(m)?m[0]:m,y=n(v,t[v],t,n);if(y){let x=Array.isArray(m)?m.map(p=>y.accessor?`${p}.${Array.isArray(y.accessor)?y.accessor[0]:y.accessor}`:p):y.accessor?Array.isArray(y.accessor)?`${m}.${y.accessor[0]}`:`${m}.${y.accessor}`:m;return{...y,fieldable:!0,key:e,accessor:x,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var Oo=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var To=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var $u=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,Uo=(e,t)=>typeof t=="string"&&$u.test(t)?{key:e,type:"url",priority:1}:!1;var Qo=[Lo,No,Ao,Fo,qo,Mo,Do,Ro,ko,Oo,To,Uo];var Wo=(e,t,r,n)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let i=/^[a-z0-9-]+$/,d=x=>i.test(`${x}`),m=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!m?o:(o.multiple?n[o.key]:[n[o.key]]).every(x=>d(o.accessor?x[o.accessor]:x))?{...o,canRelation:!0}:o}return o});var Pu=/(image|photo|avatar|cover|thumbnail|icon)/i,zo=e=>e.map(r=>r.type==="url"&&Pu.test(r.key)?{...r,type:"image"}:r);var Vo=(e,t)=>e.map(n=>{let a=cn(n,t);return a?{...n,relation:!0,type:"relation",resource:a}:n});var jo=(e,t,r,n,a)=>e.map(i=>{if(i.relation&&i.type==="relation"&&!i.resource){let d=i.accessor?n[i.key][i.accessor]:n[i.key],m=a(i.key,d,n,a);if(m&&m.type!=="relation")return{...i,fieldable:!0,relation:!1,type:m.type,canRelation:!0}}return i});var Bo=[zo,Vo,jo,Wo];var rt=z(E("react")),mr=z(E("prism-react-renderer")),Ho=z(E("prism-react-renderer/themes/vsDark")),hn=({code:e,wrapperProps:t})=>((0,rt.useEffect)(()=>{var n;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(n=document.getElementById("code-highlight"))==null||n.appendChild(r)},[]),rt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},rt.default.createElement(mr.default,{...mr.defaultProps,theme:Ho.default,code:e,language:"tsx"},({className:r,style:n,tokens:a,getLineProps:o,getTokenProps:i})=>rt.default.createElement("pre",{className:r,style:{...n,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},a.map((d,m)=>rt.default.createElement("div",{key:m,...o({line:d,key:m})},d.map((f,v)=>rt.default.createElement("span",{key:v,...i({token:f,key:v})}))))))));var qe=z(E("react")),ku=z(Ae()),fr=E("@aliemir/react-live");var Ko=[["react","React",qe.default],["@refinedev/core","RefineCore",ku]],bn=qe.default.createContext({}),Cn=({fetchError:e,code:t,additionalScope:r,errorComponent:n})=>{var d;let a=(d=t&&ln(un(t,[...Ko,...r!=null?r:[]].reduce((m,[f,v,y,x])=>x?m:{...m,[f]:v},{}))))!=null?d:"",o=qe.default.useMemo(()=>({React:qe.default,...qe.default,...[...Ko,...r!=null?r:[]].reduce((m,[f,v,y])=>({...m,[v]:y}),{})}),[r]),i=qe.default.useMemo(()=>()=>{let{error:f}=qe.default.useContext(bn);return n?qe.default.createElement(n,{error:f?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${f}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},[n,e]);return qe.default.createElement(fr.LiveProvider,{Context:bn,code:a,scope:o,noInline:!0},!e&&qe.default.createElement(fr.LivePreview,{Context:bn}),qe.default.createElement(i,null))};var bt=z(E("react")),vr=z(Ae());var _o=(e,t,r)=>{let{resource:n,id:a,resources:o}=(0,vr.useResource)(t),i=r!=null?r:a,d=(0,vr.useDataProvider)(),[m,f]=bt.default.useState(void 0),[v,y]=bt.default.useState(void 0),[x,p]=bt.default.useState(!0),[g,s]=bt.default.useState(!1),l=bt.default.useCallback(async C=>{var P,$;let u=(P=Vt(n))!=null?P:rn(n==null?void 0:n.name,void 0,o),b=d(u);s(!0),f(void 0);try{if((e==="list"||e==="create")&&n){let c=($=(await b.getList({resource:n==null?void 0:n.name})).data)==null?void 0:$[0];c||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(c),setTimeout(()=>{s(!1)},500)}if((e==="edit"||e==="show")&&C&&n){let c=(await b.getOne({resource:n==null?void 0:n.name,id:C})).data;c||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(c),setTimeout(()=>{s(!1)},500)}}catch(k){console.warn("An error occured while fetching the resource data. Please check the error message below:",k),f(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{s(!1)},500)}},[e,d,n,o]);return bt.default.useEffect(()=>{p(!1),!g&&!v&&l(i)},[l,i]),{data:v,loading:g,initial:x,error:m}};var At=z(E("react")),Go=z(Ae());var xn=E("lodash"),Yo=({record:e,fields:t,infer:r})=>{let n=(0,Go.useDataProvider)(),[a,o]=At.default.useState([]),[i,d]=At.default.useState(!0),[m,f]=At.default.useState(!1),v=At.default.useCallback(async y=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let x=[];f(!0);try{let p=y.map(async s=>{if(s&&(s.relation||s.canRelation)&&e){let l=Vt(s.resource),C=n(l),u=Array.isArray(s.accessor)?void 0:s.multiple?e[s.key].map(b=>s.accessor?(0,xn.get)(b,s.accessor):b)[0]:s.accessor?(0,xn.get)(e[s.key],s.accessor):e[s.key];if(u&&s.resource)try{let{data:b}=await C.getOne({resource:s.resource.name,id:u});x.push({status:"success",resource:s.resource.name,field:s.key});let P=r("__",b,{},r);return{...s,relationInfer:P}}catch{return x.push({status:"error",resource:s.resource.name,field:s.key}),{...s,relationInfer:null}}if(u){let b,P;try{let{data:c}=await C.getOne({resource:Fe($e(s.key)),id:u});x.push({status:"success",resource:Fe($e(s.key)),field:s.key}),b=c,P=!0}catch{x.push({status:"error",resource:Fe($e(s.key)),field:s.key});try{let{data:w}=await C.getOne({resource:ye($e(s.key)),id:u});x.push({status:"success",resource:ye($e(s.key)),field:s.key}),b=w,P=!1}catch{return x.push({status:"error",resource:ye($e(s.key)),field:s.key}),{...s,relationInfer:null}}}let $=r("__",b,{},r),k=$e(s.key);return{...s,relation:!0,type:"relation",resource:{name:P?Fe(k):ye(k)},fieldable:!1,canRelation:void 0,relationInfer:$}}return{...s,relationInfer:null}}return s}),g=await Promise.all(p);o(g.filter(s=>s)),setTimeout(()=>{f(!1)},500)}catch{setTimeout(()=>{f(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${x.length} attempts and succeeded with ${x.filter(p=>p.status==="success").length} attempts.`),console.groupEnd()},500)},[n,e]);return At.default.useEffect(()=>{d(!1),!m&&t&&t.length>0&&a.length===0&&v(t)},[v,m,t,v]),{fields:a,loading:m,initial:i}};var nt=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:n=[],renderer:a,loadingComponent:o,errorComponent:i,codeViewerComponent:d})=>{let m=Io([...Qo,...r]),f=So([...Bo,...n]),v=({resourceName:x,fieldTransformer:p,id:g})=>{var h,I,D,N,M,R;let{resource:s,resources:l}=(0,$n.useResource)(x),{resource:C}=(0,$n.useResource)(),{data:u,loading:b,initial:P,error:$}=_o(e,x!=null?x:s==null?void 0:s.name,g),k=Te.default.useMemo(()=>{if(u){let A=Object.keys(u).map(O=>{let Q=u[O];return m(O,Q,u,m)}).filter(Boolean);if(s){let O=f(A,l,s,u,m);return p?O.flatMap(B=>{let ie=p(B);return ie?[ie]:[]}):O}return[]}return[]},[u,l,s,p]),{fields:c,loading:w}=Yo({record:u,fields:k,infer:m}),L=Te.default.useMemo(()=>!b&&!w&&!P&&s?a({resource:s,resources:l,fields:c,infer:m,isCustomPage:s.name!==(C==null?void 0:C.name),id:g}):"",[s,l,c,b,w]);return Te.default.createElement(Te.default.Fragment,null,o&&(b||w)&&Te.default.createElement(o,null),!b&&!w&&Te.default.createElement(Te.default.Fragment,null,Te.default.createElement(Cn,{fetchError:!b&&$?$:!b&&!P&&!u,code:dn(L,Oe((R=(M=(N=(D=(h=s==null?void 0:s.meta)==null?void 0:h.label)!=null?D:(I=s==null?void 0:s.options)==null?void 0:I.label)!=null?N:s==null?void 0:s.label)!=null?M:s==null?void 0:s.name)!=null?R:"Resource",e)),errorComponent:i,additionalScope:t}),d&&Te.default.createElement(d,{code:pn(L),loading:b||w})))};return({name:x,resource:p,fieldTransformer:g,id:s})=>Te.default.createElement(v,{fieldTransformer:g,resourceName:p!=null?p:x,key:p!=null?p:x,id:s})};var yr=z(E("react")),at=({error:e})=>e?yr.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px",position:"relative"}},yr.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},yr.default.createElement("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},dangerouslySetInnerHTML:{__html:e!=null?e:""}}))):null;var Ft=z(E("react")),ot=()=>{let[e,t]=Ft.default.useState(0);return Ft.default.useEffect(()=>{if(typeof window<"u"){let r=setInterval(()=>{t(n=>n===3?0:n+1)},300);return()=>{clearInterval(r)}}return()=>{}},[]),Ft.default.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"120px",position:"relative"}},Ft.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},Ft.default.createElement("span",{style:{fontSize:"1rem",fontWeight:600}},"loading",".".repeat(e))))};var V=z(E("react")),it=E("@tabler/icons");var Eu=({visible:e,onClose:t,children:r})=>e?V.default.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.5)"}},V.default.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",backgroundColor:"#fff",maxWidth:"700px",borderRadius:"4px",padding:"16px",paddingTop:"32px"}},V.default.createElement("div",{style:{position:"absolute",top:4,right:6,width:"32px",height:"32px",fontSize:"24px",lineHeight:"32px",cursor:"pointer",textAlign:"center"},onClick:t},"\xD7"),r)):null,st=({code:e,loading:t})=>{let r=V.default.useMemo(()=>an(e!=null?e:""),[e]),n=V.default.useRef(null),[a,o]=V.default.useState(!1),[i,d]=V.default.useState(!1),m=V.default.useCallback(()=>{d(!0)},[]),f=V.default.useCallback(()=>{d(!1)},[]);if(t)return null;let v=()=>{var y,x,p,g;(y=n==null?void 0:n.current)==null||y.select(),(x=n==null?void 0:n.current)==null||x.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((g=(p=n==null?void 0:n.current)==null?void 0:p.value)!=null?g:""),o(!0),setTimeout(()=>{o(!1)},1e3))};return r?V.default.createElement(V.default.Fragment,null,V.default.createElement("div",{style:{position:"fixed",bottom:"12px",right:"64px"}},V.default.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",gap:"12px"}},V.default.createElement("button",{style:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",display:"flex",fontFamily:"sans-serif",alignItems:"center"},onClick:m},V.default.createElement(it.IconCode,{size:18}),V.default.createElement("span",{style:{marginLeft:"8px",fontSize:"14px",color:"#666B7A"}},"Show Code")),V.default.createElement("a",{href:"https://github.com/refinedev/refine/discussions/3046",target:"_blank",rel:"noreferrer",style:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",display:"flex",alignItems:"center",textDecoration:"none",color:"#666B7A",fontFamily:"sans-serif"}},V.default.createElement(it.IconMessageCircle,{size:18}),V.default.createElement("span",{style:{marginLeft:"8px",fontSize:"14px",color:"#666B7A"}},"Give Feedback")))),V.default.createElement("div",{style:{height:"50px"}}),V.default.createElement(Eu,{visible:i,onClose:f},V.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",width:"100%",height:"100%"}},V.default.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},V.default.createElement(hn,{code:r,wrapperProps:{style:{width:"100%",maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"}}}),V.default.createElement("textarea",{ref:n,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}})),V.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",paddingTop:"8px",width:"100%",height:"100%"}},V.default.createElement("button",{style:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",display:"flex",alignItems:"center"},onClick:v},a?V.default.createElement(it.IconCheck,{size:18}):V.default.createElement(it.IconCopy,{size:18}),V.default.createElement("span",{style:{marginLeft:"8px",fontSize:"14px",color:"#666B7A"}},a?"Copied":"Copy")))))):null};var Zo=({resource:e,fields:t,isCustomPage:r,id:n})=>{var c,w,L;let a=Oe((c=e.label)!=null?c:e.name,"show"),o="record",i=[["React","react",!0],["useShow","@refinedev/core"],["useResource","@refinedev/core"],["useNavigation","@refinedev/core"]],m=t.filter(h=>(h==null?void 0:h.relation)&&!(h!=null&&h.fieldable)&&(h==null?void 0:h.resource)).filter(Boolean).map(h=>{if((h==null?void 0:h.relation)&&!h.fieldable&&h.resource){if(h.multiple){i.push(["useMany","@refinedev/core"]);let I=F(o,h.key);return h.accessor&&(I=`${F(o,h.key)}?.map((item: any) => ${F("item",void 0,h.accessor)})`),`
                const { data: ${j(h.key,"Data")}, isLoading: ${j(h.key,"IsLoading")} } =
                useMany({
                    resource: "${h.resource.name}",
                    ids: ${I} || [],
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
                `}return i.push(["useOne","@refinedev/core"]),`
                const { data: ${j(h.key,"Data")}, isLoading: ${j(h.key,"IsLoading")} } =
                useOne({
                    resource: "${h.resource.name}",
                    id: ${F(o,h.key,h.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
            `}}).filter(Boolean),f=h=>{if(h.relation&&h.resource){let I=j(h.key,"Data"),D=j(h.key,"IsLoading");return h.multiple?U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                    {${D} ? <>Loading...</> : (
                        <>
                        ${(()=>{var N;if(h.relationInfer)if((N=h.relationInfer)!=null&&N.accessor){if(Array.isArray(h.relationInfer.accessor))return"";{let M=j(h.key),R=F(M,void 0,h.relationInfer.accessor);return U`
                                            {${I}?.data?.map((${M}: any) => <li key={${R}}>{${R}}</li>)}
                                        `}}else return"";else return""})()}
                        </>
                    )}
                    </ul>
                </div>
                `:U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <div>
                    {${D} ? <>Loading...</> : (
                        <>
                        ${(()=>{var N;return h.relationInfer?(N=h.relationInfer)!=null&&N.accessor?Array.isArray(h.relationInfer.accessor)?`{${F(`${I}?.data`,void 0,h.relationInfer.accessor,' + " " + ')}}`:`{${I}?.data?.${h.relationInfer.accessor}}`:`{${I}?.data}`:`{${I}?.data?.id}`})()}
                        </>
                    )}
                    </div>
                </div>
                `}},v=h=>{if(h.type==="text"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                        {${F(o,h.key)}?.map((item: any) => (
                            <li key={${I}}>
                                {${I}}
                            </li>
                        ))}
                    </ul>
                </div>
            `}return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <div>
                    {${F(o,h.key,h.accessor)}}
                    </div>
                </div>
            `}},y=h=>{if(h.type==="image"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                    {${F(o,h.key)}?.map((item: any) => (
                        <li key={${I}}>
                            <img style={{ maxWidth: 200 }} src={${I}}/>
                        </li>
                    ))}
                    </ul>
                </div>
            `}return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <img src={{ maxWidth: 200 }} src={${F(o,h.key,h.accessor," + ")}} />
                </div>
                `}},x=h=>{if(h.type==="email"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                        {${F(o,h.key)}?.map((item: any) => (
                            <li key={${I}}>
                                <a href={"mailto:" + ${I}}>{${I}}</a>
                            </li>
                        ))}
                    </ul>
                </div>
            `}return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <div>
                        <a href={"mailto:" + ${F(o,h.key,h.accessor," + ")}}>
                            {${F(o,h.key,h.accessor," + ")}}
                        </a>
                    </div>
                </div>
            `}},p=h=>{if(h.type==="url"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                        {${F(o,h.key)}?.map((item: any) => (
                            <li key={${I}}>
                                <a href={${I}}>{${I}}</a>
                            </li>
                        ))}
                    </ul>
                </div>
            `}return U`
            <div style={{ marginTop: "6px" }}>
                <h5>${T(h.key)}</h5>
                <div>
                    <a href={${F(o,h.key,h.accessor," + ")}} target="_blank" rel="noreferrer">
                        {${F(o,h.key,h.accessor," + ")}}
                    </a>
                </div>
            </div>
            `}},g=h=>{if(h.type==="boolean"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                        {${F(o,h.key)}?.map((item: any) => (
                            <li key={${I}}>
                                {${I} ? "Yes" : "No"}
                            </li>
                        ))}
                    </ul>
                </div>
            `}return U`
            <div style={{ marginTop: "6px" }}>
                <h5>${T(h.key)}</h5>
                <div>
                {${F(o,h.key,h.accessor," && ")} ? "Yes" : "No"}
                </div>
            </div>
            `}},s=h=>{if(h.type==="date"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                    {${F(o,h.key)}?.map((item: any) => (
                        <li key={${I}}>
                            {(new Date(${I})).toLocaleString(undefined, { timeZone: "UTC" })}
                        </li>
                    ))}
                    </ul>
                </div>
            `}return U`
            <div style={{ marginTop: "6px" }}>
                <h5>${T(h.key)}</h5>
                <div>
                    {(new Date(${F(o,h.key,h.accessor," + ' ' + ")})).toLocaleString(undefined, { timeZone: "UTC" })}
                </div>
            </div>
            `}},l=h=>{if(h.type==="richtext")return U`
            <div style={{ marginTop: "6px" }}>
                <h5>${T(h.key)}</h5>
                <p>
                {${F(o,h.key,h.accessor,' + " " + ')}}
                </p>
            </div>
            `},C=h=>{if(h.type==="number"){if(h.multiple){let I=F("item",void 0,h.accessor);return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <ul>
                        {${F(o,h.key)}?.map((item: any) => (
                        <li key={${I}}>
                            {${I}}
                        </li>
                        ))}
                    </ul>
                </div>
                `}return U`
                <div style={{ marginTop: "6px" }}>
                    <h5>${T(h.key)}</h5>
                    <div>
                    {${F(o,h.key,h.accessor,' + " " + ')} ?? ""}
                    </div>
                </div>
            `}},u=h=>{if(h)return U`
                ${h}
            `},b=t.map(h=>{switch(h==null?void 0:h.type){case"text":return u(v(h));case"number":return u(C(h));case"richtext":return u(l(h));case"email":return u(x(h));case"image":return u(y(h));case"date":return u(s(h));case"boolean":return u(g(h));case"url":return u(p(h));case"relation":return u(f(h));default:return}}),{canEdit:P,list:$}=e!=null?e:{},k=!!$;return Ke(i),U`
    ${He(i)}
    
    export const ${a} = () => {
        const { edit, list } = useNavigation();
        ${r?"":"const { id } = useResource();"}
        const { queryResult } = useShow(${r?`{ 
                    resource: "${e.name}", 
                    id: ${n}
                }`:""});
        const { data, isLoading } = queryResult;

        const ${o} = data?.data;
    
        ${m}

        return (
            <div style={{ padding: "16px" }}>
            <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                <h1>
                ${T(ye((w=e.label)!=null?w:e.name))}
                </h1>
                <div style={{ display: "flex", gap: "8px" }}>
                ${k?U`<button onClick={() => list("${e.name}")}>${T(Fe((L=e.label)!=null?L:e.name)+" list")}</button>`:""}
                ${P?U`<button onClick={() => edit("${e.name}", ${r?`"${n}"`:"id ?? ''"})}>Edit</button>`:""}
                </div>
            </div>
                <div>
                    ${b.join("")}
                </div>
            </div>
        );
    };
    `},Pn=nt({type:"show",additionalScope:[],codeViewerComponent:st,loadingComponent:ot,errorComponent:at,renderer:Zo});var Mu=z(ti()),Du=z(E("@tanstack/react-table"));var Ct=e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${ve(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,ri=({resource:e,fields:t,isCustomPage:r})=>{var $,k;let n=Oe(($=e.label)!=null?$:e.name,"list"),a="tableData?.data",o=[["React","react",!0],["IResourceComponentsProps","@refinedev/core"],["useNavigation","@refinedev/core"],["useTable","@refinedev/react-table"],["ColumnDef","@tanstack/react-table"],["flexRender","@tanstack/react-table"]],i=t.filter(c=>(c==null?void 0:c.relation)&&!(c!=null&&c.fieldable)&&(c==null?void 0:c.resource)),d=i.filter(Boolean).map(c=>{if((c==null?void 0:c.relation)&&!c.fieldable&&c.resource){o.push(["GetManyResponse","@refinedev/core"]),o.push(["useMany","@refinedev/core"]);let w="";return c.multiple?w=`[].concat(...(${a}?.map((item) => ${F("item",c.key,c.accessor,!1)}) ?? []))`:w=`${a}?.map((item) => ${F("item",c.key,c.accessor,!1)}) ?? []`,`
                const { data: ${j(c.key,"Data")} } =
                useMany({
                    resource: "${c.resource.name}",
                    ids: ${w},
                    queryOptions: {
                        enabled: !!${a},
                    },
                });
                `}}).filter(Boolean),m=i==null?void 0:i.map(c=>{if(c&&c.resource)return j(c.key,"Data")}).filter(Boolean),f=c=>{var w;if(c.relation&&c.resource){let L=`${j(c.key,"Data")}?.data`;if(Array.isArray(c.accessor))return;let h=`id: "${c.key}"`,I=`header: "${T(c.key)}"`,D=Ct(c),N="";if(c.multiple){let M="item";c!=null&&c.relationInfer&&(M=F("item",void 0,c.relationInfer.accessor)),N=`cell: function render({ getValue, table }) {
                    const meta = table.options.meta as {
                        ${j(c.key,"Data")}: GetManyResponse;
                    };

                    ${c!=null&&c.accessor?"try {":""}

                    const ${j(c.key,"")} = getValue<any[]>()?.map((item) => {
                        return meta.${j(c.key,"Data")}?.data?.find(
                            (resourceItems) => resourceItems.id === ${F("item",void 0,c.accessor)}
                        );
                    })


                    return (
                        <ul>
                            {${j(c.key,"")}?.map((item, index) => (
                                <li key={index}>
                                    {${M}}
                                </li>
                            ))}
                        </ul>
                    )
                    ${c!=null&&c.accessor?" } catch (error) { return null; }":""}
                }
            `}else c!=null&&c.relationInfer?N=`cell: function render({ getValue, table }) {
                        const meta = table.options.meta as {
                            ${j(c.key,"Data")}: GetManyResponse;
                        };

                        ${c!=null&&c.accessor?"try {":""}

                        const ${j(c.key,"")} = meta.${L}?.find(
                            (item) => item.id === getValue<any>(),
                        );

                        return ${F(j(c.key),void 0,(w=c==null?void 0:c.relationInfer)==null?void 0:w.accessor)} ?? "Loading...";

                        ${c!=null&&c.accessor?" } catch (error) { return null; }":""}
                    },`:N="";return`
                {
                    ${h},
                    ${I},
                    ${D},
                    ${N}
                }
            `}},v=c=>{if(c.type==="image"){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I=U`
                cell: function render({ getValue }) {
                    ${c!=null&&c.accessor?"try {":""}
                        return <img style={{ maxWidth: "100px" }} src={${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}} />
                    ${c!=null&&c.accessor?" } catch (error) { return null; }":""}
                }
            `;if(c.multiple){let D=F("item",void 0,c.accessor," + ");I=`
                    cell: function render({ getValue }) {
                        ${c!=null&&c.accessor?"try {":""}
                            return (
                                <ul>
                                    {getValue<any[]>()?.map((item, index) => (
                                        <li key={index}><img src={${D}} style={{ height: "50px", maxWidth: "100px" }} /></li>
                                    ))}
                                </ul>
                            )
                        ${c!=null&&c.accessor?" } catch (error) { return null; }":""}
                    }
                `}return`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},y=c=>{if(c.type==="email"){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I=U`
                cell: function render({ getValue }) {
                    return <a href={"mailto:" + ${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0,' + " " + ')}}>{${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0,' + " " + ')}}</a>
                }
            `;return c.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${F("item",void 0,c.accessor," + ")}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},x=c=>{if(c.type==="url"){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I=U`
                cell: function render({ getValue }) {
                    return <a href={${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}}>{${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")}}</a>
                }
            `;return c.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${F("item",void 0,c.accessor," + ")}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},p=c=>{if((c==null?void 0:c.type)==="boolean"){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I=U`
                cell: function render({ getValue }) {
                    return ${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0," + ")} ? "yes" : "no"
                }
            `;return c.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${F("item",void 0,c.accessor," + ")} ? "yes" : "no"}
                                    </li>
                                ))}
                            </ul>
                        );
                    }
                `),`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},g=c=>{if(c.type==="date"){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I=U`
                cell: function render({ getValue }) {
                    return (new Date(${F("getValue<any>()",void 0,Array.isArray(c.accessor)?c.accessor:void 0,' + " " + ')})).toLocaleString(undefined, { timeZone: "UTC" })
                }
            `;return c.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                    {(new Date(${F("item",void 0,c.accessor," + ")})).toLocaleString(undefined, { timeZone: "UTC" })}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},s=c=>{if(c&&(c.type==="text"||c.type==="number"||c.type==="richtext")){let w=`id: "${c.key}"`,L=Ct(c),h=`header: "${T(c.key)}"`,I="";return c.multiple&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <ul>
                                {getValue<any[]>()?.map((item, index) => (
                                    <li key={index}>
                                        {${F("item",void 0,c.accessor,' + " " + ')}}
                                    </li>
                                ))}
                            </ul>
                        )
                    }
                `),!c.multiple&&Array.isArray(c.accessor)&&(I=`
                    cell: function render({ getValue }) {
                        return (
                            <>{${F("getValue<any>()",c.key,c.accessor)}}</>
                        );
                    }
                `),`
                {
                    ${w},
                    ${L},
                    ${h},
                    ${I}
                }
            `}},{canEdit:l,canShow:C,canCreate:u}=e!=null?e:{},b=l||C?U`
    {
        id: "actions",
        accessorKey: "id",
        header: "Actions",
        cell: function render({ getValue }) {
            return (
                <div
                    style={{
                        display: "flex",
                        flexDirection: "row",
                        flexWrap: "wrap",
                        gap: "4px",
                    }}
                >
                ${C?U`
                    <button
                        onClick={() => {
                            show("${e.name}", getValue() as string);
                        }}
                    >
                        Show
                    </button>
                    `:""}
                    ${l?U`
                            <button
                            onClick={() => {
                                edit("${e.name}", getValue() as string);
                            }}
                        >
                            Edit
                        </button>
                    `:""}
                </div>
            );
        },
    },
        `:"",P=t.map(c=>{switch(c==null?void 0:c.type){case"text":case"number":case"richtext":return s(c);case"email":return y(c);case"image":return v(c);case"date":return g(c);case"boolean":return p(c);case"url":return x(c);case"relation":return f(c);default:return}});return Ke(o),U`
    ${He(o)}
    
    export const ${n}: React.FC<IResourceComponentsProps> = () => {
        const columns = React.useMemo<ColumnDef<any>[]>(() => [
            ${[...P,b].filter(Boolean).join(",")}
        ], []);

        ${l||C?U`
        const { ${l?"edit,":""} ${C?"show,":""} ${u?"create,":""} } = useNavigation();
        `:""}

        const {
            getHeaderGroups,
            getRowModel,
            setOptions,
            refineCore: {
                tableQueryResult: { data: tableData },
            },
            getState,
            setPageIndex,
            getCanPreviousPage,
            getPageCount,
            getCanNextPage,
            nextPage,
            previousPage,
            setPageSize,
            getColumn,
        } = useTable({
            columns,
            ${r?`
            refineCoreProps: {
                resource: "${e.name}",
            }
            `:""}
            
        });

        ${d}

        setOptions((prev) => ({
            ...prev,
            meta: {
                ...prev.meta,
                ${m.join(", ")}
            },
        }));

        return (
            <div style={{ padding: "16px" }}>
            <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between" }}>
                <h1>${T((k=e.label)!=null?k:e.name)}</h1>
                ${u?U`<button onClick={() => create("${e.name}")}>Create</button>`:""}
            </div>
                <div style={{ maxWidth: "100%", overflowY: "scroll" }}>
                    <table>
                        <thead>
                            {getHeaderGroups().map((headerGroup) => (
                                <tr key={headerGroup.id}>
                                    {headerGroup.headers.map((header) => (
                                        <th key={header.id}>
                                            {!header.isPlaceholder && (
                                                flexRender(
                                                    header.column.columnDef
                                                        .header,
                                                    header.getContext(),
                                                )
                                            )}
                                        </th>
                                    ))}
                                </tr>
                            ))}
                        </thead>
                        <tbody>
                            {getRowModel().rows.map((row) => (
                                <tr key={row.id}>
                                    {row.getVisibleCells().map((cell) => (
                                        <td key={cell.id}>
                                            {flexRender(
                                                cell.column.columnDef.cell,
                                                cell.getContext(),
                                            )}
                                        </td>
                                    ))}
                                </tr>
                            ))}
                        </tbody>
                    </table>
                </div>
                <div style={{ marginTop: "12px" }}>
                    <button
                        onClick={() => setPageIndex(0)}
                        disabled={!getCanPreviousPage()}
                    >
                        {"<<"}
                    </button>
                    <button
                        onClick={() => previousPage()}
                        disabled={!getCanPreviousPage()}
                    >
                        {"<"}
                    </button>
                    <button onClick={() => nextPage()} disabled={!getCanNextPage()}>
                        {">"}
                    </button>
                    <button
                        onClick={() => setPageIndex(getPageCount() - 1)}
                        disabled={!getCanNextPage()}
                    >
                        {">>"}
                    </button>
                    <span>
                        Page
                        <strong>
                            {getState().pagination.pageIndex + 1} of{" "}
                            {getPageCount()}
                        </strong>
                    </span>
                    <span>
                        | Go to page:
                        <input
                            type="number"
                            defaultValue={getState().pagination.pageIndex + 1}
                            onChange={(e) => {
                                const page = e.target.value
                                    ? Number(e.target.value) - 1
                                    : 0;
                                setPageIndex(page);
                            }}
                        />
                    </span>{" "}
                    <select
                        value={getState().pagination.pageSize}
                        onChange={(e) => {
                            setPageSize(Number(e.target.value));
                        }}
                    >
                        {[10, 20, 30, 40, 50].map((pageSize) => (
                            <option key={pageSize} value={pageSize}>
                                Show {pageSize}
                            </option>
                        ))}
                    </select>
                </div>
            </div>   
        );
    };
    `},En=nt({type:"list",additionalScope:[["@refinedev/react-table","RefineReactTable",Mu],["@tanstack/react-table","TanstackReactTable",Du]],codeViewerComponent:st,loadingComponent:ot,errorComponent:at,renderer:ri});var Ku=z(Ae()),_u=z(Sn());var ci=({resource:e,fields:t,isCustomPage:r})=>{var x,p,g;let n=Oe((x=e.label)!=null?x:e.name,"create"),a=[["React","react",!0],["useNavigation","@refinedev/core"],["useForm","@refinedev/react-hook-form"]],i=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)).filter(Boolean).map(s=>{if((s==null?void 0:s.relation)&&!s.fieldable&&s.resource)return a.push(["useSelect","@refinedev/core"]),`
                const { options: ${j(s.key,"Options")} } =
                useSelect({
                    resource: "${s.resource.name}",
                    ${Ht(s)}
                });
            `}).filter(Boolean),d=s=>{if(s.relation&&s.resource){a.push(["useSelect","@refinedev/core"]);let l=j(s.key,"Options");return U`
            <label>
                <span style={{ marginRight: "8px" }}>
                    ${T(s.key)}
                </span>
                <select
                    placeholder="Select ${ye(s.resource.name)}"
                    {...register("${ve(s.key,void 0,s.accessor)}", {
                        required: ${s.multiple?"false":'"This field is required"'},
                    })}
                >
                    {${l}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </select>
                <span style={{ color: "red" }}>
                    {${F("(errors as any)",s.key,s.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},m=s=>{if(s.type==="text"||s.type==="url"||s.type==="email"||s.type==="number"||s.type==="date"||s.type==="richtext"){if(Bt(s.key)||s.multiple)return;let l=s.type==="richtext"?"textarea":"input";return U`
                <label>
                    <span style={{ marginRight: "8px" }}>
                        ${T(s.key)}
                    </span>
                    <${l}
                        ${s.type!=="date"&&s.type!=="richtext"?`type="${s.type}"`:""}
                        ${l==="textarea"?`
                            rows={5}
                            cols={33}
                            style={{ verticalAlign: "top" }}
                        `:""}
                        {...register("${ve(s.key,void 0,s.accessor)}", {
                            required: "This field is required",
                            ${s.type==="number"?"valueAsNumber: true,":""}
                        })}

                    />
                    <span style={{ color: "red" }}>
                        {${F("(errors as any)",s.key,s.accessor,!1)}?.message as string}
                    </span>
                </label>
            `}},f=s=>{if(s.type==="boolean")return s.multiple?void 0:U`
                <label>
                    <span style={{ marginRight: "8px" }}>
                        ${T(s.key)}
                    </span>
                    <input
                        type="checkbox"
                        {...register("${ve(s.key,void 0,s.accessor)}", {
                            required: "This field is required",
                        })}
                    />
                    <span style={{ color: "red" }}>
                        {${F("errors",s.key,s.accessor,!1)}?.message as string}
                    </span>
                </label>
            `},v=t.map(s=>{switch(s==null?void 0:s.type){case"text":case"number":case"email":case"url":case"richtext":case"date":return m(s);case"boolean":return f(s);case"relation":return d(s);default:return}}),y=!!e.list;return Ke(a),U`
    ${He(a)}
    
    export const ${n} = () => {
        ${y?`
        const { list } = useNavigation();
        `:""}
        const {
            refineCore: { onFinish, formLoading },
            register,
            handleSubmit,
            resetField,
            formState: { errors },
        } = useForm(
            ${r?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    action: "create",
                }
            }`:""}
        );
    
        ${i}

        return (
            <div style={{ padding: "16px" }}>
                <div style={{ display: "flex", justifyContent: ${y?'"space-between"':'"flex-start"'} }}>
                    <h1>
                        ${T(ye((p=e.label)!=null?p:e.name)+" Create")}
                    </h1>
                    ${y?U`
                            <div>
                        <button
                                onClick={() => {
                                    list("${e.name}");
                                }}
                        >
                            ${T(Fe((g=e.label)!=null?g:e.name)+" List")}
                        </button>
                        </div>
                    `:""}
                </div>
                <form onSubmit={handleSubmit(onFinish)}>
                    <div style={{ display: "flex", flexDirection: "column", gap: "8px" }}>
                        ${v.join("")}
                        <div>
                            <input type="submit" value="Save" />
                        </div>
                    </div>
                </form>
            </div>
        );
    };
    `},Ln=nt({type:"create",additionalScope:[["@refinedev/core","RefineCore",Ku],["@refinedev/react-hook-form","RefineReactHookForm",_u]],codeViewerComponent:st,loadingComponent:ot,errorComponent:at,renderer:ci});var Gu=z(Ae()),Yu=z(Sn()),Zu=z(E("react-hook-form"));var di=({resource:e,fields:t,isCustomPage:r,id:n})=>{var g,s,l,C;let a=Oe((g=e.label)!=null?g:e.name,"edit"),o=j((s=e.label)!=null?s:e.name,"Data"),i=[["React","react",!0],["useNavigation","@refinedev/core"],["useForm","@refinedev/react-hook-form"]],m=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{if((u==null?void 0:u.relation)&&!u.fieldable&&u.resource){i.push(["useSelect","@refinedev/core"]);let b=F(o,u.key,u.accessor,!1);return u.multiple&&u.accessor&&(b=`${F(o,u.key)}?.map((item: any) => ${F("item",void 0,u.accessor)})`),`
                const { options: ${j(u.key,"Options")} } =
                useSelect({
                    resource: "${u.resource.name}",
                    defaultValue: ${b},
                    ${Ht(u)}
                });

                React.useEffect(() => {
                    resetField("${ve(u.key,void 0,u.accessor)}");
                }, [${j(u.key,"Options")}]);
            `}}).filter(Boolean),f=u=>{if(u.relation&&u.resource){i.push(["useSelect","@refinedev/core"]);let b=j(u.key,"Options");return U`
            <label>
                <span style={{ marginRight: "8px" }}>${T(u.key)}</span>
                <select
                    placeholder="Select ${ye(u.resource.name)}"
                    {...register("${ve(u.key,void 0,u.accessor)}", {
                        required: ${u.multiple?"false":'"This field is required"'},
                    })}
                >
                    {${b}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </select>
                <span style={{ color: "red" }}>
                    {${F("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},v=u=>{if(u.type==="text"||u.type==="url"||u.type==="email"||u.type==="number"||u.type==="date"||u.type==="richtext"){if(u.multiple){let P=ve(u.key,"${index}",u.accessor),$=F(F("(errors as any)",u.key,void 0,!1)+"?.[index]",void 0,u.accessor);return`
                    <>
                        {${F(o,u.key)}?.map((item: any, index: number) => (
                            <label key={index}>
                                <span style={{ marginRight: "8px" }}>
                                    ${T(u.key)} #{index + 1}
                                </span>
                                <input ${u.type!=="richtext"?`
                                type="${u.type!=="date"?u.type:"text"}"
                                `:""} {...register(\`${P}\`, { required: "This field is required", ${u.type==="number"?"valueAsNumber: true,":""} })} />
                                <span style={{color: "red"}}>
                                {${F($,"message")} as string}
                                </span>
                            </label>
                        ))}
                    </>
                `}let b=u.type==="richtext"?"textarea":"input";return U`
            <label>
                <span style={{ marginRight: "8px" }}>${T(u.key)}</span>
                <${b}
                ${Bt(u.key)?"disabled":""}
                ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                ${b==="textarea"?`
                    rows={5}
                    cols={33}
                    style={{ verticalAlign: "top" }}
                `:""}
                {...register("${ve(u.key,void 0,u.accessor)}", {
                    required: "This field is required",
                    ${u.type==="number"?"valueAsNumber: true,":""}
                })}
                />
                <span style={{ color: "red" }}>
                {${F("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},y=u=>{if(u.type==="boolean"){if(u.multiple){let b=ve(u.key,void 0,u.accessor),P=F("(errors as any)",u.key,void 0,!1)+"?.[index]";return`
                    <>
                        {${F(o,u.key)}?.map((item: any, index: number) => (
                            <label key={index}>
                            <span style={{ marginRight: "8px" }}>
                            ${T(u.key)} #{index + 1}
                            </span>
                            <input
                                type="checkbox"
                                {...register(\`${b}.\${index}\`, {
                                    required: "This field is required",
                                })}
                            />
                            <span style={{ color: "red" }}>
                                {${P}?.message as string}
                            </span>
                        ))}
                    </>
                `}return U`
            <label>
                <span style={{ marginRight: "8px" }}>${T(u.key)}</span>
                <input type="checkbox" {...register("${ve(u.key,void 0,u.accessor)}", {
                    required: "This field is required",
                })} />
                <span style={{ color: "red" }}>
                    {${F("errors",u.key,u.accessor,!1)}?.message as string}
                </span>
            </label>
            `}},x=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":case"email":case"url":case"richtext":case"date":return v(u);case"boolean":return y(u);case"relation":return f(u);default:return}}),p=!!e.list;return Ke(i),U`
    ${He(i)}
    
    export const ${a} = () => {
        ${p?`
        const { list } = useNavigation();
        `:""}
        const {
            refineCore: { onFinish, formLoading, queryResult },
            register,
            handleSubmit,
            resetField,
            formState: { errors },
        } = useForm(
            ${r?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    id: ${n},
                    action: "edit",
                }
            }`:""}
        );
    
        const ${o} = queryResult?.data?.data;
    
        ${m}

        return (
            <div style={{ padding: "16px" }}>
                <div style={{ display: "flex", justifyContent: ${p?'"space-between"':'"flex-start"'} }}>
                    <h1>
                        ${T(ye((l=e.label)!=null?l:e.name)+" Edit")}
                    </h1>
                    ${p?U`
                    <div>
                        <button
                                onClick={() => {
                                    list("${e.name}");
                                }}
                        >
                            ${T(Fe((C=e.label)!=null?C:e.name)+" List")}
                        </button>
                    </div>
                    `:""}
                </div>
                <form onSubmit={handleSubmit(onFinish)}>
                    <div style={{ display: "flex", flexDirection: "column", gap: "8px" }}>
                        ${x.join("")}
                        <div>
                            <input type="submit" value="Save" />
                        </div>
                    </div>
                </form>
            </div>
        );
    };
    `},Nn=nt({type:"edit",additionalScope:[["@refinedev/core","RefineCore",Gu],["@refinedev/react-hook-form","RefineReactHookForm",Yu],["react-hook-form","ReactHookForm",Zu]],codeViewerComponent:st,loadingComponent:ot,errorComponent:at,renderer:di});var Up=({action:e,id:t,...r})=>{let{action:n,id:a}=(0,pi.useResource)();switch(e!=null?e:n){case"show":return Kt.default.createElement(Pn,{...r,id:t!=null?t:a});case"create":return Kt.default.createElement(Ln,{...r,id:t!=null?t:a});case"edit":return Kt.default.createElement(Nn,{...r,id:t!=null?t:a});default:return Kt.default.createElement(En,{...r,id:t!=null?t:a})}};})();
//# sourceMappingURL=headless.js.map