(()=>{var Lu=Object.create;var bo=Object.defineProperty;var qu=Object.getOwnPropertyDescriptor;var Au=Object.getOwnPropertyNames;var Tu=Object.getPrototypeOf,Nu=Object.prototype.hasOwnProperty;var E=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var cn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Du=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Au(t))!Nu.call(e,a)&&a!==r&&bo(e,a,{get:()=>t[a],enumerable:!(n=qu(t,a))||n.enumerable});return e};var K=(e,t,r)=>(r=e!=null?Lu(Tu(e)):{},Du(t||!e||!e.__esModule?bo(r,"default",{value:e,enumerable:!0}):r,e));var V=cn((Ap,ti)=>{var Mu=Object.create,bn=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Bu=Object.getOwnPropertyNames,Ou=Object.getPrototypeOf,zu=Object.prototype.hasOwnProperty,Uu=(e,t)=>{for(var r in t)bn(e,r,{get:t[r],enumerable:!0})},ol=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Bu(t))!zu.call(e,a)&&a!==r&&bn(e,a,{get:()=>t[a],enumerable:!(n=Ru(t,a))||n.enumerable});return e},R=(e,t,r)=>(r=e!=null?Mu(Ou(e)):{},ol(t||!e||!e.__esModule?bn(r,"default",{value:e,enumerable:!0}):r,e)),Wu=e=>ol(bn({},"__esModule",{value:!0}),e),ll={};Uu(ll,{AuthPage:()=>nd,Authenticated:()=>yd,CanAccess:()=>bd,ErrorComponent:()=>Xc,GitHubBanner:()=>Cd,LayoutWrapper:()=>fd,LoginPage:()=>Zl,ReadyPage:()=>Xl,Refine:()=>pd,ResourceContext:()=>Or,RouteChangeHandler:()=>ei,UndoableQueue:()=>Jl,WelcomePage:()=>ad,createTreeView:()=>fs,file2Base64:()=>ls,getDefaultFilter:()=>os,getDefaultSortOrder:()=>as,getNextPageParam:()=>Pl,getPreviousPageParam:()=>kl,handleUseParams:()=>is,importCSVMapper:()=>fl,legacyResourceTransform:()=>Il,matchResourceFromRoute:()=>ps,parseTableParams:()=>sa,parseTableParamsFromQuery:()=>ns,pickNotDeprecated:()=>S,routeGenerator:()=>El,setInitialFilters:()=>ra,setInitialSorters:()=>na,stringifyTableParams:()=>ea,unionFilters:()=>Mr,unionSorters:()=>ta,useActiveAuthProvider:()=>he,useApiUrl:()=>Ts,useAuthenticated:()=>Zu,useBack:()=>jl,useBreadcrumb:()=>_c,useCan:()=>_l,useCanWithoutCache:()=>Dc,useCancelNotification:()=>Pr,useCheckError:()=>Xu,useCreate:()=>fa,useCreateMany:()=>Ll,useCustom:()=>Ds,useCustomMutation:()=>Rs,useDataProvider:()=>Pe,useDelete:()=>$s,useDeleteMany:()=>As,useExport:()=>yc,useForgotPassword:()=>dl,useForm:()=>hc,useGetIdentity:()=>sl,useGetLocale:()=>uc,useGetToPath:()=>ba,useGo:()=>Ke,useHandleNotification:()=>Re,useImport:()=>Pc,useInfiniteList:()=>Us,useInvalidate:()=>nr,useIsAuthenticated:()=>ia,useIsExistAuthentication:()=>pl,useLink:()=>xn,useList:()=>ma,useLiveMode:()=>Tl,useLog:()=>rr,useLogList:()=>Vc,useLogin:()=>la,useLogout:()=>Jn,useMany:()=>$l,useMenu:()=>Zc,useModal:()=>kc,useMutationMode:()=>Ir,useNavigation:()=>_e,useNotification:()=>Ot,useOnError:()=>Me,useOne:()=>pa,useParse:()=>zl,useParsed:()=>He,usePermissions:()=>Qu,usePublish:()=>tr,useRedirectionAfterSubmission:()=>Ql,useRefineContext:()=>ha,useRegister:()=>cl,useResource:()=>ae,useResourceSubscription:()=>Br,useResourceWithRoute:()=>Cn,useRouterContext:()=>ke,useRouterType:()=>pe,useSelect:()=>Bc,useSetLocale:()=>ic,useShow:()=>Ec,useSubscription:()=>Qs,useSyncWithLocation:()=>Vl,useTable:()=>zc,useTitle:()=>pc,useToPath:()=>wc,useTranslate:()=>oe,useUpdate:()=>Sl,useUpdateMany:()=>Ls,useUpdatePassword:()=>ml,useWarnAboutChange:()=>ya,userFriendlyResourceName:()=>ca});ti.exports=Wu(ll);var Xt=R(E("react")),xr=R(E("react")),il=xr.default.createContext({}),Gu=({children:e,isProvided:t,...r})=>{let{replace:n}=_e(),a=async p=>{var f;try{return await((f=r.login)==null?void 0:f.call(r,p))}catch(v){return Promise.reject(v)}},o=async p=>{var f;try{return await((f=r.register)==null?void 0:f.call(r,p))}catch(v){return Promise.reject(v)}},l=async p=>{var f;try{return await((f=r.logout)==null?void 0:f.call(r,p))}catch(v){return Promise.reject(v)}},u=async p=>{var f;try{return await((f=r.checkAuth)==null?void 0:f.call(r,p)),Promise.resolve()}catch(v){return v!=null&&v.redirectPath&&n(v.redirectPath),Promise.reject(v)}};return xr.default.createElement(il.Provider,{value:{...r,login:a,logout:l,checkAuth:u,register:o,isProvided:t}},e)},ul=xr.default.createContext({}),Vu=({children:e,isProvided:t,...r})=>{let n=async f=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,f))}catch(h){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",h),Promise.reject(h)}},a=async f=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,f))}catch(h){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",h),Promise.reject(h)}},o=async f=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,f))}catch(h){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",h),Promise.reject(h)}},l=async f=>{var v;try{let h=await((v=r.check)==null?void 0:v.call(r,f));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",h),Promise.reject(h)}},u=async f=>{var v;try{let h=await((v=r.forgotPassword)==null?void 0:v.call(r,f));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",h),Promise.reject(h)}},p=async f=>{var v;try{let h=await((v=r.updatePassword)==null?void 0:v.call(r,f));return Promise.resolve(h)}catch(h){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",h),Promise.reject(h)}};return xr.default.createElement(ul.Provider,{value:{...r,login:n,logout:o,check:l,register:a,forgotPassword:u,updatePassword:p,isProvided:t}},e)},Qe=()=>xr.default.useContext(il),at=()=>xr.default.useContext(ul),Eo=E("@tanstack/react-query");function Qu({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Qe(),{getPermissions:n}=at(),a=(0,Eo.useQuery)(["usePermissions"],n!=null?n:()=>Promise.resolve(void 0),{enabled:!e&&!!n,...e?{}:t}),o=(0,Eo.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?o:a}var Co=E("@tanstack/react-query");function sl({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Qe(),{getIdentity:n}=at(),a=(0,Co.useQuery)(["getUserIdentity"],n!=null?n:()=>Promise.resolve({}),{enabled:!e&&!!n,retry:!1,...e===!0?{}:t}),o=(0,Co.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?o:a}var xo=E("@tanstack/react-query"),ju=E("@tanstack/react-query"),oa=()=>{let e=(0,ju.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function Jn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=oa(),n=pe(),a=Ke(),{push:o}=_e(),{open:l,close:u}=Ot(),{logout:p}=Qe(),{logout:f}=at(),v=(0,xo.useMutation)(["useLogout"],f,{onSuccess:(x,y)=>{let{success:b,error:c,redirectTo:m}=x,{redirectPath:P}=y!=null?y:{},d=P!=null?P:m;b&&(u==null||u("useLogout-error")),(c||!b)&&(l==null||l(Un(c))),d!==!1&&(n==="legacy"?o(d!=null?d:"/login"):d&&a({to:d})),r()},onError:x=>{l==null||l(Un(x))},...e===!0?{}:t}),h=(0,xo.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],p,{onSuccess:(x,y)=>{var b;let c=(b=y==null?void 0:y.redirectPath)!=null?b:x;if(c!==!1){if(c){n==="legacy"?o(c):a({to:c});return}n==="legacy"?o("/login"):a({to:"/login"}),r()}},onError:x=>{l==null||l(Un(x))},...e?t:{}});return e?h:v}var Un=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),Po=E("@tanstack/react-query"),Hu=R(E("qs")),Ku=R(E("react"));function la({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=oa(),n=pe(),a=Ke(),{replace:o}=_e(),l=He(),{useLocation:u}=ke(),{search:p}=u(),{close:f,open:v}=Ot(),{login:h}=Qe(),{login:x}=at(),y=Ku.default.useMemo(()=>{var m;return n==="legacy"?Hu.default.parse(p,{ignoreQueryPrefix:!0}).to:(m=l.params)==null?void 0:m.to},[n,l.params,p]),b=(0,Po.useMutation)(["useLogin"],x,{onSuccess:({success:m,redirectTo:P,error:d})=>{m&&(f==null||f("login-error")),(d||!m)&&(v==null||v(Wn(d))),y&&m?n==="legacy"?o(y):a({to:y,type:"replace"}):P?n==="legacy"?o(P):a({to:P,type:"replace"}):n==="legacy"&&o("/"),setTimeout(()=>{r()})},onError:m=>{v==null||v(Wn(m))},...e===!0?{}:t}),c=(0,Po.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],h,{onSuccess:m=>{y&&o(y),m!==!1&&!y&&(typeof m=="string"?n==="legacy"?o(m):a({to:m,type:"replace"}):n==="legacy"?o("/"):a({to:"/",type:"replace"})),f==null||f("login-error"),setTimeout(()=>{r()})},onError:m=>{v==null||v(Wn(m))},...e?t:{}});return e?c:b}var Wn=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),ko=E("@tanstack/react-query");function cl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=oa(),n=pe(),a=Ke(),{replace:o}=_e(),{register:l}=Qe(),{register:u}=at(),{close:p,open:f}=Ot(),v=(0,ko.useMutation)(["useRegister"],u,{onSuccess:({success:x,redirectTo:y,error:b})=>{x&&(p==null||p("register-error")),(b||!x)&&(f==null||f(Gn(b))),y?n==="legacy"?o(y):a({to:y,type:"replace"}):n==="legacy"&&o("/"),r()},onError:x=>{f==null||f(Gn(x))},...e===!0?{}:t}),h=(0,ko.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],l,{onSuccess:x=>{x!==!1&&(x?n==="legacy"?o(x):a({to:x,type:"replace"}):n==="legacy"?o("/"):a({to:"/",type:"replace"}),p==null||p("register-error")),r()},onError:x=>{f==null||f(Gn(x))},...e?t:{}});return e?h:v}var Gn=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),Io=E("@tanstack/react-query");function dl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),n=Ke(),{replace:a}=_e(),{forgotPassword:o}=Qe(),{forgotPassword:l}=at(),{close:u,open:p}=Ot(),f=(0,Io.useMutation)(["useForgotPassword"],l,{onSuccess:({success:h,redirectTo:x,error:y})=>{h&&(u==null||u("forgot-password-error")),(y||!h)&&(p==null||p(Vn(y))),x&&(r==="legacy"?a(x):n({to:x,type:"replace"}))},onError:h=>{p==null||p(Vn(h))},...e===!0?{}:t}),v=(0,Io.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],o,{onSuccess:h=>{h!==!1&&h&&(r==="legacy"?a(h):n({to:h,type:"replace"})),u==null||u("forgot-password-error")},onError:h=>{p==null||p(Vn(h))},...e?t:{}});return e?v:f}var Vn=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),_u=R(E("react")),wo=E("@tanstack/react-query"),Yu=R(E("qs"));function ml({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=pe(),n=Ke(),{replace:a}=_e(),{updatePassword:o}=Qe(),{updatePassword:l}=at(),{close:u,open:p}=Ot(),f=He(),{useLocation:v}=ke(),{search:h}=v(),x=_u.default.useMemo(()=>{var c;if(r==="legacy"){let m=Yu.default.parse(h,{ignoreQueryPrefix:!0});return m!=null?m:{}}else return(c=f.params)!=null?c:{}},[h,f,r]),y=(0,wo.useMutation)(["useUpdatePassword"],async c=>l==null?void 0:l({...x,...c}),{onSuccess:({success:c,redirectTo:m,error:P})=>{c&&(u==null||u("update-password-error")),(P||!c)&&(p==null||p(Qn(P))),m&&(r==="legacy"?a(m):n({to:m,type:"replace"}))},onError:c=>{p==null||p(Qn(c))},...e===!0?{}:t}),b=(0,wo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async c=>o==null?void 0:o({...x,...c}),{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?a(c):n({to:c,type:"replace"})),u==null||u("update-password-error")},onError:c=>{p==null||p(Qn(c))},...e?t:{}});return e?b:y}var Qn=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),$o=E("@tanstack/react-query");function ia({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Qe(),{check:n}=at(),a=(0,$o.useQuery)(["useAuthenticated",t],async()=>{var l;return(l=await(n==null?void 0:n(t)))!=null?l:{}},{retry:!1,enabled:!e}),o=(0,$o.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var l;return(l=await(r==null?void 0:r(t)))!=null?l:{}},{retry:!1,enabled:e});return e?o:a}var Zu=ia,Fo=E("@tanstack/react-query");function Me({v3LegacyAuthProviderCompatible:e=!1}={}){let t=pe(),r=Ke(),{replace:n}=_e(),{checkError:a}=Qe(),{onError:o}=at(),{mutate:l}=Jn({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:u}=Jn({v3LegacyAuthProviderCompatible:Boolean(e)}),p=(0,Fo.useMutation)(["useCheckError"],o,{onSuccess:({logout:v,redirectTo:h})=>{if(v){u({redirectPath:h});return}if(h){t==="legacy"?n(h):r({to:h,type:"replace"});return}}}),f=(0,Fo.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],a,{onError:v=>{l({redirectPath:v})}});return e?f:p}var Xu=Me,pl=()=>{let{isProvided:e}=Qe(),{isProvided:t}=at();return Boolean(t||e)},Ju=E("@tanstack/react-query"),jn=e=>e/1e3,es=R(E("lodash/zip")),ts=R(E("lodash/fromPairs")),fl=(e,t=r=>r)=>{let[r,...n]=e;return n.map(a=>(0,ts.default)((0,es.default)(r,a))).map((a,o,l)=>t.call(void 0,a,o,l))},So=R(E("pluralize")),ua=R(E("qs")),vl=R(E("lodash/unionWith")),gl=R(E("lodash/differenceWith")),rs=R(E("warn-once")),sa=e=>{var t;let{current:r,pageSize:n,sorter:a,sorters:o,filters:l}=ua.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:n&&Number(n),parsedSorter:(t=S(o,a))!=null?t:[],parsedFilters:l!=null?l:[]}},ns=e=>{let t=ua.default.stringify(e);return sa(`/${t}`)},ea=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:a,filters:o,...l}=e;return ua.default.stringify({...l,...r||{},sorters:S(a,n),filters:o},t)},yl=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,hl=(e,t)=>e.field==t.field,Mr=(e,t,r=[])=>(t.filter(n=>(n.operator==="or"||n.operator==="and")&&!n.key).length>1&&(0,rs.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,vl.default)(e,t,r,yl).filter(n=>n.value!==void 0&&n.value!==null&&(n.operator!=="or"||n.operator==="or"&&n.value.length!==0)&&(n.operator!=="and"||n.operator==="and"&&n.value.length!==0))),ta=(e,t)=>(0,vl.default)(e,t,hl).filter(r=>r.order!==void 0&&r.order!==null),ra=(e,t)=>[...(0,gl.default)(t,e,yl),...e],na=(e,t)=>[...(0,gl.default)(t,e,hl),...e],as=(e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},os=(e,t,r="eq")=>{let n=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:o,field:l}=a;return l===e&&o===r}});if(n)return n.value||[]},ls=e=>new Promise((t,r)=>{let n=new FileReader,a=()=>{n.result&&(n.removeEventListener("load",a,!1),t(n.result))};n.addEventListener("load",a,!1),n.readAsDataURL(e.originFileObj),n.onerror=o=>(n.removeEventListener("load",a,!1),r(o))}),ca=(e="",t)=>{let r=vn(e);return t==="singular"?So.default.singular(r):So.default.plural(r)},is=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,S=(...e)=>e.find(t=>typeof t<"u"),je=(e,t,r,n)=>{let a=t||"default",o={all:[a],resourceAll:[a,e||""],list:l=>[...o.resourceAll,"list",{...l,...S(r,n)||{}}],many:l=>[...o.resourceAll,"getMany",l&&l.map(String),{...S(r,n)||{}}].filter(u=>u!==void 0),detail:l=>[...o.resourceAll,"detail",l==null?void 0:l.toString(),{...S(r,n)||{}}],logList:l=>["logList",e,l,n].filter(u=>u!==void 0)};return o},us=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),da=e=>e.startsWith(":"),Cr=e=>e.split("/").filter(t=>t!==""),ss=(e,t)=>{let r=Cr(e),n=Cr(t);return r.length===n.length},wt=e=>e.replace(/^\/|\/$/g,""),cs=(e,t)=>{let r=wt(e),n=wt(t);if(!ss(r,n))return!1;let a=Cr(r);return Cr(n).every((o,l)=>da(o)||o===a[l])},ds=(e,t,r)=>{let n=wt(r||""),a=`${n}${n?"/":""}${e}`;return t==="list"?a=`${a}`:t==="create"?a=`${a}/create`:t==="edit"?a=`${a}/edit/:id`:t==="show"?a=`${a}/show/:id`:t==="clone"&&(a=`${a}/clone/:id`),`/${a.replace(/^\//,"")}`},Rt=(e,t)=>{var r,n;let a=S((r=e.meta)==null?void 0:r.parent,(n=e.options)==null?void 0:n.parent,e.parentName);if(!a)return;let o=t.find(l=>{var u;return((u=l.identifier)!=null?u:l.name)===a});return o!=null?o:{name:a}},bl=(e,t,r)=>{let n=[],a=Rt(e,t);for(;a;)n.push(a),a=Rt(a,t);if(n.length!==0)return`/${n.reverse().map(o=>{var l,u;let p=r&&(u=(l=o.options)==null?void 0:l.route)!=null?u:o.name;return wt(p)}).join("/")}`},De=(e,t,r)=>{let n=[],a=["list","show","edit","create","clone"],o=bl(e,t,r);return a.forEach(l=>{var u,p,f,v;let h=r&&l==="clone"?e.create:e[l],x;typeof h=="function"||r?x=ds(r&&(v=(f=(u=e.meta)==null?void 0:u.route)!=null?f:(p=e.options)==null?void 0:p.route)!=null?v:e.name,l,r?o:void 0):typeof h=="string"?x=h:typeof h=="object"&&(x=h.path),x&&n.push({action:l,resource:e,route:`/${x.replace(/^\//,"")}`})}),n},ms=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let n=e.map(l=>({...l,splitted:Cr(wt(l.route))})),a=(r=(t=n[0])==null?void 0:t.splitted.length)!=null?r:0,o=[...n];for(let l=0;l<a;l++){let u=o.filter(p=>!da(p.splitted[l]));if(u.length!==0){if(u.length===1){o=u;break}o=u}}return o[0]},ps=(e,t)=>{let r=t.flatMap(a=>De(a,t)).filter(a=>cs(e,a.route)),n=ms(r);return{found:!!n,resource:n==null?void 0:n.resource,action:n==null?void 0:n.action,matchedRoute:n==null?void 0:n.route}},El=(e,t)=>{var r,n,a;let o,l=bl(e,t,!0);if(l){let u=S(e.meta,e.options);o=`${l}/${(r=u==null?void 0:u.route)!=null?r:e.name}`}else o=(a=(n=e.options)==null?void 0:n.route)!=null?a:e.name;return`/${o.replace(/^\//,"")}`},fs=e=>{var t,r,n;let a=[],o={},l={},u,p;for(let f=0;f<e.length;f++){u=e[f];let v=(n=(r=u.route)!=null?r:(t=S(u==null?void 0:u.meta,u.options))==null?void 0:t.route)!=null?n:"";o[v]=u,o[v].children=[],l[u.name]=u,l[u.name].children=[]}for(let f in o)o.hasOwnProperty(f)&&(p=o[f],p.parentName&&l[p.parentName]?l[p.parentName].children.push(p):a.push(p));return a},vn=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),Cl=R(E("react")),vs=R(E("react")),xl=({children:e})=>vs.default.createElement("div",null,e),kt={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},Bt=Cl.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:xl,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:kt}),gs=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:a,children:o,DashboardPage:l,Title:u,Layout:p=xl,Header:f,Sider:v,Footer:h,OffLayoutArea:x,LoginPage:y=Zl,catchAll:b,liveMode:c="off",onLiveEvent:m,options:P})=>Cl.default.createElement(Bt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:u,undoableTimeout:a,Layout:p,Header:f,Sider:v,Footer:h,OffLayoutArea:x,DashboardPage:l,LoginPage:y,catchAll:b,liveMode:c,onLiveEvent:m,options:P}},o),ys=({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:a,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:u,warnWhenUnsavedChanges:p}={})=>{var f,v,h,x,y,b,c,m,P,d,C,k,i,g,s,I,w,$,F,A,L,T,M,q;let D={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(v=(f=e==null?void 0:e.mutationMode)!=null?f:n)!=null?v:kt.mutationMode,undoableTimeout:(x=(h=e==null?void 0:e.undoableTimeout)!=null?h:u)!=null?x:kt.undoableTimeout,syncWithLocation:(b=(y=e==null?void 0:e.syncWithLocation)!=null?y:l)!=null?b:kt.syncWithLocation,warnWhenUnsavedChanges:(m=(c=e==null?void 0:e.warnWhenUnsavedChanges)!=null?c:p)!=null?m:kt.warnWhenUnsavedChanges,liveMode:(d=(P=e==null?void 0:e.liveMode)!=null?P:r)!=null?d:kt.liveMode,redirect:{afterCreate:(k=(C=e==null?void 0:e.redirect)==null?void 0:C.afterCreate)!=null?k:kt.redirect.afterCreate,afterClone:(g=(i=e==null?void 0:e.redirect)==null?void 0:i.afterClone)!=null?g:kt.redirect.afterClone,afterEdit:(I=(s=e==null?void 0:e.redirect)==null?void 0:s.afterEdit)!=null?I:kt.redirect.afterEdit}},z=($=(w=e==null?void 0:e.disableTelemetry)!=null?w:t)!=null?$:!1,j={clientConfig:(L=(A=(F=e==null?void 0:e.reactQuery)==null?void 0:F.clientConfig)!=null?A:a)!=null?L:{},devtoolConfig:(q=(M=(T=e==null?void 0:e.reactQuery)==null?void 0:T.devtoolConfig)!=null?M:o)!=null?q:{}};return{optionsWithDefaults:D,disableTelemetryWithDefault:z,reactQueryWithDefaults:j}},hs=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},Lo=async(e,t,r)=>{let n=[];for(let[a,o]of e.entries())try{let l=await o();n.push(t(l,a))}catch(l){n.push(r(l,a))}return n},me=(e,t=[],r=!1)=>{if(!!e)return r?t.find(a=>{var o;return wt((o=a.route)!=null?o:"")===wt(e)})||t.find(a=>a.name===e):t.find(n=>{var a;return((a=n.identifier)!=null?a:n.name)===e})},_=(e,t,r)=>{if(t)return t;let n=me(e,r),a=S(n==null?void 0:n.meta,n==null?void 0:n.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"},En=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),Pl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/a);return n<o?Number(n)+1:void 0},kl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},Il=e=>{let t=[];return e==null||e.forEach(r=>{var n,a,o;t.push({...r,label:(o=(n=r.meta)==null?void 0:n.label)!=null?o:(a=r.options)==null?void 0:a.label,route:El(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},bs=e=>Cr(wt(e)).flatMap(t=>da(t)?[t.slice(1)]:[]),Es=(e,t={},r={})=>e.reduce((n,a)=>{var o;let l=r[a]||((o=t.params)==null?void 0:o[a])||(a==="id"?t.id:void 0)||(a==="action"?t.action:void 0)||(a==="resource"?t.resource:void 0);return typeof l<"u"&&(n[a]=l),n},{}),Ve=(e,t={},r={})=>{let n=bs(e),a=Es(n,t,r);return e.replace(/:([^\/]+)/g,(o,l)=>{let u=a[l];return typeof u<"u"?`${u}`:o})},he=()=>{let e=Qe(),t=at();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},wl=({hasPagination:e,pagination:t,configPagination:r}={})=>{var n,a,o;let l=e===!1?"off":"server",u=(n=t==null?void 0:t.mode)!=null?n:l,p=(a=S(t==null?void 0:t.current,r==null?void 0:r.current))!=null?a:1,f=(o=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?o:10;return{current:p,pageSize:f,mode:u}},ma=({resource:e,config:t,filters:r,hasPagination:n,pagination:a,sorters:o,queryOptions:l,successNotification:u,errorNotification:p,meta:f,metaData:v,liveMode:h,onLiveEvent:x,liveParams:y,dataProviderName:b})=>{let{resources:c}=ae(),m=Pe(),P=oe(),d=he(),{mutate:C}=Me({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),k=Re(),i=_(e,b,c),g=S(f,v),s=S(r,t==null?void 0:t.filters),I=S(o,t==null?void 0:t.sort),w=S(n,t==null?void 0:t.hasPagination),$=wl({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=$.mode==="server",A={meta:g,metaData:g,filters:s,hasPagination:F,pagination:$,sorters:I,config:{...t,sort:I}},L=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,T=je(e,i,g,g),{getList:M}=m(i);return Br({resource:e,types:["*"],params:{meta:g,metaData:g,pagination:$,hasPagination:F,sort:I,sorters:I,filters:s,subscriptionType:"useList",...y},channel:`resources/${e}`,enabled:L,liveMode:h,onLiveEvent:x}),(0,Ju.useQuery)(T.list({filters:s,hasPagination:F,...F&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:q,pageParam:D,signal:z})=>M({resource:e,pagination:$,hasPagination:F,filters:s,sort:I,sorters:I,meta:{...g||{},queryContext:{queryKey:q,pageParam:D,signal:z}},metaData:{...g||{},queryContext:{queryKey:q,pageParam:D,signal:z}}}),{...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!e,select:q=>{var D;let z=q,{current:j,mode:Y,pageSize:H}=$;return Y==="client"&&(z={...z,data:z.data.slice((j-1)*H,j*H),total:z.total}),l!=null&&l.select?(D=l==null?void 0:l.select)==null?void 0:D.call(l,z):z},onSuccess:q=>{var D;(D=l==null?void 0:l.onSuccess)==null||D.call(l,q);let z=typeof u=="function"?u(q,A,e):u;k(z)},onError:q=>{var D;C(q),(D=l==null?void 0:l.onError)==null||D.call(l,q);let z=typeof p=="function"?p(q,A,e):p;k(z,{key:`${e}-useList-notification`,message:P("notifications.error",{statusCode:q.statusCode},`Error (status code: ${q.statusCode})`),description:q.message,type:"error"})}})},Cs=E("@tanstack/react-query"),pa=({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:a,meta:o,metaData:l,liveMode:u,onLiveEvent:p,liveParams:f,dataProviderName:v})=>{let{resources:h}=ae(),x=Pe(),y=je(e,_(e,v,h),S(o,l),S(o,l)),{getOne:b}=x(_(e,v,h)),c=oe(),m=he(),{mutate:P}=Me({v3LegacyAuthProviderCompatible:Boolean(m==null?void 0:m.isLegacy)}),d=Re();return Br({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:S(o,l),metaData:S(o,l),subscriptionType:"useOne",...f},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:u,onLiveEvent:p}),(0,Cs.useQuery)(y.detail(t),({queryKey:C,pageParam:k,signal:i})=>b({resource:e,id:t,meta:{...S(o,l)||{},queryContext:{queryKey:C,pageParam:k,signal:i}},metaData:{...S(o,l)||{},queryContext:{queryKey:C,pageParam:k,signal:i}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:C=>{var k;(k=r==null?void 0:r.onSuccess)==null||k.call(r,C);let i=typeof n=="function"?n(C,{id:t,...S(o,l)||{}},e):n;d(i)},onError:C=>{var k;P(C),(k=r==null?void 0:r.onError)==null||k.call(r,C);let i=typeof a=="function"?a(C,{id:t,...S(o,l)||{}},e):a;d(i,{key:`${t}-${e}-getOne-notification`,message:c("notifications.error",{statusCode:C.statusCode},`Error (status code: ${C.statusCode})`),description:C.message,type:"error"})}})},xs=E("@tanstack/react-query"),$l=({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:a,meta:o,metaData:l,liveMode:u,onLiveEvent:p,liveParams:f,dataProviderName:v})=>{let{resources:h}=ae(),x=Pe(),y=je(e,_(e,v,h),S(o,l),S(o,l)),{getMany:b,getOne:c}=x(_(e,v,h)),m=oe(),P=he(),{mutate:d}=Me({v3LegacyAuthProviderCompatible:Boolean(P==null?void 0:P.isLegacy)}),C=Re(),k=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Br({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:S(o,l),metaData:S(o,l),subscriptionType:"useMany",...f},channel:`resources/${e}`,enabled:k,liveMode:u,onLiveEvent:p}),(0,xs.useQuery)(y.many(t),({queryKey:i,pageParam:g,signal:s})=>b?b({resource:e,ids:t,metaData:{...S(o,l)||{},queryContext:{queryKey:i,pageParam:g,signal:s}}}):En(t.map(I=>c({resource:e,id:I,metaData:{...S(o,l)||{},queryContext:{queryKey:i,pageParam:g,signal:s}}}))),{...r,onSuccess:i=>{var g;(g=r==null?void 0:r.onSuccess)==null||g.call(r,i);let s=typeof n=="function"?n(i,t,e):n;C(s)},onError:i=>{var g;d(i),(g=r==null?void 0:r.onError)==null||g.call(r,i);let s=typeof a=="function"?a(i,t,e):a;C(s,{key:`${t[0]}-${e}-getMany-notification`,message:m("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})}})},qo=E("@tanstack/react-query"),gn=R(E("react")),Hn=R(E("lodash/isEqual")),Fl=gn.default.createContext({notifications:[],notificationDispatch:()=>!1}),Ps=[],ks=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Hn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Hn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Hn.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},Is=({children:e})=>{let[t,r]=(0,gn.useReducer)(ks,Ps),n={notifications:t,notificationDispatch:r};return gn.default.createElement(Fl.Provider,{value:n},e,typeof window<"u"&&t.map(a=>gn.default.createElement(Jl,{key:`${a.id}-${a.resource}-queue`,notification:a})))},Ao=R(E("pluralize")),Sl=({mutationOptions:e}={})=>{let{resources:t}=ae(),r=(0,qo.useQueryClient)(),n=Pe(),{mutationMode:a,undoableTimeout:o}=Ir(),l=oe(),u=he(),{mutate:p}=Me({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),f=tr(),{log:v}=rr(),{notificationDispatch:h}=Pr(),x=Re(),y=nr();return(0,qo.useMutation)(({id:b,values:c,resource:m,mutationMode:P,undoableTimeout:d,onCancel:C,meta:k,metaData:i,dataProviderName:g})=>{let s=P!=null?P:a,I=d!=null?d:o;return s!=="undoable"?n(_(m,g,t)).update({resource:m,id:b,variables:c,meta:S(k,i),metaData:S(k,i)}):new Promise((w,$)=>{let F=()=>{n(_(m,g,t)).update({resource:m,id:b,variables:c,meta:S(k,i),metaData:S(k,i)}).then(L=>w(L)).catch(L=>$(L))},A=()=>{$({message:"mutationCancelled"})};C&&C(A),h({type:"ADD",payload:{id:b,resource:m,cancelMutation:A,doMutation:F,seconds:I,isSilent:!!C}})})},{onMutate:async({resource:b,id:c,mutationMode:m,values:P,dataProviderName:d})=>{let C=je(b,_(b,d,t)),k=r.getQueriesData(C.resourceAll),i=m!=null?m:a;return await r.cancelQueries(C.resourceAll,void 0,{silent:!0}),i!=="pessimistic"&&(r.setQueriesData(C.list(),g=>{if(!g)return null;let s=g.data.map(I=>{var w;return((w=I.id)==null?void 0:w.toString())===(c==null?void 0:c.toString())?{id:c,...I,...P}:I});return{...g,data:s}}),r.setQueriesData(C.many(),g=>{if(!g)return null;let s=g.data.map(I=>{var w;return((w=I.id)==null?void 0:w.toString())===(c==null?void 0:c.toString())&&(I={id:c,...I,...P}),I});return{...g,data:s}}),r.setQueriesData(C.detail(c),g=>g?{...g,data:{...g.data,...P}}:null)),{previousQueries:k,queryKey:C}},onSettled:(b,c,{id:m,resource:P,dataProviderName:d,invalidates:C=["list","many","detail"]})=>{y({resource:P,dataProviderName:_(P,d,t),invalidates:C,id:m}),h({type:"REMOVE",payload:{id:m,resource:P}})},onSuccess:(b,{id:c,resource:m,successNotification:P,dataProviderName:d,values:C,meta:k,metaData:i},g)=>{var s;let I=Ao.default.singular(m),w=typeof P=="function"?P(b,{id:c,values:C},m):P;x(w,{key:`${c}-${m}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${m}.${m}`,I)},`Successfully updated ${I}`),type:"success"}),f==null||f({channel:`resources/${m}`,type:"updated",payload:{ids:(s=b.data)!=null&&s.id?[b.data.id]:void 0},date:new Date});let $;if(g){let M=r.getQueryData(g.queryKey.detail(c));$=Object.keys(C||{}).reduce((q,D)=>{var z;return q[D]=(z=M==null?void 0:M.data)==null?void 0:z[D],q},{})}let{fields:F,operation:A,variables:L,...T}=S(k,i)||{};v==null||v.mutate({action:"update",resource:m,data:C,previousData:$,meta:{id:c,dataProviderName:_(m,d,t),...T}})},onError:(b,{id:c,resource:m,errorNotification:P,values:d},C)=>{if(C)for(let k of C.previousQueries)r.setQueryData(k[0],k[1]);if(b.message!=="mutationCancelled"){p==null||p(b);let k=Ao.default.singular(m),i=typeof P=="function"?P(b,{id:c,values:d},m):P;x(i,{key:`${c}-${m}-notification`,message:l("notifications.editError",{resource:l(`${m}.${m}`,k),statusCode:b.statusCode},`Error when updating ${k} (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e})},ws=E("@tanstack/react-query"),To=R(E("pluralize")),fa=({mutationOptions:e}={})=>{let t=he(),{mutate:r}=Me({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=Pe(),a=nr(),{resources:o}=ae(),l=oe(),u=tr(),{log:p}=rr(),f=Re();return(0,ws.useMutation)(({resource:v,values:h,meta:x,metaData:y,dataProviderName:b})=>n(_(v,b,o)).create({resource:v,variables:h,meta:S(x,y),metaData:S(x,y)}),{onSuccess:(v,{resource:h,successNotification:x,dataProviderName:y,invalidates:b=["list","many"],values:c,meta:m,metaData:P})=>{var d,C,k;let i=To.default.singular(h),g=typeof x=="function"?x(v,c,h):x;f(g,{key:`create-${h}-notification`,message:l("notifications.createSuccess",{resource:l(`${h}.${h}`,i)},`Successfully created ${i}`),description:l("notifications.success","Success"),type:"success"}),a({resource:h,dataProviderName:_(h,y,o),invalidates:b}),u==null||u({channel:`resources/${h}`,type:"created",payload:{ids:(d=v==null?void 0:v.data)!=null&&d.id?[v.data.id]:void 0},date:new Date});let{fields:s,operation:I,variables:w,...$}=S(m,P)||{};p==null||p.mutate({action:"create",resource:h,data:c,meta:{dataProviderName:_(h,y,o),id:(k=(C=v==null?void 0:v.data)==null?void 0:C.id)!=null?k:void 0,...$}})},onError:(v,{resource:h,errorNotification:x,values:y})=>{r(v);let b=To.default.singular(h),c=typeof x=="function"?x(v,y,h):x;f(c,{key:`create-${h}-notification`,description:v.message,message:l("notifications.createError",{resource:l(`${h}.${h}`,b),statusCode:v.statusCode},`There was an error creating ${b} (status code: ${v.statusCode})`),type:"error"})},...e})},No=E("@tanstack/react-query"),Do=R(E("pluralize")),$s=({mutationOptions:e}={})=>{let t=he(),{mutate:r}=Me({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=Pe(),{resources:a}=ae(),o=(0,No.useQueryClient)(),{mutationMode:l,undoableTimeout:u}=Ir(),{notificationDispatch:p}=Pr(),f=oe(),v=tr(),{log:h}=rr(),x=Re(),y=nr();return(0,No.useMutation)(({id:b,mutationMode:c,undoableTimeout:m,resource:P,onCancel:d,meta:C,metaData:k,dataProviderName:i,values:g})=>{let s=c!=null?c:l,I=m!=null?m:u;return s!=="undoable"?n(_(P,i,a)).deleteOne({resource:P,id:b,meta:S(C,k),metaData:S(C,k),variables:g}):new Promise((w,$)=>{let F=()=>{n(_(P,i,a)).deleteOne({resource:P,id:b,meta:S(C,k),variables:g}).then(L=>w(L)).catch(L=>$(L))},A=()=>{$({message:"mutationCancelled"})};d&&d(A),p({type:"ADD",payload:{id:b,resource:P,cancelMutation:A,doMutation:F,seconds:I,isSilent:!!d}})})},{onMutate:async({id:b,resource:c,mutationMode:m,dataProviderName:P})=>{let d=je(c,_(c,P,a)),C=m!=null?m:l;await o.cancelQueries(d.resourceAll,void 0,{silent:!0});let k=o.getQueriesData(d.resourceAll);return C!=="pessimistic"&&(o.setQueriesData(d.list(),i=>i?{data:i.data.filter(g=>{var s;return((s=g.id)==null?void 0:s.toString())!==b.toString()}),total:i.total-1}:null),o.setQueriesData(d.many(),i=>{if(!i)return null;let g=i.data.filter(s=>{var I;return((I=s.id)==null?void 0:I.toString())!==(b==null?void 0:b.toString())});return{...i,data:g}})),{previousQueries:k,queryKey:d}},onSettled:(b,c,{id:m,resource:P,dataProviderName:d,invalidates:C=["list","many"]})=>{y({resource:P,dataProviderName:_(P,d,a),invalidates:C}),p({type:"REMOVE",payload:{id:m,resource:P}})},onSuccess:(b,{id:c,resource:m,successNotification:P,dataProviderName:d,meta:C,metaData:k},i)=>{let g=Do.default.singular(m!=null?m:"");o.removeQueries(i==null?void 0:i.queryKey.detail(c));let s=typeof P=="function"?P(b,c,m):P;x(s,{key:`${c}-${m}-notification`,description:f("notifications.success","Success"),message:f("notifications.deleteSuccess",{resource:f(`${m}.${m}`,g)},`Successfully deleted a ${g}`),type:"success"}),v==null||v({channel:`resources/${m}`,type:"deleted",payload:{ids:c?[c]:[]},date:new Date});let{fields:I,operation:w,variables:$,...F}=S(C,k)||{};h==null||h.mutate({action:"delete",resource:m,meta:{id:c,dataProviderName:_(m,d,a),...F}}),o.removeQueries(i==null?void 0:i.queryKey.detail(c))},onError:(b,{id:c,resource:m,errorNotification:P},d)=>{if(d)for(let C of d.previousQueries)o.setQueryData(C[0],C[1]);if(b.message!=="mutationCancelled"){r(b);let C=Do.default.singular(m!=null?m:""),k=typeof P=="function"?P(b,c,m):P;x(k,{key:`${c}-${m}-notification`,message:f("notifications.deleteError",{resource:C,statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e})},Fs=E("@tanstack/react-query"),Ss=R(E("pluralize")),Ll=({mutationOptions:e}={})=>{let t=Pe(),{resources:r}=ae(),n=oe(),a=tr(),o=Re(),l=nr(),{log:u}=rr();return(0,Fs.useMutation)(({resource:p,values:f,meta:v,metaData:h,dataProviderName:x})=>{let y=t(_(p,x,r));return y.createMany?y.createMany({resource:p,variables:f,meta:S(v,h),metaData:S(v,h)}):En(f.map(b=>y.create({resource:p,variables:b,meta:S(v,h),metaData:S(v,h)})))},{onSuccess:(p,{resource:f,successNotification:v,dataProviderName:h,invalidates:x=["list","many"],values:y,meta:b,metaData:c})=>{let m=Ss.default.plural(f),P=typeof v=="function"?v(p,y,f):v;o(P,{key:`createMany-${f}-notification`,message:n("notifications.createSuccess",{resource:n(`${f}.${f}`,f)},`Successfully created ${m}`),description:n("notifications.success","Success"),type:"success"}),l({resource:f,dataProviderName:_(f,h,r),invalidates:x});let d=p==null?void 0:p.data.filter(s=>(s==null?void 0:s.id)!==void 0).map(s=>s.id);a==null||a({channel:`resources/${f}`,type:"created",payload:{ids:d},date:new Date});let{fields:C,operation:k,variables:i,...g}=S(b,c)||{};u==null||u.mutate({action:"createMany",resource:f,data:y,meta:{dataProviderName:_(f,h,r),ids:d,...g}})},onError:(p,{resource:f,errorNotification:v,values:h})=>{let x=typeof v=="function"?v(p,h,f):v;o(x,{key:`createMany-${f}-notification`,description:p.message,message:n("notifications.createError",{resource:n(`${f}.${f}`,f),statusCode:p.statusCode},`There was an error creating ${f} (status code: ${p.statusCode}`),type:"error"})},...e})},Mo=E("@tanstack/react-query"),Ro=R(E("pluralize")),Ls=({mutationOptions:e}={})=>{let{resources:t}=ae(),r=(0,Mo.useQueryClient)(),n=Pe(),a=oe(),{mutationMode:o,undoableTimeout:l}=Ir(),u=he(),{mutate:p}=Me({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),{notificationDispatch:f}=Pr(),v=tr(),h=Re(),x=nr(),{log:y}=rr();return(0,Mo.useMutation)(({ids:b,values:c,resource:m,onCancel:P,mutationMode:d,undoableTimeout:C,meta:k,metaData:i,dataProviderName:g})=>{let s=d!=null?d:o,I=C!=null?C:l,w=n(_(m,g,t)),$=()=>w.updateMany?w.updateMany({resource:m,ids:b,variables:c,meta:S(k,i),metaData:S(k,i)}):En(b.map(F=>w.update({resource:m,id:F,variables:c,meta:S(k,i),metaData:S(k,i)})));return s!=="undoable"?$():new Promise((F,A)=>{let L=()=>{$().then(M=>F(M)).catch(M=>A(M))},T=()=>{A({message:"mutationCancelled"})};P&&P(T),f({type:"ADD",payload:{id:b,resource:m,cancelMutation:T,doMutation:L,seconds:I,isSilent:!!P}})})},{onMutate:async({resource:b,ids:c,values:m,mutationMode:P,dataProviderName:d,meta:C,metaData:k})=>{let i=je(b,_(b,d,t),S(C,k),S(C,k)),g=P!=null?P:o;await r.cancelQueries(i.resourceAll,void 0,{silent:!0});let s=r.getQueriesData(i.resourceAll);if(g!=="pessimistic"){r.setQueriesData(i.list(),I=>{if(!I)return null;let w=I.data.map($=>$.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes($.id.toString())?{...$,...m}:$);return{...I,data:w}}),r.setQueriesData(i.many(),I=>{if(!I)return null;let w=I.data.map($=>$.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes($.id.toString())?{...$,...m}:$);return{...I,data:w}});for(let I of c)r.setQueriesData(i.detail(I),w=>{if(!w)return null;let $={...w.data,...m};return{...w,data:$}})}return{previousQueries:s,queryKey:i}},onSettled:(b,c,{ids:m,resource:P,dataProviderName:d})=>{x({resource:P,invalidates:["list","many"],dataProviderName:_(P,d,t)}),m.forEach(C=>x({resource:P,invalidates:["detail"],dataProviderName:_(P,d,t),id:C})),f({type:"REMOVE",payload:{id:m,resource:P}})},onSuccess:(b,{ids:c,resource:m,meta:P,metaData:d,dataProviderName:C,successNotification:k,values:i},g)=>{let s=Ro.default.singular(m),I=typeof k=="function"?k(b,{ids:c,values:i},m):k;h(I,{key:`${c}-${m}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${m}.${m}`,m)},`Successfully updated ${s}`),type:"success"}),v==null||v({channel:`resources/${m}`,type:"updated",payload:{ids:c.map(String)},date:new Date});let w=[];g&&c.forEach(T=>{let M=r.getQueryData(g.queryKey.detail(T));w.push(Object.keys(i||{}).reduce((q,D)=>{var z;return q[D]=(z=M==null?void 0:M.data)==null?void 0:z[D],q},{}))});let{fields:$,operation:F,variables:A,...L}=S(P,d)||{};y==null||y.mutate({action:"updateMany",resource:m,data:i,previousData:w,meta:{ids:c,dataProviderName:_(m,C,t),...L}})},onError:(b,{ids:c,resource:m,errorNotification:P,values:d},C)=>{if(C)for(let k of C.previousQueries)r.setQueryData(k[0],k[1]);if(b.message!=="mutationCancelled"){p==null||p(b);let k=Ro.default.singular(m),i=typeof P=="function"?P(b,{ids:c,values:d},m):P;h(i,{key:`${c}-${m}-updateMany-error-notification`,message:a("notifications.editError",{resource:k,statusCode:b.statusCode},`Error when updating ${k} (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e})},Bo=E("@tanstack/react-query"),qs=R(E("pluralize")),As=({mutationOptions:e}={})=>{let t=he(),{mutate:r}=Me({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:n,undoableTimeout:a}=Ir(),o=Pe(),{notificationDispatch:l}=Pr(),u=oe(),p=tr(),f=Re(),v=nr(),{log:h}=rr(),{resources:x}=ae(),y=(0,Bo.useQueryClient)();return(0,Bo.useMutation)(({resource:b,ids:c,mutationMode:m,undoableTimeout:P,onCancel:d,meta:C,metaData:k,dataProviderName:i,values:g})=>{let s=m!=null?m:n,I=P!=null?P:a,w=o(_(b,i,x)),$=()=>w.deleteMany?w.deleteMany({resource:b,ids:c,meta:S(C,k),metaData:S(C,k),variables:g}):En(c.map(F=>w.deleteOne({resource:b,id:F,meta:S(C,k),metaData:S(C,k),variables:g})));return s!=="undoable"?$():new Promise((F,A)=>{let L=()=>{$().then(M=>F(M)).catch(M=>A(M))},T=()=>{A({message:"mutationCancelled"})};d&&d(T),l({type:"ADD",payload:{id:c,resource:b,cancelMutation:T,doMutation:L,seconds:I,isSilent:!!d}})})},{onMutate:async({ids:b,resource:c,mutationMode:m,dataProviderName:P})=>{let d=je(c,_(c,P,x)),C=m!=null?m:n;await y.cancelQueries(d.resourceAll,void 0,{silent:!0});let k=y.getQueriesData(d.resourceAll);if(C!=="pessimistic"){y.setQueriesData(d.list(),i=>i?{data:i.data.filter(g=>g.id&&!b.map(String).includes(g.id.toString())),total:i.total-1}:null),y.setQueriesData(d.many(),i=>{if(!i)return null;let g=i.data.filter(s=>s.id?!b.map(String).includes(s.id.toString()):!1);return{...i,data:g}});for(let i of b)y.setQueriesData(d.detail(i),g=>!g||g.data.id==i?null:{...g})}return{previousQueries:k,queryKey:d}},onSettled:(b,c,{resource:m,ids:P,dataProviderName:d,invalidates:C=["list","many"]})=>{v({resource:m,dataProviderName:_(m,d,x),invalidates:C}),l({type:"REMOVE",payload:{id:P,resource:m}})},onSuccess:(b,{ids:c,resource:m,meta:P,metaData:d,dataProviderName:C,successNotification:k},i)=>{c.forEach(F=>y.removeQueries(i==null?void 0:i.queryKey.detail(F)));let g=typeof k=="function"?k(b,c,m):k;f(g,{key:`${c}-${m}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${m}.${m}`,m)},`Successfully deleted ${m}`),type:"success"}),p==null||p({channel:`resources/${m}`,type:"deleted",payload:{ids:c},date:new Date});let{fields:s,operation:I,variables:w,...$}=S(P,d)||{};h==null||h.mutate({action:"deleteMany",resource:m,meta:{ids:c,dataProviderName:_(m,C,x),...$}}),c.forEach(F=>y.removeQueries(i==null?void 0:i.queryKey.detail(F)))},onError:(b,{ids:c,resource:m,errorNotification:P},d)=>{if(d)for(let C of d.previousQueries)y.setQueryData(C[0],C[1]);if(b.message!=="mutationCancelled"){r(b);let C=qs.default.singular(m),k=typeof P=="function"?P(b,c,m):P;f(k,{key:`${c}-${m}-notification`,message:u("notifications.deleteError",{resource:C,statusCode:b.statusCode},`Error (status code: ${b.statusCode})`),description:b.message,type:"error"})}},...e})},Ts=e=>{let t=Pe(),{getApiUrl:r}=t(e);return r()},Ns=E("@tanstack/react-query"),Ds=({url:e,method:t,config:r,queryOptions:n,successNotification:a,errorNotification:o,meta:l,metaData:u,dataProviderName:p})=>{let f=Pe(),{custom:v}=f(p),h=he(),{mutate:x}=Me({v3LegacyAuthProviderCompatible:Boolean(h==null?void 0:h.isLegacy)}),y=oe(),b=Re();if(v)return(0,Ns.useQuery)([p,"custom",t,e,{...r,...S(l,u)||{}}],({queryKey:c,pageParam:m,signal:P})=>v({url:e,method:t,...r,metaData:{...S(l,u)||{},queryContext:{queryKey:c,pageParam:m,signal:P}}}),{...n,onSuccess:c=>{var m;(m=n==null?void 0:n.onSuccess)==null||m.call(n,c);let P=typeof a=="function"?a(c,{...r,...S(l,u)||{}}):a;b(P)},onError:c=>{var m;x(c),(m=n==null?void 0:n.onError)==null||m.call(n,c);let P=typeof o=="function"?o(c,{...r,...S(l,u)||{}}):o;b(P,{key:`${t}-notification`,message:y("notifications.error",{statusCode:c.statusCode},`Error (status code: ${c.statusCode})`),description:c.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},Ms=E("@tanstack/react-query"),Rs=({mutationOptions:e}={})=>{let t=he(),{mutate:r}=Me({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),n=Re(),a=Pe(),o=oe();return(0,Ms.useMutation)(({url:l,method:u,values:p,meta:f,metaData:v,dataProviderName:h,config:x})=>{let{custom:y}=a(h);if(y)return y({url:l,method:u,payload:p,meta:S(f,v),metaData:S(f,v),headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:u,config:p,meta:f,metaData:v})=>{let h=typeof u=="function"?u(l,{...p,...S(f,v)||{}}):u;n(h)},onError:(l,{errorNotification:u,method:p,config:f,meta:v,metaData:h})=>{r(l);let x=typeof u=="function"?u(l,{...f,...S(v,h)||{}}):u;n(x,{key:`${p}-notification`,message:o("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...e})},Oo=E("react"),ql=R(E("react")),Bs=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),va=ql.default.createContext(Bs()),Os=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},ql.default.createElement(va.Provider,{value:r},e)},Pe=()=>{let e=(0,Oo.useContext)(va);return(0,Oo.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},zs=E("@tanstack/react-query"),Us=({resource:e,config:t,filters:r,hasPagination:n,pagination:a,sorters:o,queryOptions:l,successNotification:u,errorNotification:p,meta:f,metaData:v,liveMode:h,onLiveEvent:x,liveParams:y,dataProviderName:b})=>{let{resources:c}=ae(),m=Pe(),P=oe(),d=he(),{mutate:C}=Me({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),k=Re(),i=_(e,b,c),g=S(f,v),s=S(r,t==null?void 0:t.filters),I=S(o,t==null?void 0:t.sort),w=S(n,t==null?void 0:t.hasPagination),$=wl({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=$.mode==="server",A={meta:g,metaData:g,filters:s,hasPagination:F,pagination:$,sorters:I,config:{...t,sort:I}},L=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,T=je(e,i,g,g),{getList:M}=m(i);return Br({resource:e,types:["*"],params:{meta:g,metaData:g,pagination:$,hasPagination:F,sort:I,sorters:I,filters:s,subscriptionType:"useList",...y},channel:`resources/${e}`,enabled:L,liveMode:h,onLiveEvent:x}),(0,zs.useInfiniteQuery)(T.list({filters:s,hasPagination:F,...F&&{pagination:$},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:q,pageParam:D,signal:z})=>{let j={...$,current:D};return M({resource:e,pagination:j,hasPagination:F,filters:s,sort:I,sorters:I,meta:{...g||{},queryContext:{queryKey:q,pageParam:D,signal:z}},metaData:{...g||{},queryContext:{queryKey:q,pageParam:D,signal:z}}}).then(({data:Y,total:H,...N})=>({data:Y,total:H,pagination:j,...N}))},{getNextPageParam:q=>Pl(q),getPreviousPageParam:q=>kl(q),...l,onSuccess:q=>{var D;(D=l==null?void 0:l.onSuccess)==null||D.call(l,q);let z=typeof u=="function"?u(q,A,e):u;k(z)},onError:q=>{var D;C(q),(D=l==null?void 0:l.onError)==null||D.call(l,q);let z=typeof p=="function"?p(q,A,e):p;k(z,{key:`${e}-useInfiniteList-notification`,message:P("notifications.error",{statusCode:q.statusCode},`Error (status code: ${q.statusCode})`),description:q.message,type:"error"})}})},Kn=E("react"),Ws=E("@tanstack/react-query"),Al=R(E("react")),Rr=Al.default.createContext(void 0),Gs=({liveProvider:e,children:t})=>Al.default.createElement(Rr.Provider,{value:e},t),Br=({resource:e,params:t,channel:r,types:n,enabled:a=!0,liveMode:o,onLiveEvent:l})=>{let u=(0,Ws.useQueryClient)(),p=je(e),f=(0,Kn.useContext)(Rr),{liveMode:v,onLiveEvent:h}=(0,Kn.useContext)(Bt),x=o!=null?o:v;(0,Kn.useEffect)(()=>{let y;return x&&x!=="off"&&a&&(y=f==null?void 0:f.subscribe({channel:r,params:{resource:e,...t},types:n,callback:b=>{x==="auto"&&u.invalidateQueries(p.resourceAll),l==null||l(b),h==null||h(b)}})),()=>{y&&(f==null||f.unsubscribe(y))}},[a])},Vs=E("react"),Tl=e=>{let{liveMode:t}=(0,Vs.useContext)(Bt);return e!=null?e:t},zo=E("react"),Qs=({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:a})=>{let o=(0,zo.useContext)(Rr);(0,zo.useEffect)(()=>{let l;return n&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:a})),()=>{l&&(o==null||o.unsubscribe(l))}},[n])},js=E("react"),tr=()=>{let e=(0,js.useContext)(Rr);return e==null?void 0:e.publish},Hs=E("react"),Nl=R(E("react")),Ks=E("react"),_s=E("react"),Ys=R(E("lodash/isEqual")),Zs=e=>{let t=(0,_s.useRef)(e);return(0,Ys.default)(t.current,e)||(t.current=e),t.current},Dl=(e,t)=>{let r=Zs(t);return(0,Ks.useMemo)(e,r)},Or=Nl.default.createContext({resources:[]}),Xs=({resources:e,children:t})=>{let r=Dl(()=>Il(e!=null?e:[]),[e]);return Nl.default.createElement(Or.Provider,{value:{resources:r}},t)},Ml=R(E("react")),Rl=Ml.default.createContext("new"),Js=Rl.Provider,pe=()=>Ml.default.useContext(Rl),ec=R(E("react")),Bl=R(E("react")),Ol={},zr=(0,Bl.createContext)(Ol),tc=({children:e,router:t})=>Bl.default.createElement(zr.Provider,{value:t!=null?t:Ol},e),Uo=R(E("react")),zl=()=>{let e=(0,Uo.useContext)(zr);return Uo.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},He=()=>{let e=zl();return ec.default.useMemo(()=>e(),[e])};function ae(e){var t,r;let{resources:n}=(0,Hs.useContext)(Or),a=pe(),o=He(),l={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},u=Cn(),{useParams:p}=ke(),f=p();if(a==="legacy"){let x=l.resourceNameOrRouteName?l.resourceNameOrRouteName:f.resource,y=x?u(x):void 0,b=(t=l==null?void 0:l.recordItemId)!=null?t:f.id,c=f.action,m=(r=l==null?void 0:l.resourceName)!=null?r:y==null?void 0:y.name;return{resources:n,resource:y,resourceName:m,id:b,action:c}}let v,h=typeof e=="string"?e:l==null?void 0:l.resourceNameOrRouteName;if(h){let x=me(h,n);x?v=x:v={name:h}}else o!=null&&o.resource&&(v=o.resource);return{resources:n,resource:v,resourceName:v==null?void 0:v.name,id:o.id,action:o.action}}var Wo=E("react"),Cn=()=>{let{resources:e}=(0,Wo.useContext)(Or);return(0,Wo.useCallback)(t=>me(t,e,!0)||{name:t,route:t},[e])},rc=E("react"),Pr=()=>{let{notifications:e,notificationDispatch:t}=(0,rc.useContext)(Fl);return{notifications:e,notificationDispatch:t}},nc=E("react"),Ul=R(E("react")),ga=(0,Ul.createContext)({}),ac=({open:e,close:t,children:r})=>Ul.default.createElement(ga.Provider,{value:{open:e,close:t}},r),Ot=()=>{let{open:e,close:t}=(0,nc.useContext)(ga);return{open:e,close:t}},oc=E("react"),Re=()=>{let{open:e}=Ot();return(0,oc.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},Go=E("react"),Wl=R(E("react")),kr=Wl.default.createContext({}),lc=({children:e,i18nProvider:t})=>Wl.default.createElement(kr.Provider,{value:{i18nProvider:t}},e),ic=()=>{let{i18nProvider:e}=(0,Go.useContext)(kr);return(0,Go.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},Vo=E("react"),oe=()=>{let{i18nProvider:e}=(0,Vo.useContext)(kr);return(0,Vo.useMemo)(()=>{function t(r,n,a){var o,l;return(l=(o=e==null?void 0:e.translate(r,n,a))!=null?o:a)!=null?l:typeof n=="string"&&typeof a>"u"?n:r}return t},[e])},Qo=E("react"),uc=()=>{let{i18nProvider:e}=(0,Qo.useContext)(kr);return(0,Qo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},sc=E("react"),Ir=()=>{let{mutationMode:e,undoableTimeout:t}=(0,sc.useContext)(Bt);return{mutationMode:e,undoableTimeout:t}},jo=E("react"),aa=R(E("react")),Gl=aa.default.createContext({}),cc=({children:e})=>{let[t,r]=(0,aa.useState)(!1);return aa.default.createElement(Gl.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},ya=()=>{let{warnWhenUnsavedChanges:e}=(0,jo.useContext)(Bt),{warnWhen:t,setWarnWhen:r}=(0,jo.useContext)(Gl);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},dc=E("react"),Vl=()=>{let{syncWithLocation:e}=(0,dc.useContext)(Bt);return{syncWithLocation:e}},mc=E("react"),pc=()=>{let{Title:e}=(0,mc.useContext)(Bt);return e},fc=E("react"),ha=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:l,mutationMode:u,syncWithLocation:p,undoableTimeout:f,warnWhenUnsavedChanges:v,DashboardPage:h,LoginPage:x,catchAll:y,options:b}=(0,fc.useContext)(Bt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:a,Title:o,hasDashboard:l,mutationMode:u,syncWithLocation:p,undoableTimeout:f,warnWhenUnsavedChanges:v,DashboardPage:h,LoginPage:x,catchAll:y,options:b}},vc=E("react"),gc=E("export-to-csv-fix-source-map"),yc=({resourceName:e,resource:t,sorter:r,sorters:n,filters:a,maxItemCount:o,pageSize:l=20,mapData:u=y=>y,exportOptions:p,meta:f,metaData:v,dataProviderName:h,onError:x}={})=>{var y;let[b,c]=(0,vc.useState)(!1),m=Pe(),{resource:P,resources:d}=ae(),C=`${ca(P==null?void 0:P.name,"plural")}-${new Date().toLocaleString()}`,{getList:k}=m(_((y=P==null?void 0:P.identifier)!=null?y:P==null?void 0:P.name,h,d));return{isLoading:b,triggerExport:async()=>{var i;c(!0);let g=[],s=1,I=!0;for(;I;)try{let{data:w,total:$}=await k({resource:(i=P==null?void 0:P.name)!=null?i:"",filters:a,sort:S(n,r),sorters:S(n,r),pagination:{current:s,pageSize:l,mode:"server"},meta:S(f,v),metaData:S(f,v)});s++,g.push(...w),o&&g.length>=o&&(g=g.slice(0,o),I=!1),$===g.length&&(I=!1)}catch(w){c(!1),I=!1,x==null||x(w);return}new gc.ExportToCsv({filename:C,useKeysAsHeaders:!0,...p}).generateCsv(g.map(u)),c(!1)}}},Ho=R(E("react")),hc=({resource:e,action:t,id:r,onMutationSuccess:n,onMutationError:a,redirect:o,successNotification:l,errorNotification:u,meta:p,metaData:f,mutationMode:v,liveMode:h,onLiveEvent:x,liveParams:y,undoableTimeout:b,dataProviderName:c,invalidates:m,queryOptions:P,createMutationOptions:d,updateMutationOptions:C}={})=>{let{options:k}=ha(),{resources:i}=ae(),g=pe(),{resource:s,id:I,action:w}=He(),{useParams:$}=ke(),{resource:F,action:A,id:L}=$(),T=typeof s=="string"?s:s==null?void 0:s.name,M=!e||e===(g==="legacy"?F:T)?r!=null?r:g==="legacy"?L:I:r,[q,D]=Ho.default.useState(M);Ho.default.useEffect(()=>{M!==q&&D(r)},[r]);let z=e!=null?e:g==="legacy"?F:T,j=g==="legacy"?A:w,Y=t!=null?t:j==="edit"||j==="clone"?j:"create",H=Cn(),N;if(g==="legacy")z&&(N=H(z));else if(e){let X=me(e,i);X?N=X:N={name:e,route:e}}else if(typeof s=="string"){let X=me(s,i);X?N=X:N={name:s,route:s}}else N=s;let{mutationMode:te}=Ir(),ge=v!=null?v:te,B=Y==="create",Z=Y==="edit",ee=Y==="clone",Ue=hs({redirectFromProps:o,action:Y,redirectOptions:k.redirect}),Fe=q!==void 0&&(Z||ee),We=pa({resource:N==null?void 0:N.name,id:q!=null?q:"",queryOptions:{enabled:Fe,...P},liveMode:h,onLiveEvent:x,liveParams:y,meta:S(p,f),metaData:S(p,f),dataProviderName:c}),{isFetching:Ct}=We,dt=fa({mutationOptions:d}),{mutate:Nt,isLoading:xe}=dt,mt=Sl({mutationOptions:C}),{mutate:Ae,isLoading:Dt}=mt,{setWarnWhen:xt}=ya(),tt=Ql();return{...B||ee?{formLoading:Ct||xe,mutationResult:dt,onFinish:async X=>{xt(!1);let Se=pt=>{tt({redirect:Ue,resource:N,id:pt,meta:f})};return ge!=="pessimistic"&&setTimeout(()=>{Se()}),new Promise((pt,_t)=>{if(ge!=="pessimistic"&&pt(),!!N)return Nt({values:X,resource:N.name,successNotification:l,errorNotification:u,meta:S(p,f),metaData:S(p,f),dataProviderName:c,invalidates:m},{onSuccess:(rt,ft,Le)=>{var Pt;n&&n(rt,X,Le);let Yt=(Pt=rt==null?void 0:rt.data)==null?void 0:Pt.id;Se(Yt),pt(rt)},onError:(rt,ft,Le)=>{if(a)return a(rt,X,Le);_t()}})})}}:{formLoading:Ct||Dt,mutationResult:mt,onFinish:async X=>{if(xt(!1),!N)return;let Se={id:q!=null?q:"",values:X,resource:N.name,mutationMode:ge,undoableTimeout:b,successNotification:l,errorNotification:u,meta:S(p,f),metaData:S(p,f),dataProviderName:c,invalidates:m},pt=()=>{D(M),tt({redirect:Ue,resource:N,id:q,meta:f})};return ge!=="pessimistic"&&setTimeout(()=>{pt()}),new Promise((_t,rt)=>(ge!=="pessimistic"&&_t(),setTimeout(()=>{Ae(Se,{onSuccess:(ft,Le,Pt)=>{n&&n(ft,X,Pt),ge==="pessimistic"&&pt(),_t(ft)},onError:(ft,Le,Pt)=>{if(a)return a(ft,X,Pt);rt()}})})))}},queryResult:We,id:q,setId:D,redirect:(X,Se)=>{tt({redirect:X!==void 0?X:Z?"list":"edit",resource:N,id:Se!=null?Se:q,meta:f})}}},bc=E("react"),Ql=()=>{let{show:e,edit:t,list:r,create:n}=_e();return(0,bc.useCallback)(({redirect:a,resource:o,id:l,meta:u={}})=>{if(a&&o)return!!o.show&&a==="show"&&l?e(o,l,void 0,u):!!o.edit&&a==="edit"&&l?t(o,l,void 0,u):!!o.create&&a==="create"?n(o,void 0,u):r(o,"push",u)},[])},Ko=R(E("react")),Ke=()=>{let e=(0,Ko.useContext)(zr);return Ko.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},_o=R(E("react")),jl=()=>{let e=(0,_o.useContext)(zr);return _o.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},_e=()=>{let{resources:e}=ae(),t=pe(),{useHistory:r}=ke(),n=r(),a=He(),o=Ke(),l=jl(),u=(y,b="push")=>{t==="legacy"?n[b](y):o({to:y,type:b})},p=(y,b={})=>{var c,m,P;if(t==="legacy"){let d=typeof y=="string"?(c=me(y,e,!0))!=null?c:{name:y,route:y}:y,C=De(d,e,!0).find(k=>k.action==="create");return C?Ve(C.route,a,b):""}else{let d=typeof y=="string"?(m=me(y,e))!=null?m:{name:y}:y,C=(P=De(d,e).find(k=>k.action==="create"))==null?void 0:P.route;return C?o({to:Ve(C,a,b),type:"path"}):""}},f=(y,b,c={})=>{var m,P,d;let C=encodeURIComponent(b);if(t==="legacy"){let k=typeof y=="string"?(m=me(y,e,!0))!=null?m:{name:y,route:y}:y,i=De(k,e,!0).find(g=>g.action==="edit");return i?Ve(i.route,a,{...c,id:C}):""}else{let k=typeof y=="string"?(P=me(y,e))!=null?P:{name:y}:y,i=(d=De(k,e).find(g=>g.action==="edit"))==null?void 0:d.route;return i?o({to:Ve(i,a,{...c,id:C}),type:"path"}):""}},v=(y,b,c={})=>{var m,P,d;let C=encodeURIComponent(b);if(t==="legacy"){let k=typeof y=="string"?(m=me(y,e,!0))!=null?m:{name:y,route:y}:y,i=De(k,e,!0).find(g=>g.action==="clone");return i?Ve(i.route,a,{...c,id:C}):""}else{let k=typeof y=="string"?(P=me(y,e))!=null?P:{name:y}:y,i=(d=De(k,e).find(g=>g.action==="clone"))==null?void 0:d.route;return i?o({to:Ve(i,a,{...c,id:C}),type:"path"}):""}},h=(y,b,c={})=>{var m,P,d;let C=encodeURIComponent(b);if(t==="legacy"){let k=typeof y=="string"?(m=me(y,e,!0))!=null?m:{name:y,route:y}:y,i=De(k,e,!0).find(g=>g.action==="show");return i?Ve(i.route,a,{...c,id:C}):""}else{let k=typeof y=="string"?(P=me(y,e))!=null?P:{name:y}:y,i=(d=De(k,e).find(g=>g.action==="show"))==null?void 0:d.route;return i?o({to:Ve(i,a,{...c,id:C}),type:"path"}):""}},x=(y,b={})=>{var c,m,P;if(t==="legacy"){let d=typeof y=="string"?(c=me(y,e,!0))!=null?c:{name:y,route:y}:y,C=De(d,e,!0).find(k=>k.action==="list");return C?Ve(C.route,a,b):""}else{let d=typeof y=="string"?(m=me(y,e))!=null?m:{name:y}:y,C=(P=De(d,e).find(k=>k.action==="list"))==null?void 0:P.route;return C?o({to:Ve(C,a,b),type:"path"}):""}};return{create:(y,b="push",c={})=>{u(p(y,c),b)},createUrl:p,edit:(y,b,c="push",m={})=>{u(f(y,b,m),c)},editUrl:f,clone:(y,b,c="push",m={})=>{u(v(y,b,m),c)},cloneUrl:v,show:(y,b,c="push",m={})=>{u(h(y,b,m),c)},showUrl:h,list:(y,b="push",c={})=>{u(x(y,c),b)},listUrl:x,push:(y,...b)=>{t==="legacy"?n.push(y,...b):o({to:y,type:"push"})},replace:(y,...b)=>{t==="legacy"?n.replace(y,...b):o({to:y,type:"replace"})},goBack:()=>{t==="legacy"?n.goBack():l()}}},Yo=R(E("react")),Ec=({resource:e,id:t,successNotification:r,errorNotification:n,meta:a,metaData:o,liveMode:l,onLiveEvent:u,dataProviderName:p,queryOptions:f}={})=>{let v=pe(),{resources:h}=ae(),{useParams:x}=ke(),{resource:y,id:b}=He(),{resource:c,id:m}=x(),P=y==null?void 0:y.name,d=!e||e===(v==="legacy"?c:P)?t!=null?t:v==="legacy"?m:b:t,[C,k]=(0,Yo.useState)(d);Yo.default.useEffect(()=>{d!==C&&k(d)},[d]);let i=e!=null?e:v==="legacy"?c:P,g,s=Cn();if(v==="legacy")i&&(g=s(i));else if(e){let I=me(e,h);I?g=I:g={name:e,route:e}}else if(typeof y=="string"){let I=me(y,h);I?g=I:g={name:y,route:y}}else g=y;return{queryResult:pa({resource:g==null?void 0:g.name,id:C!=null?C:"",queryOptions:{enabled:C!==void 0,...f},successNotification:r,errorNotification:n,meta:S(a,o),metaData:S(a,o),liveMode:l,onLiveEvent:u,dataProviderName:p}),showId:C,setShowId:k}},dn=E("react"),Cc=E("papaparse"),xc=R(E("lodash/chunk")),Pc=({resourceName:e,resource:t,mapData:r=v=>v,paparseOptions:n,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:u,onProgress:p,dataProviderName:f}={})=>{let[v,h]=(0,dn.useState)(0),[x,y]=(0,dn.useState)(0),[b,c]=(0,dn.useState)(!1),{resource:m}=ae(t!=null?t:e),P=Ll(),d=fa(),C;a===1?C=d:C=P;let k=()=>{y(0),h(0),c(!1)},i=s=>{let I={succeeded:s.filter(w=>w.type==="success"),errored:s.filter(w=>w.type==="error")};o==null||o(I),c(!1)};(0,dn.useEffect)(()=>{p==null||p({totalAmount:x,processedAmount:v})},[x,v]);let g=({file:s})=>(k(),new Promise(I=>{c(!0),(0,Cc.parse)(s,{complete:async({data:w})=>{let $=fl(w,r);if(y($.length),a===1){let F=$.map(L=>async()=>{var T;return{response:await d.mutateAsync({resource:(T=m==null?void 0:m.name)!=null?T:"",values:L,successNotification:!1,errorNotification:!1,dataProviderName:f,meta:S(l,u),metaData:S(l,u)}),value:L}}),A=await Lo(F,({response:L,value:T})=>(h(M=>M+1),{response:[L.data],type:"success",request:[T]}),(L,T)=>({response:[L],type:"error",request:[$[T]]}));I(A)}else{let F=(0,xc.default)($,a),A=F.map(T=>async()=>{var M;return{response:await P.mutateAsync({resource:(M=m==null?void 0:m.name)!=null?M:"",values:T,successNotification:!1,errorNotification:!1,dataProviderName:f,meta:S(l,u),metaData:S(l,u)}),value:T,currentBatchLength:T.length}}),L=await Lo(A,({response:T,currentBatchLength:M,value:q})=>(h(D=>D+M),{response:T.data,type:"success",request:q}),(T,M)=>({response:[T],type:"error",request:F[M]}));I(L)}},...n})}).then(I=>(i(I),I)));return{inputProps:{type:"file",accept:".csv",onChange:s=>{s.target.files&&s.target.files.length>0&&g({file:s.target.files[0]})}},mutationResult:C,isLoading:b,handleChange:g}},_n=E("react"),kc=({defaultVisible:e=!1}={})=>{let[t,r]=(0,_n.useState)(e),n=(0,_n.useCallback)(()=>r(!0),[t]),a=(0,_n.useCallback)(()=>r(!1),[t]);return{visible:t,show:n,close:a}},Ic=R(E("react")),ba=()=>{let e=pe(),{resource:t,resources:r}=ae(),n=He();return Ic.default.useCallback(({resource:a,action:o,meta:l})=>{var u;let p=a||t;if(!p)return;let f=(u=De(p,r,e==="legacy").find(v=>v.action===o))==null?void 0:u.route;return f?Ve(f,n,l):void 0},[r,t,n])},wc=({resource:e,action:t,meta:r,legacy:n})=>ba()({resource:e,action:t,meta:r,legacy:n}),Zo=R(E("react")),xn=()=>{let e=(0,Zo.useContext)(zr);return e!=null&&e.Link?e.Link:({to:t,...r})=>Zo.default.createElement("a",{href:t,...r})},$c=E("react"),Hl=R(E("react")),Mt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Fc=Hl.default.createContext(Mt),Ea=Fc,Sc=({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:l})=>Hl.default.createElement(Ea.Provider,{value:{useHistory:t!=null?t:Mt.useHistory,useLocation:r!=null?r:Mt.useLocation,useParams:n!=null?n:Mt.useParams,Prompt:a!=null?a:Mt.Prompt,Link:o!=null?o:Mt.Link,routes:l!=null?l:Mt.routes}},e),ke=()=>{let e=(0,$c.useContext)(Ea),{useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:l}=e!=null?e:Mt;return{useHistory:t,useLocation:r,useParams:n,Prompt:a,Link:o,routes:l}},Lc=E("react"),qc=E("@tanstack/react-query"),Kl=R(E("react")),Pn=Kl.default.createContext({}),Ac=({can:e,children:t})=>Kl.default.createElement(Pn.Provider,{value:{can:e}},t),Tc=e=>{let{icon:t,list:r,edit:n,create:a,show:o,clone:l,children:u,meta:p,options:f,...v}=e,{icon:h,...x}=p!=null?p:{},{icon:y,...b}=f!=null?f:{};return{...v,...p?{meta:x}:{},...f?{options:b}:{}}},_l=({action:e,resource:t,params:r,queryOptions:n})=>{let{can:a}=(0,Lc.useContext)(Pn),{resource:o,...l}=r!=null?r:{},u=Tc(o!=null?o:{}),p=(0,qc.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:u},enabled:n==null?void 0:n.enabled}],()=>{var f;return(f=a==null?void 0:a({action:e,resource:t,params:r}))!=null?f:Promise.resolve({can:!0})},{enabled:typeof a<"u",...n,retry:!1});return typeof a>"u"?{data:{can:!0}}:p},Nc=E("react"),Dc=()=>{let{can:e}=(0,Nc.useContext)(Pn);return{can:e}},yr=E("react"),Mc=R(E("lodash/uniqBy")),Rc=R(E("lodash/debounce")),mn=R(E("lodash/get")),Bc=e=>{var t,r,n;let[a,o]=(0,yr.useState)([]),[l,u]=(0,yr.useState)([]),[p,f]=(0,yr.useState)([]),{resource:v,sort:h,sorters:x,filters:y=[],optionLabel:b="title",optionValue:c="id",debounce:m=300,successNotification:P,errorNotification:d,defaultValueQueryOptions:C,queryOptions:k,fetchSize:i,pagination:g,hasPagination:s=!1,liveMode:I,defaultValue:w=[],onLiveEvent:$,onSearch:F,liveParams:A,meta:L,metaData:T,dataProviderName:M}=e,{resources:q}=ae(),D=me(v,q),z=(t=D==null?void 0:D.name)!=null?t:v,j=Array.isArray(w)?w:[w],Y=(0,yr.useCallback)(Z=>{f(Z.data.map(ee=>({label:(0,mn.default)(ee,b),value:(0,mn.default)(ee,c)})))},[b,c]),H=C!=null?C:k,N=$l({resource:z,ids:j,queryOptions:{...H,enabled:j.length>0&&((r=C==null?void 0:C.enabled)!=null?r:!0),onSuccess:Z=>{var ee;Y(Z),(ee=H==null?void 0:H.onSuccess)==null||ee.call(H,Z)}},meta:S(L,T),metaData:S(L,T),liveMode:"off",dataProviderName:M}),te=(0,yr.useCallback)(Z=>{u(Z.data.map(ee=>({label:(0,mn.default)(ee,b),value:(0,mn.default)(ee,c)})))},[b,c]),ge=ma({resource:z,sorters:S(x,h),filters:y.concat(a),pagination:{current:g==null?void 0:g.current,pageSize:(n=g==null?void 0:g.pageSize)!=null?n:i,mode:g==null?void 0:g.mode},hasPagination:s,queryOptions:{...k,onSuccess:Z=>{var ee;te(Z),(ee=k==null?void 0:k.onSuccess)==null||ee.call(k,Z)}},successNotification:P,errorNotification:d,meta:S(L,T),metaData:S(L,T),liveMode:I,liveParams:A,onLiveEvent:$,dataProviderName:M}),B=Z=>{if(F){o(F(Z));return}if(Z)o([{field:b,operator:"contains",value:Z}]);else{o([]);return}};return{queryResult:ge,defaultValueQueryResult:N,options:(0,yr.useMemo)(()=>(0,Mc.default)([...l,...p],"value"),[l,p]),onSearch:(0,Rc.default)(B,m)}},Jt=R(E("react")),Xo=R(E("qs")),pn=R(E("lodash/differenceWith")),fn=R(E("lodash/isEqual")),Oc=R(E("warn-once")),Jo=[],el=[];function zc({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:a,permanentSorter:o=el,defaultSetFilterBehavior:l,initialFilter:u,permanentFilter:p=Jo,filters:f,sorters:v,syncWithLocation:h,resource:x,successNotification:y,errorNotification:b,queryOptions:c,liveMode:m,onLiveEvent:P,liveParams:d,meta:C,metaData:k,dataProviderName:i}={}){var g,s,I,w,$,F,A,L,T,M;let{syncWithLocation:q}=Vl(),D=h!=null?h:q,z=Tl(m),j=pe(),{useLocation:Y}=ke(),{search:H,pathname:N}=Y(),te=He(),ge=r===!1?"off":"server",B=((g=n==null?void 0:n.mode)!=null?g:ge)!=="off",Z=S(n==null?void 0:n.current,e),ee=S(n==null?void 0:n.pageSize,t),Ue=S(C,k),{parsedCurrent:Fe,parsedPageSize:We,parsedSorter:Ct,parsedFilters:dt}=sa(H!=null?H:"?"),Nt=S(f==null?void 0:f.initial,u),xe=(s=S(f==null?void 0:f.permanent,p))!=null?s:Jo,mt=S(v==null?void 0:v.initial,a),Ae=(I=S(v==null?void 0:v.permanent,o))!=null?I:el,Dt=(w=S(f==null?void 0:f.defaultBehavior,l))!=null?w:"merge",xt,tt,X,Se;D?(xt=(($=te==null?void 0:te.params)==null?void 0:$.current)||Fe||Z||1,tt=((F=te==null?void 0:te.params)==null?void 0:F.pageSize)||We||ee||10,X=((A=te==null?void 0:te.params)==null?void 0:A.sorters)||(Ct.length?Ct:mt),Se=((L=te==null?void 0:te.params)==null?void 0:L.filters)||(dt.length?dt:Nt)):(xt=Z||1,tt=ee||10,X=mt,Se=Nt);let{replace:pt}=_e(),_t=Ke(),{resource:rt}=ae(x),ft=rt==null?void 0:rt.name;Jt.default.useEffect(()=>{(0,Oc.default)(typeof ft>"u","useTable: `resource` is not defined.")},[ft]);let[Le,Pt]=(0,Jt.useState)(na(Ae,X!=null?X:[])),[Yt,on]=(0,Jt.useState)(ra(xe,Se!=null?Se:[])),[Nr,po]=(0,Jt.useState)(xt),[Zt,fo]=(0,Jt.useState)(tt),Iu=({pagination:{current:ce,pageSize:Ge},sorter:ln,filters:un})=>{var sn;if(j==="new")return(sn=_t({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...B?{current:ce,pageSize:Ge}:{},sorters:ln,filters:un,...vo()}}))!=null?sn:"";{let Dr=Xo.default.parse(H==null?void 0:H.substring(1)),ho=ea({pagination:{pageSize:Ge,current:ce},sorters:Le!=null?Le:ln,filters:un,...Dr});return`${N!=null?N:""}?${ho!=null?ho:""}`}};(0,Jt.useEffect)(()=>{H===""&&(po(xt),fo(tt),Pt(na(Ae,X!=null?X:[])),on(ra(xe,Se!=null?Se:[])))},[H]);let vo=()=>{var ce;if(j==="new"){let{sorters:Ge,filters:ln,pageSize:un,current:sn,...Dr}=(ce=te==null?void 0:te.params)!=null?ce:{};return Dr}else{let{sorter:Ge,filters:ln,pageSize:un,current:sn,...Dr}=Xo.default.parse(H,{ignoreQueryPrefix:!0});return Dr}};(0,Jt.useEffect)(()=>{if(D){let ce=vo();if(j==="new")_t({type:"replace",options:{keepQuery:!0},query:{...B?{pageSize:Zt,current:Nr}:{},sorters:(0,pn.default)(Le,Ae,fn.default),filters:(0,pn.default)(Yt,xe,fn.default)}});else{let Ge=ea({...B?{pagination:{pageSize:Zt,current:Nr}}:{},sorters:(0,pn.default)(Le,Ae,fn.default),filters:(0,pn.default)(Yt,xe,fn.default),...ce});return pt==null?void 0:pt(`${N}?${Ge}`,void 0,{shallow:!0})}}},[D,Nr,Zt,Le,Yt]);let go=ma({resource:ft,hasPagination:r,pagination:{current:Nr,pageSize:Zt,mode:n==null?void 0:n.mode},filters:Mr(xe,Yt),sorters:ta(Ae,Le),queryOptions:c,successNotification:y,errorNotification:b,meta:Ue,metaData:Ue,liveMode:z,liveParams:d,onLiveEvent:P,dataProviderName:i}),wu=ce=>{on(Ge=>Mr(xe,ce,Ge))},$u=ce=>{on(Mr(xe,ce))},Fu=ce=>{on(Ge=>Mr(xe,ce(Ge)))},Su=(ce,Ge=Dt)=>{typeof ce=="function"?Fu(ce):Ge==="replace"?$u(ce):wu(ce)},yo=ce=>{Pt(()=>ta(Ae,ce))};return{tableQueryResult:go,sorters:Le,setSorters:yo,sorter:Le,setSorter:yo,filters:Yt,setFilters:Su,current:Nr,setCurrent:po,pageSize:Zt,setPageSize:fo,pageCount:Zt?Math.ceil(((M=(T=go.data)==null?void 0:T.total)!=null?M:0)/Zt):1,createLinkForSyncWithLocation:Iu}}var tl=E("react"),Yn=E("@tanstack/react-query"),Yl=R(E("react")),kn=Yl.default.createContext({}),Uc=({create:e,get:t,update:r,children:n})=>Yl.default.createElement(kn.Provider,{value:{create:e,get:t,update:r}},n),rr=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Yn.useQueryClient)(),n=(0,tl.useContext)(kn),a=he(),{resources:o}=(0,tl.useContext)(Or),{data:l,refetch:u,isLoading:p}=sl({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy),queryOptions:{enabled:!!n}}),f=(0,Yn.useMutation)(async h=>{var x,y,b,c,m;let P=me(h.resource,o),d=S((x=P==null?void 0:P.meta)==null?void 0:x.audit,(y=P==null?void 0:P.options)==null?void 0:y.audit,(c=(b=P==null?void 0:P.options)==null?void 0:b.auditLog)==null?void 0:c.permissions);if(d&&!us(d,h.action))return;let C;return p&&(C=await u()),await((m=n.create)==null?void 0:m.call(n,{...h,author:l!=null?l:C==null?void 0:C.data}))},e),v=(0,Yn.useMutation)(async h=>{var x;return await((x=n.update)==null?void 0:x.call(n,h))},{onSuccess:h=>{if(h!=null&&h.resource){let x=je(h==null?void 0:h.resource);r.invalidateQueries(x.logList())}},...t});return{log:f,rename:v}},Wc=E("react"),Gc=E("@tanstack/react-query"),Vc=({resource:e,action:t,meta:r,author:n,metaData:a,queryOptions:o})=>{let{get:l}=(0,Wc.useContext)(kn),u=je(e,void 0,a);return(0,Gc.useQuery)(u.logList(r),()=>{var p;return(p=l==null?void 0:l({resource:e,action:t,author:n,meta:r,metaData:a}))!=null?p:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},Qc=E("react"),jc=E("@tanstack/react-query"),nr=()=>{let{resources:e}=ae(),t=(0,jc.useQueryClient)();return(0,Qc.useCallback)(({resource:r,dataProviderName:n,invalidates:a,id:o})=>{if(a===!1)return;let l=je(r,_(r,n,e));a.forEach(u=>{switch(u){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},Hc=E("react"),Kc=R(E("warn-once")),_c=({meta:e={}}={})=>{let t=pe(),{i18nProvider:r}=(0,Hc.useContext)(kr),n=He(),a=oe(),{resources:o,resource:l,action:u}=ae(),p=[];if(!(l!=null&&l.name))return{breadcrumbs:p};let f=v=>{var h,x,y,b,c,m,P,d;let C=typeof v=="string"?(h=me(v,o,t==="legacy"))!=null?h:{name:v}:v;if(C){let k=S((x=C==null?void 0:C.meta)==null?void 0:x.parent,C==null?void 0:C.parentName);k&&f(k);let i=De(C,o,t==="legacy").find(I=>I.action==="list"),g=(y=i==null?void 0:i.resource)!=null&&y.list?i==null?void 0:i.route:void 0,s=g?t==="legacy"?g:Ve(g,n,e):void 0;p.push({label:(m=S((b=C.meta)==null?void 0:b.label,(c=C.options)==null?void 0:c.label))!=null?m:a(`${C.name}.${C.name}`,vn(C.name)),href:s,icon:S((P=C.meta)==null?void 0:P.icon,(d=C.options)==null?void 0:d.icon,C.icon)})}};if(f(l),u&&u!=="list"){let v=`actions.${u}`,h=a(v);typeof r<"u"&&h===v?((0,Kc.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),p.push({label:a(`buttons.${u}`,vn(u))})):p.push({label:a(v,vn(u))})}return{breadcrumbs:p}},Zn=R(E("react")),yn=(e,t,r=!1)=>{let n=[],a=Rt(e,t);for(;a;)n.push(a),a=Rt(a,t);return n.reverse(),`/${[...n,e].map(o=>{var l,u;return wt((u=(l=r?o.route:void 0)!=null?l:o.identifier)!=null?u:o.name)}).join("/").replace(/^\//,"")}`},Yc=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(a=>{var o,l;let u=[],p=Rt(a,e);for(;p;)u.push(p),p=Rt(p,e);u.reverse();let f=r;u.forEach(h=>{var x,y;let b=(y=(x=t?h.route:void 0)!=null?x:h.identifier)!=null?y:h.name;f.children[b]||(f.children[b]={item:h,children:{}}),f=f.children[b]});let v=(l=(o=t?a.route:void 0)!=null?o:a.identifier)!=null?l:a.name;f.children[v]||(f.children[v]={item:a,children:{}})});let n=a=>{let o=[];return Object.keys(a.children).forEach(l=>{let u=yn(a.children[l].item,e,t),p={...a.children[l].item,key:u,children:n(a.children[l])};o.push(p)}),o};return n(r)},rl=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),Zc=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=oe(),n=ba(),a=pe(),{resource:o,resources:l}=ae(),{pathname:u}=He(),{useLocation:p}=ke(),{pathname:f}=p(),v=a==="legacy"?rl(f):u?rl(u):void 0,h=`/${(v!=null?v:"").replace(/^\//,"")}`,x=o?yn(o,l,a==="legacy"):h!=null?h:"",y=Zn.default.useMemo(()=>{if(!o)return[];let m=Rt(o,l),P=[yn(o,l)];for(;m;)P.push(yn(m,l)),m=Rt(m,l);return P},[]),b=Zn.default.useCallback(m=>{var P,d,C,k,i,g,s,I;if(((C=(P=m==null?void 0:m.meta)==null?void 0:P.hide)!=null?C:(d=m==null?void 0:m.options)==null?void 0:d.hide)||!(m!=null&&m.list)&&m.children.length===0)return;let w=m.list?n({resource:m,action:"list",legacy:a==="legacy",meta:e}):void 0;if(!(t&&w&&w.match(/(\/|^):(.+?)(\/|$){1}/)))return{...m,route:w,icon:S((k=m.meta)==null?void 0:k.icon,(i=m.options)==null?void 0:i.icon,m.icon),label:(I=S((g=m==null?void 0:m.meta)==null?void 0:g.label,(s=m==null?void 0:m.options)==null?void 0:s.label))!=null?I:r(`${m.name}.${m.name}`,ca(m.name,"plural"))}},[a,e,r,t]),c=Zn.default.useMemo(()=>{let m=Yc(l,a==="legacy"),P=d=>d.flatMap(C=>{let k=P(C.children),i=b({...C,children:k});return i?[i]:[]});return P(m)},[l,a,b]);return{defaultOpenKeys:y,selectedKey:x,menuItems:c}},Xc=()=>{let[e,t]=(0,Xt.useState)(),r=oe(),{push:n}=_e(),a=Ke(),o=pe(),{resource:l,action:u}=ae();return(0,Xt.useEffect)(()=>{l&&u&&t(r("pages.error.info",{action:u,resource:l==null?void 0:l.name},`You may have forgotten to add the "${u}" component to "${l==null?void 0:l.name}" resource.`))},[l,u]),Xt.default.createElement(Xt.default.Fragment,null,Xt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Xt.default.createElement("p",null,e),Xt.default.createElement("button",{onClick:()=>{o==="legacy"?n("/"):a({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},ye=R(E("react")),Zl=()=>{let[e,t]=(0,ye.useState)(""),[r,n]=(0,ye.useState)(""),a=oe(),o=he(),{mutate:l}=la({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)});return ye.default.createElement(ye.default.Fragment,null,ye.default.createElement("h1",null,a("pages.login.title","Sign in your account")),ye.default.createElement("form",{onSubmit:u=>{u.preventDefault(),l({username:e,password:r})}},ye.default.createElement("table",null,ye.default.createElement("tbody",null,ye.default.createElement("tr",null,ye.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),ye.default.createElement("td",null,ye.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),ye.default.createElement("tr",null,ye.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),ye.default.createElement("td",null,ye.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>n(u.target.value)}))))),ye.default.createElement("br",null),ye.default.createElement("input",{type:"submit",value:"login"})))},hr=R(E("react")),re=R(E("react")),Jc=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:a,wrapperProps:o,renderContent:l,formProps:u})=>{let p=pe(),f=xn(),{Link:v}=ke(),h=p==="legacy"?v:f,[x,y]=(0,re.useState)(""),[b,c]=(0,re.useState)(""),[m,P]=(0,re.useState)(!1),d=oe(),C=he(),{mutate:k}=la({v3LegacyAuthProviderCompatible:Boolean(C==null?void 0:C.isLegacy)}),i=(I,w)=>I?typeof I=="string"?re.default.createElement(h,{to:I},w):I:null,g=()=>e?e.map(I=>{var w;return re.default.createElement("div",{key:I.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},re.default.createElement("button",{onClick:()=>k({providerName:I.name}),style:{display:"flex",alignItems:"center"}},I==null?void 0:I.icon,(w=I.label)!=null?w:re.default.createElement("label",null,I.label)))}):null,s=re.default.createElement("div",{...a},re.default.createElement("h1",{style:{textAlign:"center"}},d("pages.login.title","Sign in to your account")),g(),re.default.createElement("hr",null),re.default.createElement("form",{onSubmit:I=>{I.preventDefault(),k({email:x,password:b,remember:m})},...u},re.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},re.default.createElement("label",null,d("pages.login.fields.email","Email")),re.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:x,onChange:I=>y(I.target.value)}),re.default.createElement("label",null,d("pages.login.fields.password","Password")),re.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:b,onChange:I=>c(I.target.value)}),n!=null?n:re.default.createElement(re.default.Fragment,null,re.default.createElement("label",null,d("pages.login.buttons.rememberMe","Remember me"),re.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:m,value:m.toString(),onChange:()=>{P(!m)}}))),re.default.createElement("br",null),r!=null?r:i("/forgot-password",d("pages.login.buttons.forgotPassword","Forgot password?")),re.default.createElement("input",{type:"submit",value:d("pages.login.signin","Sign in")}),t!=null?t:re.default.createElement("span",null,d("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",i("/register",d("pages.login.register","Sign up"))))));return re.default.createElement("div",{...o},l?l(s):s)},de=R(E("react")),ed=({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:a,formProps:o})=>{let l=pe(),u=xn(),{Link:p}=ke(),f=l==="legacy"?p:u,[v,h]=(0,de.useState)(""),[x,y]=(0,de.useState)(""),b=oe(),c=he(),{mutate:m,isLoading:P}=cl({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),d=(i,g)=>i?typeof i=="string"?de.default.createElement(f,{to:i},g):i:null,C=()=>e?e.map(i=>{var g;return de.default.createElement("div",{key:i.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},de.default.createElement("button",{onClick:()=>m({providerName:i.name}),style:{display:"flex",alignItems:"center"}},i==null?void 0:i.icon,(g=i.label)!=null?g:de.default.createElement("label",null,i.label)))}):null,k=de.default.createElement("div",{...n},de.default.createElement("h1",{style:{textAlign:"center"}},b("pages.register.title","Sign up for your account")),C(),de.default.createElement("hr",null),de.default.createElement("form",{onSubmit:i=>{i.preventDefault(),m({email:v,password:x})},...o},de.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},de.default.createElement("label",null,b("pages.register.fields.email","Email")),de.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:i=>h(i.target.value)}),de.default.createElement("label",null,b("pages.register.fields.password","Password")),de.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:x,onChange:i=>y(i.target.value)}),de.default.createElement("input",{type:"submit",value:b("pages.register.buttons.submit","Sign up"),disabled:P}),t!=null?t:de.default.createElement(de.default.Fragment,null,de.default.createElement("span",null,b("pages.login.buttons.haveAccount","Have an account?")," ",d("/login",b("pages.login.signin","Sign in")))))));return de.default.createElement("div",{...r},a?a(k):k)},Te=R(E("react")),td=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:a})=>{let o=oe(),l=pe(),u=xn(),{Link:p}=ke(),f=l==="legacy"?p:u,[v,h]=(0,Te.useState)(""),{mutate:x,isLoading:y}=dl(),b=(m,P)=>m?typeof m=="string"?Te.default.createElement(f,{to:m},P):m:null,c=Te.default.createElement("div",{...r},Te.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:m=>{m.preventDefault(),x({email:v})},...a},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),Te.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:v,onChange:m=>h(m.target.value)}),Te.default.createElement("input",{type:"submit",disabled:y,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Te.default.createElement("br",null),e!=null?e:Te.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",b("/login",o("pages.login.signin","Sign in"))))));return Te.default.createElement("div",{...t},n?n(c):c)},Ne=R(E("react")),rd=({wrapperProps:e,contentProps:t,renderContent:r,formProps:n})=>{let a=oe(),o=he(),{mutate:l,isLoading:u}=ml({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),[p,f]=(0,Ne.useState)(""),[v,h]=(0,Ne.useState)(""),x=Ne.default.createElement("div",{...t},Ne.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),Ne.default.createElement("hr",null),Ne.default.createElement("form",{onSubmit:y=>{y.preventDefault(),l({password:p,confirmPassword:v})},...n},Ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ne.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),Ne.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:p,onChange:y=>f(y.target.value)}),Ne.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Ne.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:v,onChange:y=>h(y.target.value)}),Ne.default.createElement("input",{type:"submit",disabled:u,value:a("pages.updatePassword.buttons.submit","Update")}))));return Ne.default.createElement("div",{...e},r?r(x):x)},nd=e=>{let{type:t}=e;return hr.default.createElement(hr.default.Fragment,null,(()=>{switch(t){case"register":return hr.default.createElement(ed,{...e});case"forgotPassword":return hr.default.createElement(td,{...e});case"updatePassword":return hr.default.createElement(rd,{...e});default:return hr.default.createElement(Jc,{...e})}})())},qe=R(E("react")),Xl=()=>qe.default.createElement(qe.default.Fragment,null,qe.default.createElement("h1",null,"Welcome on board"),qe.default.createElement("p",null,"Your configuration is completed."),qe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",qe.default.createElement("code",null,"`resources`")," property of ",qe.default.createElement("code",null,"`<Refine>`")),qe.default.createElement("div",{style:{display:"flex",gap:8}},qe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Documentation")),qe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Examples")),qe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Community")))),nt=R(E("react")),ad=()=>nt.default.createElement(nt.default.Fragment,null,nt.default.createElement("h1",null,"Welcome on board"),nt.default.createElement("p",null,"Your configuration is completed."),nt.default.createElement("div",{style:{display:"flex",gap:8}},nt.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Documentation")),nt.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Examples")),nt.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Community")))),ne=R(E("react")),Xn=E("@tanstack/react-query"),od=E("@tanstack/react-query-devtools"),ld=E("react"),er=E("react"),id="4.1.2",ud=()=>{let e=pl(),t=(0,er.useContext)(kn),r=(0,er.useContext)(Rr),n=(0,er.useContext)(Ea),a=(0,er.useContext)(va),{i18nProvider:o}=(0,er.useContext)(kr),l=(0,er.useContext)(ga),u=(0,er.useContext)(Pn),{resources:p}=ae(),f=!!t.create||!!t.get||!!t.update,v=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),h=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,x=!!a,y=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),b=!!l.close||!!l.open,c=!!u.can;return{providers:{auth:e,auditLog:f,live:v,router:h,data:x,i18n:y,notification:b,accessControl:c},version:id,resourceCount:p.length}},sd=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},cd=()=>{let e=ud();return(0,ld.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${sd(e)}`},[]),null},dd=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(n=>!t.includes(n));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},nl=R(E("react")),md=e=>{let t=nl.default.useRef(!1);nl.default.useEffect(()=>{t.current===!1&&e&&dd(e)&&(t.current=!0)},[e])},pd=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:a,notificationProvider:o,accessControlProvider:l,auditLogProvider:u,resources:p,DashboardPage:f,ReadyPage:v,LoginPage:h,catchAll:x,children:y,liveProvider:b,i18nProvider:c,Title:m,Layout:P,Sider:d,Header:C,Footer:k,OffLayoutArea:i,onLiveEvent:g,options:s})=>{let{optionsWithDefaults:I,disableTelemetryWithDefault:w,reactQueryWithDefaults:$}=ys({options:s}),F=Dl(()=>{var T;return $.clientConfig instanceof Xn.QueryClient?$.clientConfig:new Xn.QueryClient({...$.clientConfig,defaultOptions:{...$.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(T=$.clientConfig.defaultOptions)==null?void 0:T.queries}}})},[$.clientConfig]),A=ne.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])();if(md(a),n&&!a&&(p!=null?p:[]).length===0)return v?ne.default.createElement(v,null):ne.default.createElement(Xl,null);let{RouterComponent:L=ne.default.Fragment}=a?{}:n!=null?n:{};return ne.default.createElement(Xn.QueryClientProvider,{client:F},ne.default.createElement(ac,{...A},ne.default.createElement(Gu,{...e!=null?e:{},isProvided:Boolean(e)},ne.default.createElement(Vu,{...t!=null?t:{},isProvided:Boolean(t)},ne.default.createElement(Os,{...r},ne.default.createElement(Gs,{liveProvider:b},ne.default.createElement(Js,{value:n&&!a?"legacy":"new"},ne.default.createElement(tc,{router:a},ne.default.createElement(Sc,{...n},ne.default.createElement(Xs,{resources:p!=null?p:[]},ne.default.createElement(lc,{i18nProvider:c},ne.default.createElement(Ac,{...l!=null?l:{}},ne.default.createElement(Uc,{...u!=null?u:{}},ne.default.createElement(Is,null,ne.default.createElement(gs,{mutationMode:I.mutationMode,warnWhenUnsavedChanges:I.warnWhenUnsavedChanges,syncWithLocation:I.syncWithLocation,Title:m,undoableTimeout:I.undoableTimeout,catchAll:x,DashboardPage:f,LoginPage:h,Layout:P,Sider:d,Footer:k,Header:C,OffLayoutArea:i,hasDashboard:!!f,liveMode:I.liveMode,onLiveEvent:g,options:I},ne.default.createElement(cc,null,ne.default.createElement(L,null,y,!w&&ne.default.createElement(cd,null),ne.default.createElement(ei,null))))))))))))))))),$.devtoolConfig===!1?null:ne.default.createElement(od.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...$.devtoolConfig}))},al=E("react"),Jl=({notification:e})=>{let t=oe(),{notificationDispatch:r}=Pr(),{open:n}=Ot(),[a,o]=(0,al.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:jn(e.seconds)},`You have ${jn(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:jn(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(u)}};return(0,al.useEffect)(()=>{l()},[e]),null},hn=R(E("react")),fd=({children:e,Layout:t,Sider:r,Header:n,Title:a,Footer:o,OffLayoutArea:l})=>{let{Layout:u,Footer:p,Header:f,Sider:v,Title:h,OffLayoutArea:x}=ha(),y=t!=null?t:u;return hn.default.createElement(y,{Sider:r!=null?r:v,Header:n!=null?n:f,Footer:o!=null?o:p,Title:a!=null?a:h,OffLayoutArea:l!=null?l:x},e,hn.default.createElement(vd,null))},vd=()=>{let{Prompt:e}=ke(),t=oe(),{warnWhen:r,setWarnWhen:n}=ya(),a=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,hn.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),hn.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},It=R(E("react")),gd=()=>{let e=Ke(),[t,r]=It.default.useState(void 0);return It.default.useEffect(()=>{t&&e(t)},[t]),It.default.useCallback(n=>{t||r(n)},[t])};function yd({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:a}){var o,l,u,p,f;let v=he(),h=Boolean(v==null?void 0:v.isLegacy),x=ia({v3LegacyAuthProviderCompatible:Boolean(v==null?void 0:v.isLegacy)}),y=pe(),b=He(),c=Ke(),m=gd(),{replace:P}=_e(),{useLocation:d}=ke(),{pathname:C,search:k}=d(),i=x.isLoading,g=v!=null&&v.isProvided?h?x.isSuccess:(o=x.data)==null?void 0:o.authenticated:!0,s=h?typeof e=="string"?e:"/login":typeof e=="string"?e:(l=x.data)==null?void 0:l.redirectTo;if(i)return a?It.default.createElement(It.default.Fragment,null,a):null;if(g)return It.default.createElement(It.default.Fragment,null,r!=null?r:null);if(typeof n>"u"){if(y==="legacy"){let I=t&&C?`?to=${encodeURIComponent(`${C}${k!=null?k:""}`)}`:"",w=C==null?void 0:C.split(/[?#]/)[0];!(w!=null&&w.includes("/login"))&&w!==e&&P(`/${(s!=null?s:"/login").replace(/^\//,"")}${I}`)}else{if(((u=b.pathname)==null?void 0:u.split(/[?#]/)[0])===s)return null;let I=(p=b.params)!=null&&p.to?(f=b.params)==null?void 0:f.to:c({to:b.pathname||"/",options:{keepQuery:!0},type:"path"});s&&m({to:`/${s.replace(/^\//,"")}`,query:I&&typeof I=="string"&&I.length>1?{to:I}:{}})}return null}return It.default.createElement(It.default.Fragment,null,n)}var hd=E("react"),ei=()=>{let{useLocation:e}=ke(),{checkAuth:t}=Qe(),r=e();return(0,hd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},br=R(E("react")),bd=({resource:e,action:t,params:r,fallback:n,children:a,...o})=>{let{data:l}=_l({resource:e,action:t,params:r});return l!=null&&l.can?br.default.isValidElement(a)?br.default.cloneElement(a,o):br.default.createElement(br.default.Fragment,null,a):(l==null?void 0:l.can)===!1?br.default.createElement(br.default.Fragment,null,n!=null?n:null):null},Er=R(E("react")),Ed=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],Cd=()=>((0,Er.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Ed.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),Er.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},Er.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},Er.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},Er.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),Er.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var ot=cn((Tp,ni)=>{var Ca=Object.defineProperty,xd=Object.getOwnPropertyDescriptor,Pd=Object.getOwnPropertyNames,kd=Object.prototype.hasOwnProperty,Id=(e,t)=>{for(var r in t)Ca(e,r,{get:t[r],enumerable:!0})},wd=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Pd(t))!kd.call(e,a)&&a!==r&&Ca(e,a,{get:()=>t[a],enumerable:!(n=xd(t,a))||n.enumerable});return e},$d=e=>wd(Ca({},"__esModule",{value:!0}),e),ri={};Id(ri,{RefineButtonTestIds:()=>Fd});ni.exports=$d(ri);var Fd={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Jr=cn((Qp,Mi)=>{var Sd=Object.create,An=Object.defineProperty,Ld=Object.getOwnPropertyDescriptor,qd=Object.getOwnPropertyNames,Ad=Object.getPrototypeOf,Td=Object.prototype.hasOwnProperty,Nd=(e,t)=>{for(var r in t)An(e,r,{get:t[r],enumerable:!0})},$i=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of qd(t))!Td.call(e,a)&&a!==r&&An(e,a,{get:()=>t[a],enumerable:!(n=Ld(t,a))||n.enumerable});return e},G=(e,t,r)=>(r=e!=null?Sd(Ad(e)):{},$i(t||!e||!e.__esModule?An(r,"default",{value:e,enumerable:!0}):r,e)),Dd=e=>$i(An({},"__esModule",{value:!0}),e),Fi={};Nd(Fi,{AuthPage:()=>Bm,BooleanField:()=>jd,Breadcrumb:()=>Xr,CloneButton:()=>fm,Create:()=>Pm,CreateButton:()=>Li,DarkTheme:()=>Zm,DateField:()=>Zd,DeleteButton:()=>Da,Edit:()=>Cm,EditButton:()=>qi,EmailField:()=>Vd,ErrorComponent:()=>Im,ExportButton:()=>mm,FileField:()=>Jd,FormContext:()=>Zr,Header:()=>Ti,ImportButton:()=>gm,Layout:()=>Um,LightTheme:()=>Ym,List:()=>ym,ListButton:()=>Ra,MarkdownField:()=>sm,NumberField:()=>om,ReadyPage:()=>wm,RefineTitle:()=>Ni,RefreshButton:()=>Ma,RingCountdown:()=>Ta,SaveButton:()=>Ba,Show:()=>bm,ShowButton:()=>cm,Sider:()=>Ai,TagField:()=>Ud,TextField:()=>Bd,UrlField:()=>Si,WelcomePage:()=>$m,mapButtonVariantToActionIconVariant:()=>ut,notificationProvider:()=>Gm,useForm:()=>Oa,useModalForm:()=>Qm,useSelect:()=>_m,useStepsForm:()=>Hm});Mi.exports=Dd(Fi);var Np=E("@mantine/core"),ai=G(E("react")),oi=E("@mantine/core"),Ta=({undoableTimeout:e})=>ai.default.createElement(oi.RingProgress,{size:55,thickness:4,roundCaps:!0,sections:[{value:e*20,color:"primary"}],label:ai.default.createElement(oi.Text,{weight:700,align:"center"},e)}),Md=G(E("react")),Rd=E("@mantine/core"),Bd=({value:e,...t})=>Md.default.createElement(Rd.Text,{...t},e),Od=G(E("react")),zd=E("@mantine/core"),Ud=({value:e,...t})=>Od.default.createElement(zd.Chip,{checked:!1,...t},e==null?void 0:e.toString()),Wd=G(E("react")),Gd=E("@mantine/core"),Vd=({value:e,...t})=>Wd.default.createElement(Gd.Anchor,{href:`mailto:${e}`,...t},e),In=G(E("react")),Qd=E("@mantine/core"),li=E("@tabler/icons"),jd=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:n,falseIcon:a,svgIconProps:o,...l})=>In.default.createElement(Qd.Tooltip,{label:e?t:r,...l},In.default.createElement("span",null,e?n!=null?n:In.default.createElement(li.IconCheck,{size:18,...o}):a!=null?a:In.default.createElement(li.IconX,{size:18,...o}))),Hd=G(E("react")),Na=G(E("dayjs")),Kd=G(E("dayjs/plugin/localizedFormat")),_d=E("@mantine/core");Na.default.extend(Kd.default);var Yd=Na.default.locale(),Zd=({value:e,locales:t,format:r="L",...n})=>Hd.default.createElement(_d.Text,{...n},(0,Na.default)(e).locale(t||Yd).format(r)),Xd=G(E("react")),Jd=({title:e,src:t,...r})=>Xd.default.createElement(Si,{value:t,title:e,...r},e!=null?e:t),em=G(E("react")),tm=E("@mantine/core"),Si=({children:e,value:t,title:r,...n})=>em.default.createElement(tm.Anchor,{href:t,title:r,...n},e!=null?e:t),rm=G(E("react")),nm=E("@mantine/core");function am(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var om=({value:e,locale:t,options:r,...n})=>{let a=parseFloat(e.toString());return rm.default.createElement(nm.Text,{...n},am()?a.toLocaleString(t,r):a)},lm=G(E("react")),im=G(E("react-markdown")),um=G(E("remark-gfm")),sm=({value:e="",...t})=>lm.default.createElement(im.default,{plugins:[um.default],...t},e),Ur=G(E("react")),ar=V(),Dp=ot(),xa=E("@mantine/core"),ii=E("@tabler/icons"),ut=e=>{switch(e){case"white":return"default";default:return e}},Li=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:n,svgIconProps:a,meta:o,children:l,onClick:u,...p})=>{var f,v;let h=(f=n==null?void 0:n.enabled)!=null?f:!0,x=(v=n==null?void 0:n.hideIfUnauthorized)!=null?v:!1,y=(0,ar.useTranslate)(),b=(0,ar.useRouterType)(),c=(0,ar.useLink)(),{Link:m}=(0,ar.useRouterContext)(),P=b==="legacy"?m:c,{createUrl:d}=(0,ar.useNavigation)(),{resource:C}=(0,ar.useResource)(e!=null?e:t),{data:k}=(0,ar.useCan)({resource:C==null?void 0:C.name,action:"create",queryOptions:{enabled:h},params:{resource:C}}),i=()=>k!=null&&k.can?"":k!=null&&k.reason?k.reason:y("buttons.notAccessTitle","You don't have permission to access"),g=C?d(C,o):"",{variant:s,styles:I,...w}=p;return h&&x&&!(k!=null&&k.can)?null:Ur.default.createElement(xa.Anchor,{component:P,to:g,replace:!1,onClick:$=>{if((k==null?void 0:k.can)===!1){$.preventDefault();return}u&&($.preventDefault(),u($))}},r?Ur.default.createElement(xa.ActionIcon,{title:i(),disabled:(k==null?void 0:k.can)===!1,...s?{variant:ut(s)}:{variant:"default"},...w},Ur.default.createElement(ii.IconSquarePlus,{size:18,...a})):Ur.default.createElement(xa.Button,{disabled:(k==null?void 0:k.can)===!1,leftIcon:Ur.default.createElement(ii.IconSquarePlus,{size:18,...a}),title:i(),variant:"default",...p},l!=null?l:y("buttons.create","Create")))},Wr=G(E("react")),or=V(),Mp=ot(),Pa=E("@mantine/core"),ui=E("@tabler/icons"),qi=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:n=!1,accessControl:a,svgIconProps:o,meta:l,children:u,onClick:p,...f})=>{var v,h;let x=(v=a==null?void 0:a.enabled)!=null?v:!0,y=(h=a==null?void 0:a.hideIfUnauthorized)!=null?h:!1,b=(0,or.useTranslate)(),c=(0,or.useRouterType)(),m=(0,or.useLink)(),{Link:P}=(0,or.useRouterContext)(),d=c==="legacy"?P:m,{editUrl:C}=(0,or.useNavigation)(),{id:k,resource:i}=(0,or.useResource)(e!=null?e:t),{data:g}=(0,or.useCan)({resource:i==null?void 0:i.name,action:"edit",params:{id:r!=null?r:k,resource:i},queryOptions:{enabled:x}}),s=()=>g!=null&&g.can?"":g!=null&&g.reason?g.reason:b("buttons.notAccessTitle","You don't have permission to access"),I=i&&(r!=null?r:k)?C(i,r!=null?r:k,l):"",{variant:w,styles:$,...F}=f;return x&&y&&!(g!=null&&g.can)?null:Wr.default.createElement(Pa.Anchor,{component:d,to:I,replace:!1,onClick:A=>{if((g==null?void 0:g.can)===!1){A.preventDefault();return}p&&(A.preventDefault(),p(A))}},n?Wr.default.createElement(Pa.ActionIcon,{title:s(),disabled:(g==null?void 0:g.can)===!1,...w?{variant:ut(w)}:{variant:"default"},...F},Wr.default.createElement(ui.IconPencil,{size:18,...o})):Wr.default.createElement(Pa.Button,{variant:"default",disabled:(g==null?void 0:g.can)===!1,leftIcon:Wr.default.createElement(ui.IconPencil,{size:18,...o}),title:s(),...f},u!=null?u:b("buttons.edit","Edit")))},Ye=G(E("react")),lr=V(),Rp=ot(),$t=E("@mantine/core"),si=E("@tabler/icons"),Da=({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:n,mutationMode:a,children:o,successNotification:l,errorNotification:u,hideText:p=!1,accessControl:f,meta:v,metaData:h,dataProviderName:x,confirmTitle:y,confirmOkText:b,confirmCancelText:c,svgIconProps:m,...P})=>{var d,C;let k=(d=f==null?void 0:f.enabled)!=null?d:!0,i=(C=f==null?void 0:f.hideIfUnauthorized)!=null?C:!1,g=(0,lr.useTranslate)(),{id:s,resource:I}=(0,lr.useResource)(e!=null?e:t),{mutationMode:w}=(0,lr.useMutationMode)(),$=a!=null?a:w,{mutate:F,isLoading:A,variables:L}=(0,lr.useDelete)(),{data:T}=(0,lr.useCan)({resource:I==null?void 0:I.name,action:"delete",params:{id:r!=null?r:s,resource:I},queryOptions:{enabled:k}}),[M,q]=(0,Ye.useState)(!1),D=()=>{var H;(r!=null?r:s)&&(I==null?void 0:I.name)&&(q(!1),F({id:(H=r!=null?r:s)!=null?H:"",resource:I==null?void 0:I.name,mutationMode:$,successNotification:l,errorNotification:u,meta:(0,lr.pickNotDeprecated)(v,h),metaData:(0,lr.pickNotDeprecated)(v,h),dataProviderName:x},{onSuccess:N=>{n&&n(N)}}))},{variant:z,styles:j,...Y}=P;return k&&i&&!(T!=null&&T.can)?null:Ye.default.createElement($t.Popover,{opened:M,onChange:q,withArrow:!0,withinPortal:!0,disabled:typeof(P==null?void 0:P.disabled)<"u"?P.disabled:(T==null?void 0:T.can)===!1},Ye.default.createElement($t.Popover.Target,null,p?Ye.default.createElement($t.ActionIcon,{color:"red",onClick:()=>q(H=>!H),disabled:A||(T==null?void 0:T.can)===!1,loading:(r!=null?r:s)===(L==null?void 0:L.id)&&A,...z?{variant:ut(z)}:{variant:"outline"},...Y},Ye.default.createElement(si.IconTrash,{size:18,...m})):Ye.default.createElement($t.Button,{color:"red",variant:"outline",onClick:()=>q(H=>!H),disabled:A||(T==null?void 0:T.can)===!1,loading:(r!=null?r:s)===(L==null?void 0:L.id)&&A,leftIcon:Ye.default.createElement(si.IconTrash,{size:18,...m}),...P},o!=null?o:g("buttons.delete","Delete"))),Ye.default.createElement($t.Popover.Dropdown,{py:"xs"},Ye.default.createElement($t.Text,{size:"sm",weight:"bold"},y!=null?y:g("buttons.confirm","Are you sure?")),Ye.default.createElement($t.Group,{position:"center",noWrap:!0,spacing:"xs",mt:"xs"},Ye.default.createElement($t.Button,{onClick:()=>q(!1),variant:"default",size:"xs"},c!=null?c:g("buttons.cancel","Cancel")),Ye.default.createElement($t.Button,{color:"red",onClick:D,autoFocus:!0,size:"xs"},b!=null?b:g("buttons.delete","Delete")))))},wn=G(E("react")),Gr=V(),Bp=ot(),ci=E("@mantine/core"),di=E("@tabler/icons"),Ma=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:n=!1,meta:a,metaData:o,dataProviderName:l,svgIconProps:u,children:p,onClick:f,...v})=>{let{resource:h,id:x}=(0,Gr.useResource)(e!=null?e:t),y=(0,Gr.useTranslate)(),{refetch:b,isFetching:c}=(0,Gr.useOne)({resource:h==null?void 0:h.name,id:r!=null?r:x,queryOptions:{enabled:!1},meta:(0,Gr.pickNotDeprecated)(a,o),metaData:(0,Gr.pickNotDeprecated)(a,o),liveMode:"off",dataProviderName:l}),{variant:m,styles:P,...d}=v;return n?wn.default.createElement(ci.ActionIcon,{onClick:C=>f?f(C):b(),loading:c,...m?{variant:ut(m)}:{variant:"default"},...d},wn.default.createElement(di.IconRefresh,{size:18,...u})):wn.default.createElement(ci.Button,{variant:"default",leftIcon:wn.default.createElement(di.IconRefresh,{size:18,...u}),loading:c,onClick:C=>f?f(C):b(),...v},p!=null?p:y("buttons.refresh","Refresh"))},Vr=G(E("react")),ir=V(),Op=ot(),ka=E("@mantine/core"),mi=E("@tabler/icons"),cm=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:n=!1,accessControl:a,svgIconProps:o,meta:l,children:u,onClick:p,...f})=>{var v,h;let x=(v=a==null?void 0:a.enabled)!=null?v:!0,y=(h=a==null?void 0:a.hideIfUnauthorized)!=null?h:!1,{showUrl:b}=(0,ir.useNavigation)(),c=(0,ir.useRouterType)(),m=(0,ir.useLink)(),{Link:P}=(0,ir.useRouterContext)(),d=c==="legacy"?P:m,C=(0,ir.useTranslate)(),{id:k,resource:i}=(0,ir.useResource)(e!=null?e:t),{data:g}=(0,ir.useCan)({resource:i==null?void 0:i.name,action:"show",params:{id:r!=null?r:k,resource:i},queryOptions:{enabled:x}}),s=()=>g!=null&&g.can?"":g!=null&&g.reason?g.reason:C("buttons.notAccessTitle","You don't have permission to access"),I=i&&(r||k)?b(i,r!=null?r:k,l):"",{variant:w,styles:$,...F}=f;return x&&y&&!(g!=null&&g.can)?null:Vr.default.createElement(ka.Anchor,{component:d,to:I,replace:!1,onClick:A=>{if((g==null?void 0:g.can)===!1){A.preventDefault();return}p&&(A.preventDefault(),p(A))}},n?Vr.default.createElement(ka.ActionIcon,{...w?{variant:ut(w)}:{variant:"default"},disabled:(g==null?void 0:g.can)===!1,title:s(),...F},Vr.default.createElement(mi.IconEye,{size:18,...o})):Vr.default.createElement(ka.Button,{variant:"default",disabled:(g==null?void 0:g.can)===!1,leftIcon:Vr.default.createElement(mi.IconEye,{size:18,...o}),title:s(),...f},u!=null?u:C("buttons.show","Show")))},Qr=G(E("react")),Ft=V(),zp=ot(),Ia=E("@mantine/core"),pi=E("@tabler/icons"),Ra=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:n,svgIconProps:a,meta:o,children:l,onClick:u,...p})=>{var f,v,h,x,y,b,c,m;let P=(f=n==null?void 0:n.enabled)!=null?f:!0,d=(v=n==null?void 0:n.hideIfUnauthorized)!=null?v:!1,{listUrl:C}=(0,Ft.useNavigation)(),k=(0,Ft.useRouterType)(),i=(0,Ft.useLink)(),{Link:g}=(0,Ft.useRouterContext)(),s=k==="legacy"?g:i,I=(0,Ft.useTranslate)(),{resource:w}=(0,Ft.useResource)(e!=null?e:t),{data:$}=(0,Ft.useCan)({resource:w==null?void 0:w.name,action:"list",queryOptions:{enabled:P},params:{resource:w}}),F=()=>$!=null&&$.can?"":$!=null&&$.reason?$.reason:I("buttons.notAccessTitle","You don't have permission to access"),A=w?C(w,o):"",{variant:L,styles:T,...M}=p;return P&&d&&!($!=null&&$.can)?null:Qr.default.createElement(Ia.Anchor,{component:s,to:A,replace:!1,onClick:q=>{if(($==null?void 0:$.can)===!1){q.preventDefault();return}u&&(q.preventDefault(),u(q))}},r?Qr.default.createElement(Ia.ActionIcon,{...L?{variant:ut(L)}:{variant:"default"},disabled:($==null?void 0:$.can)===!1,title:F(),...M},Qr.default.createElement(pi.IconList,{size:18,...a})):Qr.default.createElement(Ia.Button,{variant:"default",disabled:($==null?void 0:$.can)===!1,leftIcon:Qr.default.createElement(pi.IconList,{size:18,...a}),title:F(),...p},l!=null?l:I(`${(x=(h=w==null?void 0:w.name)!=null?h:e)!=null?x:t}.titles.list`,(0,Ft.userFriendlyResourceName)((m=(c=(b=(y=w==null?void 0:w.meta)==null?void 0:y.label)!=null?b:w==null?void 0:w.label)!=null?c:w==null?void 0:w.name)!=null?m:(0,Ft.pickNotDeprecated)(e,t),"plural"))))},$n=G(E("react")),dm=V(),Up=ot(),fi=E("@mantine/core"),vi=E("@tabler/icons"),mm=({hideText:e=!1,children:t,loading:r=!1,svgIconProps:n,...a})=>{let o=(0,dm.useTranslate)(),{variant:l,styles:u,...p}=a;return e?$n.default.createElement(fi.ActionIcon,{...l?{variant:ut(l)}:{variant:"default"},loading:r,...p},$n.default.createElement(vi.IconFileExport,{size:18,...n})):$n.default.createElement(fi.Button,{variant:"default",loading:r,leftIcon:$n.default.createElement(vi.IconFileExport,{size:18,...n}),...a},t!=null?t:o("buttons.export","Export"))},Fn=G(E("react")),pm=V(),Wp=ot(),gi=E("@mantine/core"),yi=E("@tabler/icons"),Ba=({hideText:e=!1,svgIconProps:t,children:r,...n})=>{let a=(0,pm.useTranslate)(),{variant:o,styles:l,...u}=n;return e?Fn.default.createElement(gi.ActionIcon,{...o?{variant:ut(o)}:{variant:"filled",color:"primary"},...u},Fn.default.createElement(yi.IconDeviceFloppy,{size:18,...t})):Fn.default.createElement(gi.Button,{variant:"filled",leftIcon:Fn.default.createElement(yi.IconDeviceFloppy,{size:18,...t}),...n},r!=null?r:a("buttons.save","Save"))},jr=G(E("react")),ur=V(),Gp=ot(),wa=E("@mantine/core"),hi=E("@tabler/icons"),fm=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:n=!1,accessControl:a,svgIconProps:o,meta:l,children:u,onClick:p,...f})=>{var v,h;let x=(v=a==null?void 0:a.enabled)!=null?v:!0,y=(h=a==null?void 0:a.hideIfUnauthorized)!=null?h:!1,{cloneUrl:b}=(0,ur.useNavigation)(),c=(0,ur.useRouterType)(),m=(0,ur.useLink)(),{Link:P}=(0,ur.useRouterContext)(),d=c==="legacy"?P:m,C=(0,ur.useTranslate)(),{id:k,resource:i}=(0,ur.useResource)(e!=null?e:t),{data:g}=(0,ur.useCan)({resource:i==null?void 0:i.name,action:"create",params:{id:r!=null?r:k,resource:i},queryOptions:{enabled:x}}),s=()=>g!=null&&g.can?"":g!=null&&g.reason?g.reason:C("buttons.notAccessTitle","You don't have permission to access"),I=i&&(r||k)?b(i,r!=null?r:k,l):"",{variant:w,styles:$,...F}=f;return x&&y&&!(g!=null&&g.can)?null:jr.default.createElement(wa.Anchor,{component:d,to:I,replace:!1,onClick:A=>{if((g==null?void 0:g.can)===!1){A.preventDefault();return}p&&(A.preventDefault(),p(A))}},n?jr.default.createElement(wa.ActionIcon,{disabled:(g==null?void 0:g.can)===!1,title:s(),...w?{variant:ut(w)}:{variant:"default"},...F},jr.default.createElement(hi.IconSquarePlus,{size:18,...o})):jr.default.createElement(wa.Button,{disabled:(g==null?void 0:g.can)===!1,variant:"default",leftIcon:jr.default.createElement(hi.IconSquarePlus,{size:18,...o}),title:s(),...f},u!=null?u:C("buttons.clone","Clone")))},wr=G(E("react")),vm=V(),Vp=ot(),bi=E("@mantine/core"),Ei=E("@tabler/icons"),gm=({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:n,children:a,...o})=>{let l=(0,vm.useTranslate)(),{variant:u,styles:p,...f}=o;return wr.default.createElement("label",{htmlFor:"contained-button-file"},wr.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),t?wr.default.createElement(bi.ActionIcon,{...u?{variant:ut(u)}:{variant:"default"},component:"span",loading:r,...f},wr.default.createElement(Ei.IconFileImport,{size:18,...n})):wr.default.createElement(bi.Button,{variant:"default",component:"span",leftIcon:wr.default.createElement(Ei.IconFileImport,{size:18,...n}),loading:r,...o},a!=null?a:l("buttons.import","Import")))},vt=G(E("react")),$r=E("@mantine/core"),Hr=V(),ym=e=>{var t,r,n,a,o,l,u,p;let{canCreate:f,children:v,createButtonProps:h,resource:x,wrapperProps:y,contentProps:b,headerProps:c,headerButtonProps:m,headerButtons:P,breadcrumb:d,title:C}=e,k=(0,Hr.useTranslate)(),{options:{breadcrumb:i}={}}=(0,Hr.useRefineContext)(),g=(0,Hr.useRouterType)(),{resource:s}=(0,Hr.useResource)(x),I=f!=null?f:((t=s==null?void 0:s.canCreate)!=null?t:!!(s!=null&&s.create))||h,w=typeof d>"u"?i:d,$=I?vt.default.createElement(Li,{size:"sm",resource:g==="legacy"?s==null?void 0:s.route:(r=s==null?void 0:s.identifier)!=null?r:s==null?void 0:s.name,...h}):null,F=typeof w<"u"?(n=vt.default.createElement(vt.default.Fragment,null,w))!=null?n:void 0:vt.default.createElement(Xr,null),A=P?typeof P=="function"?P({defaultButtons:$}):P:$;return vt.default.createElement($r.Card,{p:"md",...y},vt.default.createElement($r.Group,{position:"apart",align:"center",...c},vt.default.createElement($r.Stack,{spacing:"xs"},F,C!=null?C:vt.default.createElement($r.Title,{order:3,transform:"capitalize"},k(`${s==null?void 0:s.name}.titles.list`,(0,Hr.userFriendlyResourceName)((p=(u=(l=(a=s==null?void 0:s.meta)==null?void 0:a.label)!=null?l:(o=s==null?void 0:s.options)==null?void 0:o.label)!=null?u:s==null?void 0:s.label)!=null?p:s==null?void 0:s.name,"plural")))),vt.default.createElement($r.Group,{spacing:"xs",...m},A)),vt.default.createElement($r.Box,{pt:"sm",...b},v))},fe=G(E("react")),gt=E("@mantine/core"),St=V(),hm=E("@tabler/icons"),bm=e=>{var t,r,n,a,o,l,u,p,f,v,h,x,y;let{children:b,resource:c,recordItemId:m,canDelete:P,canEdit:d,dataProviderName:C,isLoading:k,footerButtons:i,footerButtonProps:g,headerButtons:s,headerButtonProps:I,wrapperProps:w,contentProps:$,headerProps:F,goBack:A,breadcrumb:L,title:T}=e,M=(0,St.useTranslate)(),{options:{breadcrumb:q}={}}=(0,St.useRefineContext)(),D=(0,St.useRouterType)(),z=(0,St.useBack)(),j=(0,St.useGo)(),{goBack:Y,list:H}=(0,St.useNavigation)(),{resource:N,action:te,id:ge}=(0,St.useResource)(c),B=(0,St.useToPath)({resource:N,action:"list"}),Z=m!=null?m:ge,ee=typeof L>"u"?q:L,Ue=typeof ee<"u"?(t=fe.default.createElement(fe.default.Fragment,null,ee))!=null?t:void 0:fe.default.createElement(Xr,null),Fe=(n=P!=null?P:(r=N==null?void 0:N.meta)==null?void 0:r.canDelete)!=null?n:N==null?void 0:N.canDelete,We=(a=d!=null?d:N==null?void 0:N.canEdit)!=null?a:!!(N!=null&&N.edit),Ct=k!=null?k:!1,dt=fe.default.createElement(fe.default.Fragment,null,!m&&fe.default.createElement(Ra,{...k?{disabled:!0}:{},resource:D==="legacy"?N==null?void 0:N.route:(o=N==null?void 0:N.identifier)!=null?o:N==null?void 0:N.name}),We&&fe.default.createElement(qi,{...k?{disabled:!0}:{},resource:D==="legacy"?N==null?void 0:N.route:(l=N==null?void 0:N.identifier)!=null?l:N==null?void 0:N.name,recordItemId:Z}),Fe&&fe.default.createElement(Da,{...k?{disabled:!0}:{},resource:D==="legacy"?N==null?void 0:N.route:(u=N==null?void 0:N.identifier)!=null?u:N==null?void 0:N.name,recordItemId:Z,onSuccess:()=>{var Ae,Dt;D==="legacy"?H((Dt=(Ae=N==null?void 0:N.route)!=null?Ae:N==null?void 0:N.name)!=null?Dt:""):j({to:B})},dataProviderName:C}),fe.default.createElement(Ma,{...k?{disabled:!0}:{},resource:D==="legacy"?N==null?void 0:N.route:(p=N==null?void 0:N.identifier)!=null?p:N==null?void 0:N.name,recordItemId:Z,dataProviderName:C})),Nt=A===null?null:fe.default.createElement(gt.ActionIcon,{onClick:te!=="list"&&typeof te<"u"?D==="legacy"?Y:z:void 0},typeof A<"u"?A:fe.default.createElement(hm.IconArrowLeft,null)),xe=s?typeof s=="function"?s({defaultButtons:dt}):s:dt,mt=i?typeof i=="function"?i({defaultButtons:null}):i:null;return fe.default.createElement(gt.Card,{p:"md",...w},fe.default.createElement(gt.LoadingOverlay,{visible:Ct}),fe.default.createElement(gt.Group,{position:"apart",align:"center",...F},fe.default.createElement(gt.Stack,{spacing:"xs"},Ue,fe.default.createElement(gt.Group,{spacing:"xs"},Nt,T!=null?T:fe.default.createElement(gt.Title,{order:3,transform:"capitalize"},M(`${N==null?void 0:N.name}.titles.show`,`Show ${(0,St.userFriendlyResourceName)((y=(x=(h=(f=N==null?void 0:N.meta)==null?void 0:f.label)!=null?h:(v=N==null?void 0:N.options)==null?void 0:v.label)!=null?x:N==null?void 0:N.label)!=null?y:N==null?void 0:N.name,"singular")}`)))),fe.default.createElement(gt.Group,{spacing:"xs",...I},xe)),fe.default.createElement(gt.Box,{pt:"sm",...$},b),fe.default.createElement(gt.Group,{position:"right",spacing:"xs",mt:"md",...g},mt))},ie=G(E("react")),yt=E("@mantine/core"),ht=V(),Em=E("@tabler/icons"),Cm=e=>{var t,r,n,a,o,l,u,p,f,v,h,x;let{children:y,resource:b,recordItemId:c,deleteButtonProps:m,mutationMode:P,saveButtonProps:d,canDelete:C,dataProviderName:k,isLoading:i,footerButtons:g,footerButtonProps:s,headerButtons:I,headerButtonProps:w,wrapperProps:$,contentProps:F,headerProps:A,goBack:L,breadcrumb:T,title:M}=e,q=(0,ht.useTranslate)(),{options:{breadcrumb:D}={}}=(0,ht.useRefineContext)(),{mutationMode:z}=(0,ht.useMutationMode)(),j=P!=null?P:z,Y=(0,ht.useRouterType)(),H=(0,ht.useBack)(),N=(0,ht.useGo)(),{goBack:te,list:ge}=(0,ht.useNavigation)(),{resource:B,action:Z,id:ee}=(0,ht.useResource)(b),Ue=(0,ht.useToPath)({resource:B,action:"list"}),Fe=c!=null?c:ee,We=typeof T>"u"?D:T,Ct=C!=null?C:((r=(t=B==null?void 0:B.meta)==null?void 0:t.canDelete)!=null?r:B==null?void 0:B.canDelete)||m,dt=typeof We<"u"?(n=ie.default.createElement(ie.default.Fragment,null,We))!=null?n:void 0:ie.default.createElement(Xr,null),Nt=(a=i!=null?i:d==null?void 0:d.disabled)!=null?a:!1,xe=ie.default.createElement(ie.default.Fragment,null,!c&&ie.default.createElement(Ra,{...i?{disabled:!0}:{},resource:Y==="legacy"?B==null?void 0:B.route:(o=B==null?void 0:B.identifier)!=null?o:B==null?void 0:B.name}),ie.default.createElement(Ma,{...i?{disabled:!0}:{},resource:Y==="legacy"?B==null?void 0:B.route:(l=B==null?void 0:B.identifier)!=null?l:B==null?void 0:B.name,recordItemId:Fe,dataProviderName:k})),mt=ie.default.createElement(ie.default.Fragment,null,Ct&&(Fe||(m==null?void 0:m.recordItemId))&&ie.default.createElement(Da,{...i?{disabled:!0}:{},resource:Y==="legacy"?B==null?void 0:B.route:(u=B==null?void 0:B.identifier)!=null?u:B==null?void 0:B.name,mutationMode:j,onSuccess:()=>{var tt,X;Y==="legacy"?ge((X=(tt=B==null?void 0:B.route)!=null?tt:B==null?void 0:B.name)!=null?X:""):N({to:Ue})},recordItemId:Fe,dataProviderName:k,...m}),ie.default.createElement(Ba,{...i?{disabled:!0}:{},...d})),Ae=L===null?null:ie.default.createElement(yt.ActionIcon,{onClick:Z!=="list"&&typeof Z<"u"?Y==="legacy"?te:H:void 0},typeof L<"u"?L:ie.default.createElement(Em.IconArrowLeft,null)),Dt=I?typeof I=="function"?I({defaultButtons:xe}):I:xe,xt=g?typeof g=="function"?g({defaultButtons:mt}):g:mt;return ie.default.createElement(yt.Card,{p:"md",...$},ie.default.createElement(yt.LoadingOverlay,{visible:Nt}),ie.default.createElement(yt.Group,{position:"apart",...A},ie.default.createElement(yt.Stack,{spacing:"xs"},dt,ie.default.createElement(yt.Group,{spacing:"xs"},Ae,M!=null?M:ie.default.createElement(yt.Title,{order:3,transform:"capitalize"},q(`${B==null?void 0:B.name}.titles.edit`,`Edit ${(0,ht.userFriendlyResourceName)((x=(h=(v=(p=B==null?void 0:B.meta)==null?void 0:p.label)!=null?v:(f=B==null?void 0:B.options)==null?void 0:f.label)!=null?h:B==null?void 0:B.label)!=null?x:B==null?void 0:B.name,"singular")}`)))),ie.default.createElement(yt.Group,{spacing:"xs",...w},Dt)),ie.default.createElement(yt.Box,{pt:"sm",...F},y),ie.default.createElement(yt.Group,{position:"right",spacing:"xs",mt:"md",...s},xt))},Ie=G(E("react")),bt=E("@mantine/core"),sr=V(),xm=E("@tabler/icons"),Pm=e=>{var t,r,n,a,o,l,u;let{children:p,saveButtonProps:f,isLoading:v,resource:h,footerButtons:x,footerButtonProps:y,headerButtons:b,headerButtonProps:c,wrapperProps:m,contentProps:P,headerProps:d,goBack:C,breadcrumb:k,title:i}=e,g=(0,sr.useTranslate)(),{options:{breadcrumb:s}={}}=(0,sr.useRefineContext)(),I=(0,sr.useRouterType)(),w=(0,sr.useBack)(),{goBack:$}=(0,sr.useNavigation)(),{resource:F,action:A}=(0,sr.useResource)(h),L=typeof k>"u"?s:k,T=typeof L<"u"?(t=Ie.default.createElement(Ie.default.Fragment,null,L))!=null?t:void 0:Ie.default.createElement(Xr,null),M=(r=v!=null?v:f==null?void 0:f.disabled)!=null?r:!1,q=Ie.default.createElement(Ba,{...v?{disabled:!0}:{},...f}),D=C===null?null:Ie.default.createElement(bt.ActionIcon,{onClick:A!=="list"||typeof A<"u"?I==="legacy"?$:w:void 0},typeof C<"u"?C:Ie.default.createElement(xm.IconArrowLeft,null)),z=b?typeof b=="function"?b({defaultButtons:null}):b:null,j=x?typeof x=="function"?x({defaultButtons:q}):x:q;return Ie.default.createElement(bt.Card,{p:"md",...m},Ie.default.createElement(bt.LoadingOverlay,{visible:M}),Ie.default.createElement(bt.Group,{position:"apart",align:"center",...d},Ie.default.createElement(bt.Stack,{spacing:"xs"},T,Ie.default.createElement(bt.Group,{spacing:"xs"},D,i!=null?i:Ie.default.createElement(bt.Title,{order:3,transform:"capitalize"},g(`${F==null?void 0:F.name}.titles.create`,`Create ${(0,sr.userFriendlyResourceName)((u=(l=(o=(n=F==null?void 0:F.meta)==null?void 0:n.label)!=null?o:(a=F==null?void 0:F.options)==null?void 0:a.label)!=null?l:F==null?void 0:F.label)!=null?u:F==null?void 0:F.name,"singular")}`)))),Ie.default.createElement(bt.Group,{spacing:"xs",...c},z)),Ie.default.createElement(bt.Box,{pt:"sm",...P},p),Ie.default.createElement(bt.Group,{position:"right",spacing:"xs",mt:"md",...y},j))},lt=G(E("react")),Kr=V(),zt=E("@mantine/core"),km=E("@tabler/icons"),Im=()=>{let[e,t]=(0,lt.useState)(),r=(0,Kr.useTranslate)(),{push:n}=(0,Kr.useNavigation)(),a=(0,Kr.useGo)(),o=(0,Kr.useRouterType)(),{resource:l,action:u}=(0,Kr.useResource)();return(0,lt.useEffect)(()=>{l&&u&&t(r("pages.error.info",{action:u,resource:l==null?void 0:l.name},`You may have forgotten to add the "${u}" component to "${l==null?void 0:l.name}" resource.`))},[l,u]),lt.default.createElement(zt.Box,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",minHeight:"100vh","@media (min-height: 755px)":{marginTop:"-150px"}}},lt.default.createElement(zt.Title,{sx:p=>({textAlign:"center",fontWeight:900,fontSize:220,lineHeight:1,color:p.colorScheme==="dark"?p.colors.dark[4]:p.colors.gray[2],[p.fn.smallerThan("sm")]:{fontSize:120}})},"404"),lt.default.createElement(zt.Group,{spacing:4,align:"center",sx:{justifyContent:"center"}},lt.default.createElement(zt.Text,{color:"dimmed",size:"lg",align:"center",sx:{maxWidth:500}},r("pages.error.404","Sorry, the page you visited does not exist.")),e&&lt.default.createElement(zt.Tooltip,{openDelay:0,label:e},lt.default.createElement(zt.ActionIcon,{},lt.default.createElement(km.IconInfoCircle,null)))),lt.default.createElement(zt.Space,{h:"md"}),lt.default.createElement(zt.Button,{variant:"subtle",size:"md",onClick:()=>{o==="legacy"?n("/"):a({to:"/"})}},r("pages.error.backHome","Back Home")))},Ee=G(E("react")),we=E("@mantine/core"),wm=()=>Ee.createElement(we.BackgroundImage,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#2A132E"},py:"xl",px:"sm",src:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},Ee.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),Ee.createElement(we.Space,{h:24}),Ee.createElement(we.Title,{align:"center",sx:{color:"white",fontSize:"3rem"}},"Welcome on board"),Ee.createElement(we.Text,{size:"xl",sx:{color:"white"},mt:"md",align:"center"},"Your configuration is completed."),Ee.createElement(we.Text,{size:"lg",sx:{color:"white"},mt:"md",align:"center"},"Now you can get started by adding your resources to the"," ",Ee.createElement(we.Code,null,"resources")," property of ",Ee.createElement(we.Code,null,"Refine"),"."),Ee.createElement(we.Space,{h:48}),Ee.createElement(we.Group,{position:"center"},Ee.createElement(we.Anchor,{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ee.createElement(we.Button,{variant:"default"},"Documentation")),Ee.createElement(we.Anchor,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ee.createElement(we.Button,{variant:"default"},"Examples")),Ee.createElement(we.Anchor,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ee.createElement(we.Button,{variant:"default"},"Community")))),Be=G(E("react")),Ze=E("@mantine/core"),$m=()=>Be.createElement(Ze.BackgroundImage,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#2A132E"},py:"xl",px:"sm",src:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},Be.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),Be.createElement(Ze.Space,{h:24}),Be.createElement(Ze.Title,{align:"center",sx:{color:"white",fontSize:"3rem"}},"Welcome on board"),Be.createElement(Ze.Text,{size:"xl",sx:{color:"white"},mt:"md",align:"center"},"Your configuration is completed."),Be.createElement(Ze.Space,{h:48}),Be.createElement(Ze.Group,{position:"center"},Be.createElement(Ze.Anchor,{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Be.createElement(Ze.Button,{variant:"default"},"Documentation")),Be.createElement(Ze.Anchor,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Be.createElement(Ze.Button,{variant:"default"},"Examples")),Be.createElement(Ze.Anchor,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Be.createElement(Ze.Button,{variant:"default"},"Community")))),Fr=G(E("react")),ve=G(E("react")),$a=V(),Fa=V(),$e=E("@mantine/core"),Fm=E("@mantine/form"),[Sm,Lm,qm]=(0,Fm.createFormContext)(),Zr={FormProvider:Sm,useFormContext:Lm,useForm:qm},Tn={display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover",minHeight:"100vh"},Nn={width:"400px"},Dn={textAlign:"center",fontSize:"24px"},Am=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:a,wrapperProps:o,renderContent:l,formProps:u})=>{let{useForm:p,FormProvider:f}=Zr,{onSubmit:v,...h}=u||{},x=(0,Fa.useTranslate)(),y=(0,$a.useRouterType)(),b=(0,$a.useLink)(),{Link:c}=(0,Fa.useRouterContext)(),m=y==="legacy"?c:b,P=p({initialValues:{email:"",password:"",remember:!1},validate:{email:w=>/^\S+@\S+$/.test(w)?null:x("pages.login.errors.validEmail","Invalid email address"),password:w=>w===""},...h}),{onSubmit:d,getInputProps:C}=P,k=(0,$a.useActiveAuthProvider)(),{mutate:i,isLoading:g}=(0,Fa.useLogin)({v3LegacyAuthProviderCompatible:Boolean(k==null?void 0:k.isLegacy)}),s=()=>e&&e.length>0?ve.default.createElement(ve.default.Fragment,null,ve.default.createElement($e.Stack,{spacing:8},e.map(w=>ve.default.createElement($e.Button,{key:w.name,fullWidth:!0,leftIcon:w.icon,onClick:()=>i({providerName:w.name})},w.label))),ve.default.createElement($e.Divider,{my:"md",labelPosition:"center",label:x("pages.login.divider","or")})):null,I=ve.default.createElement($e.Card,{style:Nn,...a!=null?a:{}},ve.default.createElement($e.Title,{style:Dn},x("pages.login.title","Sign in to your account")),ve.default.createElement($e.Space,{h:"lg"}),s(),ve.default.createElement(f,{form:P},ve.default.createElement("form",{onSubmit:d(w=>v?v(w):i(w))},ve.default.createElement($e.TextInput,{name:"email",label:x("pages.login.fields.email","Email"),placeholder:x("pages.login.fields.email","Email"),...C("email")}),ve.default.createElement($e.PasswordInput,{name:"password",mt:"md",label:x("pages.login.fields.password","Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...C("password")}),ve.default.createElement($e.Box,{mt:"md",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"}},n!=null?n:ve.default.createElement($e.Checkbox,{label:x("pages.login.buttons.rememberMe","Remember me"),size:"xs",...C("remember",{type:"checkbox"})}),r!=null?r:ve.default.createElement($e.Anchor,{component:m,to:"/forgot-password",size:"xs"},x("pages.login.buttons.forgotPassword","Forgot password?"))),ve.default.createElement($e.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:g},x("pages.login.signin","Sign in")))),t!=null?t:ve.default.createElement($e.Text,{mt:"xs",size:"xs"},x("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",ve.default.createElement($e.Anchor,{component:m,to:"/register",weight:700},x("pages.login.signup","Sign up"))));return ve.default.createElement($e.Box,{style:Tn,...o!=null?o:{}},l?l(I):I)},be=G(E("react")),Tm=V(),_r=V(),Oe=E("@mantine/core"),Nm=({loginLink:e,contentProps:t,wrapperProps:r,renderContent:n,formProps:a,providers:o})=>{let{useForm:l,FormProvider:u}=Zr,{onSubmit:p,...f}=a||{},v=(0,_r.useTranslate)(),h=(0,_r.useRouterType)(),x=(0,_r.useLink)(),{Link:y}=(0,_r.useRouterContext)(),b=h==="legacy"?y:x,c=l({initialValues:{email:"",password:""},validate:{email:s=>/^\S+@\S+$/.test(s)?null:v("pages.register.errors.validEmail","Invalid email address"),password:s=>s===""},...f}),{onSubmit:m,getInputProps:P}=c,d=(0,Tm.useActiveAuthProvider)(),{mutate:C,isLoading:k}=(0,_r.useRegister)({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),i=()=>o&&o.length>0?be.default.createElement(be.default.Fragment,null,be.default.createElement(Oe.Stack,{spacing:8},o.map(s=>be.default.createElement(Oe.Button,{key:s.name,fullWidth:!0,leftIcon:s.icon,onClick:()=>C({providerName:s.name})},s.label))),be.default.createElement(Oe.Divider,{my:"md",labelPosition:"center",label:v("pages.login.divider","or")})):null,g=be.default.createElement(Oe.Card,{style:Nn,...t!=null?t:{}},be.default.createElement(Oe.Title,{style:Dn},v("pages.register.title","Sign up for your account")),be.default.createElement(Oe.Space,{h:"lg"}),i(),be.default.createElement(u,{form:c},be.default.createElement("form",{onSubmit:m(s=>p?p(s):C(s))},be.default.createElement(Oe.TextInput,{label:v("pages.register.fields.email","Email"),placeholder:v("pages.register.fields.email","Email"),...P("email")}),be.default.createElement(Oe.PasswordInput,{mt:"md",label:v("pages.register.fields.password","Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...P("password")}),e!=null?e:be.default.createElement(Oe.Group,{mt:"md",position:e?"left":"right"},be.default.createElement(Oe.Text,{size:"xs"},v("pages.register.buttons.haveAccount","Have an account?")," ",be.default.createElement(Oe.Anchor,{component:b,to:"/login",weight:700},v("pages.register.signin","Sign in")))),be.default.createElement(Oe.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:k},v("pages.register.buttons.submit","Sign up")))));return be.default.createElement(Oe.Box,{style:Tn,...r!=null?r:{}},n?n(g):g)},it=G(E("react")),Ci=V(),Sa=V(),Lt=E("@mantine/core"),Dm=({loginLink:e,contentProps:t,wrapperProps:r,renderContent:n,formProps:a})=>{let{useForm:o,FormProvider:l}=Zr,{onSubmit:u,...p}=a||{},f=(0,Sa.useTranslate)(),v=(0,Ci.useRouterType)(),h=(0,Ci.useLink)(),{Link:x}=(0,Sa.useRouterContext)(),y=v==="legacy"?x:h,b=o({initialValues:{email:""},validate:{email:k=>/^\S+@\S+$/.test(k)?null:f("pages.forgotPassword.errors.validEmail","Invalid email address")},...p}),{getInputProps:c,onSubmit:m}=b,{mutate:P,isLoading:d}=(0,Sa.useForgotPassword)(),C=it.default.createElement(Lt.Card,{style:Nn,...t!=null?t:{}},it.default.createElement(Lt.Title,{style:Dn},f("pages.forgotPassword.title","Forgot your password?")),it.default.createElement(Lt.Space,{h:"lg"}),it.default.createElement(l,{form:b},it.default.createElement("form",{onSubmit:m(k=>u?u(k):P(k))},it.default.createElement(Lt.TextInput,{label:f("pages.forgotPassword.fields.email","Email"),placeholder:f("pages.forgotPassword.fields.email","Email"),...c("email")}),e!=null?e:it.default.createElement(Lt.Group,{mt:"md",position:e?"left":"right"},it.default.createElement(Lt.Text,{size:"xs"},f("pages.login.forgotPassword.haveAccount","Have an account?")," ",it.default.createElement(Lt.Anchor,{component:y,to:"/login",weight:700},f("pages.forgotPassword.signin","Sign in")))),it.default.createElement(Lt.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:d},f("pages.forgotPassword.buttons.submit","Send reset instructions")))));return it.default.createElement(Lt.Box,{style:Tn,...r!=null?r:{}},n?n(C):C)},qt=G(E("react")),Mm=V(),xi=V(),cr=E("@mantine/core"),Rm=({contentProps:e,wrapperProps:t,renderContent:r,formProps:n})=>{let{useForm:a,FormProvider:o}=Zr,{onSubmit:l,...u}=n||{},p=(0,xi.useTranslate)(),f=a({initialValues:{password:"",confirmPassword:""},validate:{password:m=>m==="",confirmPassword:(m,P)=>m!==P.password?p("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):null},...u}),{getInputProps:v,onSubmit:h}=f,x=(0,Mm.useActiveAuthProvider)(),{mutate:y,isLoading:b}=(0,xi.useUpdatePassword)({v3LegacyAuthProviderCompatible:Boolean(x==null?void 0:x.isLegacy)}),c=qt.default.createElement(cr.Card,{style:Nn,...e!=null?e:{}},qt.default.createElement(cr.Title,{style:Dn},p("pages.updatePassword.title","Set New Password")),qt.default.createElement(cr.Space,{h:"lg"}),qt.default.createElement(o,{form:f},qt.default.createElement("form",{onSubmit:h(m=>l?l(m):y(m))},qt.default.createElement(cr.TextInput,{type:"password",label:p("pages.updatePassword.fields.password","New Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...v("password")}),qt.default.createElement(cr.TextInput,{mt:"md",type:"password",label:p("pages.updatePassword.fields.confirmPassword","Confirm New Password"),placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",...v("confirmPassword")}),qt.default.createElement(cr.Button,{mt:"lg",fullWidth:!0,size:"md",type:"submit",loading:b},p("pages.updatePassword.buttons.submit","Update")))));return qt.default.createElement(cr.Box,{style:Tn,...t!=null?t:{}},r?r(c):c)},Bm=e=>{let{type:t}=e;return Fr.default.createElement(Fr.default.Fragment,null,(()=>{switch(t){case"register":return Fr.default.createElement(Nm,{...e});case"forgotPassword":return Fr.default.createElement(Dm,{...e});case"updatePassword":return Fr.default.createElement(Rm,{...e});default:return Fr.default.createElement(Am,{...e})}})())},Sr=G(E("react")),dr=V(),Yr=E("@mantine/core"),Om=E("@tabler/icons"),Xr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:n})=>{var a,o,l;let u=(0,dr.useRouterType)(),{breadcrumbs:p}=(0,dr.useBreadcrumb)({meta:n}),f=(0,dr.useLink)(),{Link:v}=(0,dr.useRouterContext)(),{hasDashboard:h}=(0,dr.useRefineContext)(),{resources:x}=(0,dr.useResource)(),y=(0,dr.matchResourceFromRoute)("/",x),b=u==="legacy"?v:f;return p.length===1?null:Sr.default.createElement(Yr.Breadcrumbs,{"aria-label":"breadcrumb",styles:{separator:{marginRight:8,marginLeft:8,color:"dimgray"}},...e},t&&(h||y.found)&&Sr.default.createElement(Yr.Anchor,{component:b,color:"dimmed",to:"/"},(l=(o=(a=y==null?void 0:y.resource)==null?void 0:a.meta)==null?void 0:o.icon)!=null?l:Sr.default.createElement(Om.IconHome,{size:18})),p.map(({label:c,icon:m,href:P})=>Sr.default.createElement(Yr.Group,{key:c,spacing:4,align:"center",noWrap:!0},!r&&m,P?Sr.default.createElement(Yr.Anchor,{component:b,color:"dimmed",to:P,size:"sm"},c):Sr.default.createElement(Yr.Text,{color:"dimmed",size:"sm"},c))))},mr=G(E("react")),La=E("@mantine/core"),Q=G(E("react")),Xe=V(),le=E("@mantine/core"),qr=E("@tabler/icons"),zm=Q.default.createElement(qr.IconList,{size:18}),Ai=({render:e,meta:t,Title:r})=>{var n;let[a,o]=(0,Q.useState)(!1),[l,u]=(0,Q.useState)(!1),p=(0,Xe.useRouterType)(),f=(0,Xe.useLink)(),{Link:v}=(0,Xe.useRouterContext)(),h=p==="legacy"?v:f,{defaultOpenKeys:x,menuItems:y,selectedKey:b}=(0,Xe.useMenu)({meta:t}),c=(0,Xe.useTitle)(),m=(0,Xe.useIsExistAuthentication)(),P=(0,Xe.useTranslate)(),{hasDashboard:d}=(0,Xe.useRefineContext)(),C=(0,Xe.useActiveAuthProvider)(),{mutate:k}=(0,Xe.useLogout)({v3LegacyAuthProviderCompatible:Boolean(C==null?void 0:C.isLegacy)}),i=(n=r!=null?r:c)!=null?n:Ni,g=()=>a?80:200,s={root:{display:"flex",color:"white",fontWeight:500,"&:hover":{backgroundColor:"unset"},"&[data-active]":{backgroundColor:"#ffffff1a",color:"white",fontWeight:700,"&:hover":{backgroundColor:"#ffffff1a"}},justifyContent:a&&!l?"center":"flex-start"},icon:{marginRight:a&&!l?0:12},body:{display:a&&!l?"none":"flex"}},I={disabled:!a||l,position:"right",withinPortal:!0,withArrow:!0,arrowSize:8,arrowOffset:12,offset:4},w=(T,M)=>T.map(q=>{let{icon:D,label:z,route:j,name:Y,children:H}=q,N=q.key===M,te=H.length>0,ge=te?{}:{component:h,to:j};return Q.default.createElement(Xe.CanAccess,{key:q.key,resource:Y.toLowerCase(),action:"list",params:{resource:q}},Q.default.createElement(le.Tooltip,{label:z,...I},Q.default.createElement(le.NavLink,{key:q.key,label:a&&!l?null:z,icon:D!=null?D:zm,active:N,childrenOffset:a&&!l?0:12,defaultOpened:x.includes(q.key||""),styles:s,...ge},te&&w(H,M))))}),$=w(y,b),F=d?Q.default.createElement(Xe.CanAccess,{resource:"dashboard",action:"list"},Q.default.createElement(le.Tooltip,{label:P("dashboard.title","Dashboard"),...I},Q.default.createElement(le.NavLink,{key:"dashboard",label:a&&!l?null:P("dashboard.title","Dashboard"),icon:Q.default.createElement(qr.IconDashboard,{size:18}),component:h,to:"/",active:b==="/",styles:s}))):null,A=m&&Q.default.createElement(le.Tooltip,{label:P("buttons.logout","Logout"),...I},Q.default.createElement(le.NavLink,{key:"logout",label:a&&!l?null:P("buttons.logout","Logout"),icon:Q.default.createElement(qr.IconLogout,{size:18}),onClick:()=>k(),styles:s})),L=()=>e?e({dashboard:F,logout:A,items:$,collapsed:a}):Q.default.createElement(Q.default.Fragment,null,F,$,A);return Q.default.createElement(Q.default.Fragment,null,Q.default.createElement(le.MediaQuery,{largerThan:"md",styles:{display:"none"}},Q.default.createElement(le.Box,{sx:{position:"fixed",top:64,left:0,zIndex:1199}},Q.default.createElement(le.ActionIcon,{color:"white",size:36,sx:{borderRadius:"0 6px 6px 0",backgroundColor:"#2A132E",color:"white","&:hover":{backgroundColor:"#2A132E"}},onClick:()=>u(T=>!T)},Q.default.createElement(qr.IconMenu2,null)))),Q.default.createElement(le.MediaQuery,{largerThan:"md",styles:{display:"none"}},Q.default.createElement(le.Drawer,{opened:l,onClose:()=>u(!1),size:200,zIndex:1200,withCloseButton:!1,styles:{drawer:{overflow:"hidden",backgroundColor:"#2A132E"}}},Q.default.createElement(le.Navbar.Section,{px:"xs"},Q.default.createElement(i,{collapsed:!1})),Q.default.createElement(le.Navbar.Section,{grow:!0,component:le.ScrollArea,mx:"-xs",px:"xs"},L()))),Q.default.createElement(le.MediaQuery,{smallerThan:"md",styles:{display:"none"}},Q.default.createElement(le.Box,{sx:{width:g(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}})),Q.default.createElement(le.MediaQuery,{smallerThan:"md",styles:{display:"none"}},Q.default.createElement(le.Navbar,{width:{base:g()},sx:{overflow:"hidden",transition:"width 200ms ease, min-width 200ms ease",backgroundColor:"#2A132E",position:"fixed",top:0,height:"100vh"}},Q.default.createElement(le.Navbar.Section,{px:"xs"},Q.default.createElement(i,{collapsed:a})),Q.default.createElement(le.Navbar.Section,{grow:!0,mt:"sm",component:le.ScrollArea,mx:"-xs",px:"xs"},L()),Q.default.createElement(le.Navbar.Section,null,Q.default.createElement(le.Button,{sx:{background:"rgba(0,0,0,.5)",borderRadius:0,borderTop:"1px solid #ffffff1a"},size:"md",variant:"gradient",fullWidth:!0,onClick:()=>o(T=>!T)},a?Q.default.createElement(qr.IconChevronRight,null):Q.default.createElement(qr.IconChevronLeft,null))))))},Sn=G(E("react")),Pi=V(),Ln=E("@mantine/core"),Ti=()=>{let e=(0,Pi.useActiveAuthProvider)(),{data:t}=(0,Pi.useGetIdentity)({v3LegacyAuthProviderCompatible:Boolean(e==null?void 0:e.isLegacy)});return t&&(t.name||t.avatar)?Sn.default.createElement(Ln.Header,{height:50,py:6,px:"sm"},Sn.default.createElement(Ln.Group,{position:"right"},Sn.default.createElement(Ln.Title,{order:6},t==null?void 0:t.name),Sn.default.createElement(Ln.Avatar,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name,radius:"xl"}))):null},Um=({Sider:e,Header:t,Title:r,Footer:n,OffLayoutArea:a,children:o})=>{let l=e!=null?e:Ai,u=t!=null?t:Ti;return mr.default.createElement(La.Box,{sx:{display:"flex"}},mr.default.createElement(l,{Title:r}),mr.default.createElement(La.Box,{sx:{display:"flex",flexDirection:"column",flex:1,overflow:"auto"}},mr.default.createElement(u,null),mr.default.createElement(La.Box,{component:"main",sx:p=>({padding:p.spacing.sm,backgroundColor:p.colorScheme==="dark"?p.colors.dark[8]:p.colors.gray[0],minHeight:"100vh"})},o),n&&mr.default.createElement(n,null)),a&&mr.default.createElement(a,null))},qn=G(E("react")),qa=V(),Wm=E("@mantine/core"),Ni=({collapsed:e})=>{let t=(0,qa.useRouterType)(),r=(0,qa.useLink)(),{Link:n}=(0,qa.useRouterContext)();return qn.default.createElement(t==="legacy"?n:r,{to:"/"},qn.default.createElement(Wm.Center,{p:"xs"},e?qn.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{maxHeight:"38px"}}):qn.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))},Ce=G(E("react")),pr=E("@mantine/notifications"),Ut=E("@mantine/core"),Lr=E("@tabler/icons"),Gm=()=>{let e=[],t=a=>e.includes(a),r=a=>{a&&e.indexOf(a)===-1&&e.push(a)},n=a=>{if(a){let o=e.indexOf(a);o>-1&&e.splice(o,1)}};return{open:({message:a,type:o,undoableTimeout:l,key:u,cancelMutation:p})=>{o==="progress"?t(u)?(0,pr.updateNotification)({id:u,message:Ce.default.createElement(Ut.Group,{position:"apart",noWrap:!0},Ce.default.createElement(Ut.Group,{spacing:"xs",position:"center"},Ce.default.createElement(Ta,{undoableTimeout:l!=null?l:0}),Ce.default.createElement(Ut.Text,null,a)),Ce.default.createElement(Ut.ActionIcon,{variant:"default",onClick:()=>{p==null||p(),u&&(n(u),(0,pr.hideNotification)(u))}},Ce.default.createElement(Lr.IconRotate2,{size:18}))),styles:{root:{paddingLeft:"8px",paddingTop:"0px",paddingBottom:"0px","&::before":{display:"none"}}},disallowClose:!0,autoClose:!1}):(r(u),(0,pr.showNotification)({id:u,message:Ce.default.createElement(Ut.Group,{position:"apart",noWrap:!0},Ce.default.createElement(Ut.Group,{spacing:"xs",position:"center"},Ce.default.createElement(Ta,{undoableTimeout:l!=null?l:0}),Ce.default.createElement(Ut.Text,null,a)),Ce.default.createElement(Ut.ActionIcon,{variant:"default",onClick:()=>{p==null||p(),u&&(n(u),(0,pr.hideNotification)(u))}},Ce.default.createElement(Lr.IconRotate2,{size:18}))),styles:{root:{paddingLeft:"8px",paddingTop:"0px",paddingBottom:"0px","&::before":{display:"none"}}},disallowClose:!0,autoClose:!1})):t(u)?(0,pr.updateNotification)({id:u,color:o==="success"?"primary":"red",icon:o==="success"?Ce.default.createElement(Lr.IconCheck,{size:18}):Ce.default.createElement(Lr.IconX,{size:18}),message:a,autoClose:5e3}):(r(u),(0,pr.showNotification)({color:o==="success"?"primary":"red",icon:o==="success"?Ce.default.createElement(Lr.IconCheck,{size:18}):Ce.default.createElement(Lr.IconX,{size:18}),message:a,onClose:()=>{n(u)},autoClose:5e3}))},close:a=>{n(a),(0,pr.hideNotification)(a)}}},ki=E("react"),Vm=E("@mantine/form"),Ii=V(),Oa=({refineCoreProps:e,...t}={})=>{let r=e==null?void 0:e.warnWhenUnsavedChanges,{warnWhenUnsavedChanges:n,setWarnWhen:a}=(0,Ii.useWarnAboutChange)(),o=r!=null?r:n,l=(0,Ii.useForm)({...e}),{queryResult:u,onFinish:p,formLoading:f}=l,v=(0,Vm.useForm)({...t}),{setValues:h,onSubmit:x,isDirty:y}=v;(0,ki.useEffect)(()=>{var m,P;if(typeof(u==null?void 0:u.data)<"u"){let d={},C=Object.keys((m=t.initialValues)!=null?m:{});Object.entries(((P=u==null?void 0:u.data)==null?void 0:P.data)||{}).forEach(([k,i])=>{C.includes(k)&&(d[k]=i)}),h(d)}},[u==null?void 0:u.data]);let b=y();(0,ki.useEffect)(()=>{o&&b&&a(!0)},[b]);let c=(m,P)=>async d=>(a(!1),await x(m,P)(d));return{...v,onSubmit:c,refineCore:l,saveButtonProps:{disabled:f,onClick:m=>{c(p,()=>!1)(m)}}}},wi=E("react"),fr=V(),Aa=G(E("react")),Qm=({modalProps:e,refineCoreProps:t,syncWithLocation:r,...n}={})=>{var a,o,l,u,p,f,v;let h=Aa.default.useRef(!1),x=(0,fr.useTranslate)(),{resource:y,action:b}=t!=null?t:{},{defaultVisible:c=!1,autoSubmitClose:m=!0,autoResetForm:P=!0}=e!=null?e:{},{resource:d,action:C}=(0,fr.useResource)(y),k=(0,fr.useParsed)(),i=(0,fr.useGo)(),g=(a=b!=null?b:C)!=null?a:"",s=typeof r=="object"&&r.syncId,I=typeof r=="object"&&"key"in r?r.key:d&&g&&r?`modal-${(o=d==null?void 0:d.identifier)!=null?o:d==null?void 0:d.name}-${g}`:void 0,w=Oa({refineCoreProps:t,...n}),{reset:$,refineCore:{onFinish:F,id:A,setId:L},saveButtonProps:T,onSubmit:M}=w,{visible:q,show:D,close:z}=(0,fr.useModal)({defaultVisible:c});Aa.default.useEffect(()=>{var B,Z,ee,Ue;if(h.current===!1&&I){let Fe=(Z=(B=k==null?void 0:k.params)==null?void 0:B[I])==null?void 0:Z.open;if(typeof Fe=="boolean"?Fe&&D():typeof Fe=="string"&&Fe==="true"&&D(),s){let We=(Ue=(ee=k==null?void 0:k.params)==null?void 0:ee[I])==null?void 0:Ue.id;We&&(L==null||L(We))}h.current=!0}},[I,k,s,L]),Aa.default.useEffect(()=>{var B;h.current===!0&&(q&&I?i({query:{[I]:{...(B=k==null?void 0:k.params)==null?void 0:B[I],open:!0,...s&&A&&{id:A}}},options:{keepQuery:!0},type:"replace"}):I&&!q&&i({query:{[I]:void 0},options:{keepQuery:!0},type:"replace"}))},[A,q,D,I,s]);let j=async B=>{await F(B),m&&z(),P&&$()},{warnWhen:Y,setWarnWhen:H}=(0,fr.useWarnAboutChange)(),N=(0,wi.useCallback)(()=>{if(Y)if(window.confirm(x("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))H(!1);else return;L==null||L(void 0),z()},[Y]),te=(0,wi.useCallback)(B=>{L==null||L(B),D()},[]),ge=x(`${d==null?void 0:d.name}.titles.${b}`,void 0,`${(0,fr.userFriendlyResourceName)(`${b} ${(v=(f=(p=(l=d==null?void 0:d.meta)==null?void 0:l.label)!=null?p:(u=d==null?void 0:d.options)==null?void 0:u.label)!=null?f:d==null?void 0:d.label)!=null?v:d==null?void 0:d.name}`,"singular")}`);return{modal:{submit:j,close:N,show:te,visible:q,title:ge},...w,saveButtonProps:{...T,onClick:B=>M(j)(B)}}},jm=E("react"),Hm=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:n=!1}=e!=null?e:{},[a,o]=(0,jm.useState)(r),l=Oa({...t}),{validate:u}=l,p=f=>{let v=f;f<0&&(v=0),o(v)};return{...l,steps:{currentStep:a,gotoStep:f=>{if(f!==a){if(f<a&&!n){p(f);return}!u().hasErrors&&p(f)}}}}},Km=V(),_m=e=>{let{queryResult:t,defaultValueQueryResult:r,onSearch:n,options:a}=(0,Km.useSelect)(e);return{selectProps:{data:a,onSearchChange:n,searchable:!0,filterDataOnExactSearchMatch:!0,clearable:!0},queryResult:t,defaultValueQueryResult:r}},Di={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),colors:{primary:["#F1FBE9","#D8F4C3","#BFED9C","#A7E675","#8EDE4E","#75D728","#5DAC20","#468118","#2F5610","#172B08"]},black:"#626262",primaryColor:"primary",defaultRadius:6,headings:{fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},components:{Table:{styles:e=>e.colorScheme==="light"?{root:{"thead>tr>th":{backgroundColor:"#fafafa",padding:"16px 4px"},"thead>tr>th:first-of-type":{borderTopLeftRadius:e.defaultRadius},"thead>tr>th:last-of-type":{borderTopRightRadius:e.defaultRadius},"tbody>tr>td":{borderBottom:"1px solid #f0f0f0"}}}:{root:{}}}}},Ym={colorScheme:"light",...Di},Zm={colorScheme:"dark",...Di}});var Eu=cn((ug,bu)=>{var uo=Object.defineProperty,vp=Object.getOwnPropertyDescriptor,gp=Object.getOwnPropertyNames,yp=Object.prototype.hasOwnProperty,hp=(e,t)=>{for(var r in t)uo(e,r,{get:t[r],enumerable:!0})},bp=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of gp(t))!yp.call(e,a)&&a!==r&&uo(e,a,{get:()=>t[a],enumerable:!(n=vp(t,a))||n.enumerable});return e},Ep=e=>bp(uo({},"__esModule",{value:!0}),e),hu={};hp(hu,{useTable:()=>xp});bu.exports=Ep(hu);var zn=E("react"),Cp=V(),yu=E("@tanstack/react-table");function xp({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...n}){var a,o,l;let u=(0,Cp.useTable)({...t,hasPagination:e}),p=e===!1?"off":"server",f=((o=(a=t.pagination)==null?void 0:a.mode)!=null?o:p)!=="off",{tableQueryResult:{data:v},current:h,setCurrent:x,pageSize:y,setPageSize:b,sorters:c,setSorters:m,filters:P,setFilters:d,pageCount:C}=u,k=[];P.map(L=>{L.operator!=="or"&&L.operator!=="and"&&"field"in L&&k.push(L)});let i=(0,yu.useReactTable)({getCoreRowModel:(0,yu.getCoreRowModel)(),data:(l=v==null?void 0:v.data)!=null?l:[],initialState:{pagination:{pageIndex:h-1,pageSize:y},sorting:c.map(L=>({id:L.field,desc:L.order==="desc"})),columnFilters:k.map(L=>({id:L.field,value:L.value})),...r},pageCount:C,manualPagination:!0,manualSorting:!0,manualFiltering:!0,...n}),{state:g,columns:s}=i.options,{pagination:I,sorting:w,columnFilters:$}=g,{pageIndex:F,pageSize:A}=I!=null?I:{};return(0,zn.useEffect)(()=>{F!==void 0&&x(F+1)},[F]),(0,zn.useEffect)(()=>{A!==void 0&&b(A)},[A]),(0,zn.useEffect)(()=>{w!==void 0&&(m(w==null?void 0:w.map(L=>({field:L.id,order:L.desc?"desc":"asc"}))),w.length>0&&f&&x(1))},[w]),(0,zn.useEffect)(()=>{let L=[];$==null||$.map(M=>{var q,D;let z=(D=(q=s.find(j=>j.id===M.id))==null?void 0:q.meta)==null?void 0:D.filterOperator;L.push({field:M.id,operator:z!=null?z:Array.isArray(M.value)?"in":"eq",value:M.value})});let T=k.filter(M=>!L.some(q=>M.field===q.field&&M.operator===q.operator));T==null||T.map(M=>{L.push({field:M.field,operator:M.operator,value:void 0})}),d(L),L.length>0&&f&&x(1)},[$]),{...i,refineCore:u}}});var an=K(E("react")),ku=K(V());var pp=K(Jr()),fp=K(E("@mantine/core"));var ct=K(E("react")),lo=K(V());var Xm=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,za=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];Xm.test(e)&&r.unshift("url");let n=r.find(a=>a in t&&!!t[a]);if(n)return n==="firstName"&&"lastName"in t?["firstName","lastName"]:n};var Ri=K(V());function Ua(e,t,r){if(t)return t;let n=r==null?void 0:r.find(o=>o.name===e),a=(0,Ri.pickNotDeprecated)(n==null?void 0:n.meta,n==null?void 0:n.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"}var en=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var Wa=e=>{let t=[...e].filter(Boolean).sort((r,n)=>(n.priority||0)-(r.priority||0))[0];return t||null};var Bi=K(E("prettier/standalone")),Oi=K(E("prettier/parser-typescript")),Ga=e=>{try{return Bi.default.format(e,{parser:"typescript",plugins:[Oi.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var Va=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var Qa=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,zi=(e,t)=>{let r=Qa.test(e),n=typeof t=="string"||typeof t=="number",a=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&n||r&&a?{key:e,relation:!0,multiple:!!a,type:"relation",priority:1}:!1};var ze=e=>e.replace(Qa,"");var W=e=>ze(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var ja=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(a=>!a.trim().startsWith("export default")).join(`
`);var Ui=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,Jm=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,ep=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Ha=(e,t={})=>{let r=e.matchAll(Ui),n=new Set;for(let a of r){let[,o,l,u,p]=a;if(p in t){let f=t[p];if(p==="react")continue;o&&n.add(`const { default: ${o} } = ${f};`),l&&n.add(`const${l.replace(ep,"$1: $3$4")} = ${f};`),u&&n.add(`const ${u} = ${f};`)}}return Va(`
    ${Array.from(n).join(`
`)}
    ${e.replace(Ui,"").replace(Jm,"")}
    `)};var tn=K(E("pluralize"));var Ka=(e,t)=>e?t.find(n=>{let a=ze(e.key);return n.name===a||n.name===(tn.default.isPlural(a)?a:tn.default.plural(a))||n.name===(tn.default.isSingular(a)?a:tn.default.singular(a))}):void 0;var Wi=K(E("pluralize"));var st=(e,t,r="Inferred")=>{let n=e.replace(/[^a-zA-Z0-9]/g," "),a=Wi.default.singular(n),l=W(a).replace(/ /g,"")||r,u=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(l)?`${l}${u}`:`${u}${l}`};var tp=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",U=(e,...t)=>e.reduce((n,a,o)=>`${n}${a}${tp(t[o])}`,"").trim();var _a=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var Ya=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var rp=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Za=e=>rp.test(e);function Xa(e,t,r){let n=`${e}`;return t&&(n+="?.",Za(t)?n+=t:n+=`['${t}']`),r&&(n+="?.",Za(r)?n+=r:n+=`['${r}']`),n}function np(e,t,r){return(r!=null?r:[]).map(a=>Xa(e,t,a))}var O=(e,t,r,n=' + " " + ')=>Array.isArray(r)?n?np(e,t,r).join(n):Xa(e,t,r[0]):Xa(e,t,r),se=(e,t,r)=>{let n=e;return t&&(n+=`.${t}`),r&&(Array.isArray(r)?n+=`.${r[0]}`:n+=`.${r}`),n};var At=e=>{let t=e.reduce((n,[a,o,l])=>(n[o]||(n[o]=[]),n[o].includes(a)||(l?n[o].push([a,!0]):n[o].push(a)),n),{});return Object.entries(t).map(([n,a])=>{let o=a.find(f=>Array.isArray(f)&&f[1]),l=a.filter(f=>typeof f=="string"),u=o?`${o[0]}`:"",p=l.length?`{ ${l.join(", ")} }`:"";return`import ${u}${u&&p?", ":""}${p} from "${n}";`})};var Ja=K(E("pluralize")),Wt=(e="")=>Ja.default.isSingular(e)?e:Ja.default.singular(e);var eo=K(E("pluralize")),Ar=(e="")=>eo.default.isPlural(e)?e:eo.default.plural(e);var ap=/^id$/i,vr=e=>ap.test(e);var rn=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var Tt=e=>{};var J=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let n=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),a=W(n).replace(/ /g,"");return`${a.charAt(0).toLowerCase()+a.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var Gi=e=>{let t=(r,n,a,o=t)=>{let l=e.map(p=>p(r,n,a,o));return Wa(l)};return t};var Vi=e=>(r,n,a,o,l)=>e.reduce((u,p)=>p(u,n,a,o,l),r);var Qi=(e,t,r,n)=>{let a=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(a){if(!o){let u=n(e,t[0],r,n);return u?{...u,key:e,multiple:!0,priority:1}:!1}let l=n(e,t[0],r,n)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var ji=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var to=K(E("dayjs")),op=/(_at|_on|At|On|AT|ON)(\[\])?$/,lp=["/",":","-","."],Hi=(e,t)=>{let r=op.test(e)&&(0,to.default)(t).isValid(),n=typeof t=="string"&&(0,to.default)(t).isValid();return typeof t=="string"&&lp.some(o=>t.includes(o))&&(r||n)?{key:e,type:"date",priority:1}:!1};var ip=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ki=(e,t)=>typeof t=="string"&&ip.test(t)?{key:e,type:"email",priority:1}:!1;var up=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,_i=(e,t)=>typeof t=="string"&&up.test(t)?{key:e,type:"image",priority:2}:!1;var Yi=(e,t)=>typeof t>"u"||t===null?null:!1;var Zi=(e,t)=>{let r=typeof t=="string"&&t.length>0,n=!isNaN(t);return r&&n||typeof t=="number"?{key:e,type:"number"}:!1};var sp=/id$/i,Xi=(e,t,r,n)=>{let a=t!==null,o=!Array.isArray(t);if(a&&o&&typeof t=="object"){if(Object.keys(t).length===1&&sp.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let p=za(e,t);if((p?p.length>0:!1)&&p){let v=p&&Array.isArray(p)?p[0]:p,h=n(v,t[v],t,n);if(h){let x=Array.isArray(p)?p.map(y=>h.accessor?`${y}.${Array.isArray(h.accessor)?h.accessor[0]:h.accessor}`:y):h.accessor?Array.isArray(h.accessor)?`${p}.${h.accessor[0]}`:`${p}.${h.accessor}`:p;return{...h,fieldable:!0,key:e,accessor:x,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var Ji=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var eu=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var cp=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,tu=(e,t)=>typeof t=="string"&&cp.test(t)?{key:e,type:"url",priority:1}:!1;var ru=[Qi,ji,Hi,Ki,_i,Yi,Zi,Xi,zi,Ji,eu,tu];var nu=(e,t,r,n)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,u=x=>l.test(`${x}`),p=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!p?o:(o.multiple?n[o.key]:[n[o.key]]).every(x=>u(o.accessor?x[o.accessor]:x))?{...o,canRelation:!0}:o}return o});var dp=/(image|photo|avatar|cover|thumbnail|icon)/i,au=e=>e.map(r=>r.type==="url"&&dp.test(r.key)?{...r,type:"image"}:r);var ou=(e,t)=>e.map(n=>{let a=Ka(n,t);return a?{...n,relation:!0,type:"relation",resource:a}:n});var lu=(e,t,r,n,a)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let u=l.accessor?n[l.key][l.accessor]:n[l.key],p=a(l.key,u,n,a);if(p&&p.type!=="relation")return{...l,fieldable:!0,relation:!1,type:p.type,canRelation:!0}}return l});var iu=[au,ou,lu,nu];var Gt=K(E("react")),Mn=K(E("prism-react-renderer")),uu=K(E("prism-react-renderer/themes/vsDark")),ro=({code:e,wrapperProps:t})=>((0,Gt.useEffect)(()=>{var n;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(n=document.getElementById("code-highlight"))==null||n.appendChild(r)},[]),Gt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},Gt.default.createElement(Mn.default,{...Mn.defaultProps,theme:uu.default,code:e,language:"tsx"},({className:r,style:n,tokens:a,getLineProps:o,getTokenProps:l})=>Gt.default.createElement("pre",{className:r,style:{...n,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},a.map((u,p)=>Gt.default.createElement("div",{key:p,...o({line:u,key:p})},u.map((f,v)=>Gt.default.createElement("span",{key:v,...l({token:f,key:v})}))))))));var Je=K(E("react")),mp=K(V()),Rn=E("@aliemir/react-live");var su=[["react","React",Je.default],["@refinedev/core","RefineCore",mp]],no=Je.default.createContext({}),ao=({fetchError:e,code:t,additionalScope:r,errorComponent:n})=>{var u;let a=(u=t&&ja(Ha(t,[...su,...r!=null?r:[]].reduce((p,[f,v,h,x])=>x?p:{...p,[f]:v},{}))))!=null?u:"",o=Je.default.useMemo(()=>({React:Je.default,...Je.default,...[...su,...r!=null?r:[]].reduce((p,[f,v,h])=>({...p,[v]:h}),{})}),[r]),l=Je.default.useMemo(()=>()=>{let{error:f}=Je.default.useContext(no);return n?Je.default.createElement(n,{error:f?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${f}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},[n,e]);return Je.default.createElement(Rn.LiveProvider,{Context:no,code:a,scope:o,noInline:!0},!e&&Je.default.createElement(Rn.LivePreview,{Context:no}),Je.default.createElement(l,null))};var gr=K(E("react")),Bn=K(V());var cu=(e,t,r)=>{let{resource:n,id:a,resources:o}=(0,Bn.useResource)(t),l=r!=null?r:a,u=(0,Bn.useDataProvider)(),[p,f]=gr.default.useState(void 0),[v,h]=gr.default.useState(void 0),[x,y]=gr.default.useState(!0),[b,c]=gr.default.useState(!1),m=gr.default.useCallback(async P=>{var k,i;let d=(k=en(n))!=null?k:Ua(n==null?void 0:n.name,void 0,o),C=u(d);c(!0),f(void 0);try{if((e==="list"||e==="create")&&n){let s=(i=(await C.getList({resource:n==null?void 0:n.name})).data)==null?void 0:i[0];s||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),h(s),setTimeout(()=>{c(!1)},500)}if((e==="edit"||e==="show")&&P&&n){let s=(await C.getOne({resource:n==null?void 0:n.name,id:P})).data;s||f(`<p>No records/data found for resource "${n==null?void 0:n.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),h(s),setTimeout(()=>{c(!1)},500)}}catch(g){console.warn("An error occured while fetching the resource data. Please check the error message below:",g),f(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${n==null?void 0:n.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{c(!1)},500)}},[e,u,n,o]);return gr.default.useEffect(()=>{y(!1),!b&&!v&&m(l)},[m,l]),{data:v,loading:b,initial:x,error:p}};var Tr=K(E("react")),du=K(V());var oo=E("lodash"),mu=({record:e,fields:t,infer:r})=>{let n=(0,du.useDataProvider)(),[a,o]=Tr.default.useState([]),[l,u]=Tr.default.useState(!0),[p,f]=Tr.default.useState(!1),v=Tr.default.useCallback(async h=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let x=[];f(!0);try{let y=h.map(async c=>{if(c&&(c.relation||c.canRelation)&&e){let m=en(c.resource),P=n(m),d=Array.isArray(c.accessor)?void 0:c.multiple?e[c.key].map(C=>c.accessor?(0,oo.get)(C,c.accessor):C)[0]:c.accessor?(0,oo.get)(e[c.key],c.accessor):e[c.key];if(d&&c.resource)try{let{data:C}=await P.getOne({resource:c.resource.name,id:d});x.push({status:"success",resource:c.resource.name,field:c.key});let k=r("__",C,{},r);return{...c,relationInfer:k}}catch{return x.push({status:"error",resource:c.resource.name,field:c.key}),{...c,relationInfer:null}}if(d){let C,k;try{let{data:s}=await P.getOne({resource:Ar(ze(c.key)),id:d});x.push({status:"success",resource:Ar(ze(c.key)),field:c.key}),C=s,k=!0}catch{x.push({status:"error",resource:Ar(ze(c.key)),field:c.key});try{let{data:I}=await P.getOne({resource:Wt(ze(c.key)),id:d});x.push({status:"success",resource:Wt(ze(c.key)),field:c.key}),C=I,k=!1}catch{return x.push({status:"error",resource:Wt(ze(c.key)),field:c.key}),{...c,relationInfer:null}}}let i=r("__",C,{},r),g=ze(c.key);return{...c,relation:!0,type:"relation",resource:{name:k?Ar(g):Wt(g)},fieldable:!1,canRelation:void 0,relationInfer:i}}return{...c,relationInfer:null}}return c}),b=await Promise.all(y);o(b.filter(c=>c)),setTimeout(()=>{f(!1)},500)}catch{setTimeout(()=>{f(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${x.length} attempts and succeeded with ${x.filter(y=>y.status==="success").length} attempts.`),console.groupEnd()},500)},[n,e]);return Tr.default.useEffect(()=>{u(!1),!p&&t&&t.length>0&&a.length===0&&v(t)},[v,p,t,v]),{fields:a,loading:p,initial:l}};var Vt=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:n=[],renderer:a,loadingComponent:o,errorComponent:l,codeViewerComponent:u})=>{let p=Gi([...ru,...r]),f=Vi([...iu,...n]),v=({resourceName:x,fieldTransformer:y,id:b})=>{var $,F,A,L,T,M;let{resource:c,resources:m}=(0,lo.useResource)(x),{resource:P}=(0,lo.useResource)(),{data:d,loading:C,initial:k,error:i}=cu(e,x!=null?x:c==null?void 0:c.name,b),g=ct.default.useMemo(()=>{if(d){let q=Object.keys(d).map(D=>{let z=d[D];return p(D,z,d,p)}).filter(Boolean);if(c){let D=f(q,m,c,d,p);return y?D.flatMap(j=>{let Y=y(j);return Y?[Y]:[]}):D}return[]}return[]},[d,m,c,y]),{fields:s,loading:I}=mu({record:d,fields:g,infer:p}),w=ct.default.useMemo(()=>!C&&!I&&!k&&c?a({resource:c,resources:m,fields:s,infer:p,isCustomPage:c.name!==(P==null?void 0:P.name),id:b}):"",[c,m,s,C,I]);return ct.default.createElement(ct.default.Fragment,null,o&&(C||I)&&ct.default.createElement(o,null),!C&&!I&&ct.default.createElement(ct.default.Fragment,null,ct.default.createElement(ao,{fetchError:!C&&i?i:!C&&!k&&!d,code:_a(w,st((M=(T=(L=(A=($=c==null?void 0:c.meta)==null?void 0:$.label)!=null?A:(F=c==null?void 0:c.options)==null?void 0:F.label)!=null?L:c==null?void 0:c.label)!=null?T:c==null?void 0:c.name)!=null?M:"Resource",e)),errorComponent:l,additionalScope:t}),u&&ct.default.createElement(u,{code:Ya(w),loading:C||I})))};return({name:x,resource:y,fieldTransformer:b,id:c})=>ct.default.createElement(v,{fieldTransformer:b,resourceName:y!=null?y:x,key:y!=null?y:x,id:c})};var nn=K(E("react")),On=E("@mantine/core"),pu=E("@tabler/icons"),Qt=({error:e})=>e?nn.default.createElement(On.Center,{style:{minHeight:300}},nn.default.createElement(On.Alert,{title:"Error",color:"red",icon:nn.default.createElement(pu.IconAlertCircle,null)},nn.default.createElement("div",{dangerouslySetInnerHTML:{__html:e!=null?e:""}}))):null;var fu=K(E("react")),vu=E("@mantine/core"),jt=()=>fu.default.createElement(vu.LoadingOverlay,{visible:!0});var ue=K(E("react")),et=E("@mantine/core"),Et=E("@tabler/icons");var Ht=({code:e,loading:t})=>{let r=ue.default.useMemo(()=>Ga(e!=null?e:""),[e]),n=ue.default.useRef(null),[a,o]=ue.default.useState(!1),[l,u]=ue.default.useState(!1);if(t)return null;let p=()=>{var f,v,h,x;(f=n==null?void 0:n.current)==null||f.select(),(v=n==null?void 0:n.current)==null||v.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((x=(h=n==null?void 0:n.current)==null?void 0:h.value)!=null?x:""),u(!0),setTimeout(()=>{u(!1)},1e3))};return r?ue.default.createElement(ue.default.Fragment,null,ue.default.createElement(et.Affix,{position:{bottom:12,right:60}},ue.default.createElement(et.Group,{spacing:"xs"},ue.default.createElement(et.Button,{leftIcon:ue.default.createElement(Et.IconCode,{size:18}),variant:"filled",color:"primary",onClick:()=>o(!0)},"Show Code"),ue.default.createElement(et.Button,{leftIcon:ue.default.createElement(Et.IconMessageCircle,{size:18}),variant:"default",component:"a",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046"},"Give Feedback"))),ue.default.createElement("div",{style:{height:"50px"}}),ue.default.createElement(et.Modal,{size:800,opened:a,onClose:()=>o(!1),styles:{modal:{padding:"0px !important",borderRadius:0},header:{display:"none"}}},ue.default.createElement(et.ActionIcon,{onClick:()=>o(!1),variant:"transparent",sx:{position:"absolute",right:0,top:0,height:56,width:56}},ue.default.createElement(Et.IconX,{size:18,style:{color:"#666b7a"}})),ue.default.createElement(ro,{code:r}),ue.default.createElement("textarea",{ref:n,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}}),ue.default.createElement(et.Button,{sx:{position:"absolute",bottom:12,right:12,width:115},key:"copy",variant:"default",leftIcon:l?ue.default.createElement(Et.IconCheck,{size:18,style:{color:"green"}}):ue.default.createElement(Et.IconCopy,{size:18}),onClick:p},l?"Copied":"Copy"))):null};var gu=({resource:e,fields:t,isCustomPage:r,id:n})=>{var k;let a=st((k=e.label)!=null?k:e.name,"show"),o="record",l=[["useShow","@refinedev/core"],["Show","@refinedev/mantine"],["Title","@mantine/core"]],p=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){if(i.multiple){l.push(["useMany","@refinedev/core"]);let g=O(o,i.key);return i.accessor&&(g=`${O(o,i.key)}?.map((item: any) => ${O("item",void 0,i.accessor)})`),`
                const { data: ${J(i.key,"Data")}, isLoading: ${J(i.key,"IsLoading")} } =
                useMany({
                    resource: "${i.resource.name}",
                    ids: ${g} || [],
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
                `}return l.push(["useOne","@refinedev/core"]),`
                const { data: ${J(i.key,"Data")}, isLoading: ${J(i.key,"IsLoading")} } =
                useOne({
                    resource: "${i.resource.name}",
                    id: ${O(o,i.key,i.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
            `}}).filter(Boolean),f=i=>{if(i.relation&&i.resource){let g=J(i.key,"Data"),s=J(i.key,"IsLoading");return i.multiple?(l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]),U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                {${s} ? <>Loading...</> : (
                    <>
                    ${(()=>{var I,w;if(i.relationInfer)if((I=i.relationInfer)!=null&&I.accessor){if(Array.isArray(i.relationInfer.accessor))return"Not Handled.";{let $=Wt((w=i.resource)==null?void 0:w.name),F=O($,void 0,i.relationInfer.accessor);return`
                                    <Group spacing="xs">
                                        {${g}?.data?.map((${$}: any) => <TagField key={${F}} value={${F}} />)}
                                    </Group>
                                    `}}else return"Not Handled.";else return"not-handled - relation with multiple but no resource"})()}
                    </>
                )}
                `):U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                {${s} ? <>Loading...</> : (
                    <>
                    ${(()=>{var I;return i.relationInfer?(I=i.relationInfer)!=null&&I.accessor?Array.isArray(i.relationInfer.accessor)?`{${O(`${g}?.data`,void 0,i.relationInfer.accessor,' + " " + ')}}`:`{${g}?.data?.${i.relationInfer.accessor}}`:`{${g}?.data}`:`{${g}?.data?.id}`})()}
                    </>
                )}
                
                `}},v=i=>{if(i.type==="text"){if(l.push(["TextField","@refinedev/mantine"]),i.multiple){l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <TagField value={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <TextField value={${O(o,i.key,i.accessor)}} />
            `}},h=i=>{if(i.type==="image"){if(l.push(["Image","@mantine/core"]),i.multiple){l.push(["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <Image sx={{ maxWidth: 200 }} src={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Image sx={{ maxWidth: 200 }} src={${O(o,i.key,i.accessor," + ")}} />
                `}},x=i=>{if(i.type==="email"){if(l.push(["EmailField","@refinedev/mantine"]),i.multiple){l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <TagField value={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <EmailField value={${O(o,i.key,i.accessor," + ")}} />
            `}},y=i=>{if(i.type==="url"){if(l.push(["UrlField","@refinedev/mantine"]),i.multiple){l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <TagField value={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <UrlField value={${O(o,i.key,i.accessor," + ")}} />
            `}},b=i=>{if(i.type==="boolean"){if(l.push(["BooleanField","@refinedev/mantine"]),i.multiple){l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any, index: number) => (
                        <TagField value={${g}} key={index} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <BooleanField value={${O(o,i.key,i.accessor," && ")}} />
            `}},c=i=>{if(i.type==="date"){if(l.push(["DateField","@refinedev/mantine"]),i.multiple){l.push(["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <DateField value={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <DateField value={${O(o,i.key,i.accessor," + ' ' + ")}} />
            `}},m=i=>{if(i.type==="richtext")return l.push(["MarkdownField","@refinedev/mantine"]),U`
                <Title mt="xs" order={5}>${W(i.key)}</Title>
                <MarkdownField value={${O(o,i.key,i.accessor,' + " " + ')}} />
            `},P=i=>{if(i.type==="number"){if(l.push(["NumberField","@refinedev/mantine"]),i.multiple){l.push(["TagField","@refinedev/mantine"],["Group","@mantine/core"]);let g=O("item",void 0,i.accessor);return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any) => (
                        <TagField value={${g}} key={${g}} />
                    ))}
                </Group>
            `}return U`
                <Title my="xs" order={5}>${W(i.key)}</Title>
                <NumberField value={${O(o,i.key,i.accessor,' + " " + ')} ?? ""} />
            `}},d=i=>{if(i)return U`
                ${i}
            `},C=t.map(i=>{switch(i==null?void 0:i.type){case"text":return d(v(i));case"number":return d(P(i));case"richtext":return d(m(i));case"email":return d(x(i));case"image":return d(h(i));case"date":return d(c(i));case"boolean":return d(b(i));case"url":return d(y(i));case"relation":return d(f(i));default:return}});return Tt(l),U`
    ${At(l)}
    
    export const ${a} = () => {
        const { queryResult } = useShow(${r?`{ 
                    resource: "${e.name}", 
                    id: ${n}
                }`:""});
        const { data, isLoading } = queryResult;
    
        const ${o} = data?.data;
    
        ${p}

        return (
            <Show isLoading={isLoading}>
                ${C.join("")}
            </Show>
        );
    };
    `},io=Vt({type:"show",additionalScope:[["@refinedev/mantine","RefineMantine",pp],["@mantine/core","MantineCore",fp]],codeViewerComponent:Ht,loadingComponent:jt,errorComponent:Qt,renderer:gu});var Pp=K(Jr()),kp=K(Eu()),Ip=K(E("@mantine/core")),wp=K(E("@tanstack/react-table"));var Kt=e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${se(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,Cu=({resource:e,fields:t,isCustomPage:r})=>{var g;let n=st((g=e.label)!=null?g:e.name,"list"),a="tableData?.data",o=[["IResourceComponentsProps","@refinedev/core"],["useTable","@refinedev/react-table"],["ColumnDef","@tanstack/react-table"],["flexRender","@tanstack/react-table"],["ScrollArea","@mantine/core"],["List","@refinedev/mantine"],["Table","@mantine/core"],["Pagination","@mantine/core"],["Group","@mantine/core"],["EditButton","@refinedev/mantine"],["ShowButton","@refinedev/mantine"],["DeleteButton","@refinedev/mantine"]],l=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)),u=l.filter(Boolean).map(s=>{if((s==null?void 0:s.relation)&&!s.fieldable&&s.resource){o.push(["GetManyResponse","@refinedev/core"]),o.push(["useMany","@refinedev/core"]);let I="";return s.multiple?I=`[].concat(...(${a}?.map((item) => ${O("item",s.key,s.accessor,!1)}) ?? []))`:I=`${a}?.map((item) => ${O("item",s.key,s.accessor,!1)}) ?? []`,`
                const { data: ${J(s.key,"Data")} } =
                useMany({
                    resource: "${s.resource.name}",
                    ids: ${I},
                    queryOptions: {
                        enabled: !!${a},
                    },
                });
                `}}).filter(Boolean),p=l==null?void 0:l.map(s=>{if(s&&s.resource)return J(s.key,"Data")}).filter(Boolean),f=s=>{var I;if(s.relation&&s.resource){let w=`${J(s.key,"Data")}?.data`;if(Array.isArray(s.accessor))return;let $=`id: "${s.key}"`,F=`header: "${W(s.key)}"`,A=Kt(s),L="";if(s.multiple){o.push(["TagField","@refinedev/mantine"]);let T="item";s!=null&&s.relationInfer&&(T=O("item",void 0,s.relationInfer.accessor)),L=`cell: function render({ getValue, table }) {
                    const meta = table.options.meta as {
                        ${J(s.key,"Data")}: GetManyResponse;
                    };

                    const ${J(s.key)} = getValue<any[]>()?.map((item) => {
                        return meta.${J(s.key,"Data")}?.data?.find(
                            (resourceItems) => resourceItems.id === ${O("item",void 0,s.accessor)}
                        );
                    })

                    return (
                        <Group spacing="xs">
                            {${J(s.key)}?.map((item, index) => (
                                <TagField key={index} value={${T}} />
                            ))}
                        </Group>
                    )
                }
            `}else s!=null&&s.relationInfer?L=`cell: function render({ getValue, table }) {
                        const meta = table.options.meta as {
                            ${J(s.key,"Data")}: GetManyResponse;
                        };

                        const ${J(s.key)} = meta.${w}?.find(
                            (item) => item.id === getValue<any>(),
                        );

                        return ${O(J(s.key),void 0,(I=s==null?void 0:s.relationInfer)==null?void 0:I.accessor)} ?? "Loading...";
                    },`:L="";return`
                {
                    ${$},
                    ${F},
                    ${A},
                    ${L}
                }
            `}},v=s=>{if(s.type==="image"){o.push(["Image","@mantine/core"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    ${s!=null&&s.accessor?"try {":""}
                        return <Image sx={{ maxWidth: "100px" }} src={${O("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}} />
                    ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                   
                }
            `;if(s.multiple){let A=O("item",void 0,s.accessor," + ");F=`
                    cell: function render({ getValue }) {
                        ${s!=null&&s.accessor?"try {":""}
                            return (
                                <Group spacing="xs">
                                    {getValue<any[]>()?.map((item, index) => (
                                        <Image src={${A}} key={index} sx={{ maxWidth: "100px" }} />
                                    ))}
                                </Group>
                            )
                        ${s!=null&&s.accessor?" } catch (error) { return null; }":""}
                    }
                `}return`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},h=s=>{if(s.type==="email"){o.push(["EmailField","@refinedev/mantine"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    return <EmailField value={${O("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0,' + " " + ')}} />
                }
            `;return s.multiple&&(o.push(["TagField","@refinedev/mantine"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<any>()?.map((item, index) => (
                                    <TagField value={${O("item",void 0,s.accessor," + ")}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},x=s=>{if(s.type==="url"){o.push(["UrlField","@refinedev/mantine"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    return <UrlField value={${O("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}} />
                }
            `;return s.multiple&&(o.push(["TagField","@refinedev/mantine"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<any[]>()?.map((item, index) => (
                                    <TagField value={${O("item",void 0,s.accessor," + ")}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},y=s=>{if((s==null?void 0:s.type)==="boolean"){o.push(["BooleanField","@refinedev/mantine"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    return <BooleanField value={${O("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0," + ")}} />
                }
            `;return s.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<any[]>()?.map((item, index) => (
                                    <BooleanField value={${O("item",void 0,s.accessor," + ")}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},b=s=>{if(s.type==="date"){o.push(["DateField","@refinedev/mantine"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    return <DateField value={${O("getValue<any>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0,' + " " + ')}} />
                }
            `;return s.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<any[]>()?.map((item, index) => (
                                    <DateField value={${O("item",void 0,s.accessor," + ")}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},c=s=>{if((s==null?void 0:s.type)==="richtext"){o.push(["MarkdownField","@refinedev/mantine"]);let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F=U`
                cell: function render({ getValue }) {
                    return <MarkdownField value={(${O("getValue<string>()",void 0,Array.isArray(s.accessor)?s.accessor:void 0)})?.slice(0, 80) + "..." } />
                }
            `;return s.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<string[]>()?.map((item, index) => (
                                    <MarkdownField value={${O("item",void 0,s.accessor," + ")}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},m=s=>{if(s&&(s.type==="text"||s.type==="number")){let I=`id: "${s.key}"`,w=Kt(s),$=`header: "${W(s.key)}"`,F="";return s.multiple&&(o.push(["TagField","@refinedev/mantine"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <Group spacing="xs">
                                {getValue<any[]>()?.map((item, index) => (
                                    <TagField value={${O("item",void 0,s.accessor,' + " " + ')}} key={index} />
                                ))}
                            </Group>
                        )
                    }
                `),!s.multiple&&Array.isArray(s.accessor)&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <>{${O("getValue()",s.key,s.accessor)}}</>
                        );
                    }
                `),`
                {
                    ${I},
                    ${w},
                    ${$},
                    ${F}
                }
            `}},{canEdit:P,canShow:d,canDelete:C}=e!=null?e:{};P&&o.push(["EditButton","@refinedev/mantine"]),d&&o.push(["ShowButton","@refinedev/mantine"]),C&&o.push(["DeleteButton","@refinedev/mantine"]);let k=P||d||C?U`
    {
        id: "actions",
        accessorKey: "id",
        header: "Actions",
        cell: function render({ getValue }) {
            return (
                <Group spacing="xs" noWrap>
                    ${d?U`
                    <ShowButton
                        hideText
                        recordItemId={getValue() as string}
                    />
                    `:""}
                    ${P?U`<EditButton
                        hideText
                        recordItemId={getValue() as string}
                    />`:""}
                    ${C?U`
                    <DeleteButton
                        hideText
                        recordItemId={getValue() as string}
                    />
                    `:""}
                </Group>
            );
        },
    },
        `:"",i=t.map(s=>{switch(s==null?void 0:s.type){case"text":case"number":return m(s);case"richtext":return c(s);case"email":return h(s);case"image":return v(s);case"date":return b(s);case"boolean":return y(s);case"url":return x(s);case"relation":return f(s);default:return}});return Tt(o),U`
    import React from "react";
    ${At(o)}
    
    export const ${n}: React.FC<IResourceComponentsProps> = () => {
        const columns = React.useMemo<ColumnDef<any>[]>(() => [
            ${[...i,k].filter(Boolean).join(",")}
        ], []);

        const {
            getHeaderGroups,
            getRowModel,
            setOptions,
            refineCore: {
                setCurrent,
                pageCount,
                current,
                tableQueryResult: { data: tableData },
            },
        } = useTable({
            columns,
            ${r?`
            refineCoreProps: {
                resource: "${e.name}",
            }
            `:""}
        });

        ${u}

        setOptions((prev) => ({
            ...prev,
            meta: {
                ...prev.meta,
                ${p.join(", ")}
            },
        }));

        return (
            <List>
                <ScrollArea>
                    <Table highlightOnHover>
                        <thead>
                            {getHeaderGroups().map((headerGroup) => (
                                <tr key={headerGroup.id}>
                                    {headerGroup.headers.map((header) => {
                                        return (
                                            <th key={header.id}>
                                                {!header.isPlaceholder && (
                                                    flexRender(
                                                        header.column
                                                            .columnDef
                                                            .header,
                                                        header.getContext(),
                                                    )
                                                )}
                                            </th>
                                        );
                                    })}
                                </tr>
                            ))}
                        </thead>
                        <tbody>
                            {getRowModel().rows.map((row) => {
                                return (
                                    <tr key={row.id}>
                                        {row.getVisibleCells().map((cell) => {
                                            return (
                                                <td key={cell.id}>
                                                    {flexRender(
                                                        cell.column.columnDef.cell,
                                                        cell.getContext(),
                                                    )}
                                                </td>
                                            );
                                        })}
                                    </tr>
                                );
                            })}
                        </tbody>
                    </Table>
                </ScrollArea>    
                <br />
                <Pagination
                    position="right"
                    total={pageCount}
                    page={current}
                    onChange={setCurrent}
                />
            </List>
        );
    };
    `},so=Vt({type:"list",additionalScope:[["@refinedev/mantine","RefineMantine",Pp],["@refinedev/react-table","RefineReactTable",kp],["@mantine/core","MantineCore",Ip],["@tanstack/react-table","TanstackReactTable",wp]],codeViewerComponent:Ht,loadingComponent:jt,errorComponent:Qt,renderer:Cu});var $p=K(Jr()),Fp=K(E("@mantine/core"));var xu=({resource:e,fields:t,isCustomPage:r})=>{var P;let n=st((P=e.label)!=null?P:e.name,"create"),a=[["Create","@refinedev/mantine"],["useForm","@refinedev/mantine"]],o={},u=t.filter(d=>(d==null?void 0:d.relation)&&!(d!=null&&d.fieldable)&&(d==null?void 0:d.resource)).filter(Boolean).map(d=>{if((d==null?void 0:d.relation)&&!d.fieldable&&d.resource)return a.push(["useSelect","@refinedev/mantine"]),`
                const { selectProps: ${J(d.key,"SelectProps")} } =
                useSelect({
                    resource: "${d.resource.name}",
                    ${rn(d)}
                });
            `}).filter(Boolean),p=d=>{if(d.relation&&d.resource){o={...o,[d.key]:d.multiple?[]:d.accessor?{[typeof d.accessor=="string"?d.accessor:d.accessor[0]]:""}:""};let C=J(d.key,"SelectProps");return d.multiple?(a.push(["MultiSelect","@mantine/core"]),U`
                    <MultiSelect mt="sm" label="${W(d.key)}" {...getInputProps("${se(d.key,void 0)}")} {...${C}} filterDataOnExactSearchMatch={undefined} />
                `):(a.push(["Select","@mantine/core"]),U`
                <Select mt="sm" label="${W(d.key)}" {...getInputProps("${se(d.key,void 0,d.accessor)}")} {...${C}} />
            `)}},f=d=>{if(d.type==="text"||d.type==="email"||d.type==="date"||d.type==="url")return vr(d.key)||(a.push(["TextInput","@mantine/core"]),o={...o,[d.key]:d.multiple?[]:""},d.multiple)?void 0:U`
                <TextInput mt="sm" label="${W(d.key)}" {...getInputProps("${se(d.key,void 0,d.accessor)}")} />
            `},v=d=>{if(d.type==="image")return U`
            {/* 
                Dropzone component is not included in "@refinedev/mantine" package.
                To use a <Dropzone> component, you can follow the official documentation for Mantine.
                
                Docs: https://mantine.dev/others/dropzone/
            */}
            `},h=d=>{if(d.type==="boolean")return a.push(["Checkbox","@mantine/core"]),o={...o,[d.key]:d.multiple?[]:""},d.multiple?void 0:U`
                <Checkbox mt="sm" label="${W(d.key)}" {...getInputProps("${se(d.key,void 0,d.accessor)}", { type: 'checkbox' })} />
            `},x=d=>{if(d.type==="date"){let C=f(d);return`
                {/* 
                    DatePicker component is not included in "@refinedev/mantine" package.
                    To use a <DatePicker> component, you can follow the official documentation for Mantine.
                    
                    Docs: https://mantine.dev/dates/date-picker/
                */}
                ${C!=null?C:""}
            `}},y=d=>{if(d.type==="richtext")return a.push(["Textarea","@mantine/core"]),o={...o,[d.key]:d.multiple?[]:""},d.multiple?void 0:U`
                <Textarea mt="sm" label="${W(d.key)}" autosize {...getInputProps("${se(d.key,void 0,d.accessor)}")} />
            `},b=d=>{if(d.type==="number")return vr(d.key)||(a.push(["NumberInput","@mantine/core"]),o={...o,[d.key]:d.multiple?[]:""},d.multiple)?void 0:U`
                <NumberInput mt="sm" label="${W(d.key)}" {...getInputProps("${se(d.key,void 0,d.accessor)}")}/>
            `},c=d=>{if(d)return U`
                ${d}
        `},m=t.map(d=>{switch(d==null?void 0:d.type){case"url":case"text":case"email":return c(f(d));case"number":return c(b(d));case"richtext":return c(y(d));case"image":return c(v(d));case"date":return c(x(d));case"boolean":return c(h(d));case"relation":return c(p(d));default:return}});return Tt(a),U`
    ${At(a)}
    
    export const ${n} = () => {
        const { getInputProps, saveButtonProps, setFieldValue, refineCore: { formLoading } } = useForm({
            initialValues: ${JSON.stringify(o)},
            ${r?`refineCoreProps: {
                        resource: "${e.name}",
                        action: "create",  
                    }`:""}
        });
    
        ${u}

        return (
            <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>
                ${m.join("")}
            </Create>
        );
    };
    `},co=Vt({type:"create",additionalScope:[["@refinedev/mantine","RefineMantine",$p],["@mantine/core","MantineCore",Fp]],codeViewerComponent:Ht,loadingComponent:jt,errorComponent:Qt,renderer:xu});var Sp=K(Jr()),Lp=K(E("@mantine/core"));var Pu=({resource:e,fields:t,isCustomPage:r,id:n})=>{var C,k;let a=st((C=e.label)!=null?C:e.name,"edit"),o=J((k=e.label)!=null?k:e.name,"Data"),l=[["Edit","@refinedev/mantine"],["useForm","@refinedev/mantine"]],u={},f=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){l.push(["useSelect","@refinedev/mantine"]);let g=O(o,i.key,i.accessor,!1);i.multiple&&i.accessor&&(g=`${O(o,i.key)}?.map((item: any) => ${O("item",void 0,i.accessor)})`);let s="";return i.multiple&&i.accessor&&(s=`React.useEffect(() => {
                        setFieldValue("${i.key}", ${g});
                    }, [${o}]);`),`
                const { selectProps: ${J(i.key,"SelectProps")} } =
                useSelect({
                    resource: "${i.resource.name}",
                    defaultValue: ${g},
                    ${rn(i)}
                });

                ${s}
            `}}).filter(Boolean),v=i=>{if(i.relation&&i.resource){u={...u,[i.key]:i.multiple?[]:i.accessor?{[typeof i.accessor=="string"?i.accessor:i.accessor[0]]:""}:""};let g=J(i.key,"SelectProps");return i.multiple?(l.push(["MultiSelect","@mantine/core"]),U`
                    <MultiSelect mt="sm" label="${W(i.key)}" {...getInputProps("${se(i.key,void 0)}")} {...${g}} filterDataOnExactSearchMatch={undefined} />
                `):(l.push(["Select","@mantine/core"]),U`
                <Select mt="sm" label="${W(i.key)}" {...getInputProps("${se(i.key,void 0,i.accessor)}")} {...${g}} />
            `)}},h=i=>{if(i.type==="text"||i.type==="email"||i.type==="date"||i.type==="url"){if(l.push(["TextInput","@mantine/core"]),u={...u,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@mantine/core"]);let g=se(i.key,"${index}",i.accessor);return`
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any, index: number) => (
                        <TextInput mt="sm" key={index} label={\`${W(i.key)} \${index + 1} \`} {...getInputProps(\`${g}\`)} />
                    ))}
                </Group>
                `}return U`
                <TextInput mt="sm" ${vr(i.key)?"disabled":""} label="${W(i.key)}" {...getInputProps("${se(i.key,void 0,i.accessor)}")} />
            `}},x=i=>{if(i.type==="image")return U`
            {/* 
                Dropzone component is not included in "@refinedev/mantine" package.
                To use a <Dropzone> component, you can follow the official documentation for Mantine.
                
                Docs: https://mantine.dev/others/dropzone/
            */}
            `},y=i=>{if(i.type==="boolean"){if(l.push(["Checkbox","@mantine/core"]),u={...u,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@mantine/core"]);let g=se(i.key,"${index}",i.accessor);return`
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any, index: number) => (
                        <Checkbox mt="sm" key={index} label={\`${W(i.key)} \${index + 1} \`} {...getInputProps(\`${g}\`, { type: 'checkbox' })} />
                    ))}
                </Group>
                `}return U`
                <Checkbox mt="sm" label="${W(i.key)}" {...getInputProps("${se(i.key,void 0,i.accessor)}", { type: 'checkbox' })} />
            `}},b=i=>{if(i.type==="date")return`
                {/* 
                    DatePicker component is not included in "@refinedev/mantine" package.
                    To use a <DatePicker> component, you can follow the official documentation for Mantine.
                    
                    Docs: https://mantine.dev/dates/date-picker/
                */}
                ${h(i)}
            `},c=i=>{if(i.type==="richtext"){if(l.push(["Textarea","@mantine/core"]),u={...u,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@mantine/core"]);let g=se(i.key,"${index}",i.accessor);return`
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any, index: number) => (
                        <Textarea mt="sm" key={index} label={\`${W(i.key)} \${index + 1} \`} {...getInputProps(\`${g}\`)} />
                    ))}
                </Group>
                `}return U`
                <Textarea mt="sm" label="${W(i.key)}" autosize {...getInputProps("${se(i.key,void 0,i.accessor)}")} />
            `}},m=i=>{if(i.type==="number"){if(l.push(["NumberInput","@mantine/core"]),u={...u,[i.key]:i.multiple?[]:""},i.multiple){l.push(["Group","@mantine/core"]);let g=se(i.key,"${index}",i.accessor);return`
                <Group spacing="xs">
                    {${O(o,i.key)}?.map((item: any, index: number) => (
                        <NumberInput mt="sm" key={index} label={\`${W(i.key)} \${index + 1} \`} {...getInputProps(\`${g}\`)} />
                    ))}
                </Group>
                `}return U`
                <NumberInput mt="sm" ${vr(i.key)?"disabled":""} label="${W(i.key)}" {...getInputProps("${se(i.key,void 0,i.accessor)}")}/>
            `}},P=i=>{if(i)return U`
                ${i}
        `},d=t.map(i=>{switch(i==null?void 0:i.type){case"url":case"text":case"email":return P(h(i));case"number":return P(m(i));case"richtext":return P(c(i));case"image":return P(x(i));case"date":return P(b(i));case"boolean":return P(y(i));case"relation":return P(v(i));default:return}});return Tt(l),U`
    ${At(l)}
    
    export const ${a} = () => {
        const { getInputProps, saveButtonProps, setFieldValue, refineCore: { queryResult } } = useForm({
            initialValues: ${JSON.stringify(u)},
            ${r?`refineCoreProps: {
                        resource: "${e.name}",
                        id: ${n},
                        action: "edit",  
                    }`:""}
        });
    
        const ${o} = queryResult?.data?.data;
    
        ${f}

        return (
            <Edit saveButtonProps={saveButtonProps}>
                ${d.join("")}
            </Edit>
        );
    };
    `},mo=Vt({type:"edit",additionalScope:[["@refinedev/mantine","RefineMantine",Sp],["@mantine/core","MantineCore",Lp]],codeViewerComponent:Ht,loadingComponent:jt,errorComponent:Qt,renderer:Pu});var qg=({action:e,id:t,...r})=>{let{action:n,id:a}=(0,ku.useResource)();switch(e!=null?e:n){case"show":return an.default.createElement(io,{...r,id:t!=null?t:a});case"create":return an.default.createElement(co,{...r,id:t!=null?t:a});case"edit":return an.default.createElement(mo,{...r,id:t!=null?t:a});default:return an.default.createElement(so,{...r,id:t!=null?t:a})}};})();
//# sourceMappingURL=mantine.js.map