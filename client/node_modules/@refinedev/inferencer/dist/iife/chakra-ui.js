(()=>{var wu=Object.create;var po=Object.defineProperty;var $u=Object.getOwnPropertyDescriptor;var Su=Object.getOwnPropertyNames;var Fu=Object.getPrototypeOf,Lu=Object.prototype.hasOwnProperty;var h=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Mr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var qu=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Su(t))!Lu.call(e,n)&&n!==r&&po(e,n,{get:()=>t[n],enumerable:!(a=$u(t,n))||a.enumerable});return e};var j=(e,t,r)=>(r=e!=null?wu(Fu(e)):{},qu(t||!e||!e.__esModule?po(r,"default",{value:e,enumerable:!0}):r,e));var V=Mr((zp,Gl)=>{var Au=Object.create,ya=Object.defineProperty,Nu=Object.getOwnPropertyDescriptor,Bu=Object.getOwnPropertyNames,Du=Object.getPrototypeOf,Mu=Object.prototype.hasOwnProperty,Tu=(e,t)=>{for(var r in t)ya(e,r,{get:t[r],enumerable:!0})},Xo=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Bu(t))!Mu.call(e,n)&&n!==r&&ya(e,n,{get:()=>t[n],enumerable:!(a=Nu(t,n))||a.enumerable});return e},R=(e,t,r)=>(r=e!=null?Au(Du(e)):{},Xo(t||!e||!e.__esModule?ya(r,"default",{value:e,enumerable:!0}):r,e)),Ru=e=>Xo(ya({},"__esModule",{value:!0}),e),el={};Tu(el,{AuthPage:()=>Xc,Authenticated:()=>pd,CanAccess:()=>vd,ErrorComponent:()=>Kc,GitHubBanner:()=>yd,LayoutWrapper:()=>cd,LoginPage:()=>Vl,ReadyPage:()=>Ql,Refine:()=>sd,ResourceContext:()=>Hr,RouteChangeHandler:()=>Kl,UndoableQueue:()=>_l,WelcomePage:()=>ed,createTreeView:()=>cs,file2Base64:()=>rs,getDefaultFilter:()=>ts,getDefaultSortOrder:()=>es,getNextPageParam:()=>yl,getPreviousPageParam:()=>hl,handleUseParams:()=>as,importCSVMapper:()=>ul,legacyResourceTransform:()=>bl,matchResourceFromRoute:()=>ss,parseTableParams:()=>sn,parseTableParamsFromQuery:()=>Xu,pickNotDeprecated:()=>q,routeGenerator:()=>fl,setInitialFilters:()=>tn,setInitialSorters:()=>rn,stringifyTableParams:()=>Xa,unionFilters:()=>Tr,unionSorters:()=>en,useActiveAuthProvider:()=>be,useApiUrl:()=>Fs,useAuthenticated:()=>_u,useBack:()=>Hl,useBreadcrumb:()=>Vc,useCan:()=>Wl,useCanWithoutCache:()=>qc,useCancelNotification:()=>kr,useCheckError:()=>Ku,useCreate:()=>fn,useCreateMany:()=>Il,useCustom:()=>qs,useCustomMutation:()=>Ns,useDataProvider:()=>we,useDelete:()=>xs,useDeleteMany:()=>Ss,useExport:()=>pc,useForgotPassword:()=>ol,useForm:()=>fc,useGetIdentity:()=>al,useGetLocale:()=>nc,useGetToPath:()=>bn,useGo:()=>Ye,useHandleNotification:()=>He,useImport:()=>bc,useInfiniteList:()=>Ts,useInvalidate:()=>tr,useIsAuthenticated:()=>ln,useIsExistAuthentication:()=>il,useLink:()=>Ea,useList:()=>mn,useLiveMode:()=>$l,useLog:()=>er,useLogList:()=>Hc,useLogin:()=>on,useLogout:()=>Ja,useMany:()=>kl,useMenu:()=>_c,useModal:()=>Ec,useMutationMode:()=>xr,useNavigation:()=>Ze,useNotification:()=>Dt,useOnError:()=>Oe,useOne:()=>pn,useParse:()=>Bl,useParsed:()=>Ge,usePermissions:()=>zu,usePublish:()=>Xt,useRedirectionAfterSubmission:()=>Ol,useRefineContext:()=>hn,useRegister:()=>nl,useResource:()=>ne,useResourceSubscription:()=>Or,useResourceWithRoute:()=>ba,useRouterContext:()=>$e,useRouterType:()=>ge,useSelect:()=>Bc,useSetLocale:()=>ac,useShow:()=>gc,useSubscription:()=>zs,useSyncWithLocation:()=>Rl,useTable:()=>Mc,useTitle:()=>sc,useToPath:()=>Cc,useTranslate:()=>ie,useUpdate:()=>xl,useUpdateMany:()=>ws,useUpdatePassword:()=>ll,useWarnAboutChange:()=>yn,userFriendlyResourceName:()=>cn});Gl.exports=Ru(el);var Yt=R(h("react")),Er=R(h("react")),tl=Er.default.createContext({}),Ou=({children:e,isProvided:t,...r})=>{let{replace:a}=Ze(),n=async m=>{var v;try{return await((v=r.login)==null?void 0:v.call(r,m))}catch(g){return Promise.reject(g)}},o=async m=>{var v;try{return await((v=r.register)==null?void 0:v.call(r,m))}catch(g){return Promise.reject(g)}},l=async m=>{var v;try{return await((v=r.logout)==null?void 0:v.call(r,m))}catch(g){return Promise.reject(g)}},d=async m=>{var v;try{return await((v=r.checkAuth)==null?void 0:v.call(r,m)),Promise.resolve()}catch(g){return g!=null&&g.redirectPath&&a(g.redirectPath),Promise.reject(g)}};return Er.default.createElement(tl.Provider,{value:{...r,login:n,logout:l,checkAuth:d,register:o,isProvided:t}},e)},rl=Er.default.createContext({}),Hu=({children:e,isProvided:t,...r})=>{let a=async v=>{var g;try{return await((g=r.login)==null?void 0:g.call(r,v))}catch(y){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",y),Promise.reject(y)}},n=async v=>{var g;try{return await((g=r.register)==null?void 0:g.call(r,v))}catch(y){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",y),Promise.reject(y)}},o=async v=>{var g;try{return await((g=r.logout)==null?void 0:g.call(r,v))}catch(y){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",y),Promise.reject(y)}},l=async v=>{var g;try{let y=await((g=r.check)==null?void 0:g.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",y),Promise.reject(y)}},d=async v=>{var g;try{let y=await((g=r.forgotPassword)==null?void 0:g.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",y),Promise.reject(y)}},m=async v=>{var g;try{let y=await((g=r.updatePassword)==null?void 0:g.call(r,v));return Promise.resolve(y)}catch(y){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",y),Promise.reject(y)}};return Er.default.createElement(rl.Provider,{value:{...r,login:a,logout:o,check:l,register:n,forgotPassword:d,updatePassword:m,isProvided:t}},e)},_e=()=>Er.default.useContext(tl),ot=()=>Er.default.useContext(rl),fo=h("@tanstack/react-query");function zu({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=_e(),{getPermissions:a}=ot(),n=(0,fo.useQuery)(["usePermissions"],a!=null?a:()=>Promise.resolve(void 0),{enabled:!e&&!!a,...e?{}:t}),o=(0,fo.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?o:n}var vo=h("@tanstack/react-query");function al({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=_e(),{getIdentity:a}=ot(),n=(0,vo.useQuery)(["getUserIdentity"],a!=null?a:()=>Promise.resolve({}),{enabled:!e&&!!a,retry:!1,...e===!0?{}:t}),o=(0,vo.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?o:n}var go=h("@tanstack/react-query"),Uu=h("@tanstack/react-query"),nn=()=>{let e=(0,Uu.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function Ja({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ge(),n=Ye(),{push:o}=Ze(),{open:l,close:d}=Dt(),{logout:m}=_e(),{logout:v}=ot(),g=(0,go.useMutation)(["useLogout"],v,{onSuccess:(C,u)=>{let{success:p,error:c,redirectTo:i}=C,{redirectPath:b}=u!=null?u:{},k=b!=null?b:i;p&&(d==null||d("useLogout-error")),(c||!p)&&(l==null||l(Ha(c))),k!==!1&&(a==="legacy"?o(k!=null?k:"/login"):k&&n({to:k})),r()},onError:C=>{l==null||l(Ha(C))},...e===!0?{}:t}),y=(0,go.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],m,{onSuccess:(C,u)=>{var p;let c=(p=u==null?void 0:u.redirectPath)!=null?p:C;if(c!==!1){if(c){a==="legacy"?o(c):n({to:c});return}a==="legacy"?o("/login"):n({to:"/login"}),r()}},onError:C=>{l==null||l(Ha(C))},...e?t:{}});return e?y:g}var Ha=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),yo=h("@tanstack/react-query"),Wu=R(h("qs")),ju=R(h("react"));function on({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ge(),n=Ye(),{replace:o}=Ze(),l=Ge(),{useLocation:d}=$e(),{search:m}=d(),{close:v,open:g}=Dt(),{login:y}=_e(),{login:C}=ot(),u=ju.default.useMemo(()=>{var i;return a==="legacy"?Wu.default.parse(m,{ignoreQueryPrefix:!0}).to:(i=l.params)==null?void 0:i.to},[a,l.params,m]),p=(0,yo.useMutation)(["useLogin"],C,{onSuccess:({success:i,redirectTo:b,error:k})=>{i&&(v==null||v("login-error")),(k||!i)&&(g==null||g(za(k))),u&&i?a==="legacy"?o(u):n({to:u,type:"replace"}):b?a==="legacy"?o(b):n({to:b,type:"replace"}):a==="legacy"&&o("/"),setTimeout(()=>{r()})},onError:i=>{g==null||g(za(i))},...e===!0?{}:t}),c=(0,yo.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],y,{onSuccess:i=>{u&&o(u),i!==!1&&!u&&(typeof i=="string"?a==="legacy"?o(i):n({to:i,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"})),v==null||v("login-error"),setTimeout(()=>{r()})},onError:i=>{g==null||g(za(i))},...e?t:{}});return e?c:p}var za=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),ho=h("@tanstack/react-query");function nl({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=nn(),a=ge(),n=Ye(),{replace:o}=Ze(),{register:l}=_e(),{register:d}=ot(),{close:m,open:v}=Dt(),g=(0,ho.useMutation)(["useRegister"],d,{onSuccess:({success:C,redirectTo:u,error:p})=>{C&&(m==null||m("register-error")),(p||!C)&&(v==null||v(Ua(p))),u?a==="legacy"?o(u):n({to:u,type:"replace"}):a==="legacy"&&o("/"),r()},onError:C=>{v==null||v(Ua(C))},...e===!0?{}:t}),y=(0,ho.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],l,{onSuccess:C=>{C!==!1&&(C?a==="legacy"?o(C):n({to:C,type:"replace"}):a==="legacy"?o("/"):n({to:"/",type:"replace"}),m==null||m("register-error")),r()},onError:C=>{v==null||v(Ua(C))},...e?t:{}});return e?y:g}var Ua=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),bo=h("@tanstack/react-query");function ol({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ge(),a=Ye(),{replace:n}=Ze(),{forgotPassword:o}=_e(),{forgotPassword:l}=ot(),{close:d,open:m}=Dt(),v=(0,bo.useMutation)(["useForgotPassword"],l,{onSuccess:({success:y,redirectTo:C,error:u})=>{y&&(d==null||d("forgot-password-error")),(u||!y)&&(m==null||m(Wa(u))),C&&(r==="legacy"?n(C):a({to:C,type:"replace"}))},onError:y=>{m==null||m(Wa(y))},...e===!0?{}:t}),g=(0,bo.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],o,{onSuccess:y=>{y!==!1&&y&&(r==="legacy"?n(y):a({to:y,type:"replace"})),d==null||d("forgot-password-error")},onError:y=>{m==null||m(Wa(y))},...e?t:{}});return e?g:v}var Wa=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),Vu=R(h("react")),Eo=h("@tanstack/react-query"),Qu=R(h("qs"));function ll({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ge(),a=Ye(),{replace:n}=Ze(),{updatePassword:o}=_e(),{updatePassword:l}=ot(),{close:d,open:m}=Dt(),v=Ge(),{useLocation:g}=$e(),{search:y}=g(),C=Vu.default.useMemo(()=>{var c;if(r==="legacy"){let i=Qu.default.parse(y,{ignoreQueryPrefix:!0});return i!=null?i:{}}else return(c=v.params)!=null?c:{}},[y,v,r]),u=(0,Eo.useMutation)(["useUpdatePassword"],async c=>l==null?void 0:l({...C,...c}),{onSuccess:({success:c,redirectTo:i,error:b})=>{c&&(d==null||d("update-password-error")),(b||!c)&&(m==null||m(ja(b))),i&&(r==="legacy"?n(i):a({to:i,type:"replace"}))},onError:c=>{m==null||m(ja(c))},...e===!0?{}:t}),p=(0,Eo.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async c=>o==null?void 0:o({...C,...c}),{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?n(c):a({to:c,type:"replace"})),d==null||d("update-password-error")},onError:c=>{m==null||m(ja(c))},...e?t:{}});return e?p:u}var ja=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),ko=h("@tanstack/react-query");function ln({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=_e(),{check:a}=ot(),n=(0,ko.useQuery)(["useAuthenticated",t],async()=>{var l;return(l=await(a==null?void 0:a(t)))!=null?l:{}},{retry:!1,enabled:!e}),o=(0,ko.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var l;return(l=await(r==null?void 0:r(t)))!=null?l:{}},{retry:!1,enabled:e});return e?o:n}var _u=ln,Co=h("@tanstack/react-query");function Oe({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ge(),r=Ye(),{replace:a}=Ze(),{checkError:n}=_e(),{onError:o}=ot(),{mutate:l}=Ja({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:d}=Ja({v3LegacyAuthProviderCompatible:Boolean(e)}),m=(0,Co.useMutation)(["useCheckError"],o,{onSuccess:({logout:g,redirectTo:y})=>{if(g){d({redirectPath:y});return}if(y){t==="legacy"?a(y):r({to:y,type:"replace"});return}}}),v=(0,Co.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],n,{onError:g=>{l({redirectPath:g})}});return e?v:m}var Ku=Oe,il=()=>{let{isProvided:e}=_e(),{isProvided:t}=ot();return Boolean(t||e)},Gu=h("@tanstack/react-query"),Va=e=>e/1e3,Yu=R(h("lodash/zip")),Zu=R(h("lodash/fromPairs")),ul=(e,t=r=>r)=>{let[r,...a]=e;return a.map(n=>(0,Zu.default)((0,Yu.default)(r,n))).map((n,o,l)=>t.call(void 0,n,o,l))},xo=R(h("pluralize")),un=R(h("qs")),sl=R(h("lodash/unionWith")),cl=R(h("lodash/differenceWith")),Ju=R(h("warn-once")),sn=e=>{var t;let{current:r,pageSize:a,sorter:n,sorters:o,filters:l}=un.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:a&&Number(a),parsedSorter:(t=q(o,n))!=null?t:[],parsedFilters:l!=null?l:[]}},Xu=e=>{let t=un.default.stringify(e);return sn(`/${t}`)},Xa=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:a,sorters:n,filters:o,...l}=e;return un.default.stringify({...l,...r||{},sorters:q(n,a),filters:o},t)},dl=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,ml=(e,t)=>e.field==t.field,Tr=(e,t,r=[])=>(t.filter(a=>(a.operator==="or"||a.operator==="and")&&!a.key).length>1&&(0,Ju.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,sl.default)(e,t,r,dl).filter(a=>a.value!==void 0&&a.value!==null&&(a.operator!=="or"||a.operator==="or"&&a.value.length!==0)&&(a.operator!=="and"||a.operator==="and"&&a.value.length!==0))),en=(e,t)=>(0,sl.default)(e,t,ml).filter(r=>r.order!==void 0&&r.order!==null),tn=(e,t)=>[...(0,cl.default)(t,e,dl),...e],rn=(e,t)=>[...(0,cl.default)(t,e,ml),...e],es=(e,t)=>{if(!t)return;let r=t.find(a=>a.field===e);if(r)return r.order},ts=(e,t,r="eq")=>{let a=t==null?void 0:t.find(n=>{if(n.operator!=="or"&&n.operator!=="and"&&"field"in n){let{operator:o,field:l}=n;return l===e&&o===r}});if(a)return a.value||[]},rs=e=>new Promise((t,r)=>{let a=new FileReader,n=()=>{a.result&&(a.removeEventListener("load",n,!1),t(a.result))};a.addEventListener("load",n,!1),a.readAsDataURL(e.originFileObj),a.onerror=o=>(a.removeEventListener("load",n,!1),r(o))}),cn=(e="",t)=>{let r=pa(e);return t==="singular"?xo.default.singular(r):xo.default.plural(r)},as=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,q=(...e)=>e.find(t=>typeof t<"u"),Ke=(e,t,r,a)=>{let n=t||"default",o={all:[n],resourceAll:[n,e||""],list:l=>[...o.resourceAll,"list",{...l,...q(r,a)||{}}],many:l=>[...o.resourceAll,"getMany",l&&l.map(String),{...q(r,a)||{}}].filter(d=>d!==void 0),detail:l=>[...o.resourceAll,"detail",l==null?void 0:l.toString(),{...q(r,a)||{}}],logList:l=>["logList",e,l,a].filter(d=>d!==void 0)};return o},ns=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),dn=e=>e.startsWith(":"),br=e=>e.split("/").filter(t=>t!==""),os=(e,t)=>{let r=br(e),a=br(t);return r.length===a.length},wt=e=>e.replace(/^\/|\/$/g,""),ls=(e,t)=>{let r=wt(e),a=wt(t);if(!os(r,a))return!1;let n=br(r);return br(a).every((o,l)=>dn(o)||o===n[l])},is=(e,t,r)=>{let a=wt(r||""),n=`${a}${a?"/":""}${e}`;return t==="list"?n=`${n}`:t==="create"?n=`${n}/create`:t==="edit"?n=`${n}/edit/:id`:t==="show"?n=`${n}/show/:id`:t==="clone"&&(n=`${n}/clone/:id`),`/${n.replace(/^\//,"")}`},Nt=(e,t)=>{var r,a;let n=q((r=e.meta)==null?void 0:r.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!n)return;let o=t.find(l=>{var d;return((d=l.identifier)!=null?d:l.name)===n});return o!=null?o:{name:n}},pl=(e,t,r)=>{let a=[],n=Nt(e,t);for(;n;)a.push(n),n=Nt(n,t);if(a.length!==0)return`/${a.reverse().map(o=>{var l,d;let m=r&&(d=(l=o.options)==null?void 0:l.route)!=null?d:o.name;return wt(m)}).join("/")}`},Re=(e,t,r)=>{let a=[],n=["list","show","edit","create","clone"],o=pl(e,t,r);return n.forEach(l=>{var d,m,v,g;let y=r&&l==="clone"?e.create:e[l],C;typeof y=="function"||r?C=is(r&&(g=(v=(d=e.meta)==null?void 0:d.route)!=null?v:(m=e.options)==null?void 0:m.route)!=null?g:e.name,l,r?o:void 0):typeof y=="string"?C=y:typeof y=="object"&&(C=y.path),C&&a.push({action:l,resource:e,route:`/${C.replace(/^\//,"")}`})}),a},us=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let a=e.map(l=>({...l,splitted:br(wt(l.route))})),n=(r=(t=a[0])==null?void 0:t.splitted.length)!=null?r:0,o=[...a];for(let l=0;l<n;l++){let d=o.filter(m=>!dn(m.splitted[l]));if(d.length!==0){if(d.length===1){o=d;break}o=d}}return o[0]},ss=(e,t)=>{let r=t.flatMap(n=>Re(n,t)).filter(n=>ls(e,n.route)),a=us(r);return{found:!!a,resource:a==null?void 0:a.resource,action:a==null?void 0:a.action,matchedRoute:a==null?void 0:a.route}},fl=(e,t)=>{var r,a,n;let o,l=pl(e,t,!0);if(l){let d=q(e.meta,e.options);o=`${l}/${(r=d==null?void 0:d.route)!=null?r:e.name}`}else o=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${o.replace(/^\//,"")}`},cs=e=>{var t,r,a;let n=[],o={},l={},d,m;for(let v=0;v<e.length;v++){d=e[v];let g=(a=(r=d.route)!=null?r:(t=q(d==null?void 0:d.meta,d.options))==null?void 0:t.route)!=null?a:"";o[g]=d,o[g].children=[],l[d.name]=d,l[d.name].children=[]}for(let v in o)o.hasOwnProperty(v)&&(m=o[v],m.parentName&&l[m.parentName]?l[m.parentName].children.push(m):n.push(m));return n},pa=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),vl=R(h("react")),ds=R(h("react")),gl=({children:e})=>ds.default.createElement("div",null,e),It={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},Bt=vl.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:gl,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:It}),ms=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,undoableTimeout:n,children:o,DashboardPage:l,Title:d,Layout:m=gl,Header:v,Sider:g,Footer:y,OffLayoutArea:C,LoginPage:u=Vl,catchAll:p,liveMode:c="off",onLiveEvent:i,options:b})=>vl.default.createElement(Bt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:a,Title:d,undoableTimeout:n,Layout:m,Header:v,Sider:g,Footer:y,OffLayoutArea:C,DashboardPage:l,LoginPage:u,catchAll:p,liveMode:c,onLiveEvent:i,options:b}},o),ps=({options:e,disableTelemetry:t,liveMode:r,mutationMode:a,reactQueryClientConfig:n,reactQueryDevtoolConfig:o,syncWithLocation:l,undoableTimeout:d,warnWhenUnsavedChanges:m}={})=>{var v,g,y,C,u,p,c,i,b,k,x,I,s,E,f,P,w,S,F,N,$,A,T,B;let L={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(g=(v=e==null?void 0:e.mutationMode)!=null?v:a)!=null?g:It.mutationMode,undoableTimeout:(C=(y=e==null?void 0:e.undoableTimeout)!=null?y:d)!=null?C:It.undoableTimeout,syncWithLocation:(p=(u=e==null?void 0:e.syncWithLocation)!=null?u:l)!=null?p:It.syncWithLocation,warnWhenUnsavedChanges:(i=(c=e==null?void 0:e.warnWhenUnsavedChanges)!=null?c:m)!=null?i:It.warnWhenUnsavedChanges,liveMode:(k=(b=e==null?void 0:e.liveMode)!=null?b:r)!=null?k:It.liveMode,redirect:{afterCreate:(I=(x=e==null?void 0:e.redirect)==null?void 0:x.afterCreate)!=null?I:It.redirect.afterCreate,afterClone:(E=(s=e==null?void 0:e.redirect)==null?void 0:s.afterClone)!=null?E:It.redirect.afterClone,afterEdit:(P=(f=e==null?void 0:e.redirect)==null?void 0:f.afterEdit)!=null?P:It.redirect.afterEdit}},O=(S=(w=e==null?void 0:e.disableTelemetry)!=null?w:t)!=null?S:!1,D={clientConfig:($=(N=(F=e==null?void 0:e.reactQuery)==null?void 0:F.clientConfig)!=null?N:n)!=null?$:{},devtoolConfig:(B=(T=(A=e==null?void 0:e.reactQuery)==null?void 0:A.devtoolConfig)!=null?T:o)!=null?B:{}};return{optionsWithDefaults:L,disableTelemetryWithDefault:O,reactQueryWithDefaults:D}},fs=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},Io=async(e,t,r)=>{let a=[];for(let[n,o]of e.entries())try{let l=await o();a.push(t(l,n))}catch(l){a.push(r(l,n))}return a},ve=(e,t=[],r=!1)=>{if(!!e)return r?t.find(n=>{var o;return wt((o=n.route)!=null?o:"")===wt(e)})||t.find(n=>n.name===e):t.find(a=>{var n;return((n=a.identifier)!=null?n:a.name)===e})},Q=(e,t,r)=>{if(t)return t;let a=ve(e,r),n=q(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"},ha=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),yl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let a=(t==null?void 0:t.current)||1,n=(t==null?void 0:t.pageSize)||10,o=Math.ceil((e.total||0)/n);return a<o?Number(a)+1:void 0},hl=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let a=(t==null?void 0:t.current)||1;return a===1?void 0:a-1},bl=e=>{let t=[];return e==null||e.forEach(r=>{var a,n,o;t.push({...r,label:(o=(a=r.meta)==null?void 0:a.label)!=null?o:(n=r.options)==null?void 0:n.label,route:fl(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},vs=e=>br(wt(e)).flatMap(t=>dn(t)?[t.slice(1)]:[]),gs=(e,t={},r={})=>e.reduce((a,n)=>{var o;let l=r[n]||((o=t.params)==null?void 0:o[n])||(n==="id"?t.id:void 0)||(n==="action"?t.action:void 0)||(n==="resource"?t.resource:void 0);return typeof l<"u"&&(a[n]=l),a},{}),Qe=(e,t={},r={})=>{let a=vs(e),n=gs(a,t,r);return e.replace(/:([^\/]+)/g,(o,l)=>{let d=n[l];return typeof d<"u"?`${d}`:o})},be=()=>{let e=_e(),t=ot();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},El=({hasPagination:e,pagination:t,configPagination:r}={})=>{var a,n,o;let l=e===!1?"off":"server",d=(a=t==null?void 0:t.mode)!=null?a:l,m=(n=q(t==null?void 0:t.current,r==null?void 0:r.current))!=null?n:1,v=(o=q(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?o:10;return{current:m,pageSize:v,mode:d}},mn=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:d,errorNotification:m,meta:v,metaData:g,liveMode:y,onLiveEvent:C,liveParams:u,dataProviderName:p})=>{let{resources:c}=ne(),i=we(),b=ie(),k=be(),{mutate:x}=Oe({v3LegacyAuthProviderCompatible:Boolean(k==null?void 0:k.isLegacy)}),I=He(),s=Q(e,p,c),E=q(v,g),f=q(r,t==null?void 0:t.filters),P=q(o,t==null?void 0:t.sort),w=q(a,t==null?void 0:t.hasPagination),S=El({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=S.mode==="server",N={meta:E,metaData:E,filters:f,hasPagination:F,pagination:S,sorters:P,config:{...t,sort:P}},$=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,A=Ke(e,s,E,E),{getList:T}=i(s);return Or({resource:e,types:["*"],params:{meta:E,metaData:E,pagination:S,hasPagination:F,sort:P,sorters:P,filters:f,subscriptionType:"useList",...u},channel:`resources/${e}`,enabled:$,liveMode:y,onLiveEvent:C}),(0,Gu.useQuery)(A.list({filters:f,hasPagination:F,...F&&{pagination:S},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:B,pageParam:L,signal:O})=>T({resource:e,pagination:S,hasPagination:F,filters:f,sort:P,sorters:P,meta:{...E||{},queryContext:{queryKey:B,pageParam:L,signal:O}},metaData:{...E||{},queryContext:{queryKey:B,pageParam:L,signal:O}}}),{...l,enabled:typeof(l==null?void 0:l.enabled)<"u"?l==null?void 0:l.enabled:!!e,select:B=>{var L;let O=B,{current:D,mode:X,pageSize:_}=S;return X==="client"&&(O={...O,data:O.data.slice((D-1)*_,D*_),total:O.total}),l!=null&&l.select?(L=l==null?void 0:l.select)==null?void 0:L.call(l,O):O},onSuccess:B=>{var L;(L=l==null?void 0:l.onSuccess)==null||L.call(l,B);let O=typeof d=="function"?d(B,N,e):d;I(O)},onError:B=>{var L;x(B),(L=l==null?void 0:l.onError)==null||L.call(l,B);let O=typeof m=="function"?m(B,N,e):m;I(O,{key:`${e}-useList-notification`,message:b("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})}})},ys=h("@tanstack/react-query"),pn=({resource:e,id:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:d,onLiveEvent:m,liveParams:v,dataProviderName:g})=>{let{resources:y}=ne(),C=we(),u=Ke(e,Q(e,g,y),q(o,l),q(o,l)),{getOne:p}=C(Q(e,g,y)),c=ie(),i=be(),{mutate:b}=Oe({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),k=He();return Or({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:q(o,l),metaData:q(o,l),subscriptionType:"useOne",...v},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:d,onLiveEvent:m}),(0,ys.useQuery)(u.detail(t),({queryKey:x,pageParam:I,signal:s})=>p({resource:e,id:t,meta:{...q(o,l)||{},queryContext:{queryKey:x,pageParam:I,signal:s}},metaData:{...q(o,l)||{},queryContext:{queryKey:x,pageParam:I,signal:s}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:x=>{var I;(I=r==null?void 0:r.onSuccess)==null||I.call(r,x);let s=typeof a=="function"?a(x,{id:t,...q(o,l)||{}},e):a;k(s)},onError:x=>{var I;b(x),(I=r==null?void 0:r.onError)==null||I.call(r,x);let s=typeof n=="function"?n(x,{id:t,...q(o,l)||{}},e):n;k(s,{key:`${t}-${e}-getOne-notification`,message:c("notifications.error",{statusCode:x.statusCode},`Error (status code: ${x.statusCode})`),description:x.message,type:"error"})}})},hs=h("@tanstack/react-query"),kl=({resource:e,ids:t,queryOptions:r,successNotification:a,errorNotification:n,meta:o,metaData:l,liveMode:d,onLiveEvent:m,liveParams:v,dataProviderName:g})=>{let{resources:y}=ne(),C=we(),u=Ke(e,Q(e,g,y),q(o,l),q(o,l)),{getMany:p,getOne:c}=C(Q(e,g,y)),i=ie(),b=be(),{mutate:k}=Oe({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),x=He(),I=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Or({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:q(o,l),metaData:q(o,l),subscriptionType:"useMany",...v},channel:`resources/${e}`,enabled:I,liveMode:d,onLiveEvent:m}),(0,hs.useQuery)(u.many(t),({queryKey:s,pageParam:E,signal:f})=>p?p({resource:e,ids:t,metaData:{...q(o,l)||{},queryContext:{queryKey:s,pageParam:E,signal:f}}}):ha(t.map(P=>c({resource:e,id:P,metaData:{...q(o,l)||{},queryContext:{queryKey:s,pageParam:E,signal:f}}}))),{...r,onSuccess:s=>{var E;(E=r==null?void 0:r.onSuccess)==null||E.call(r,s);let f=typeof a=="function"?a(s,t,e):a;x(f)},onError:s=>{var E;k(s),(E=r==null?void 0:r.onError)==null||E.call(r,s);let f=typeof n=="function"?n(s,t,e):n;x(f,{key:`${t[0]}-${e}-getMany-notification`,message:i("notifications.error",{statusCode:s.statusCode},`Error (status code: ${s.statusCode})`),description:s.message,type:"error"})}})},Po=h("@tanstack/react-query"),fa=R(h("react")),Qa=R(h("lodash/isEqual")),Cl=fa.default.createContext({notifications:[],notificationDispatch:()=>!1}),bs=[],Es=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Qa.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Qa.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Qa.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},ks=({children:e})=>{let[t,r]=(0,fa.useReducer)(Es,bs),a={notifications:t,notificationDispatch:r};return fa.default.createElement(Cl.Provider,{value:a},e,typeof window<"u"&&t.map(n=>fa.default.createElement(_l,{key:`${n.id}-${n.resource}-queue`,notification:n})))},wo=R(h("pluralize")),xl=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,Po.useQueryClient)(),a=we(),{mutationMode:n,undoableTimeout:o}=xr(),l=ie(),d=be(),{mutate:m}=Oe({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),v=Xt(),{log:g}=er(),{notificationDispatch:y}=kr(),C=He(),u=tr();return(0,Po.useMutation)(({id:p,values:c,resource:i,mutationMode:b,undoableTimeout:k,onCancel:x,meta:I,metaData:s,dataProviderName:E})=>{let f=b!=null?b:n,P=k!=null?k:o;return f!=="undoable"?a(Q(i,E,t)).update({resource:i,id:p,variables:c,meta:q(I,s),metaData:q(I,s)}):new Promise((w,S)=>{let F=()=>{a(Q(i,E,t)).update({resource:i,id:p,variables:c,meta:q(I,s),metaData:q(I,s)}).then($=>w($)).catch($=>S($))},N=()=>{S({message:"mutationCancelled"})};x&&x(N),y({type:"ADD",payload:{id:p,resource:i,cancelMutation:N,doMutation:F,seconds:P,isSilent:!!x}})})},{onMutate:async({resource:p,id:c,mutationMode:i,values:b,dataProviderName:k})=>{let x=Ke(p,Q(p,k,t)),I=r.getQueriesData(x.resourceAll),s=i!=null?i:n;return await r.cancelQueries(x.resourceAll,void 0,{silent:!0}),s!=="pessimistic"&&(r.setQueriesData(x.list(),E=>{if(!E)return null;let f=E.data.map(P=>{var w;return((w=P.id)==null?void 0:w.toString())===(c==null?void 0:c.toString())?{id:c,...P,...b}:P});return{...E,data:f}}),r.setQueriesData(x.many(),E=>{if(!E)return null;let f=E.data.map(P=>{var w;return((w=P.id)==null?void 0:w.toString())===(c==null?void 0:c.toString())&&(P={id:c,...P,...b}),P});return{...E,data:f}}),r.setQueriesData(x.detail(c),E=>E?{...E,data:{...E.data,...b}}:null)),{previousQueries:I,queryKey:x}},onSettled:(p,c,{id:i,resource:b,dataProviderName:k,invalidates:x=["list","many","detail"]})=>{u({resource:b,dataProviderName:Q(b,k,t),invalidates:x,id:i}),y({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(p,{id:c,resource:i,successNotification:b,dataProviderName:k,values:x,meta:I,metaData:s},E)=>{var f;let P=wo.default.singular(i),w=typeof b=="function"?b(p,{id:c,values:x},i):b;C(w,{key:`${c}-${i}-notification`,description:l("notifications.success","Successful"),message:l("notifications.editSuccess",{resource:l(`${i}.${i}`,P)},`Successfully updated ${P}`),type:"success"}),v==null||v({channel:`resources/${i}`,type:"updated",payload:{ids:(f=p.data)!=null&&f.id?[p.data.id]:void 0},date:new Date});let S;if(E){let T=r.getQueryData(E.queryKey.detail(c));S=Object.keys(x||{}).reduce((B,L)=>{var O;return B[L]=(O=T==null?void 0:T.data)==null?void 0:O[L],B},{})}let{fields:F,operation:N,variables:$,...A}=q(I,s)||{};g==null||g.mutate({action:"update",resource:i,data:x,previousData:S,meta:{id:c,dataProviderName:Q(i,k,t),...A}})},onError:(p,{id:c,resource:i,errorNotification:b,values:k},x)=>{if(x)for(let I of x.previousQueries)r.setQueryData(I[0],I[1]);if(p.message!=="mutationCancelled"){m==null||m(p);let I=wo.default.singular(i),s=typeof b=="function"?b(p,{id:c,values:k},i):b;C(s,{key:`${c}-${i}-notification`,message:l("notifications.editError",{resource:l(`${i}.${i}`,I),statusCode:p.statusCode},`Error when updating ${I} (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},Cs=h("@tanstack/react-query"),$o=R(h("pluralize")),fn=({mutationOptions:e}={})=>{let t=be(),{mutate:r}=Oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=we(),n=tr(),{resources:o}=ne(),l=ie(),d=Xt(),{log:m}=er(),v=He();return(0,Cs.useMutation)(({resource:g,values:y,meta:C,metaData:u,dataProviderName:p})=>a(Q(g,p,o)).create({resource:g,variables:y,meta:q(C,u),metaData:q(C,u)}),{onSuccess:(g,{resource:y,successNotification:C,dataProviderName:u,invalidates:p=["list","many"],values:c,meta:i,metaData:b})=>{var k,x,I;let s=$o.default.singular(y),E=typeof C=="function"?C(g,c,y):C;v(E,{key:`create-${y}-notification`,message:l("notifications.createSuccess",{resource:l(`${y}.${y}`,s)},`Successfully created ${s}`),description:l("notifications.success","Success"),type:"success"}),n({resource:y,dataProviderName:Q(y,u,o),invalidates:p}),d==null||d({channel:`resources/${y}`,type:"created",payload:{ids:(k=g==null?void 0:g.data)!=null&&k.id?[g.data.id]:void 0},date:new Date});let{fields:f,operation:P,variables:w,...S}=q(i,b)||{};m==null||m.mutate({action:"create",resource:y,data:c,meta:{dataProviderName:Q(y,u,o),id:(I=(x=g==null?void 0:g.data)==null?void 0:x.id)!=null?I:void 0,...S}})},onError:(g,{resource:y,errorNotification:C,values:u})=>{r(g);let p=$o.default.singular(y),c=typeof C=="function"?C(g,u,y):C;v(c,{key:`create-${y}-notification`,description:g.message,message:l("notifications.createError",{resource:l(`${y}.${y}`,p),statusCode:g.statusCode},`There was an error creating ${p} (status code: ${g.statusCode})`),type:"error"})},...e})},So=h("@tanstack/react-query"),Fo=R(h("pluralize")),xs=({mutationOptions:e}={})=>{let t=be(),{mutate:r}=Oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=we(),{resources:n}=ne(),o=(0,So.useQueryClient)(),{mutationMode:l,undoableTimeout:d}=xr(),{notificationDispatch:m}=kr(),v=ie(),g=Xt(),{log:y}=er(),C=He(),u=tr();return(0,So.useMutation)(({id:p,mutationMode:c,undoableTimeout:i,resource:b,onCancel:k,meta:x,metaData:I,dataProviderName:s,values:E})=>{let f=c!=null?c:l,P=i!=null?i:d;return f!=="undoable"?a(Q(b,s,n)).deleteOne({resource:b,id:p,meta:q(x,I),metaData:q(x,I),variables:E}):new Promise((w,S)=>{let F=()=>{a(Q(b,s,n)).deleteOne({resource:b,id:p,meta:q(x,I),variables:E}).then($=>w($)).catch($=>S($))},N=()=>{S({message:"mutationCancelled"})};k&&k(N),m({type:"ADD",payload:{id:p,resource:b,cancelMutation:N,doMutation:F,seconds:P,isSilent:!!k}})})},{onMutate:async({id:p,resource:c,mutationMode:i,dataProviderName:b})=>{let k=Ke(c,Q(c,b,n)),x=i!=null?i:l;await o.cancelQueries(k.resourceAll,void 0,{silent:!0});let I=o.getQueriesData(k.resourceAll);return x!=="pessimistic"&&(o.setQueriesData(k.list(),s=>s?{data:s.data.filter(E=>{var f;return((f=E.id)==null?void 0:f.toString())!==p.toString()}),total:s.total-1}:null),o.setQueriesData(k.many(),s=>{if(!s)return null;let E=s.data.filter(f=>{var P;return((P=f.id)==null?void 0:P.toString())!==(p==null?void 0:p.toString())});return{...s,data:E}})),{previousQueries:I,queryKey:k}},onSettled:(p,c,{id:i,resource:b,dataProviderName:k,invalidates:x=["list","many"]})=>{u({resource:b,dataProviderName:Q(b,k,n),invalidates:x}),m({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(p,{id:c,resource:i,successNotification:b,dataProviderName:k,meta:x,metaData:I},s)=>{let E=Fo.default.singular(i!=null?i:"");o.removeQueries(s==null?void 0:s.queryKey.detail(c));let f=typeof b=="function"?b(p,c,i):b;C(f,{key:`${c}-${i}-notification`,description:v("notifications.success","Success"),message:v("notifications.deleteSuccess",{resource:v(`${i}.${i}`,E)},`Successfully deleted a ${E}`),type:"success"}),g==null||g({channel:`resources/${i}`,type:"deleted",payload:{ids:c?[c]:[]},date:new Date});let{fields:P,operation:w,variables:S,...F}=q(x,I)||{};y==null||y.mutate({action:"delete",resource:i,meta:{id:c,dataProviderName:Q(i,k,n),...F}}),o.removeQueries(s==null?void 0:s.queryKey.detail(c))},onError:(p,{id:c,resource:i,errorNotification:b},k)=>{if(k)for(let x of k.previousQueries)o.setQueryData(x[0],x[1]);if(p.message!=="mutationCancelled"){r(p);let x=Fo.default.singular(i!=null?i:""),I=typeof b=="function"?b(p,c,i):b;C(I,{key:`${c}-${i}-notification`,message:v("notifications.deleteError",{resource:x,statusCode:p.statusCode},`Error (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},Is=h("@tanstack/react-query"),Ps=R(h("pluralize")),Il=({mutationOptions:e}={})=>{let t=we(),{resources:r}=ne(),a=ie(),n=Xt(),o=He(),l=tr(),{log:d}=er();return(0,Is.useMutation)(({resource:m,values:v,meta:g,metaData:y,dataProviderName:C})=>{let u=t(Q(m,C,r));return u.createMany?u.createMany({resource:m,variables:v,meta:q(g,y),metaData:q(g,y)}):ha(v.map(p=>u.create({resource:m,variables:p,meta:q(g,y),metaData:q(g,y)})))},{onSuccess:(m,{resource:v,successNotification:g,dataProviderName:y,invalidates:C=["list","many"],values:u,meta:p,metaData:c})=>{let i=Ps.default.plural(v),b=typeof g=="function"?g(m,u,v):g;o(b,{key:`createMany-${v}-notification`,message:a("notifications.createSuccess",{resource:a(`${v}.${v}`,v)},`Successfully created ${i}`),description:a("notifications.success","Success"),type:"success"}),l({resource:v,dataProviderName:Q(v,y,r),invalidates:C});let k=m==null?void 0:m.data.filter(f=>(f==null?void 0:f.id)!==void 0).map(f=>f.id);n==null||n({channel:`resources/${v}`,type:"created",payload:{ids:k},date:new Date});let{fields:x,operation:I,variables:s,...E}=q(p,c)||{};d==null||d.mutate({action:"createMany",resource:v,data:u,meta:{dataProviderName:Q(v,y,r),ids:k,...E}})},onError:(m,{resource:v,errorNotification:g,values:y})=>{let C=typeof g=="function"?g(m,y,v):g;o(C,{key:`createMany-${v}-notification`,description:m.message,message:a("notifications.createError",{resource:a(`${v}.${v}`,v),statusCode:m.statusCode},`There was an error creating ${v} (status code: ${m.statusCode}`),type:"error"})},...e})},Lo=h("@tanstack/react-query"),qo=R(h("pluralize")),ws=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,Lo.useQueryClient)(),a=we(),n=ie(),{mutationMode:o,undoableTimeout:l}=xr(),d=be(),{mutate:m}=Oe({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),{notificationDispatch:v}=kr(),g=Xt(),y=He(),C=tr(),{log:u}=er();return(0,Lo.useMutation)(({ids:p,values:c,resource:i,onCancel:b,mutationMode:k,undoableTimeout:x,meta:I,metaData:s,dataProviderName:E})=>{let f=k!=null?k:o,P=x!=null?x:l,w=a(Q(i,E,t)),S=()=>w.updateMany?w.updateMany({resource:i,ids:p,variables:c,meta:q(I,s),metaData:q(I,s)}):ha(p.map(F=>w.update({resource:i,id:F,variables:c,meta:q(I,s),metaData:q(I,s)})));return f!=="undoable"?S():new Promise((F,N)=>{let $=()=>{S().then(T=>F(T)).catch(T=>N(T))},A=()=>{N({message:"mutationCancelled"})};b&&b(A),v({type:"ADD",payload:{id:p,resource:i,cancelMutation:A,doMutation:$,seconds:P,isSilent:!!b}})})},{onMutate:async({resource:p,ids:c,values:i,mutationMode:b,dataProviderName:k,meta:x,metaData:I})=>{let s=Ke(p,Q(p,k,t),q(x,I),q(x,I)),E=b!=null?b:o;await r.cancelQueries(s.resourceAll,void 0,{silent:!0});let f=r.getQueriesData(s.resourceAll);if(E!=="pessimistic"){r.setQueriesData(s.list(),P=>{if(!P)return null;let w=P.data.map(S=>S.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes(S.id.toString())?{...S,...i}:S);return{...P,data:w}}),r.setQueriesData(s.many(),P=>{if(!P)return null;let w=P.data.map(S=>S.id!==void 0&&c.filter(F=>F!==void 0).map(String).includes(S.id.toString())?{...S,...i}:S);return{...P,data:w}});for(let P of c)r.setQueriesData(s.detail(P),w=>{if(!w)return null;let S={...w.data,...i};return{...w,data:S}})}return{previousQueries:f,queryKey:s}},onSettled:(p,c,{ids:i,resource:b,dataProviderName:k})=>{C({resource:b,invalidates:["list","many"],dataProviderName:Q(b,k,t)}),i.forEach(x=>C({resource:b,invalidates:["detail"],dataProviderName:Q(b,k,t),id:x})),v({type:"REMOVE",payload:{id:i,resource:b}})},onSuccess:(p,{ids:c,resource:i,meta:b,metaData:k,dataProviderName:x,successNotification:I,values:s},E)=>{let f=qo.default.singular(i),P=typeof I=="function"?I(p,{ids:c,values:s},i):I;y(P,{key:`${c}-${i}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${i}.${i}`,i)},`Successfully updated ${f}`),type:"success"}),g==null||g({channel:`resources/${i}`,type:"updated",payload:{ids:c.map(String)},date:new Date});let w=[];E&&c.forEach(A=>{let T=r.getQueryData(E.queryKey.detail(A));w.push(Object.keys(s||{}).reduce((B,L)=>{var O;return B[L]=(O=T==null?void 0:T.data)==null?void 0:O[L],B},{}))});let{fields:S,operation:F,variables:N,...$}=q(b,k)||{};u==null||u.mutate({action:"updateMany",resource:i,data:s,previousData:w,meta:{ids:c,dataProviderName:Q(i,x,t),...$}})},onError:(p,{ids:c,resource:i,errorNotification:b,values:k},x)=>{if(x)for(let I of x.previousQueries)r.setQueryData(I[0],I[1]);if(p.message!=="mutationCancelled"){m==null||m(p);let I=qo.default.singular(i),s=typeof b=="function"?b(p,{ids:c,values:k},i):b;y(s,{key:`${c}-${i}-updateMany-error-notification`,message:n("notifications.editError",{resource:I,statusCode:p.statusCode},`Error when updating ${I} (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},Ao=h("@tanstack/react-query"),$s=R(h("pluralize")),Ss=({mutationOptions:e}={})=>{let t=be(),{mutate:r}=Oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:a,undoableTimeout:n}=xr(),o=we(),{notificationDispatch:l}=kr(),d=ie(),m=Xt(),v=He(),g=tr(),{log:y}=er(),{resources:C}=ne(),u=(0,Ao.useQueryClient)();return(0,Ao.useMutation)(({resource:p,ids:c,mutationMode:i,undoableTimeout:b,onCancel:k,meta:x,metaData:I,dataProviderName:s,values:E})=>{let f=i!=null?i:a,P=b!=null?b:n,w=o(Q(p,s,C)),S=()=>w.deleteMany?w.deleteMany({resource:p,ids:c,meta:q(x,I),metaData:q(x,I),variables:E}):ha(c.map(F=>w.deleteOne({resource:p,id:F,meta:q(x,I),metaData:q(x,I),variables:E})));return f!=="undoable"?S():new Promise((F,N)=>{let $=()=>{S().then(T=>F(T)).catch(T=>N(T))},A=()=>{N({message:"mutationCancelled"})};k&&k(A),l({type:"ADD",payload:{id:c,resource:p,cancelMutation:A,doMutation:$,seconds:P,isSilent:!!k}})})},{onMutate:async({ids:p,resource:c,mutationMode:i,dataProviderName:b})=>{let k=Ke(c,Q(c,b,C)),x=i!=null?i:a;await u.cancelQueries(k.resourceAll,void 0,{silent:!0});let I=u.getQueriesData(k.resourceAll);if(x!=="pessimistic"){u.setQueriesData(k.list(),s=>s?{data:s.data.filter(E=>E.id&&!p.map(String).includes(E.id.toString())),total:s.total-1}:null),u.setQueriesData(k.many(),s=>{if(!s)return null;let E=s.data.filter(f=>f.id?!p.map(String).includes(f.id.toString()):!1);return{...s,data:E}});for(let s of p)u.setQueriesData(k.detail(s),E=>!E||E.data.id==s?null:{...E})}return{previousQueries:I,queryKey:k}},onSettled:(p,c,{resource:i,ids:b,dataProviderName:k,invalidates:x=["list","many"]})=>{g({resource:i,dataProviderName:Q(i,k,C),invalidates:x}),l({type:"REMOVE",payload:{id:b,resource:i}})},onSuccess:(p,{ids:c,resource:i,meta:b,metaData:k,dataProviderName:x,successNotification:I},s)=>{c.forEach(F=>u.removeQueries(s==null?void 0:s.queryKey.detail(F)));let E=typeof I=="function"?I(p,c,i):I;v(E,{key:`${c}-${i}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${i}.${i}`,i)},`Successfully deleted ${i}`),type:"success"}),m==null||m({channel:`resources/${i}`,type:"deleted",payload:{ids:c},date:new Date});let{fields:f,operation:P,variables:w,...S}=q(b,k)||{};y==null||y.mutate({action:"deleteMany",resource:i,meta:{ids:c,dataProviderName:Q(i,x,C),...S}}),c.forEach(F=>u.removeQueries(s==null?void 0:s.queryKey.detail(F)))},onError:(p,{ids:c,resource:i,errorNotification:b},k)=>{if(k)for(let x of k.previousQueries)u.setQueryData(x[0],x[1]);if(p.message!=="mutationCancelled"){r(p);let x=$s.default.singular(i),I=typeof b=="function"?b(p,c,i):b;v(I,{key:`${c}-${i}-notification`,message:d("notifications.deleteError",{resource:x,statusCode:p.statusCode},`Error (status code: ${p.statusCode})`),description:p.message,type:"error"})}},...e})},Fs=e=>{let t=we(),{getApiUrl:r}=t(e);return r()},Ls=h("@tanstack/react-query"),qs=({url:e,method:t,config:r,queryOptions:a,successNotification:n,errorNotification:o,meta:l,metaData:d,dataProviderName:m})=>{let v=we(),{custom:g}=v(m),y=be(),{mutate:C}=Oe({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),u=ie(),p=He();if(g)return(0,Ls.useQuery)([m,"custom",t,e,{...r,...q(l,d)||{}}],({queryKey:c,pageParam:i,signal:b})=>g({url:e,method:t,...r,metaData:{...q(l,d)||{},queryContext:{queryKey:c,pageParam:i,signal:b}}}),{...a,onSuccess:c=>{var i;(i=a==null?void 0:a.onSuccess)==null||i.call(a,c);let b=typeof n=="function"?n(c,{...r,...q(l,d)||{}}):n;p(b)},onError:c=>{var i;C(c),(i=a==null?void 0:a.onError)==null||i.call(a,c);let b=typeof o=="function"?o(c,{...r,...q(l,d)||{}}):o;p(b,{key:`${t}-notification`,message:u("notifications.error",{statusCode:c.statusCode},`Error (status code: ${c.statusCode})`),description:c.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},As=h("@tanstack/react-query"),Ns=({mutationOptions:e}={})=>{let t=be(),{mutate:r}=Oe({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),a=He(),n=we(),o=ie();return(0,As.useMutation)(({url:l,method:d,values:m,meta:v,metaData:g,dataProviderName:y,config:C})=>{let{custom:u}=n(y);if(u)return u({url:l,method:d,payload:m,meta:q(v,g),metaData:q(v,g),headers:{...C==null?void 0:C.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(l,{successNotification:d,config:m,meta:v,metaData:g})=>{let y=typeof d=="function"?d(l,{...m,...q(v,g)||{}}):d;a(y)},onError:(l,{errorNotification:d,method:m,config:v,meta:g,metaData:y})=>{r(l);let C=typeof d=="function"?d(l,{...v,...q(g,y)||{}}):d;a(C,{key:`${m}-notification`,message:o("notifications.error",{statusCode:l.statusCode},`Error (status code: ${l.statusCode})`),description:l.message,type:"error"})},...e})},No=h("react"),Pl=R(h("react")),Bs=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),vn=Pl.default.createContext(Bs()),Ds=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Pl.default.createElement(vn.Provider,{value:r},e)},we=()=>{let e=(0,No.useContext)(vn);return(0,No.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},Ms=h("@tanstack/react-query"),Ts=({resource:e,config:t,filters:r,hasPagination:a,pagination:n,sorters:o,queryOptions:l,successNotification:d,errorNotification:m,meta:v,metaData:g,liveMode:y,onLiveEvent:C,liveParams:u,dataProviderName:p})=>{let{resources:c}=ne(),i=we(),b=ie(),k=be(),{mutate:x}=Oe({v3LegacyAuthProviderCompatible:Boolean(k==null?void 0:k.isLegacy)}),I=He(),s=Q(e,p,c),E=q(v,g),f=q(r,t==null?void 0:t.filters),P=q(o,t==null?void 0:t.sort),w=q(a,t==null?void 0:t.hasPagination),S=El({pagination:n,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=S.mode==="server",N={meta:E,metaData:E,filters:f,hasPagination:F,pagination:S,sorters:P,config:{...t,sort:P}},$=(l==null?void 0:l.enabled)===void 0||(l==null?void 0:l.enabled)===!0,A=Ke(e,s,E,E),{getList:T}=i(s);return Or({resource:e,types:["*"],params:{meta:E,metaData:E,pagination:S,hasPagination:F,sort:P,sorters:P,filters:f,subscriptionType:"useList",...u},channel:`resources/${e}`,enabled:$,liveMode:y,onLiveEvent:C}),(0,Ms.useInfiniteQuery)(A.list({filters:f,hasPagination:F,...F&&{pagination:S},...o&&{sorters:o},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:B,pageParam:L,signal:O})=>{let D={...S,current:L};return T({resource:e,pagination:D,hasPagination:F,filters:f,sort:P,sorters:P,meta:{...E||{},queryContext:{queryKey:B,pageParam:L,signal:O}},metaData:{...E||{},queryContext:{queryKey:B,pageParam:L,signal:O}}}).then(({data:X,total:_,...K})=>({data:X,total:_,pagination:D,...K}))},{getNextPageParam:B=>yl(B),getPreviousPageParam:B=>hl(B),...l,onSuccess:B=>{var L;(L=l==null?void 0:l.onSuccess)==null||L.call(l,B);let O=typeof d=="function"?d(B,N,e):d;I(O)},onError:B=>{var L;x(B),(L=l==null?void 0:l.onError)==null||L.call(l,B);let O=typeof m=="function"?m(B,N,e):m;I(O,{key:`${e}-useInfiniteList-notification`,message:b("notifications.error",{statusCode:B.statusCode},`Error (status code: ${B.statusCode})`),description:B.message,type:"error"})}})},_a=h("react"),Rs=h("@tanstack/react-query"),wl=R(h("react")),Rr=wl.default.createContext(void 0),Os=({liveProvider:e,children:t})=>wl.default.createElement(Rr.Provider,{value:e},t),Or=({resource:e,params:t,channel:r,types:a,enabled:n=!0,liveMode:o,onLiveEvent:l})=>{let d=(0,Rs.useQueryClient)(),m=Ke(e),v=(0,_a.useContext)(Rr),{liveMode:g,onLiveEvent:y}=(0,_a.useContext)(Bt),C=o!=null?o:g;(0,_a.useEffect)(()=>{let u;return C&&C!=="off"&&n&&(u=v==null?void 0:v.subscribe({channel:r,params:{resource:e,...t},types:a,callback:p=>{C==="auto"&&d.invalidateQueries(m.resourceAll),l==null||l(p),y==null||y(p)}})),()=>{u&&(v==null||v.unsubscribe(u))}},[n])},Hs=h("react"),$l=e=>{let{liveMode:t}=(0,Hs.useContext)(Bt);return e!=null?e:t},Bo=h("react"),zs=({params:e,channel:t,types:r=["*"],enabled:a=!0,onLiveEvent:n})=>{let o=(0,Bo.useContext)(Rr);(0,Bo.useEffect)(()=>{let l;return a&&(l=o==null?void 0:o.subscribe({channel:t,params:e,types:r,callback:n})),()=>{l&&(o==null||o.unsubscribe(l))}},[a])},Us=h("react"),Xt=()=>{let e=(0,Us.useContext)(Rr);return e==null?void 0:e.publish},Ws=h("react"),Sl=R(h("react")),js=h("react"),Vs=h("react"),Qs=R(h("lodash/isEqual")),_s=e=>{let t=(0,Vs.useRef)(e);return(0,Qs.default)(t.current,e)||(t.current=e),t.current},Fl=(e,t)=>{let r=_s(t);return(0,js.useMemo)(e,r)},Hr=Sl.default.createContext({resources:[]}),Ks=({resources:e,children:t})=>{let r=Fl(()=>bl(e!=null?e:[]),[e]);return Sl.default.createElement(Hr.Provider,{value:{resources:r}},t)},Ll=R(h("react")),ql=Ll.default.createContext("new"),Gs=ql.Provider,ge=()=>Ll.default.useContext(ql),Ys=R(h("react")),Al=R(h("react")),Nl={},zr=(0,Al.createContext)(Nl),Zs=({children:e,router:t})=>Al.default.createElement(zr.Provider,{value:t!=null?t:Nl},e),Do=R(h("react")),Bl=()=>{let e=(0,Do.useContext)(zr);return Do.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},Ge=()=>{let e=Bl();return Ys.default.useMemo(()=>e(),[e])};function ne(e){var t,r;let{resources:a}=(0,Ws.useContext)(Hr),n=ge(),o=Ge(),l={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},d=ba(),{useParams:m}=$e(),v=m();if(n==="legacy"){let C=l.resourceNameOrRouteName?l.resourceNameOrRouteName:v.resource,u=C?d(C):void 0,p=(t=l==null?void 0:l.recordItemId)!=null?t:v.id,c=v.action,i=(r=l==null?void 0:l.resourceName)!=null?r:u==null?void 0:u.name;return{resources:a,resource:u,resourceName:i,id:p,action:c}}let g,y=typeof e=="string"?e:l==null?void 0:l.resourceNameOrRouteName;if(y){let C=ve(y,a);C?g=C:g={name:y}}else o!=null&&o.resource&&(g=o.resource);return{resources:a,resource:g,resourceName:g==null?void 0:g.name,id:o.id,action:o.action}}var Mo=h("react"),ba=()=>{let{resources:e}=(0,Mo.useContext)(Hr);return(0,Mo.useCallback)(t=>ve(t,e,!0)||{name:t,route:t},[e])},Js=h("react"),kr=()=>{let{notifications:e,notificationDispatch:t}=(0,Js.useContext)(Cl);return{notifications:e,notificationDispatch:t}},Xs=h("react"),Dl=R(h("react")),gn=(0,Dl.createContext)({}),ec=({open:e,close:t,children:r})=>Dl.default.createElement(gn.Provider,{value:{open:e,close:t}},r),Dt=()=>{let{open:e,close:t}=(0,Xs.useContext)(gn);return{open:e,close:t}},tc=h("react"),He=()=>{let{open:e}=Dt();return(0,tc.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},To=h("react"),Ml=R(h("react")),Cr=Ml.default.createContext({}),rc=({children:e,i18nProvider:t})=>Ml.default.createElement(Cr.Provider,{value:{i18nProvider:t}},e),ac=()=>{let{i18nProvider:e}=(0,To.useContext)(Cr);return(0,To.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},Ro=h("react"),ie=()=>{let{i18nProvider:e}=(0,Ro.useContext)(Cr);return(0,Ro.useMemo)(()=>{function t(r,a,n){var o,l;return(l=(o=e==null?void 0:e.translate(r,a,n))!=null?o:n)!=null?l:typeof a=="string"&&typeof n>"u"?a:r}return t},[e])},Oo=h("react"),nc=()=>{let{i18nProvider:e}=(0,Oo.useContext)(Cr);return(0,Oo.useCallback)(()=>e==null?void 0:e.getLocale(),[])},oc=h("react"),xr=()=>{let{mutationMode:e,undoableTimeout:t}=(0,oc.useContext)(Bt);return{mutationMode:e,undoableTimeout:t}},Ho=h("react"),an=R(h("react")),Tl=an.default.createContext({}),lc=({children:e})=>{let[t,r]=(0,an.useState)(!1);return an.default.createElement(Tl.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},yn=()=>{let{warnWhenUnsavedChanges:e}=(0,Ho.useContext)(Bt),{warnWhen:t,setWarnWhen:r}=(0,Ho.useContext)(Tl);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},ic=h("react"),Rl=()=>{let{syncWithLocation:e}=(0,ic.useContext)(Bt);return{syncWithLocation:e}},uc=h("react"),sc=()=>{let{Title:e}=(0,uc.useContext)(Bt);return e},cc=h("react"),hn=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:d,syncWithLocation:m,undoableTimeout:v,warnWhenUnsavedChanges:g,DashboardPage:y,LoginPage:C,catchAll:u,options:p}=(0,cc.useContext)(Bt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:a,Sider:n,Title:o,hasDashboard:l,mutationMode:d,syncWithLocation:m,undoableTimeout:v,warnWhenUnsavedChanges:g,DashboardPage:y,LoginPage:C,catchAll:u,options:p}},dc=h("react"),mc=h("export-to-csv-fix-source-map"),pc=({resourceName:e,resource:t,sorter:r,sorters:a,filters:n,maxItemCount:o,pageSize:l=20,mapData:d=u=>u,exportOptions:m,meta:v,metaData:g,dataProviderName:y,onError:C}={})=>{var u;let[p,c]=(0,dc.useState)(!1),i=we(),{resource:b,resources:k}=ne(),x=`${cn(b==null?void 0:b.name,"plural")}-${new Date().toLocaleString()}`,{getList:I}=i(Q((u=b==null?void 0:b.identifier)!=null?u:b==null?void 0:b.name,y,k));return{isLoading:p,triggerExport:async()=>{var s;c(!0);let E=[],f=1,P=!0;for(;P;)try{let{data:w,total:S}=await I({resource:(s=b==null?void 0:b.name)!=null?s:"",filters:n,sort:q(a,r),sorters:q(a,r),pagination:{current:f,pageSize:l,mode:"server"},meta:q(v,g),metaData:q(v,g)});f++,E.push(...w),o&&E.length>=o&&(E=E.slice(0,o),P=!1),S===E.length&&(P=!1)}catch(w){c(!1),P=!1,C==null||C(w);return}new mc.ExportToCsv({filename:x,useKeysAsHeaders:!0,...m}).generateCsv(E.map(d)),c(!1)}}},zo=R(h("react")),fc=({resource:e,action:t,id:r,onMutationSuccess:a,onMutationError:n,redirect:o,successNotification:l,errorNotification:d,meta:m,metaData:v,mutationMode:g,liveMode:y,onLiveEvent:C,liveParams:u,undoableTimeout:p,dataProviderName:c,invalidates:i,queryOptions:b,createMutationOptions:k,updateMutationOptions:x}={})=>{let{options:I}=hn(),{resources:s}=ne(),E=ge(),{resource:f,id:P,action:w}=Ge(),{useParams:S}=$e(),{resource:F,action:N,id:$}=S(),A=typeof f=="string"?f:f==null?void 0:f.name,T=!e||e===(E==="legacy"?F:A)?r!=null?r:E==="legacy"?$:P:r,[B,L]=zo.default.useState(T);zo.default.useEffect(()=>{T!==B&&L(r)},[r]);let O=e!=null?e:E==="legacy"?F:A,D=E==="legacy"?N:w,X=t!=null?t:D==="edit"||D==="clone"?D:"create",_=ba(),K;if(E==="legacy")O&&(K=_(O));else if(e){let le=ve(e,s);le?K=le:K={name:e,route:e}}else if(typeof f=="string"){let le=ve(f,s);le?K=le:K={name:f,route:f}}else K=f;let{mutationMode:de}=xr(),Ee=g!=null?g:de,te=X==="create",Z=X==="edit",ee=X==="clone",We=fs({redirectFromProps:o,action:X,redirectOptions:I.redirect}),je=B!==void 0&&(Z||ee),Pe=pn({resource:K==null?void 0:K.name,id:B!=null?B:"",queryOptions:{enabled:je,...b},liveMode:y,onLiveEvent:C,liveParams:u,meta:q(m,v),metaData:q(m,v),dataProviderName:c}),{isFetching:Be}=Pe,Se=fn({mutationOptions:k}),{mutate:De,isLoading:Ce}=Se,Lt=xl({mutationOptions:x}),{mutate:rt,isLoading:Oa}=Lt,{setWarnWhen:Qt}=yn(),qt=Ol();return{...te||ee?{formLoading:Be||Ce,mutationResult:Se,onFinish:async le=>{Qt(!1);let Fe=gt=>{qt({redirect:We,resource:K,id:gt,meta:v})};return Ee!=="pessimistic"&&setTimeout(()=>{Fe()}),new Promise((gt,_t)=>{if(Ee!=="pessimistic"&&gt(),!!K)return De({values:le,resource:K.name,successNotification:l,errorNotification:d,meta:q(m,v),metaData:q(m,v),dataProviderName:c,invalidates:i},{onSuccess:(at,yt,Le)=>{var xt;a&&a(at,le,Le);let Kt=(xt=at==null?void 0:at.data)==null?void 0:xt.id;Fe(Kt),gt(at)},onError:(at,yt,Le)=>{if(n)return n(at,le,Le);_t()}})})}}:{formLoading:Be||Oa,mutationResult:Lt,onFinish:async le=>{if(Qt(!1),!K)return;let Fe={id:B!=null?B:"",values:le,resource:K.name,mutationMode:Ee,undoableTimeout:p,successNotification:l,errorNotification:d,meta:q(m,v),metaData:q(m,v),dataProviderName:c,invalidates:i},gt=()=>{L(T),qt({redirect:We,resource:K,id:B,meta:v})};return Ee!=="pessimistic"&&setTimeout(()=>{gt()}),new Promise((_t,at)=>(Ee!=="pessimistic"&&_t(),setTimeout(()=>{rt(Fe,{onSuccess:(yt,Le,xt)=>{a&&a(yt,le,xt),Ee==="pessimistic"&&gt(),_t(yt)},onError:(yt,Le,xt)=>{if(n)return n(yt,le,xt);at()}})})))}},queryResult:Pe,id:B,setId:L,redirect:(le,Fe)=>{qt({redirect:le!==void 0?le:Z?"list":"edit",resource:K,id:Fe!=null?Fe:B,meta:v})}}},vc=h("react"),Ol=()=>{let{show:e,edit:t,list:r,create:a}=Ze();return(0,vc.useCallback)(({redirect:n,resource:o,id:l,meta:d={}})=>{if(n&&o)return!!o.show&&n==="show"&&l?e(o,l,void 0,d):!!o.edit&&n==="edit"&&l?t(o,l,void 0,d):!!o.create&&n==="create"?a(o,void 0,d):r(o,"push",d)},[])},Uo=R(h("react")),Ye=()=>{let e=(0,Uo.useContext)(zr);return Uo.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},Wo=R(h("react")),Hl=()=>{let e=(0,Wo.useContext)(zr);return Wo.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},Ze=()=>{let{resources:e}=ne(),t=ge(),{useHistory:r}=$e(),a=r(),n=Ge(),o=Ye(),l=Hl(),d=(u,p="push")=>{t==="legacy"?a[p](u):o({to:u,type:p})},m=(u,p={})=>{var c,i,b;if(t==="legacy"){let k=typeof u=="string"?(c=ve(u,e,!0))!=null?c:{name:u,route:u}:u,x=Re(k,e,!0).find(I=>I.action==="create");return x?Qe(x.route,n,p):""}else{let k=typeof u=="string"?(i=ve(u,e))!=null?i:{name:u}:u,x=(b=Re(k,e).find(I=>I.action==="create"))==null?void 0:b.route;return x?o({to:Qe(x,n,p),type:"path"}):""}},v=(u,p,c={})=>{var i,b,k;let x=encodeURIComponent(p);if(t==="legacy"){let I=typeof u=="string"?(i=ve(u,e,!0))!=null?i:{name:u,route:u}:u,s=Re(I,e,!0).find(E=>E.action==="edit");return s?Qe(s.route,n,{...c,id:x}):""}else{let I=typeof u=="string"?(b=ve(u,e))!=null?b:{name:u}:u,s=(k=Re(I,e).find(E=>E.action==="edit"))==null?void 0:k.route;return s?o({to:Qe(s,n,{...c,id:x}),type:"path"}):""}},g=(u,p,c={})=>{var i,b,k;let x=encodeURIComponent(p);if(t==="legacy"){let I=typeof u=="string"?(i=ve(u,e,!0))!=null?i:{name:u,route:u}:u,s=Re(I,e,!0).find(E=>E.action==="clone");return s?Qe(s.route,n,{...c,id:x}):""}else{let I=typeof u=="string"?(b=ve(u,e))!=null?b:{name:u}:u,s=(k=Re(I,e).find(E=>E.action==="clone"))==null?void 0:k.route;return s?o({to:Qe(s,n,{...c,id:x}),type:"path"}):""}},y=(u,p,c={})=>{var i,b,k;let x=encodeURIComponent(p);if(t==="legacy"){let I=typeof u=="string"?(i=ve(u,e,!0))!=null?i:{name:u,route:u}:u,s=Re(I,e,!0).find(E=>E.action==="show");return s?Qe(s.route,n,{...c,id:x}):""}else{let I=typeof u=="string"?(b=ve(u,e))!=null?b:{name:u}:u,s=(k=Re(I,e).find(E=>E.action==="show"))==null?void 0:k.route;return s?o({to:Qe(s,n,{...c,id:x}),type:"path"}):""}},C=(u,p={})=>{var c,i,b;if(t==="legacy"){let k=typeof u=="string"?(c=ve(u,e,!0))!=null?c:{name:u,route:u}:u,x=Re(k,e,!0).find(I=>I.action==="list");return x?Qe(x.route,n,p):""}else{let k=typeof u=="string"?(i=ve(u,e))!=null?i:{name:u}:u,x=(b=Re(k,e).find(I=>I.action==="list"))==null?void 0:b.route;return x?o({to:Qe(x,n,p),type:"path"}):""}};return{create:(u,p="push",c={})=>{d(m(u,c),p)},createUrl:m,edit:(u,p,c="push",i={})=>{d(v(u,p,i),c)},editUrl:v,clone:(u,p,c="push",i={})=>{d(g(u,p,i),c)},cloneUrl:g,show:(u,p,c="push",i={})=>{d(y(u,p,i),c)},showUrl:y,list:(u,p="push",c={})=>{d(C(u,c),p)},listUrl:C,push:(u,...p)=>{t==="legacy"?a.push(u,...p):o({to:u,type:"push"})},replace:(u,...p)=>{t==="legacy"?a.replace(u,...p):o({to:u,type:"replace"})},goBack:()=>{t==="legacy"?a.goBack():l()}}},jo=R(h("react")),gc=({resource:e,id:t,successNotification:r,errorNotification:a,meta:n,metaData:o,liveMode:l,onLiveEvent:d,dataProviderName:m,queryOptions:v}={})=>{let g=ge(),{resources:y}=ne(),{useParams:C}=$e(),{resource:u,id:p}=Ge(),{resource:c,id:i}=C(),b=u==null?void 0:u.name,k=!e||e===(g==="legacy"?c:b)?t!=null?t:g==="legacy"?i:p:t,[x,I]=(0,jo.useState)(k);jo.default.useEffect(()=>{k!==x&&I(k)},[k]);let s=e!=null?e:g==="legacy"?c:b,E,f=ba();if(g==="legacy")s&&(E=f(s));else if(e){let P=ve(e,y);P?E=P:E={name:e,route:e}}else if(typeof u=="string"){let P=ve(u,y);P?E=P:E={name:u,route:u}}else E=u;return{queryResult:pn({resource:E==null?void 0:E.name,id:x!=null?x:"",queryOptions:{enabled:x!==void 0,...v},successNotification:r,errorNotification:a,meta:q(n,o),metaData:q(n,o),liveMode:l,onLiveEvent:d,dataProviderName:m}),showId:x,setShowId:I}},sa=h("react"),yc=h("papaparse"),hc=R(h("lodash/chunk")),bc=({resourceName:e,resource:t,mapData:r=g=>g,paparseOptions:a,batchSize:n=Number.MAX_SAFE_INTEGER,onFinish:o,meta:l,metaData:d,onProgress:m,dataProviderName:v}={})=>{let[g,y]=(0,sa.useState)(0),[C,u]=(0,sa.useState)(0),[p,c]=(0,sa.useState)(!1),{resource:i}=ne(t!=null?t:e),b=Il(),k=fn(),x;n===1?x=k:x=b;let I=()=>{u(0),y(0),c(!1)},s=f=>{let P={succeeded:f.filter(w=>w.type==="success"),errored:f.filter(w=>w.type==="error")};o==null||o(P),c(!1)};(0,sa.useEffect)(()=>{m==null||m({totalAmount:C,processedAmount:g})},[C,g]);let E=({file:f})=>(I(),new Promise(P=>{c(!0),(0,yc.parse)(f,{complete:async({data:w})=>{let S=ul(w,r);if(u(S.length),n===1){let F=S.map($=>async()=>{var A;return{response:await k.mutateAsync({resource:(A=i==null?void 0:i.name)!=null?A:"",values:$,successNotification:!1,errorNotification:!1,dataProviderName:v,meta:q(l,d),metaData:q(l,d)}),value:$}}),N=await Io(F,({response:$,value:A})=>(y(T=>T+1),{response:[$.data],type:"success",request:[A]}),($,A)=>({response:[$],type:"error",request:[S[A]]}));P(N)}else{let F=(0,hc.default)(S,n),N=F.map(A=>async()=>{var T;return{response:await b.mutateAsync({resource:(T=i==null?void 0:i.name)!=null?T:"",values:A,successNotification:!1,errorNotification:!1,dataProviderName:v,meta:q(l,d),metaData:q(l,d)}),value:A,currentBatchLength:A.length}}),$=await Io(N,({response:A,currentBatchLength:T,value:B})=>(y(L=>L+T),{response:A.data,type:"success",request:B}),(A,T)=>({response:[A],type:"error",request:F[T]}));P($)}},...a})}).then(P=>(s(P),P)));return{inputProps:{type:"file",accept:".csv",onChange:f=>{f.target.files&&f.target.files.length>0&&E({file:f.target.files[0]})}},mutationResult:x,isLoading:p,handleChange:E}},Ka=h("react"),Ec=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Ka.useState)(e),a=(0,Ka.useCallback)(()=>r(!0),[t]),n=(0,Ka.useCallback)(()=>r(!1),[t]);return{visible:t,show:a,close:n}},kc=R(h("react")),bn=()=>{let e=ge(),{resource:t,resources:r}=ne(),a=Ge();return kc.default.useCallback(({resource:n,action:o,meta:l})=>{var d;let m=n||t;if(!m)return;let v=(d=Re(m,r,e==="legacy").find(g=>g.action===o))==null?void 0:d.route;return v?Qe(v,a,l):void 0},[r,t,a])},Cc=({resource:e,action:t,meta:r,legacy:a})=>bn()({resource:e,action:t,meta:r,legacy:a}),Vo=R(h("react")),Ea=()=>{let e=(0,Vo.useContext)(zr);return e!=null&&e.Link?e.Link:({to:t,...r})=>Vo.default.createElement("a",{href:t,...r})},xc=h("react"),zl=R(h("react")),At={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Ic=zl.default.createContext(At),En=Ic,Pc=({children:e,useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l})=>zl.default.createElement(En.Provider,{value:{useHistory:t!=null?t:At.useHistory,useLocation:r!=null?r:At.useLocation,useParams:a!=null?a:At.useParams,Prompt:n!=null?n:At.Prompt,Link:o!=null?o:At.Link,routes:l!=null?l:At.routes}},e),$e=()=>{let e=(0,xc.useContext)(En),{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}=e!=null?e:At;return{useHistory:t,useLocation:r,useParams:a,Prompt:n,Link:o,routes:l}},wc=h("react"),$c=h("@tanstack/react-query"),Ul=R(h("react")),ka=Ul.default.createContext({}),Sc=({can:e,children:t})=>Ul.default.createElement(ka.Provider,{value:{can:e}},t),Fc=e=>{let{icon:t,list:r,edit:a,create:n,show:o,clone:l,children:d,meta:m,options:v,...g}=e,{icon:y,...C}=m!=null?m:{},{icon:u,...p}=v!=null?v:{};return{...g,...m?{meta:C}:{},...v?{options:p}:{}}},Wl=({action:e,resource:t,params:r,queryOptions:a})=>{let{can:n}=(0,wc.useContext)(ka),{resource:o,...l}=r!=null?r:{},d=Fc(o!=null?o:{}),m=(0,$c.useQuery)(["useCan",{action:e,resource:t,params:{...l,resource:d},enabled:a==null?void 0:a.enabled}],()=>{var v;return(v=n==null?void 0:n({action:e,resource:t,params:r}))!=null?v:Promise.resolve({can:!0})},{enabled:typeof n<"u",...a,retry:!1});return typeof n>"u"?{data:{can:!0}}:m},Lc=h("react"),qc=()=>{let{can:e}=(0,Lc.useContext)(ka);return{can:e}},vr=h("react"),Ac=R(h("lodash/uniqBy")),Nc=R(h("lodash/debounce")),ca=R(h("lodash/get")),Bc=e=>{var t,r,a;let[n,o]=(0,vr.useState)([]),[l,d]=(0,vr.useState)([]),[m,v]=(0,vr.useState)([]),{resource:g,sort:y,sorters:C,filters:u=[],optionLabel:p="title",optionValue:c="id",debounce:i=300,successNotification:b,errorNotification:k,defaultValueQueryOptions:x,queryOptions:I,fetchSize:s,pagination:E,hasPagination:f=!1,liveMode:P,defaultValue:w=[],onLiveEvent:S,onSearch:F,liveParams:N,meta:$,metaData:A,dataProviderName:T}=e,{resources:B}=ne(),L=ve(g,B),O=(t=L==null?void 0:L.name)!=null?t:g,D=Array.isArray(w)?w:[w],X=(0,vr.useCallback)(Z=>{v(Z.data.map(ee=>({label:(0,ca.default)(ee,p),value:(0,ca.default)(ee,c)})))},[p,c]),_=x!=null?x:I,K=kl({resource:O,ids:D,queryOptions:{..._,enabled:D.length>0&&((r=x==null?void 0:x.enabled)!=null?r:!0),onSuccess:Z=>{var ee;X(Z),(ee=_==null?void 0:_.onSuccess)==null||ee.call(_,Z)}},meta:q($,A),metaData:q($,A),liveMode:"off",dataProviderName:T}),de=(0,vr.useCallback)(Z=>{d(Z.data.map(ee=>({label:(0,ca.default)(ee,p),value:(0,ca.default)(ee,c)})))},[p,c]),Ee=mn({resource:O,sorters:q(C,y),filters:u.concat(n),pagination:{current:E==null?void 0:E.current,pageSize:(a=E==null?void 0:E.pageSize)!=null?a:s,mode:E==null?void 0:E.mode},hasPagination:f,queryOptions:{...I,onSuccess:Z=>{var ee;de(Z),(ee=I==null?void 0:I.onSuccess)==null||ee.call(I,Z)}},successNotification:b,errorNotification:k,meta:q($,A),metaData:q($,A),liveMode:P,liveParams:N,onLiveEvent:S,dataProviderName:T}),te=Z=>{if(F){o(F(Z));return}if(Z)o([{field:p,operator:"contains",value:Z}]);else{o([]);return}};return{queryResult:Ee,defaultValueQueryResult:K,options:(0,vr.useMemo)(()=>(0,Ac.default)([...l,...m],"value"),[l,m]),onSearch:(0,Nc.default)(te,i)}},Zt=R(h("react")),Qo=R(h("qs")),da=R(h("lodash/differenceWith")),ma=R(h("lodash/isEqual")),Dc=R(h("warn-once")),_o=[],Ko=[];function Mc({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:a,initialSorter:n,permanentSorter:o=Ko,defaultSetFilterBehavior:l,initialFilter:d,permanentFilter:m=_o,filters:v,sorters:g,syncWithLocation:y,resource:C,successNotification:u,errorNotification:p,queryOptions:c,liveMode:i,onLiveEvent:b,liveParams:k,meta:x,metaData:I,dataProviderName:s}={}){var E,f,P,w,S,F,N,$,A,T;let{syncWithLocation:B}=Rl(),L=y!=null?y:B,O=$l(i),D=ge(),{useLocation:X}=$e(),{search:_,pathname:K}=X(),de=Ge(),Ee=r===!1?"off":"server",te=((E=a==null?void 0:a.mode)!=null?E:Ee)!=="off",Z=q(a==null?void 0:a.current,e),ee=q(a==null?void 0:a.pageSize,t),We=q(x,I),{parsedCurrent:je,parsedPageSize:Pe,parsedSorter:Be,parsedFilters:Se}=sn(_!=null?_:"?"),De=q(v==null?void 0:v.initial,d),Ce=(f=q(v==null?void 0:v.permanent,m))!=null?f:_o,Lt=q(g==null?void 0:g.initial,n),rt=(P=q(g==null?void 0:g.permanent,o))!=null?P:Ko,Oa=(w=q(v==null?void 0:v.defaultBehavior,l))!=null?w:"merge",Qt,qt,le,Fe;L?(Qt=((S=de==null?void 0:de.params)==null?void 0:S.current)||je||Z||1,qt=((F=de==null?void 0:de.params)==null?void 0:F.pageSize)||Pe||ee||10,le=((N=de==null?void 0:de.params)==null?void 0:N.sorters)||(Be.length?Be:Lt),Fe=(($=de==null?void 0:de.params)==null?void 0:$.filters)||(Se.length?Se:De)):(Qt=Z||1,qt=ee||10,le=Lt,Fe=De);let{replace:gt}=Ze(),_t=Ye(),{resource:at}=ne(C),yt=at==null?void 0:at.name;Zt.default.useEffect(()=>{(0,Dc.default)(typeof yt>"u","useTable: `resource` is not defined.")},[yt]);let[Le,xt]=(0,Zt.useState)(rn(rt,le!=null?le:[])),[Kt,oa]=(0,Zt.useState)(tn(Ce,Fe!=null?Fe:[])),[Br,lo]=(0,Zt.useState)(Qt),[Gt,io]=(0,Zt.useState)(qt),ku=({pagination:{current:pe,pageSize:Ve},sorter:la,filters:ia})=>{var ua;if(D==="new")return(ua=_t({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...te?{current:pe,pageSize:Ve}:{},sorters:la,filters:ia,...uo()}}))!=null?ua:"";{let Dr=Qo.default.parse(_==null?void 0:_.substring(1)),mo=Xa({pagination:{pageSize:Ve,current:pe},sorters:Le!=null?Le:la,filters:ia,...Dr});return`${K!=null?K:""}?${mo!=null?mo:""}`}};(0,Zt.useEffect)(()=>{_===""&&(lo(Qt),io(qt),xt(rn(rt,le!=null?le:[])),oa(tn(Ce,Fe!=null?Fe:[])))},[_]);let uo=()=>{var pe;if(D==="new"){let{sorters:Ve,filters:la,pageSize:ia,current:ua,...Dr}=(pe=de==null?void 0:de.params)!=null?pe:{};return Dr}else{let{sorter:Ve,filters:la,pageSize:ia,current:ua,...Dr}=Qo.default.parse(_,{ignoreQueryPrefix:!0});return Dr}};(0,Zt.useEffect)(()=>{if(L){let pe=uo();if(D==="new")_t({type:"replace",options:{keepQuery:!0},query:{...te?{pageSize:Gt,current:Br}:{},sorters:(0,da.default)(Le,rt,ma.default),filters:(0,da.default)(Kt,Ce,ma.default)}});else{let Ve=Xa({...te?{pagination:{pageSize:Gt,current:Br}}:{},sorters:(0,da.default)(Le,rt,ma.default),filters:(0,da.default)(Kt,Ce,ma.default),...pe});return gt==null?void 0:gt(`${K}?${Ve}`,void 0,{shallow:!0})}}},[L,Br,Gt,Le,Kt]);let so=mn({resource:yt,hasPagination:r,pagination:{current:Br,pageSize:Gt,mode:a==null?void 0:a.mode},filters:Tr(Ce,Kt),sorters:en(rt,Le),queryOptions:c,successNotification:u,errorNotification:p,meta:We,metaData:We,liveMode:O,liveParams:k,onLiveEvent:b,dataProviderName:s}),Cu=pe=>{oa(Ve=>Tr(Ce,pe,Ve))},xu=pe=>{oa(Tr(Ce,pe))},Iu=pe=>{oa(Ve=>Tr(Ce,pe(Ve)))},Pu=(pe,Ve=Oa)=>{typeof pe=="function"?Iu(pe):Ve==="replace"?xu(pe):Cu(pe)},co=pe=>{xt(()=>en(rt,pe))};return{tableQueryResult:so,sorters:Le,setSorters:co,sorter:Le,setSorter:co,filters:Kt,setFilters:Pu,current:Br,setCurrent:lo,pageSize:Gt,setPageSize:io,pageCount:Gt?Math.ceil(((T=(A=so.data)==null?void 0:A.total)!=null?T:0)/Gt):1,createLinkForSyncWithLocation:ku}}var Go=h("react"),Ga=h("@tanstack/react-query"),jl=R(h("react")),Ca=jl.default.createContext({}),Tc=({create:e,get:t,update:r,children:a})=>jl.default.createElement(Ca.Provider,{value:{create:e,get:t,update:r}},a),er=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Ga.useQueryClient)(),a=(0,Go.useContext)(Ca),n=be(),{resources:o}=(0,Go.useContext)(Hr),{data:l,refetch:d,isLoading:m}=al({v3LegacyAuthProviderCompatible:Boolean(n==null?void 0:n.isLegacy),queryOptions:{enabled:!!a}}),v=(0,Ga.useMutation)(async y=>{var C,u,p,c,i;let b=ve(y.resource,o),k=q((C=b==null?void 0:b.meta)==null?void 0:C.audit,(u=b==null?void 0:b.options)==null?void 0:u.audit,(c=(p=b==null?void 0:b.options)==null?void 0:p.auditLog)==null?void 0:c.permissions);if(k&&!ns(k,y.action))return;let x;return m&&(x=await d()),await((i=a.create)==null?void 0:i.call(a,{...y,author:l!=null?l:x==null?void 0:x.data}))},e),g=(0,Ga.useMutation)(async y=>{var C;return await((C=a.update)==null?void 0:C.call(a,y))},{onSuccess:y=>{if(y!=null&&y.resource){let C=Ke(y==null?void 0:y.resource);r.invalidateQueries(C.logList())}},...t});return{log:v,rename:g}},Rc=h("react"),Oc=h("@tanstack/react-query"),Hc=({resource:e,action:t,meta:r,author:a,metaData:n,queryOptions:o})=>{let{get:l}=(0,Rc.useContext)(Ca),d=Ke(e,void 0,n);return(0,Oc.useQuery)(d.logList(r),()=>{var m;return(m=l==null?void 0:l({resource:e,action:t,author:a,meta:r,metaData:n}))!=null?m:Promise.resolve([])},{enabled:typeof l<"u",...o,retry:!1})},zc=h("react"),Uc=h("@tanstack/react-query"),tr=()=>{let{resources:e}=ne(),t=(0,Uc.useQueryClient)();return(0,zc.useCallback)(({resource:r,dataProviderName:a,invalidates:n,id:o})=>{if(n===!1)return;let l=Ke(r,Q(r,a,e));n.forEach(d=>{switch(d){case"all":t.invalidateQueries(l.all);break;case"list":t.invalidateQueries(l.list());break;case"many":t.invalidateQueries(l.many());break;case"resourceAll":t.invalidateQueries(l.resourceAll);break;case"detail":t.invalidateQueries(l.detail(o||""));break;default:break}})},[])},Wc=h("react"),jc=R(h("warn-once")),Vc=({meta:e={}}={})=>{let t=ge(),{i18nProvider:r}=(0,Wc.useContext)(Cr),a=Ge(),n=ie(),{resources:o,resource:l,action:d}=ne(),m=[];if(!(l!=null&&l.name))return{breadcrumbs:m};let v=g=>{var y,C,u,p,c,i,b,k;let x=typeof g=="string"?(y=ve(g,o,t==="legacy"))!=null?y:{name:g}:g;if(x){let I=q((C=x==null?void 0:x.meta)==null?void 0:C.parent,x==null?void 0:x.parentName);I&&v(I);let s=Re(x,o,t==="legacy").find(P=>P.action==="list"),E=(u=s==null?void 0:s.resource)!=null&&u.list?s==null?void 0:s.route:void 0,f=E?t==="legacy"?E:Qe(E,a,e):void 0;m.push({label:(i=q((p=x.meta)==null?void 0:p.label,(c=x.options)==null?void 0:c.label))!=null?i:n(`${x.name}.${x.name}`,pa(x.name)),href:f,icon:q((b=x.meta)==null?void 0:b.icon,(k=x.options)==null?void 0:k.icon,x.icon)})}};if(v(l),d&&d!=="list"){let g=`actions.${d}`,y=n(g);typeof r<"u"&&y===g?((0,jc.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${d}" action. Please add "actions.${d}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),m.push({label:n(`buttons.${d}`,pa(d))})):m.push({label:n(g,pa(d))})}return{breadcrumbs:m}},Ya=R(h("react")),va=(e,t,r=!1)=>{let a=[],n=Nt(e,t);for(;n;)a.push(n),n=Nt(n,t);return a.reverse(),`/${[...a,e].map(o=>{var l,d;return wt((d=(l=r?o.route:void 0)!=null?l:o.identifier)!=null?d:o.name)}).join("/").replace(/^\//,"")}`},Qc=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(n=>{var o,l;let d=[],m=Nt(n,e);for(;m;)d.push(m),m=Nt(m,e);d.reverse();let v=r;d.forEach(y=>{var C,u;let p=(u=(C=t?y.route:void 0)!=null?C:y.identifier)!=null?u:y.name;v.children[p]||(v.children[p]={item:y,children:{}}),v=v.children[p]});let g=(l=(o=t?n.route:void 0)!=null?o:n.identifier)!=null?l:n.name;v.children[g]||(v.children[g]={item:n,children:{}})});let a=n=>{let o=[];return Object.keys(n.children).forEach(l=>{let d=va(n.children[l].item,e,t),m={...n.children[l].item,key:d,children:a(n.children[l])};o.push(m)}),o};return a(r)},Yo=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),_c=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=ie(),a=bn(),n=ge(),{resource:o,resources:l}=ne(),{pathname:d}=Ge(),{useLocation:m}=$e(),{pathname:v}=m(),g=n==="legacy"?Yo(v):d?Yo(d):void 0,y=`/${(g!=null?g:"").replace(/^\//,"")}`,C=o?va(o,l,n==="legacy"):y!=null?y:"",u=Ya.default.useMemo(()=>{if(!o)return[];let i=Nt(o,l),b=[va(o,l)];for(;i;)b.push(va(i,l)),i=Nt(i,l);return b},[]),p=Ya.default.useCallback(i=>{var b,k,x,I,s,E,f,P;if(((x=(b=i==null?void 0:i.meta)==null?void 0:b.hide)!=null?x:(k=i==null?void 0:i.options)==null?void 0:k.hide)||!(i!=null&&i.list)&&i.children.length===0)return;let w=i.list?a({resource:i,action:"list",legacy:n==="legacy",meta:e}):void 0;if(!(t&&w&&w.match(/(\/|^):(.+?)(\/|$){1}/)))return{...i,route:w,icon:q((I=i.meta)==null?void 0:I.icon,(s=i.options)==null?void 0:s.icon,i.icon),label:(P=q((E=i==null?void 0:i.meta)==null?void 0:E.label,(f=i==null?void 0:i.options)==null?void 0:f.label))!=null?P:r(`${i.name}.${i.name}`,cn(i.name,"plural"))}},[n,e,r,t]),c=Ya.default.useMemo(()=>{let i=Qc(l,n==="legacy"),b=k=>k.flatMap(x=>{let I=b(x.children),s=p({...x,children:I});return s?[s]:[]});return b(i)},[l,n,p]);return{defaultOpenKeys:u,selectedKey:C,menuItems:c}},Kc=()=>{let[e,t]=(0,Yt.useState)(),r=ie(),{push:a}=Ze(),n=Ye(),o=ge(),{resource:l,action:d}=ne();return(0,Yt.useEffect)(()=>{l&&d&&t(r("pages.error.info",{action:d,resource:l==null?void 0:l.name},`You may have forgotten to add the "${d}" component to "${l==null?void 0:l.name}" resource.`))},[l,d]),Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Yt.default.createElement("p",null,e),Yt.default.createElement("button",{onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},he=R(h("react")),Vl=()=>{let[e,t]=(0,he.useState)(""),[r,a]=(0,he.useState)(""),n=ie(),o=be(),{mutate:l}=on({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)});return he.default.createElement(he.default.Fragment,null,he.default.createElement("h1",null,n("pages.login.title","Sign in your account")),he.default.createElement("form",{onSubmit:d=>{d.preventDefault(),l({username:e,password:r})}},he.default.createElement("table",null,he.default.createElement("tbody",null,he.default.createElement("tr",null,he.default.createElement("td",null,n("pages.login.username",void 0,"username"),":"),he.default.createElement("td",null,he.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:d=>t(d.target.value)}))),he.default.createElement("tr",null,he.default.createElement("td",null,n("pages.login.password",void 0,"password"),":"),he.default.createElement("td",null,he.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:d=>a(d.target.value)}))))),he.default.createElement("br",null),he.default.createElement("input",{type:"submit",value:"login"})))},gr=R(h("react")),re=R(h("react")),Gc=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:d})=>{let m=ge(),v=Ea(),{Link:g}=$e(),y=m==="legacy"?g:v,[C,u]=(0,re.useState)(""),[p,c]=(0,re.useState)(""),[i,b]=(0,re.useState)(!1),k=ie(),x=be(),{mutate:I}=on({v3LegacyAuthProviderCompatible:Boolean(x==null?void 0:x.isLegacy)}),s=(P,w)=>P?typeof P=="string"?re.default.createElement(y,{to:P},w):P:null,E=()=>e?e.map(P=>{var w;return re.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},re.default.createElement("button",{onClick:()=>I({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(w=P.label)!=null?w:re.default.createElement("label",null,P.label)))}):null,f=re.default.createElement("div",{...n},re.default.createElement("h1",{style:{textAlign:"center"}},k("pages.login.title","Sign in to your account")),E(),re.default.createElement("hr",null),re.default.createElement("form",{onSubmit:P=>{P.preventDefault(),I({email:C,password:p,remember:i})},...d},re.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},re.default.createElement("label",null,k("pages.login.fields.email","Email")),re.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:C,onChange:P=>u(P.target.value)}),re.default.createElement("label",null,k("pages.login.fields.password","Password")),re.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:p,onChange:P=>c(P.target.value)}),a!=null?a:re.default.createElement(re.default.Fragment,null,re.default.createElement("label",null,k("pages.login.buttons.rememberMe","Remember me"),re.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:i,value:i.toString(),onChange:()=>{b(!i)}}))),re.default.createElement("br",null),r!=null?r:s("/forgot-password",k("pages.login.buttons.forgotPassword","Forgot password?")),re.default.createElement("input",{type:"submit",value:k("pages.login.signin","Sign in")}),t!=null?t:re.default.createElement("span",null,k("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",s("/register",k("pages.login.register","Sign up"))))));return re.default.createElement("div",{...o},l?l(f):f)},fe=R(h("react")),Yc=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{let l=ge(),d=Ea(),{Link:m}=$e(),v=l==="legacy"?m:d,[g,y]=(0,fe.useState)(""),[C,u]=(0,fe.useState)(""),p=ie(),c=be(),{mutate:i,isLoading:b}=nl({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),k=(s,E)=>s?typeof s=="string"?fe.default.createElement(v,{to:s},E):s:null,x=()=>e?e.map(s=>{var E;return fe.default.createElement("div",{key:s.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},fe.default.createElement("button",{onClick:()=>i({providerName:s.name}),style:{display:"flex",alignItems:"center"}},s==null?void 0:s.icon,(E=s.label)!=null?E:fe.default.createElement("label",null,s.label)))}):null,I=fe.default.createElement("div",{...a},fe.default.createElement("h1",{style:{textAlign:"center"}},p("pages.register.title","Sign up for your account")),x(),fe.default.createElement("hr",null),fe.default.createElement("form",{onSubmit:s=>{s.preventDefault(),i({email:g,password:C})},...o},fe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},fe.default.createElement("label",null,p("pages.register.fields.email","Email")),fe.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:s=>y(s.target.value)}),fe.default.createElement("label",null,p("pages.register.fields.password","Password")),fe.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:C,onChange:s=>u(s.target.value)}),fe.default.createElement("input",{type:"submit",value:p("pages.register.buttons.submit","Sign up"),disabled:b}),t!=null?t:fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("span",null,p("pages.login.buttons.haveAccount","Have an account?")," ",k("/login",p("pages.login.signin","Sign in")))))));return fe.default.createElement("div",{...r},n?n(I):I)},Me=R(h("react")),Zc=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{let o=ie(),l=ge(),d=Ea(),{Link:m}=$e(),v=l==="legacy"?m:d,[g,y]=(0,Me.useState)(""),{mutate:C,isLoading:u}=ol(),p=(i,b)=>i?typeof i=="string"?Me.default.createElement(v,{to:i},b):i:null,c=Me.default.createElement("div",{...r},Me.default.createElement("h1",{style:{textAlign:"center"}},o("pages.forgotPassword.title","Forgot your password?")),Me.default.createElement("hr",null),Me.default.createElement("form",{onSubmit:i=>{i.preventDefault(),C({email:g})},...n},Me.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Me.default.createElement("label",null,o("pages.forgotPassword.fields.email","Email")),Me.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:i=>y(i.target.value)}),Me.default.createElement("input",{type:"submit",disabled:u,value:o("pages.forgotPassword.buttons.submit","Send reset instructions")}),Me.default.createElement("br",null),e!=null?e:Me.default.createElement("span",null,o("pages.register.buttons.haveAccount","Have an account? ")," ",p("/login",o("pages.login.signin","Sign in"))))));return Me.default.createElement("div",{...t},a?a(c):c)},Te=R(h("react")),Jc=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{let n=ie(),o=be(),{mutate:l,isLoading:d}=ll({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),[m,v]=(0,Te.useState)(""),[g,y]=(0,Te.useState)(""),C=Te.default.createElement("div",{...t},Te.default.createElement("h1",{style:{textAlign:"center"}},n("pages.updatePassword.title","Update Password")),Te.default.createElement("hr",null),Te.default.createElement("form",{onSubmit:u=>{u.preventDefault(),l({password:m,confirmPassword:g})},...a},Te.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.default.createElement("label",null,n("pages.updatePassword.fields.password","New Password")),Te.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:m,onChange:u=>v(u.target.value)}),Te.default.createElement("label",null,n("pages.updatePassword.fields.confirmPassword","Confirm New Password")),Te.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:g,onChange:u=>y(u.target.value)}),Te.default.createElement("input",{type:"submit",disabled:d,value:n("pages.updatePassword.buttons.submit","Update")}))));return Te.default.createElement("div",{...e},r?r(C):C)},Xc=e=>{let{type:t}=e;return gr.default.createElement(gr.default.Fragment,null,(()=>{switch(t){case"register":return gr.default.createElement(Yc,{...e});case"forgotPassword":return gr.default.createElement(Zc,{...e});case"updatePassword":return gr.default.createElement(Jc,{...e});default:return gr.default.createElement(Gc,{...e})}})())},qe=R(h("react")),Ql=()=>qe.default.createElement(qe.default.Fragment,null,qe.default.createElement("h1",null,"Welcome on board"),qe.default.createElement("p",null,"Your configuration is completed."),qe.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",qe.default.createElement("code",null,"`resources`")," property of ",qe.default.createElement("code",null,"`<Refine>`")),qe.default.createElement("div",{style:{display:"flex",gap:8}},qe.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Documentation")),qe.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Examples")),qe.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},qe.default.createElement("button",null,"Community")))),nt=R(h("react")),ed=()=>nt.default.createElement(nt.default.Fragment,null,nt.default.createElement("h1",null,"Welcome on board"),nt.default.createElement("p",null,"Your configuration is completed."),nt.default.createElement("div",{style:{display:"flex",gap:8}},nt.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Documentation")),nt.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Examples")),nt.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},nt.default.createElement("button",null,"Community")))),ae=R(h("react")),Za=h("@tanstack/react-query"),td=h("@tanstack/react-query-devtools"),rd=h("react"),Jt=h("react"),ad="4.1.2",nd=()=>{let e=il(),t=(0,Jt.useContext)(Ca),r=(0,Jt.useContext)(Rr),a=(0,Jt.useContext)(En),n=(0,Jt.useContext)(vn),{i18nProvider:o}=(0,Jt.useContext)(Cr),l=(0,Jt.useContext)(gn),d=(0,Jt.useContext)(ka),{resources:m}=ne(),v=!!t.create||!!t.get||!!t.update,g=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),y=!!a.useHistory||!!a.Link||!!a.Prompt||!!a.useLocation||!!a.useParams,C=!!n,u=!!(o!=null&&o.changeLocale)||!!(o!=null&&o.getLocale)||!!(o!=null&&o.translate),p=!!l.close||!!l.open,c=!!d.can;return{providers:{auth:e,auditLog:v,live:g,router:y,data:C,i18n:u,notification:p,accessControl:c},version:ad,resourceCount:m.length}},od=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},ld=()=>{let e=nd();return(0,rd.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${od(e)}`},[]),null},id=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(a=>!t.includes(a));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},Zo=R(h("react")),ud=e=>{let t=Zo.default.useRef(!1);Zo.default.useEffect(()=>{t.current===!1&&e&&id(e)&&(t.current=!0)},[e])},sd=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:a,routerProvider:n,notificationProvider:o,accessControlProvider:l,auditLogProvider:d,resources:m,DashboardPage:v,ReadyPage:g,LoginPage:y,catchAll:C,children:u,liveProvider:p,i18nProvider:c,Title:i,Layout:b,Sider:k,Header:x,Footer:I,OffLayoutArea:s,onLiveEvent:E,options:f})=>{let{optionsWithDefaults:P,disableTelemetryWithDefault:w,reactQueryWithDefaults:S}=ps({options:f}),F=Fl(()=>{var A;return S.clientConfig instanceof Za.QueryClient?S.clientConfig:new Za.QueryClient({...S.clientConfig,defaultOptions:{...S.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(A=S.clientConfig.defaultOptions)==null?void 0:A.queries}}})},[S.clientConfig]),N=ae.default.useMemo(()=>typeof o=="function"?o:()=>o!=null?o:{},[o])();if(ud(n),a&&!n&&(m!=null?m:[]).length===0)return g?ae.default.createElement(g,null):ae.default.createElement(Ql,null);let{RouterComponent:$=ae.default.Fragment}=n?{}:a!=null?a:{};return ae.default.createElement(Za.QueryClientProvider,{client:F},ae.default.createElement(ec,{...N},ae.default.createElement(Ou,{...e!=null?e:{},isProvided:Boolean(e)},ae.default.createElement(Hu,{...t!=null?t:{},isProvided:Boolean(t)},ae.default.createElement(Ds,{...r},ae.default.createElement(Os,{liveProvider:p},ae.default.createElement(Gs,{value:a&&!n?"legacy":"new"},ae.default.createElement(Zs,{router:n},ae.default.createElement(Pc,{...a},ae.default.createElement(Ks,{resources:m!=null?m:[]},ae.default.createElement(rc,{i18nProvider:c},ae.default.createElement(Sc,{...l!=null?l:{}},ae.default.createElement(Tc,{...d!=null?d:{}},ae.default.createElement(ks,null,ae.default.createElement(ms,{mutationMode:P.mutationMode,warnWhenUnsavedChanges:P.warnWhenUnsavedChanges,syncWithLocation:P.syncWithLocation,Title:i,undoableTimeout:P.undoableTimeout,catchAll:C,DashboardPage:v,LoginPage:y,Layout:b,Sider:k,Footer:I,Header:x,OffLayoutArea:s,hasDashboard:!!v,liveMode:P.liveMode,onLiveEvent:E,options:P},ae.default.createElement(lc,null,ae.default.createElement($,null,u,!w&&ae.default.createElement(ld,null),ae.default.createElement(Kl,null))))))))))))))))),S.devtoolConfig===!1?null:ae.default.createElement(td.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...S.devtoolConfig}))},Jo=h("react"),_l=({notification:e})=>{let t=ie(),{notificationDispatch:r}=kr(),{open:a}=Dt(),[n,o]=(0,Jo.useState)(),l=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||a==null||a({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Va(e.seconds)},`You have ${Va(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Va(e.seconds)}),e.seconds>0)){n&&clearTimeout(n);let d=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);o(d)}};return(0,Jo.useEffect)(()=>{l()},[e]),null},ga=R(h("react")),cd=({children:e,Layout:t,Sider:r,Header:a,Title:n,Footer:o,OffLayoutArea:l})=>{let{Layout:d,Footer:m,Header:v,Sider:g,Title:y,OffLayoutArea:C}=hn(),u=t!=null?t:d;return ga.default.createElement(u,{Sider:r!=null?r:g,Header:a!=null?a:v,Footer:o!=null?o:m,Title:n!=null?n:y,OffLayoutArea:l!=null?l:C},e,ga.default.createElement(dd,null))},dd=()=>{let{Prompt:e}=$e(),t=ie(),{warnWhen:r,setWarnWhen:a}=yn(),n=o=>(o.preventDefault(),o.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),o.returnValue);return(0,ga.useEffect)(()=>(r&&window.addEventListener("beforeunload",n),window.removeEventListener("beforeunload",n)),[r]),ga.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:a})},Pt=R(h("react")),md=()=>{let e=Ye(),[t,r]=Pt.default.useState(void 0);return Pt.default.useEffect(()=>{t&&e(t)},[t]),Pt.default.useCallback(a=>{t||r(a)},[t])};function pd({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:a,loading:n}){var o,l,d,m,v;let g=be(),y=Boolean(g==null?void 0:g.isLegacy),C=ln({v3LegacyAuthProviderCompatible:Boolean(g==null?void 0:g.isLegacy)}),u=ge(),p=Ge(),c=Ye(),i=md(),{replace:b}=Ze(),{useLocation:k}=$e(),{pathname:x,search:I}=k(),s=C.isLoading,E=g!=null&&g.isProvided?y?C.isSuccess:(o=C.data)==null?void 0:o.authenticated:!0,f=y?typeof e=="string"?e:"/login":typeof e=="string"?e:(l=C.data)==null?void 0:l.redirectTo;if(s)return n?Pt.default.createElement(Pt.default.Fragment,null,n):null;if(E)return Pt.default.createElement(Pt.default.Fragment,null,r!=null?r:null);if(typeof a>"u"){if(u==="legacy"){let P=t&&x?`?to=${encodeURIComponent(`${x}${I!=null?I:""}`)}`:"",w=x==null?void 0:x.split(/[?#]/)[0];!(w!=null&&w.includes("/login"))&&w!==e&&b(`/${(f!=null?f:"/login").replace(/^\//,"")}${P}`)}else{if(((d=p.pathname)==null?void 0:d.split(/[?#]/)[0])===f)return null;let P=(m=p.params)!=null&&m.to?(v=p.params)==null?void 0:v.to:c({to:p.pathname||"/",options:{keepQuery:!0},type:"path"});f&&i({to:`/${f.replace(/^\//,"")}`,query:P&&typeof P=="string"&&P.length>1?{to:P}:{}})}return null}return Pt.default.createElement(Pt.default.Fragment,null,a)}var fd=h("react"),Kl=()=>{let{useLocation:e}=$e(),{checkAuth:t}=_e(),r=e();return(0,fd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},yr=R(h("react")),vd=({resource:e,action:t,params:r,fallback:a,children:n,...o})=>{let{data:l}=Wl({resource:e,action:t,params:r});return l!=null&&l.can?yr.default.isValidElement(n)?yr.default.cloneElement(n,o):yr.default.createElement(yr.default.Fragment,null,n):(l==null?void 0:l.can)===!1?yr.default.createElement(yr.default.Fragment,null,a!=null?a:null):null},hr=R(h("react")),gd=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],yd=()=>((0,hr.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),gd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),hr.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},hr.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},hr.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},hr.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),hr.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var lt=Mr((Up,Zl)=>{var kn=Object.defineProperty,hd=Object.getOwnPropertyDescriptor,bd=Object.getOwnPropertyNames,Ed=Object.prototype.hasOwnProperty,kd=(e,t)=>{for(var r in t)kn(e,r,{get:t[r],enumerable:!0})},Cd=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of bd(t))!Ed.call(e,n)&&n!==r&&kn(e,n,{get:()=>t[n],enumerable:!(a=hd(t,n))||a.enumerable});return e},xd=e=>Cd(kn({},"__esModule",{value:!0}),e),Yl={};kd(Yl,{RefineButtonTestIds:()=>Id});Zl.exports=xd(Yl);var Id={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var ar=Mr((Wp,ni)=>{var Pd=Object.create,xa=Object.defineProperty,wd=Object.getOwnPropertyDescriptor,$d=Object.getOwnPropertyNames,Sd=Object.getPrototypeOf,Fd=Object.prototype.hasOwnProperty,Ld=(e,t)=>{for(var r in t)xa(e,r,{get:t[r],enumerable:!0})},ri=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of $d(t))!Fd.call(e,n)&&n!==r&&xa(e,n,{get:()=>t[n],enumerable:!(a=wd(t,n))||a.enumerable});return e},qd=(e,t,r)=>(r=e!=null?Pd(Sd(e)):{},ri(t||!e||!e.__esModule?xa(r,"default",{value:e,enumerable:!0}):r,e)),Ad=e=>ri(xa({},"__esModule",{value:!0}),e),ai={};Ld(ai,{useForm:()=>xn,useModalForm:()=>Dd,useStepsForm:()=>Bd});ni.exports=Ad(ai);var Jl=h("react"),Nd=h("react-hook-form"),Xl=V(),xn=({refineCoreProps:e,warnWhenUnsavedChanges:t,...r}={})=>{let{warnWhenUnsavedChanges:a,setWarnWhen:n}=(0,Xl.useWarnAboutChange)(),o=t!=null?t:a,l=(0,Xl.useForm)({...e}),{queryResult:d,onFinish:m,formLoading:v}=l,g=(0,Nd.useForm)({...r}),{watch:y,reset:C,getValues:u,handleSubmit:p}=g;(0,Jl.useEffect)(()=>{var b;if(typeof(d==null?void 0:d.data)<"u"){let k={},x=Object.keys(u());Object.entries(((b=d==null?void 0:d.data)==null?void 0:b.data)||{}).forEach(([I,s])=>{x.includes(I)&&(k[I]=s)}),C(k)}},[d==null?void 0:d.data]),(0,Jl.useEffect)(()=>{let b=y((k,{type:x})=>{x==="change"&&c(k)});return()=>b.unsubscribe()},[y]);let c=b=>(o&&n(!0),b),i=(b,k)=>async x=>(n(!1),await p(b,k)(x));return{...g,handleSubmit:i,refineCore:l,saveButtonProps:{disabled:v,onClick:b=>{i(m,()=>!1)(b)}}}},ei=h("react"),Bd=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:a=!1}=e!=null?e:{},[n,o]=(0,ei.useState)(r),l=xn({...t}),{trigger:d,getValues:m,reset:v,formState:{dirtyFields:g},refineCore:{queryResult:y}}=l;(0,ei.useEffect)(()=>{var u;if(y!=null&&y.data){let p={},c=Object.keys(m());Object.entries((u=y==null?void 0:y.data)==null?void 0:u.data).forEach(([i,b])=>{c.includes(i)&&(g[i]?p[i]=m(i):p[i]=b)}),v(p,{keepDirty:!0,keepValues:!0})}},[y==null?void 0:y.data,n]);let C=u=>{let p=u;u<0&&(p=0),o(p)};return{...l,steps:{currentStep:n,gotoStep:async u=>{if(u!==n){if(u<n&&!a){C(u);return}await d()&&C(u)}}}}},ti=h("react"),rr=V(),Cn=qd(h("react")),Dd=({modalProps:e,refineCoreProps:t,syncWithLocation:r,...a}={})=>{var n,o,l,d,m,v,g;let y=Cn.default.useRef(!1),C=(0,rr.useTranslate)(),{resource:u,action:p}=t!=null?t:{},{resource:c,action:i}=(0,rr.useResource)(u),b=(0,rr.useParsed)(),k=(0,rr.useGo)(),x=(n=p!=null?p:i)!=null?n:"",I=typeof r=="object"&&r.syncId,s=typeof r=="object"&&"key"in r?r.key:c&&x&&r?`modal-${(o=c==null?void 0:c.identifier)!=null?o:c==null?void 0:c.name}-${x}`:void 0,{defaultVisible:E=!1,autoSubmitClose:f=!0,autoResetForm:P=!0}=e!=null?e:{},w=xn({refineCoreProps:t,...a}),{reset:S,refineCore:{onFinish:F,id:N,setId:$},saveButtonProps:A,handleSubmit:T}=w,{visible:B,show:L,close:O}=(0,rr.useModal)({defaultVisible:E});Cn.default.useEffect(()=>{var te,Z,ee,We;if(y.current===!1&&s){let je=(Z=(te=b==null?void 0:b.params)==null?void 0:te[s])==null?void 0:Z.open;if(typeof je=="boolean"?je&&L():typeof je=="string"&&je==="true"&&L(),I){let Pe=(We=(ee=b==null?void 0:b.params)==null?void 0:ee[s])==null?void 0:We.id;Pe&&($==null||$(Pe))}y.current=!0}},[s,b,I,$]),Cn.default.useEffect(()=>{var te;y.current===!0&&(B&&s?k({query:{[s]:{...(te=b==null?void 0:b.params)==null?void 0:te[s],open:!0,...I&&N&&{id:N}}},options:{keepQuery:!0},type:"replace"}):s&&!B&&k({query:{[s]:void 0},options:{keepQuery:!0},type:"replace"}))},[N,B,L,s,I]);let D=async te=>{await F(te),f&&O(),P&&S()},{warnWhen:X,setWarnWhen:_}=(0,rr.useWarnAboutChange)(),K=(0,ti.useCallback)(()=>{if(X)if(window.confirm(C("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))_(!1);else return;$==null||$(void 0),O()},[X]),de=(0,ti.useCallback)(te=>{$==null||$(te),L()},[]),Ee=C(`${c==null?void 0:c.name}.titles.${p}`,void 0,`${(0,rr.userFriendlyResourceName)(`${p} ${(g=(v=(m=(l=c==null?void 0:c.meta)==null?void 0:l.label)!=null?m:(d=c==null?void 0:c.options)==null?void 0:d.label)!=null?v:c==null?void 0:c.label)!=null?g:c==null?void 0:c.name}`,"singular")}`);return{modal:{submit:D,close:K,show:de,visible:B,title:Ee},...w,saveButtonProps:{...A,onClick:te=>T(D)(te)}}}});var Xr=Mr((ef,Di)=>{var Md=Object.create,qa=Object.defineProperty,Td=Object.getOwnPropertyDescriptor,Rd=Object.getOwnPropertyNames,Od=Object.getPrototypeOf,Hd=Object.prototype.hasOwnProperty,zd=(e,t)=>{for(var r in t)qa(e,r,{get:t[r],enumerable:!0})},$i=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Rd(t))!Hd.call(e,n)&&n!==r&&qa(e,n,{get:()=>t[n],enumerable:!(a=Td(t,n))||a.enumerable});return e},U=(e,t,r)=>(r=e!=null?Md(Od(e)):{},$i(t||!e||!e.__esModule?qa(r,"default",{value:e,enumerable:!0}):r,e)),Ud=e=>$i(qa({},"__esModule",{value:!0}),e),Si={};zd(Si,{AuthPage:()=>Qm,BooleanField:()=>vm,Breadcrumb:()=>Jr,CloneButton:()=>rm,Create:()=>Zd,CreateButton:()=>Ai,DateField:()=>Em,DeleteButton:()=>Sn,Edit:()=>Gd,EditButton:()=>Ni,EmailField:()=>pm,ErrorComponent:()=>Mm,ExportButton:()=>em,FileField:()=>Cm,Header:()=>Li,ImportButton:()=>nm,Layout:()=>Wd,List:()=>Vd,ListButton:()=>Ln,MarkdownField:()=>Am,NumberField:()=>Sm,ReadyPage:()=>Nm,RefreshButton:()=>Fn,SaveButton:()=>qn,Show:()=>_d,ShowButton:()=>Jd,Sider:()=>Fi,TagField:()=>cm,TextField:()=>im,Title:()=>qi,UndoableNotification:()=>$n,UrlField:()=>Bi,WelcomePage:()=>Bm,notificationProvider:()=>Xm,refineTheme:()=>Zm,usePagination:()=>Gm});Di.exports=Ud(Si);var nr=U(h("react")),Ia=h("@chakra-ui/react"),H=U(h("react")),Je=V(),J=h("@chakra-ui/react"),Ir=h("@tabler/icons"),Fi=({Title:e,render:t,meta:r})=>{var a;let[n,o]=(0,H.useState)(!1),[l,d]=(0,H.useState)(!1),m=(0,Je.useRouterType)(),v=(0,Je.useLink)(),{Link:g}=(0,Je.useRouterContext)(),y=m==="legacy"?g:v,{menuItems:C,selectedKey:u,defaultOpenKeys:p}=(0,Je.useMenu)({meta:r}),c=(0,Je.useTitle)(),i=(0,Je.useIsExistAuthentication)(),b=(0,Je.useTranslate)(),{hasDashboard:k}=(0,Je.useRefineContext)(),x=(0,Je.useActiveAuthProvider)(),{mutate:I}=(0,Je.useLogout)({v3LegacyAuthProviderCompatible:Boolean(x==null?void 0:x.isLegacy)}),s=(a=e!=null?e:c)!=null?a:qi,E=()=>n?"80px":"200px",f={placement:"right",hasArrow:!0,isDisabled:!n||l},P=$=>$.map(A=>{let{label:T,route:B,name:L,icon:O,children:D}=A,X=A.key===u,_=D.length>0,K=_?void 0:{as:y,to:B};return H.default.createElement(Je.CanAccess,{key:A.key,resource:L.toLowerCase(),action:"list",params:{resource:A}},H.default.createElement(J.Accordion,{defaultIndex:p.includes(A.key||"")?0:-1,width:"full",allowToggle:!0},H.default.createElement(J.AccordionItem,{border:"none"},H.default.createElement(J.Tooltip,{label:T,...f},H.default.createElement(J.AccordionButton,{pl:6,pr:4,pt:3,pb:3,as:"div",width:"full"},H.default.createElement(J.Button,{width:"full",variant:"link",color:"white",fontWeight:"normal",leftIcon:O!=null?O:H.default.createElement(H.default.Fragment,null,H.default.createElement(Ir.IconList,{size:20})),rightIcon:_?H.default.createElement(J.AccordionIcon,null):void 0,_active:{color:"none",fontWeight:_?"normal":"bold"},_hover:{textDecoration:"none"},isActive:X,...K},(!n||l)&&H.default.createElement(J.Box,{flexGrow:1,textAlign:"left"},T)))),_&&H.default.createElement(J.AccordionPanel,{p:0,pl:n&&!l?0:4},H.default.createElement(J.Accordion,{width:"full",allowToggle:!0},P(D))))))}),w=P(C),S=k?H.default.createElement(Je.CanAccess,{resource:"dashboard",action:"list"},H.default.createElement(J.Tooltip,{label:b("dashboard.title","Dashboard"),...f},H.default.createElement(J.Button,{width:"full",justifyContent:n&&!l?"center":"flex-start",pl:6,pr:4,pt:3,pb:3,fontWeight:"normal",leftIcon:H.default.createElement(Ir.IconDashboard,{size:20}),variant:"link",color:"white",isActive:u==="/",_active:{color:"none",fontWeight:"bold"},_hover:{textDecoration:"none"},as:y,to:"/"},(!n||l)&&b("dashboard.title","Dashboard")))):null,F=i&&H.default.createElement(J.Tooltip,{label:b("buttons.logout","Logout"),...f},H.default.createElement(J.Button,{width:"full",justifyContent:n&&!l?"center":"flex-start",pl:6,pr:4,pt:3,pb:3,fontWeight:"normal",leftIcon:H.default.createElement(Ir.IconLogout,{size:20}),variant:"link",_active:{color:"none"},_hover:{textDecoration:"none"},color:"white",onClick:()=>I()},(!n||l)&&b("buttons.logout","Logout"))),N=()=>t?t({dashboard:S,logout:F,items:w,collapsed:!1}):H.default.createElement(H.default.Fragment,null,S,w,F);return H.default.createElement(H.default.Fragment,null,H.default.createElement(J.Box,{position:"fixed",top:16,left:0,zIndex:1200,display:["block","block","none","none","none"]},H.default.createElement(J.IconButton,{borderLeftRadius:0,bg:"sider.background",color:"white",_hover:{bg:"sider.background"},_active:{bg:"sider.background",transform:"translateY(1px)"},"aria-label":"Open Menu",onClick:()=>d($=>!$)},H.default.createElement(Ir.IconMenu2,null))),H.default.createElement(J.Drawer,{placement:"left",isOpen:l,onClose:()=>d(!1)},H.default.createElement(J.DrawerOverlay,null),H.default.createElement(J.DrawerContent,{w:"200px",maxW:"200px",bg:"sider.background"},H.default.createElement(J.Box,{display:"flex",justifyContent:"center",py:4},H.default.createElement(s,{collapsed:!1})),H.default.createElement(J.VStack,{mt:2,color:"white",alignItems:"start",flexGrow:1},H.default.createElement(J.Box,{width:"full"},N())))),H.default.createElement(J.Box,{display:["none","none","flex"],width:E(),transition:"width 200ms ease, min-width 200ms ease",flexShrink:0}),H.default.createElement(J.Box,{bg:"sider.background",position:"fixed",width:E(),top:0,h:"100vh",display:["none","none","flex"],flexDirection:"column",transition:"width 200ms ease, min-width 200ms ease"},H.default.createElement(J.Box,{display:"flex",justifyContent:"center",py:4},H.default.createElement(s,{collapsed:n})),H.default.createElement(J.VStack,{mt:2,color:"white",alignItems:"start",flexGrow:1},H.default.createElement(J.Box,{width:"full"},N())),H.default.createElement(J.Button,{onClick:()=>o($=>!$),color:"white",bg:"sider.collapseButton",borderRadius:0,_hover:{bg:"sider.collapseButton"},_active:{bg:"sider.collapseButton",transform:"translateY(1px)"}},n?H.default.createElement(Ir.IconChevronRight,null):H.default.createElement(Ir.IconChevronLeft,null))))},Pa=U(h("react")),oi=V(),wa=h("@chakra-ui/react"),Li=()=>{let e=(0,oi.useActiveAuthProvider)(),{data:t}=(0,oi.useGetIdentity)({v3LegacyAuthProviderCompatible:Boolean(e==null?void 0:e.isLegacy)});return t&&(t.name||t.avatar)?Pa.default.createElement(wa.Box,{py:"2",px:"4",display:"flex",justifyContent:"flex-end",w:"full",bg:"chakra-body-bg"},Pa.default.createElement(wa.HStack,null,Pa.default.createElement(wa.Text,{size:"sm",fontWeight:"bold"},t==null?void 0:t.name),Pa.default.createElement(wa.Avatar,{size:"sm",name:t==null?void 0:t.name,src:t==null?void 0:t.avatar}))):null},Wd=({Sider:e,Header:t,Title:r,Footer:a,OffLayoutArea:n,children:o})=>{let l=e!=null?e:Fi,d=t!=null?t:Li,m=(0,Ia.useColorModeValue)("gray.100","gray.900");return nr.default.createElement(Ia.Box,{display:"flex",bg:m},nr.default.createElement(l,{Title:r}),nr.default.createElement(Ia.Box,{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",minH:"100vh"},nr.default.createElement(d,null),nr.default.createElement(Ia.Box,{p:[2,4]},o),a&&nr.default.createElement(a,null)),n&&nr.default.createElement(n,null))},In=U(h("react")),Pn=V(),jd=h("@chakra-ui/react"),qi=({collapsed:e})=>{let t=(0,Pn.useRouterType)(),r=(0,Pn.useLink)(),{Link:a}=(0,Pn.useRouterContext)();return In.default.createElement(jd.Link,{as:t==="legacy"?a:r,to:"/"},e?In.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",style:{maxHeight:"38px"}}):In.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px",style:{minHeight:"38px"}}))},it=U(h("react")),Ur=V(),or=h("@chakra-ui/react"),Vd=e=>{var t,r,a;let{canCreate:n,children:o,createButtonProps:l,resource:d,wrapperProps:m,contentProps:v,headerProps:g,headerButtonProps:y,headerButtons:C,breadcrumb:u,title:p}=e,c=(0,Ur.useTranslate)(),{options:{breadcrumb:i}={}}=(0,Ur.useRefineContext)(),b=(0,Ur.useRouterType)(),{resource:k}=(0,Ur.useResource)(d),x=n!=null?n:((t=k==null?void 0:k.canCreate)!=null?t:!!(k!=null&&k.create))||l,I=typeof u>"u"?i:u,s=x?it.default.createElement(Ai,{resource:b==="legacy"?k==null?void 0:k.route:(r=k==null?void 0:k.identifier)!=null?r:k==null?void 0:k.name,...l}):null,E=C?typeof C=="function"?C({defaultButtons:s}):C:s,f=()=>{var P,w,S,F,N;return p?typeof p=="string"||typeof p=="number"?it.default.createElement(or.Heading,{as:"h3",size:"lg"},p):p:it.default.createElement(or.Heading,{as:"h3",size:"lg"},c(`${k==null?void 0:k.name}.titles.list`,(0,Ur.userFriendlyResourceName)((N=(F=(S=(P=k==null?void 0:k.meta)==null?void 0:P.label)!=null?S:(w=k==null?void 0:k.options)==null?void 0:w.label)!=null?F:k==null?void 0:k.label)!=null?N:k==null?void 0:k.name,"plural")))};return it.default.createElement(or.Box,{bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...m},it.default.createElement(or.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...g},it.default.createElement(or.Box,{minW:200},typeof I<"u"?(a=it.default.createElement(it.default.Fragment,null,I))!=null?a:void 0:it.default.createElement(Jr,null),f()),it.default.createElement(or.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...y},E)),it.default.createElement(or.Box,{...v},o))},me=U(h("react")),$t=V(),ut=h("@chakra-ui/react"),Qd=h("@tabler/icons"),_d=e=>{var t,r,a,n,o,l,d,m;let{children:v,resource:g,recordItemId:y,canDelete:C,canEdit:u,dataProviderName:p,isLoading:c,footerButtons:i,footerButtonProps:b,headerButtons:k,headerButtonProps:x,wrapperProps:I,contentProps:s,headerProps:E,goBack:f,breadcrumb:P,title:w}=e,S=(0,$t.useTranslate)(),{options:{breadcrumb:F}={}}=(0,$t.useRefineContext)(),N=(0,$t.useRouterType)(),$=(0,$t.useBack)(),A=(0,$t.useGo)(),{goBack:T,list:B}=(0,$t.useNavigation)(),{resource:L,action:O,id:D}=(0,$t.useResource)(g),X=(0,$t.useToPath)({resource:L,action:"list"}),_=y!=null?y:D,K=typeof P>"u"?F:P,de=(r=C!=null?C:(t=L==null?void 0:L.meta)==null?void 0:t.canDelete)!=null?r:L==null?void 0:L.canDelete,Ee=(a=u!=null?u:L==null?void 0:L.canEdit)!=null?a:!!(L!=null&&L.edit),te=me.default.createElement(me.default.Fragment,null,!y&&me.default.createElement(Ln,{...c?{disabled:!0}:{},resource:N==="legacy"?L==null?void 0:L.route:(n=L==null?void 0:L.identifier)!=null?n:L==null?void 0:L.name}),Ee&&me.default.createElement(Ni,{...c?{disabled:!0}:{},resource:N==="legacy"?L==null?void 0:L.route:(o=L==null?void 0:L.identifier)!=null?o:L==null?void 0:L.name,recordItemId:_}),de&&me.default.createElement(Sn,{...c?{disabled:!0}:{},resource:N==="legacy"?L==null?void 0:L.route:(l=L==null?void 0:L.identifier)!=null?l:L==null?void 0:L.name,recordItemId:_,onSuccess:()=>{var Pe,Be;N==="legacy"?B((Be=(Pe=L==null?void 0:L.route)!=null?Pe:L==null?void 0:L.name)!=null?Be:""):A({to:X})},dataProviderName:p}),me.default.createElement(Fn,{...c?{disabled:!0}:{},resource:N==="legacy"?L==null?void 0:L.route:(d=L==null?void 0:L.identifier)!=null?d:L==null?void 0:L.name,recordItemId:_,dataProviderName:p})),Z=f===null?null:me.default.createElement(ut.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:O!=="list"&&typeof O<"u"?N==="legacy"?T:$:void 0},typeof f<"u"?f:me.default.createElement(Qd.IconArrowLeft,null)),ee=k?typeof k=="function"?k({defaultButtons:te}):k:te,We=i?typeof i=="function"?i({defaultButtons:null}):i:null,je=()=>{var Pe,Be,Se,De,Ce;return w?typeof w=="string"||typeof w=="number"?me.default.createElement(ut.Heading,{as:"h3",size:"lg"},w):w:me.default.createElement(ut.Heading,{as:"h3",size:"lg"},S(`${L==null?void 0:L.name}.titles.show`,`Show ${(0,$t.userFriendlyResourceName)((Ce=(De=(Se=(Pe=L==null?void 0:L.meta)==null?void 0:Pe.label)!=null?Se:(Be=L==null?void 0:L.options)==null?void 0:Be.label)!=null?De:L==null?void 0:L.label)!=null?Ce:L==null?void 0:L.name,"singular")}`))};return me.default.createElement(ut.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...I},c&&me.default.createElement(ut.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),me.default.createElement(ut.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...E},me.default.createElement(ut.Box,{minW:200},typeof K<"u"?(m=me.default.createElement(me.default.Fragment,null,K))!=null?m:void 0:me.default.createElement(Jr,null),me.default.createElement(ut.HStack,null,Z,je())),me.default.createElement(ut.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...x},ee)),me.default.createElement(ut.Box,{opacity:c?.5:void 0,...s},v),me.default.createElement(ut.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:8,...b},We))},ue=U(h("react")),ht=V(),st=h("@chakra-ui/react"),Kd=h("@tabler/icons"),Gd=e=>{var t,r,a,n,o,l;let{children:d,resource:m,recordItemId:v,deleteButtonProps:g,mutationMode:y,saveButtonProps:C,canDelete:u,dataProviderName:p,isLoading:c,footerButtons:i,footerButtonProps:b,headerButtons:k,headerButtonProps:x,wrapperProps:I,contentProps:s,headerProps:E,goBack:f,breadcrumb:P,title:w}=e,S=(0,ht.useTranslate)(),{options:{breadcrumb:F}={}}=(0,ht.useRefineContext)(),{mutationMode:N}=(0,ht.useMutationMode)(),$=y!=null?y:N,A=(0,ht.useRouterType)(),T=(0,ht.useBack)(),B=(0,ht.useGo)(),{goBack:L,list:O}=(0,ht.useNavigation)(),{resource:D,action:X,id:_}=(0,ht.useResource)(m),K=(0,ht.useToPath)({resource:D,action:"list"}),de=v!=null?v:_,Ee=typeof P>"u"?F:P,te=u!=null?u:((r=(t=D==null?void 0:D.meta)==null?void 0:t.canDelete)!=null?r:D==null?void 0:D.canDelete)||g,Z=ue.default.createElement(ue.default.Fragment,null,!v&&ue.default.createElement(Ln,{...c?{disabled:!0}:{},resource:A==="legacy"?D==null?void 0:D.route:(a=D==null?void 0:D.identifier)!=null?a:D==null?void 0:D.name}),ue.default.createElement(Fn,{...c?{disabled:!0}:{},resource:A==="legacy"?D==null?void 0:D.route:(n=D==null?void 0:D.identifier)!=null?n:D==null?void 0:D.name,recordItemId:de,dataProviderName:p})),ee=ue.default.createElement(ue.default.Fragment,null,te&&ue.default.createElement(Sn,{...c?{disabled:!0}:{},resource:A==="legacy"?D==null?void 0:D.route:(o=D==null?void 0:D.identifier)!=null?o:D==null?void 0:D.name,mutationMode:$,onSuccess:()=>{var Se,De;A==="legacy"?O((De=(Se=D==null?void 0:D.route)!=null?Se:D==null?void 0:D.name)!=null?De:""):B({to:K})},recordItemId:de,dataProviderName:p,...g}),ue.default.createElement(qn,{...c?{disabled:!0}:{},...C})),We=f===null?null:ue.default.createElement(st.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:X!=="list"&&typeof X<"u"?A==="legacy"?L:T:void 0},typeof f<"u"?f:ue.default.createElement(Kd.IconArrowLeft,null)),je=k?typeof k=="function"?k({defaultButtons:Z}):k:Z,Pe=i?typeof i=="function"?i({defaultButtons:ee}):i:ee,Be=()=>{var Se,De,Ce,Lt,rt;return w?typeof w=="string"||typeof w=="number"?ue.default.createElement(st.Heading,{as:"h3",size:"lg"},w):w:ue.default.createElement(st.Heading,{as:"h3",size:"lg"},S(`${D==null?void 0:D.name}.titles.edit`,`Edit ${(0,ht.userFriendlyResourceName)((rt=(Lt=(Ce=(Se=D==null?void 0:D.meta)==null?void 0:Se.label)!=null?Ce:(De=D==null?void 0:D.options)==null?void 0:De.label)!=null?Lt:D==null?void 0:D.label)!=null?rt:D==null?void 0:D.name,"singular")}`))};return ue.default.createElement(st.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...I},c&&ue.default.createElement(st.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),ue.default.createElement(st.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...E},ue.default.createElement(st.Box,{minW:200},typeof Ee<"u"?(l=ue.default.createElement(ue.default.Fragment,null,Ee))!=null?l:void 0:ue.default.createElement(Jr,null),ue.default.createElement(st.HStack,{spacing:2},We,Be())),ue.default.createElement(st.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...x},je)),ue.default.createElement(st.Box,{opacity:c?.5:void 0,...s},d),ue.default.createElement(st.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:8,...b},Pe))},xe=U(h("react")),lr=V(),ct=h("@chakra-ui/react"),Yd=h("@tabler/icons"),Zd=e=>{let{children:t,saveButtonProps:r,isLoading:a,resource:n,footerButtons:o,footerButtonProps:l,headerButtons:d,headerButtonProps:m,wrapperProps:v,contentProps:g,headerProps:y,goBack:C,breadcrumb:u,title:p}=e,c=(0,lr.useTranslate)(),{options:{breadcrumb:i}={}}=(0,lr.useRefineContext)(),b=(0,lr.useRouterType)(),k=(0,lr.useBack)(),{goBack:x}=(0,lr.useNavigation)(),{resource:I,action:s}=(0,lr.useResource)(n),E=typeof u>"u"?i:u,f=xe.default.createElement(qn,{...a?{disabled:!0}:{},...r}),P=C===null?null:xe.default.createElement(ct.IconButton,{"aria-label":"back",variant:"ghost",size:"sm",onClick:s!=="list"||typeof s<"u"?b==="legacy"?x:k:void 0},typeof C<"u"?C:xe.default.createElement(Yd.IconArrowLeft,null)),w=d?typeof d=="function"?d({defaultButtons:null}):d:null,S=o?typeof o=="function"?o({defaultButtons:f}):o:f,F=()=>{var N,$,A,T,B;return p?typeof p=="string"||typeof p=="number"?xe.default.createElement(ct.Heading,{as:"h3",size:"lg"},p):p:xe.default.createElement(ct.Heading,{as:"h3",size:"lg"},c(`${I==null?void 0:I.name}.titles.create`,`Create ${(0,lr.userFriendlyResourceName)((B=(T=(A=(N=I==null?void 0:I.meta)==null?void 0:N.label)!=null?A:($=I==null?void 0:I.options)==null?void 0:$.label)!=null?T:I==null?void 0:I.label)!=null?B:I==null?void 0:I.name,"singular")}`))};return xe.default.createElement(ct.Box,{position:"relative",bg:"chakra-body-bg",borderRadius:"md",px:"4",py:"3",...v},a&&xe.default.createElement(ct.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),xe.default.createElement(ct.Box,{mb:"3",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:{base:"wrap",md:"nowrap"},gap:"3",...y},xe.default.createElement(ct.Box,{minW:200},typeof E<"u"?xe.default.createElement(xe.default.Fragment,null,E):xe.default.createElement(Jr,null),xe.default.createElement(ct.HStack,null,P,F())),xe.default.createElement(ct.Box,{display:"flex",flexWrap:"wrap",justifyContent:{base:"flex-start",md:"flex-end"},gap:"2",...m},w)),xe.default.createElement(ct.Box,{opacity:a?.5:void 0,...g},t),xe.default.createElement(ct.Box,{display:"flex",justifyContent:"flex-end",gap:"2",mt:"8",...l},S))},Wr=U(h("react")),ir=V(),jp=lt(),li=h("@chakra-ui/react"),ii=h("@tabler/icons"),Ai=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:d,...m})=>{var v,g;let y=(v=a==null?void 0:a.enabled)!=null?v:!0,C=(g=a==null?void 0:a.hideIfUnauthorized)!=null?g:!1,u=(0,ir.useTranslate)(),p=(0,ir.useRouterType)(),c=(0,ir.useLink)(),{Link:i}=(0,ir.useRouterContext)(),b=p==="legacy"?i:c,{createUrl:k}=(0,ir.useNavigation)(),{resource:x}=(0,ir.useResource)(e!=null?e:t),{data:I}=(0,ir.useCan)({resource:x==null?void 0:x.name,action:"create",queryOptions:{enabled:y},params:{resource:x}}),s=()=>I!=null&&I.can?"":I!=null&&I.reason?I.reason:u("buttons.notAccessTitle","You don't have permission to access"),E=x?k(x,o):"";return y&&C&&!(I!=null&&I.can)?null:Wr.default.createElement(b,{to:E,replace:!1,onClick:f=>{d&&(f.preventDefault(),d(f))}},r?Wr.default.createElement(li.IconButton,{variant:"outline","aria-label":u("buttons.create","Create"),title:s(),isDisabled:(I==null?void 0:I.can)===!1,...m},Wr.default.createElement(ii.IconSquarePlus,{size:20,...n})):Wr.default.createElement(li.Button,{variant:"outline",isDisabled:(I==null?void 0:I.can)===!1,leftIcon:Wr.default.createElement(ii.IconSquarePlus,{size:20}),title:s(),...m},l!=null?l:u("buttons.create","Create")))},jr=U(h("react")),ur=V(),Vp=lt(),ui=h("@tabler/icons"),si=h("@chakra-ui/react"),Ni=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:d,onClick:m,...v})=>{var g,y;let C=(g=n==null?void 0:n.enabled)!=null?g:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,p=(0,ur.useTranslate)(),c=(0,ur.useRouterType)(),i=(0,ur.useLink)(),{Link:b}=(0,ur.useRouterContext)(),k=c==="legacy"?b:i,{editUrl:x}=(0,ur.useNavigation)(),{id:I,resource:s}=(0,ur.useResource)(e!=null?e:t),{data:E}=(0,ur.useCan)({resource:s==null?void 0:s.name,action:"edit",params:{id:r!=null?r:I,resource:s},queryOptions:{enabled:C}}),f=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:p("buttons.notAccessTitle","You don't have permission to access"),P=s&&(r!=null?r:I)?x(s,r!=null?r:I,l):"";return C&&u&&!(E!=null&&E.can)?null:jr.default.createElement(k,{to:P,replace:!1,onClick:w=>{m&&(w.preventDefault(),m(w))}},a?jr.default.createElement(si.IconButton,{variant:"outline","aria-label":p("buttons.edit","Edit"),title:f(),isDisabled:(E==null?void 0:E.can)===!1,...v},jr.default.createElement(ui.IconPencil,{size:20,...o})):jr.default.createElement(si.Button,{variant:"outline",isDisabled:(E==null?void 0:E.can)===!1,leftIcon:jr.default.createElement(ui.IconPencil,{size:20,...o}),title:f(),...v},d!=null?d:p("buttons.edit","Edit")))},Ae=U(h("react")),sr=V(),Qp=lt(),dt=h("@chakra-ui/react"),ci=h("@tabler/icons"),Sn=({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:a,mutationMode:n,children:o,successNotification:l,errorNotification:d,hideText:m=!1,accessControl:v,meta:g,metaData:y,dataProviderName:C,confirmTitle:u,confirmOkText:p,confirmCancelText:c,svgIconProps:i,...b})=>{var k,x;let I=(k=v==null?void 0:v.enabled)!=null?k:!0,s=(x=v==null?void 0:v.hideIfUnauthorized)!=null?x:!1,E=(0,sr.useTranslate)(),{id:f,resource:P}=(0,sr.useResource)(e!=null?e:t),{mutationMode:w}=(0,sr.useMutationMode)(),S=n!=null?n:w,{mutate:F,isLoading:N,variables:$}=(0,sr.useDelete)(),{data:A}=(0,sr.useCan)({resource:P==null?void 0:P.name,action:"delete",params:{id:r!=null?r:f,resource:P},queryOptions:{enabled:I}}),[T,B]=(0,Ae.useState)(!1),L=()=>{var O;B(!1),(P==null?void 0:P.name)&&(r!=null?r:f)&&F({id:(O=r!=null?r:f)!=null?O:"",resource:P==null?void 0:P.name,mutationMode:S,successNotification:l,errorNotification:d,meta:(0,sr.pickNotDeprecated)(g,y),metaData:(0,sr.pickNotDeprecated)(g,y),dataProviderName:C},{onSuccess:D=>{a&&a(D)}})};return I&&s&&!(A!=null&&A.can)?null:Ae.default.createElement(dt.Popover,{isOpen:T,isLazy:!0},Ae.default.createElement(dt.PopoverTrigger,null,m?Ae.default.createElement(dt.IconButton,{colorScheme:"red",variant:"outline","aria-label":E("buttons.edit","Edit"),onClick:()=>B(O=>!O),isDisabled:N||(A==null?void 0:A.can)===!1,isLoading:(r!=null?r:f)===($==null?void 0:$.id)&&N,...b},Ae.default.createElement(ci.IconTrash,{size:20,...i})):Ae.default.createElement(dt.Button,{colorScheme:"red",variant:"outline",onClick:()=>B(O=>!O),isDisabled:N||(A==null?void 0:A.can)===!1,isLoading:f===($==null?void 0:$.id)&&N,leftIcon:Ae.default.createElement(ci.IconTrash,{size:20,...i}),...b},o!=null?o:E("buttons.delete","Delete"))),Ae.default.createElement(dt.PopoverContent,null,Ae.default.createElement(dt.PopoverArrow,null),Ae.default.createElement(dt.PopoverHeader,{textAlign:"center"},u!=null?u:E("buttons.confirm","Are you sure?")),Ae.default.createElement(dt.PopoverBody,{display:"flex",justifyContent:"center"},Ae.default.createElement(dt.HStack,null,Ae.default.createElement(dt.Button,{onClick:()=>B(!1),size:"sm"},c!=null?c:E("buttons.cancel","Cancel")),Ae.default.createElement(dt.Button,{colorScheme:"red",onClick:L,autoFocus:!0,size:"sm"},p!=null?p:E("buttons.delete","Delete"))))))},$a=U(h("react")),Vr=V(),_p=lt(),di=h("@chakra-ui/react"),mi=h("@tabler/icons"),Fn=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,meta:n,metaData:o,dataProviderName:l,svgIconProps:d,children:m,onClick:v,...g})=>{var y;let{resource:C,id:u}=(0,Vr.useResource)(e!=null?e:t),p=(0,Vr.useTranslate)(),{refetch:c,isFetching:i}=(0,Vr.useOne)({resource:C==null?void 0:C.name,id:(y=r!=null?r:u)!=null?y:"",queryOptions:{enabled:!1},meta:(0,Vr.pickNotDeprecated)(n,o),metaData:(0,Vr.pickNotDeprecated)(n,o),liveMode:"off",dataProviderName:l});return a?$a.default.createElement(di.IconButton,{variant:"outline","aria-label":p("buttons.refresh","Refresh"),onClick:b=>v?v(b):c(),isDisabled:i,...g},$a.default.createElement(mi.IconRefresh,{size:20,...d})):$a.default.createElement(di.Button,{variant:"outline",leftIcon:$a.default.createElement(mi.IconRefresh,{size:20,...d}),isLoading:i,onClick:b=>v?v(b):c(),...g},m!=null?m:p("buttons.refresh","Refresh"))},Qr=U(h("react")),cr=V(),Kp=lt(),pi=h("@chakra-ui/react"),fi=h("@tabler/icons"),Jd=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:d,onClick:m,...v})=>{var g,y;let C=(g=n==null?void 0:n.enabled)!=null?g:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{showUrl:p}=(0,cr.useNavigation)(),c=(0,cr.useRouterType)(),i=(0,cr.useLink)(),{Link:b}=(0,cr.useRouterContext)(),k=c==="legacy"?b:i,x=(0,cr.useTranslate)(),{id:I,resource:s}=(0,cr.useResource)(e!=null?e:t),{data:E}=(0,cr.useCan)({resource:s==null?void 0:s.name,action:"show",params:{id:r!=null?r:I,resource:s},queryOptions:{enabled:C}}),f=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:x("buttons.notAccessTitle","You don't have permission to access"),P=s&&(r||I)?p(s,r!=null?r:I,l):"";return C&&u&&!(E!=null&&E.can)?null:Qr.default.createElement(k,{to:P,replace:!1,onClick:w=>{m&&(w.preventDefault(),m(w))}},a?Qr.default.createElement(pi.IconButton,{variant:"outline","aria-label":x("buttons.show","Show"),isDisabled:(E==null?void 0:E.can)===!1,title:f(),...v},Qr.default.createElement(fi.IconEye,{size:20,...o})):Qr.default.createElement(pi.Button,{variant:"outline",isDisabled:(E==null?void 0:E.can)===!1,leftIcon:Qr.default.createElement(fi.IconEye,{size:20,...o}),title:f(),...v},d!=null?d:x("buttons.show","Show")))},_r=U(h("react")),bt=V(),Gp=lt(),vi=h("@chakra-ui/react"),gi=h("@tabler/icons"),Ln=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:a,svgIconProps:n,meta:o,children:l,onClick:d,...m})=>{var v,g,y,C,u,p,c,i,b,k,x,I;let s=(v=a==null?void 0:a.enabled)!=null?v:!0,E=(g=a==null?void 0:a.hideIfUnauthorized)!=null?g:!1,{listUrl:f}=(0,bt.useNavigation)(),P=(0,bt.useRouterType)(),w=(0,bt.useLink)(),{Link:S}=(0,bt.useRouterContext)(),F=P==="legacy"?S:w,N=(0,bt.useTranslate)(),{resource:$}=(0,bt.useResource)(e!=null?e:t),{data:A}=(0,bt.useCan)({resource:$==null?void 0:$.name,action:"list",queryOptions:{enabled:s},params:{resource:$}}),T=()=>A!=null&&A.can?"":A!=null&&A.reason?A.reason:N("buttons.notAccessTitle","You don't have permission to access"),B=$?f($,o):"";return s&&E&&!(A!=null&&A.can)?null:_r.default.createElement(F,{to:B,replace:!1,onClick:L=>{d&&(L.preventDefault(),d(L))}},r?_r.default.createElement(vi.IconButton,{variant:"outline","aria-label":N(`${$==null?void 0:$.name}.titles.list`,(0,bt.userFriendlyResourceName)((p=(u=(C=(y=$==null?void 0:$.meta)==null?void 0:y.label)!=null?C:$==null?void 0:$.label)!=null?u:$==null?void 0:$.name)!=null?p:t,"plural")),isDisabled:(A==null?void 0:A.can)===!1,title:T(),...m},_r.default.createElement(gi.IconList,{size:20,...n})):_r.default.createElement(vi.Button,{variant:"outline",isDisabled:(A==null?void 0:A.can)===!1,leftIcon:_r.default.createElement(gi.IconList,{size:20,...n}),title:T(),...m},l!=null?l:N(`${(i=(c=$==null?void 0:$.name)!=null?c:e)!=null?i:t}.titles.list`,(0,bt.userFriendlyResourceName)((I=(x=(k=(b=$==null?void 0:$.meta)==null?void 0:b.label)!=null?k:$==null?void 0:$.label)!=null?x:$==null?void 0:$.name)!=null?I:(0,bt.pickNotDeprecated)(e,t),"plural"))))},Sa=U(h("react")),Xd=V(),Yp=lt(),yi=h("@chakra-ui/react"),hi=h("@tabler/icons"),em=({hideText:e=!1,children:t,loading:r=!1,svgIconProps:a,...n})=>{let o=(0,Xd.useTranslate)();return e?Sa.default.createElement(yi.IconButton,{variant:"outline","aria-label":o("buttons.export","Export"),isLoading:r,...n},Sa.default.createElement(hi.IconFileExport,{size:20,...a})):Sa.default.createElement(yi.Button,{variant:"outline",isLoading:r,leftIcon:Sa.default.createElement(hi.IconFileExport,{size:20,...a}),...n},t!=null?t:o("buttons.export","Export"))},Fa=U(h("react")),tm=V(),Zp=lt(),bi=h("@chakra-ui/react"),Ei=h("@tabler/icons"),qn=({hideText:e=!1,svgIconProps:t,children:r,...a})=>{let n=(0,tm.useTranslate)();return e?Fa.default.createElement(bi.IconButton,{colorScheme:"green","aria-label":n("buttons.save","Save"),...a},Fa.default.createElement(Ei.IconDeviceFloppy,{size:20,...t})):Fa.default.createElement(bi.Button,{colorScheme:"green",leftIcon:Fa.default.createElement(Ei.IconDeviceFloppy,{size:20,...t}),...a},r!=null?r:n("buttons.save","Save"))},Kr=U(h("react")),dr=V(),Jp=lt(),ki=h("@chakra-ui/react"),Ci=h("@tabler/icons"),rm=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:a=!1,accessControl:n,svgIconProps:o,meta:l,children:d,onClick:m,...v})=>{var g,y;let C=(g=n==null?void 0:n.enabled)!=null?g:!0,u=(y=n==null?void 0:n.hideIfUnauthorized)!=null?y:!1,{cloneUrl:p}=(0,dr.useNavigation)(),c=(0,dr.useRouterType)(),i=(0,dr.useLink)(),{Link:b}=(0,dr.useRouterContext)(),k=c==="legacy"?b:i,{id:x,resource:I}=(0,dr.useResource)(e!=null?e:t),s=(0,dr.useTranslate)(),{data:E}=(0,dr.useCan)({resource:I==null?void 0:I.name,action:"create",params:{id:r!=null?r:x,resource:I},queryOptions:{enabled:C}}),f=()=>E!=null&&E.can?"":E!=null&&E.reason?E.reason:s("buttons.notAccessTitle","You don't have permission to access"),P=I&&(r||x)?p(I,r!=null?r:x,l):"";return C&&u&&!(E!=null&&E.can)?null:Kr.default.createElement(k,{to:P,replace:!1,onClick:w=>{m&&(w.preventDefault(),m(w))}},a?Kr.default.createElement(ki.IconButton,{variant:"outline","aria-label":s("buttons.clone","Clone"),title:f(),...v},Kr.default.createElement(Ci.IconSquarePlus,{size:20,...o})):Kr.default.createElement(ki.Button,{variant:"outline",isDisabled:(E==null?void 0:E.can)===!1,leftIcon:Kr.default.createElement(Ci.IconSquarePlus,{size:20,...o}),title:f(),...v},d!=null?d:s("buttons.clone","Clone")))},Pr=U(h("react")),am=V(),Xp=lt(),xi=h("@chakra-ui/react"),Ii=h("@tabler/icons"),nm=({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:a,children:n,...o})=>{let l=(0,am.useTranslate)();return Pr.default.createElement("label",{htmlFor:"contained-button-file"},Pr.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),t?Pr.default.createElement(xi.IconButton,{variant:"outline",as:"span","aria-label":l("buttons.import","Import"),isLoading:r,...o},Pr.default.createElement(Ii.IconFileImport,{size:20,...a})):Pr.default.createElement(xi.Button,{variant:"outline",as:"span",leftIcon:Pr.default.createElement(Ii.IconFileImport,{size:20,...a}),isLoading:r,...o},n!=null?n:l("buttons.import","Import")))},om=U(h("react")),lm=h("@chakra-ui/react"),im=({value:e,...t})=>om.default.createElement(lm.Text,{...t},e),um=U(h("react")),sm=h("@chakra-ui/react"),cm=({value:e,...t})=>um.default.createElement(sm.Tag,{...t},e==null?void 0:e.toString()),dm=U(h("react")),mm=h("@chakra-ui/react"),pm=({value:e,...t})=>dm.default.createElement(mm.Link,{href:`mailto:${e}`,...t},e),La=U(h("react")),fm=h("@chakra-ui/react"),Pi=h("@tabler/icons"),vm=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:a,falseIcon:n,svgIconProps:o,...l})=>La.default.createElement(fm.Tooltip,{label:e?t:r,...l},La.default.createElement("span",null,e?a!=null?a:La.default.createElement(Pi.IconCheck,{size:20,...o}):n!=null?n:La.default.createElement(Pi.IconMinus,{size:20,...o}))),gm=U(h("react")),An=U(h("dayjs")),ym=U(h("dayjs/plugin/localizedFormat")),hm=h("@chakra-ui/react");An.default.extend(ym.default);var bm=An.default.locale(),Em=({value:e,locales:t,format:r="L",...a})=>gm.default.createElement(hm.Text,{...a},(0,An.default)(e).locale(t||bm).format(r)),km=U(h("react")),Cm=({title:e,src:t,...r})=>km.default.createElement(Bi,{value:t,title:e,...r},e!=null?e:t),xm=U(h("react")),Im=h("@chakra-ui/react"),Bi=({children:e,value:t,title:r,...a})=>xm.default.createElement(Im.Link,{href:t,title:r,...a},e!=null?e:t),Pm=U(h("react")),wm=h("@chakra-ui/react");function $m(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var Sm=({value:e,locale:t,options:r,...a})=>{let n=parseFloat(e.toString());return Pm.default.createElement(wm.Text,{...a},$m()?n.toLocaleString(t,r):n)},Fm=U(h("react")),Lm=U(h("react-markdown")),qm=U(h("remark-gfm")),Am=({value:e=""})=>Fm.default.createElement(Lm.default,{plugins:[qm.default]},e),mt=U(h("react")),Ne=h("@chakra-ui/react"),Nm=()=>mt.createElement(Ne.Box,{p:"4",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minH:"100vh",bg:"sider.background",bgImage:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},mt.createElement(Ne.Image,{mb:"8",src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),mt.createElement(Ne.Heading,{mb:"6",as:"h1",size:"3xl",color:"white",textAlign:"center"},"Welcome on board"),mt.createElement(Ne.Heading,{as:"h3",size:"md",color:"white",mb:"6",textAlign:"center"},"Your configuration is completed."),mt.createElement(Ne.Text,{mb:"8",fontSize:"xl",color:"white",textAlign:"center"},"Now you can get started by adding your resources to the"," ",mt.createElement(Ne.Code,null,"resources")," property of ",mt.createElement(Ne.Code,null,"Refine")),mt.createElement(Ne.Box,{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"3"},mt.createElement(Ne.Button,{as:Ne.Link,href:"https://refine.dev",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Documentation"),mt.createElement(Ne.Button,{as:Ne.Link,href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Examples"),mt.createElement(Ne.Button,{as:Ne.Link,href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Community"))),Mt=U(h("react")),pt=h("@chakra-ui/react"),Bm=()=>Mt.createElement(pt.Box,{p:"4",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minH:"100vh",bg:"sider.background",bgImage:"https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png"},Mt.createElement(pt.Image,{mb:"8",src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"}),Mt.createElement(pt.Heading,{mb:"6",as:"h1",size:"3xl",color:"white",textAlign:"center"},"Welcome on board"),Mt.createElement(pt.Heading,{as:"h3",size:"md",color:"white",mb:"8",textAlign:"center"},"Your configuration is completed."),Mt.createElement(pt.Box,{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"3"},Mt.createElement(pt.Button,{as:pt.Link,href:"https://refine.dev",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Documentation"),Mt.createElement(pt.Button,{as:pt.Link,href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Examples"),Mt.createElement(pt.Button,{as:pt.Link,href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",colorScheme:"white",color:"white",variant:"outline",minW:"150px"},"Community"))),Et=U(h("react")),Gr=V(),Tt=h("@chakra-ui/react"),Dm=h("@tabler/icons"),Mm=()=>{let[e,t]=(0,Et.useState)(),r=(0,Gr.useTranslate)(),{push:a}=(0,Gr.useNavigation)(),n=(0,Gr.useGo)(),o=(0,Gr.useRouterType)(),{resource:l,action:d}=(0,Gr.useResource)();(0,Et.useEffect)(()=>{l&&d&&t(r("pages.error.info",{action:d,resource:l==null?void 0:l.name},`You may have forgotten to add the "${d}" component to "${l==null?void 0:l.name}" resource.`))},[l,d]);let m=(0,Tt.useColorModeValue)("gray.500","gray.400");return Et.default.createElement(Tt.Box,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minH:"100vh",sx:{"@media (min-height: 755px)":{marginTop:"-150px"}}},Et.default.createElement(Tt.Heading,{fontWeight:900,fontSize:[120,160,220],color:m},"404"),Et.default.createElement(Tt.Stack,{direction:["column","row"],alignItems:"center",spacing:2},Et.default.createElement(Tt.Text,{color:m,fontSize:"xl",align:"center"},r("pages.error.404","Sorry, the page you visited does not exist.")),e&&Et.default.createElement(Tt.Tooltip,{openDelay:0,label:e},Et.default.createElement(Tt.IconButton,{"aria-label":"info",color:m},Et.default.createElement(Dm.IconInfoCircle,null)))),Et.default.createElement(Tt.Button,{mt:6,variant:"outline",onClick:()=>{o==="legacy"?a("/"):n({to:"/"})}},r("pages.error.backHome","Back Home")))},wr=U(h("react")),G=U(h("react")),$r=V(),ce=h("@chakra-ui/react"),Tm=ar(),Rm=h("react-hook-form"),Aa={display:"flex",alignItems:"center",justifyContent:"center",background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover",minHeight:"100vh"},Na={width:"400px",padding:"20px",borderRadius:"10px"},Om=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:a,contentProps:n,wrapperProps:o,renderContent:l,formProps:d})=>{var m,v;let{onSubmit:g,...y}=d||{},C=(0,$r.useActiveAuthProvider)(),{mutate:u}=(0,$r.useLogin)({v3LegacyAuthProviderCompatible:Boolean(C==null?void 0:C.isLegacy)}),p=(0,$r.useTranslate)(),c=(0,$r.useRouterType)(),i=(0,$r.useLink)(),{Link:b}=(0,$r.useRouterContext)(),k=c==="legacy"?b:i,x=(0,Tm.useForm)({...y}),{register:I,handleSubmit:s,formState:{errors:E}}=x,f=()=>e&&e.length>0?G.default.createElement(G.default.Fragment,null,G.default.createElement(ce.VStack,null,e.map(F=>{var N;return G.default.createElement(ce.Button,{key:F.name,colorScheme:"green",width:"full",leftIcon:G.default.createElement(G.default.Fragment,null,F==null?void 0:F.icon),onClick:()=>u({providerName:F.name})},(N=F.label)!=null?N:G.default.createElement("label",null,F.label))})),G.default.createElement(ce.Divider,{my:"6"})):null,P={...Na,...n},w=G.default.createElement(ce.Box,{bg:"chakra-body-bg",...P},G.default.createElement(ce.Heading,{mb:"8",textAlign:"center",size:"lg"},p("pages.login.title","Sign in to your account")),f(),G.default.createElement("form",{onSubmit:s(F=>g?g(F):u(F))},G.default.createElement(ce.FormControl,{mb:"3",isInvalid:!!(E!=null&&E.email)},G.default.createElement(ce.FormLabel,null,p("pages.login.fields.email","Email")),G.default.createElement(ce.Input,{id:"title",type:"text",...I("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:p("pages.login.errors.validEmail","Invalid email address")}})}),G.default.createElement(ce.FormErrorMessage,null,`${(m=E.email)==null?void 0:m.message}`)),G.default.createElement(ce.FormControl,{mb:"3",isInvalid:!!(E!=null&&E.password)},G.default.createElement(ce.FormLabel,null,p("pages.login.fields.password","Password")),G.default.createElement(ce.Input,{id:"title",type:"password",...I("password",{required:!0})}),G.default.createElement(ce.FormErrorMessage,null,`${(v=E.password)==null?void 0:v.message}`)),G.default.createElement(ce.Box,{mb:"3"},G.default.createElement(ce.HStack,{justifyContent:"space-between"},a!=null?a:G.default.createElement(ce.Box,null,G.default.createElement(ce.Checkbox,{...I("remember")},p("pages.login.buttons.rememberMe","Remember me"))),r!=null?r:G.default.createElement(ce.Link,{as:k,color:"green",to:"/forgot-password"},p("pages.login.buttons.forgotPassword","Forgot password?")))),G.default.createElement(ce.Button,{mb:"3",type:"submit",width:"full",colorScheme:"green"},p("pages.login.signin","Sign in")),t!=null?t:G.default.createElement(ce.Box,null,G.default.createElement("span",null,p("pages.login.buttons.noAccount","Don\u2019t have an account?")),G.default.createElement(ce.Link,{color:"green",ml:"1",as:k,to:"/register"},p("pages.login.register","Sign up"))))),S={...Aa,...o};return G.default.createElement(Rm.FormProvider,{...x},G.default.createElement(ce.Box,{...S},l?l(w):w))},oe=U(h("react")),Sr=V(),ke=h("@chakra-ui/react"),Hm=ar(),zm=({providers:e,loginLink:t,wrapperProps:r,contentProps:a,renderContent:n,formProps:o})=>{var l,d;let{onSubmit:m,...v}=o||{},g=(0,Sr.useRouterType)(),y=(0,Sr.useLink)(),{Link:C}=(0,Sr.useRouterContext)(),u=g==="legacy"?C:y,p=(0,Sr.useTranslate)(),c=(0,Sr.useActiveAuthProvider)(),{mutate:i}=(0,Sr.useRegister)({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),{register:b,handleSubmit:k,formState:{errors:x}}=(0,Hm.useForm)({...v}),I=()=>e&&e.length>0?oe.default.createElement(oe.default.Fragment,null,oe.default.createElement(ke.VStack,null,e.map(P=>{var w;return oe.default.createElement(ke.Button,{key:P.name,colorScheme:"green",width:"full",leftIcon:oe.default.createElement(oe.default.Fragment,null,P==null?void 0:P.icon),onClick:()=>i({providerName:P.name})},(w=P.label)!=null?w:oe.default.createElement("label",null,P.label))})),oe.default.createElement(ke.Divider,{my:"6"})):null,s={...Na,...a},E=oe.default.createElement(ke.Box,{bg:"chakra-body-bg",...s},oe.default.createElement(ke.Heading,{mb:"8",textAlign:"center",size:"lg"},p("pages.register.title","Sign up for your account")),I(),oe.default.createElement("form",{onSubmit:k(P=>m?m(P):i(P))},oe.default.createElement(ke.FormControl,{mb:"3",isInvalid:!!(x!=null&&x.email)},oe.default.createElement(ke.FormLabel,null,p("pages.register.fields.email","Email")),oe.default.createElement(ke.Input,{id:"title",type:"text",...b("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:p("pages.register.errors.validEmail","Invalid email address")}})}),oe.default.createElement(ke.FormErrorMessage,null,`${(l=x.email)==null?void 0:l.message}`)),oe.default.createElement(ke.FormControl,{mb:"3",isInvalid:!!(x!=null&&x.password)},oe.default.createElement(ke.FormLabel,null,p("pages.register.fields.password","Password")),oe.default.createElement(ke.Input,{id:"title",type:"password",...b("password",{required:!0})}),oe.default.createElement(ke.FormErrorMessage,null,`${(d=x.password)==null?void 0:d.message}`)),t!=null?t:oe.default.createElement(ke.Box,{display:"flex",justifyContent:"flex-end",mb:"3"},oe.default.createElement("span",null,p("pages.login.buttons.haveAccount","Have an account?")),oe.default.createElement(ke.Link,{color:"green",ml:"1",as:u,to:"/login"},p("pages.login.signin","Sign in"))),oe.default.createElement(ke.Button,{mb:"3",type:"submit",width:"full",colorScheme:"green"},p("pages.register.buttons.submit","Sign up")))),f={...Aa,...r};return oe.default.createElement(ke.Box,{...f},n?n(E):E)},Xe=U(h("react")),Yr=V(),kt=h("@chakra-ui/react"),Um=ar(),Wm=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:a,formProps:n})=>{var o;let{onSubmit:l,...d}=n||{},{mutate:m}=(0,Yr.useForgotPassword)(),v=(0,Yr.useTranslate)(),g=(0,Yr.useRouterType)(),y=(0,Yr.useLink)(),{Link:C}=(0,Yr.useRouterContext)(),u=g==="legacy"?C:y,{handleSubmit:p,register:c,formState:{errors:i}}=(0,Um.useForm)({...d}),b={...Na,...r},k=Xe.default.createElement(kt.Box,{bg:"chakra-body-bg",...b},Xe.default.createElement(kt.Heading,{mb:"8",textAlign:"center",size:"lg"},v("pages.forgotPassword.title","Forgot your password?")),Xe.default.createElement("form",{onSubmit:p(I=>l?l(I):m(I))},Xe.default.createElement(kt.FormControl,{mb:"3",isInvalid:!!(i!=null&&i.email)},Xe.default.createElement(kt.FormLabel,null,v("pages.forgotPassword.fields.email","Email")),Xe.default.createElement(kt.Input,{id:"title",type:"text",...c("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:v("pages.login.errors.validEmail","Invalid email address")}})}),Xe.default.createElement(kt.FormErrorMessage,null,`${(o=i.email)==null?void 0:o.message}`)),e!=null?e:Xe.default.createElement(kt.Box,{mb:"3",display:"flex",justifyContent:"flex-end"},Xe.default.createElement("span",null,v("pages.register.buttons.haveAccount","Have an account?")),Xe.default.createElement(kt.Link,{color:"green",ml:"1",as:u,to:"/login"},v("pages.login.signin","Sign in"))),Xe.default.createElement(kt.Button,{mb:"3",type:"submit",width:"full",colorScheme:"green"},v("pages.forgotPassword.buttons.submit","Send reset instructions")))),x={...Aa,...t};return Xe.default.createElement(kt.Box,{...x},a?a(k):k)},ze=U(h("react")),wn=V(),et=h("@chakra-ui/react"),jm=ar(),Vm=({wrapperProps:e,contentProps:t,renderContent:r,formProps:a})=>{var n,o;let{onSubmit:l,...d}=a||{},m=(0,wn.useTranslate)(),v=(0,wn.useActiveAuthProvider)(),{mutate:g}=(0,wn.useUpdatePassword)({v3LegacyAuthProviderCompatible:Boolean(v==null?void 0:v.isLegacy)}),{register:y,watch:C,handleSubmit:u,formState:{errors:p}}=(0,jm.useForm)({...d}),c={...Na,...t},i=ze.default.createElement(et.Box,{bg:"chakra-body-bg",...c},ze.default.createElement(et.Heading,{mb:"8",textAlign:"center",size:"lg"},m("pages.updatePassword.title","Update Password")),ze.default.createElement("form",{onSubmit:u(k=>l?l(k):g(k))},ze.default.createElement(et.FormControl,{mb:"3",isInvalid:!!(p!=null&&p.password)},ze.default.createElement(et.FormLabel,null,m("pages.updatePassword.fields.password","New Password")),ze.default.createElement(et.Input,{type:"password",...y("password",{required:!0})}),ze.default.createElement(et.FormErrorMessage,null,`${(n=p.password)==null?void 0:n.message}`)),ze.default.createElement(et.FormControl,{mb:"3",isInvalid:!!(p!=null&&p.confirmPassword)},ze.default.createElement(et.FormLabel,null,m("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ze.default.createElement(et.Input,{type:"password",...y("confirmPassword",{required:!0,validate:k=>{if(C("password")!=k)return m("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match")}})}),ze.default.createElement(et.FormErrorMessage,null,`${(o=p.confirmPassword)==null?void 0:o.message}`)),ze.default.createElement(et.Button,{mb:"3",type:"submit",width:"full",colorScheme:"green"},m("pages.updatePassword.buttons.submit","Update")))),b={...Aa,...e};return ze.default.createElement(et.Box,{...b},r?r(i):i)},Qm=e=>{let{type:t}=e;return wr.default.createElement(wr.default.Fragment,null,(()=>{switch(t){case"register":return wr.default.createElement(zm,{...e});case"forgotPassword":return wr.default.createElement(Wm,{...e});case"updatePassword":return wr.default.createElement(Vm,{...e});default:return wr.default.createElement(Om,{...e})}})())},mr=U(h("react")),pr=V(),Zr=h("@chakra-ui/react"),_m=h("@tabler/icons"),Jr=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:a})=>{var n,o,l;let d=(0,pr.useRouterType)(),{breadcrumbs:m}=(0,pr.useBreadcrumb)({meta:a}),v=(0,pr.useLink)(),{Link:g}=(0,pr.useRouterContext)(),{hasDashboard:y}=(0,pr.useRefineContext)(),C=d==="legacy"?g:v;if(m.length===1)return null;let{resources:u}=(0,pr.useResource)(),p=(0,pr.matchResourceFromRoute)("/",u);return mr.default.createElement(Zr.Breadcrumb,{mb:"3",...e},t&&(y||(p==null?void 0:p.found))&&mr.default.createElement(Zr.BreadcrumbItem,null,mr.default.createElement(C,{to:"/"},(l=(o=(n=p==null?void 0:p.resource)==null?void 0:n.meta)==null?void 0:o.icon)!=null?l:mr.default.createElement(_m.IconHome,{size:20}))),m.map(({label:c,icon:i,href:b})=>mr.default.createElement(Zr.BreadcrumbItem,{key:c},!r&&i,b?mr.default.createElement(Zr.BreadcrumbLink,{ml:2,as:C,to:b,href:b},c):mr.default.createElement(Zr.BreadcrumbLink,{ml:2},c))))},Fr=U(h("react")),Lr=h("@chakra-ui/react"),Km=h("@tabler/icons"),$n=({notificationKey:e="",message:t,cancelMutation:r,undoableTimeout:a=0})=>{let n=(0,Lr.useToast)();return Fr.default.createElement(Lr.Box,{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2,bg:"chakra-body-bg",shadow:"md",minW:320,p:2},Fr.default.createElement(Lr.CircularProgress,{value:a*20,color:"green"},Fr.default.createElement(Lr.CircularProgressLabel,null,a)),Fr.default.createElement(Lr.Text,null,t),Fr.default.createElement(Lr.IconButton,{"aria-label":"undo",variant:"outline",onClick:()=>{r==null||r(),n.close(e)}},Fr.default.createElement(Km.IconRotate2,{size:18})))},Gm=e=>{let{current:t,pageCount:r}=e,a=t===1?void 0:t-1,n=t===r?void 0:t+1,o=[1];if(t===1&&r===1)return{current:t,prev:a,next:n,items:o};t>4&&o.push("\u2026");let l=2,d=t-l,m=t+l;for(let v=d>2?d:2;v<=Math.min(r,m);v++)o.push(v);return m+1<r&&o.push("\u2026"),m<r&&o.push(r),{current:t,prev:a,next:n,items:o}},Ym=h("@chakra-ui/react"),Zm=(0,Ym.extendTheme)({config:{initialColorMode:"system"},fonts:{heading:"Montserrat, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",body:"Montserrat, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'"},styles:{global:()=>({"html, body":{fontSize:"14px"}})},colors:{sider:{background:"#2A132E",collapseButton:"#150A17"}}}),wi=U(h("react")),Jm=h("@chakra-ui/react"),Xm=()=>{let e=(0,Jm.useToast)({position:"top-right",isClosable:!0});return{open:({key:t,message:r,type:a,description:n,undoableTimeout:o,cancelMutation:l})=>{a==="progress"?t&&e.isActive(t)?e.update(t,{render:()=>wi.default.createElement($n,{notificationKey:t,message:r,cancelMutation:l,undoableTimeout:o})}):e({id:t,render:()=>wi.default.createElement($n,{notificationKey:t,message:r,cancelMutation:l,undoableTimeout:o})}):t&&e.isActive(t)?e.update(t,{title:r,status:a,description:n}):e({id:t,title:r,description:n,status:a})},close:t=>e.close(t)}}});var gu=Mr((yg,vu)=>{var ro=Object.defineProperty,yp=Object.getOwnPropertyDescriptor,hp=Object.getOwnPropertyNames,bp=Object.prototype.hasOwnProperty,Ep=(e,t)=>{for(var r in t)ro(e,r,{get:t[r],enumerable:!0})},kp=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of hp(t))!bp.call(e,n)&&n!==r&&ro(e,n,{get:()=>t[n],enumerable:!(a=yp(t,n))||a.enumerable});return e},Cp=e=>kp(ro({},"__esModule",{value:!0}),e),fu={};Ep(fu,{useTable:()=>Ip});vu.exports=Cp(fu);var Ra=h("react"),xp=V(),pu=h("@tanstack/react-table");function Ip({refineCoreProps:{hasPagination:e=!0,...t}={},initialState:r={},...a}){var n,o,l;let d=(0,xp.useTable)({...t,hasPagination:e}),m=e===!1?"off":"server",v=((o=(n=t.pagination)==null?void 0:n.mode)!=null?o:m)!=="off",{tableQueryResult:{data:g},current:y,setCurrent:C,pageSize:u,setPageSize:p,sorters:c,setSorters:i,filters:b,setFilters:k,pageCount:x}=d,I=[];b.map($=>{$.operator!=="or"&&$.operator!=="and"&&"field"in $&&I.push($)});let s=(0,pu.useReactTable)({getCoreRowModel:(0,pu.getCoreRowModel)(),data:(l=g==null?void 0:g.data)!=null?l:[],initialState:{pagination:{pageIndex:y-1,pageSize:u},sorting:c.map($=>({id:$.field,desc:$.order==="desc"})),columnFilters:I.map($=>({id:$.field,value:$.value})),...r},pageCount:x,manualPagination:!0,manualSorting:!0,manualFiltering:!0,...a}),{state:E,columns:f}=s.options,{pagination:P,sorting:w,columnFilters:S}=E,{pageIndex:F,pageSize:N}=P!=null?P:{};return(0,Ra.useEffect)(()=>{F!==void 0&&C(F+1)},[F]),(0,Ra.useEffect)(()=>{N!==void 0&&p(N)},[N]),(0,Ra.useEffect)(()=>{w!==void 0&&(i(w==null?void 0:w.map($=>({field:$.id,order:$.desc?"desc":"asc"}))),w.length>0&&v&&C(1))},[w]),(0,Ra.useEffect)(()=>{let $=[];S==null||S.map(T=>{var B,L;let O=(L=(B=f.find(D=>D.id===T.id))==null?void 0:B.meta)==null?void 0:L.filterOperator;$.push({field:T.id,operator:O!=null?O:Array.isArray(T.value)?"in":"eq",value:T.value})});let A=I.filter(T=>!$.some(B=>T.field===B.field&&T.operator===B.operator));A==null||A.map(T=>{$.push({field:T.field,operator:T.operator,value:void 0})}),k($),$.length>0&&v&&C(1)},[S]),{...s,refineCore:d}}});var na=j(h("react")),Eu=j(V());var vp=j(Xr()),gp=j(h("@chakra-ui/react"));var vt=j(h("react")),Xn=j(V());var ep=/(image|photo|avatar|url|logo|cover|thumbnail|icon)/i,Nn=(e,t)=>{let r=["name","label","title","count","content","username","nickname","login","firstName","lastName","url"];ep.test(e)&&r.unshift("url");let a=r.find(n=>n in t&&!!t[n]);if(a)return a==="firstName"&&"lastName"in t?["firstName","lastName"]:a};var Mi=j(V());function Bn(e,t,r){if(t)return t;let a=r==null?void 0:r.find(o=>o.name===e),n=(0,Mi.pickNotDeprecated)(a==null?void 0:a.meta,a==null?void 0:a.options);return n!=null&&n.dataProviderName?n.dataProviderName:"default"}var ea=e=>{var t;return(t=e==null?void 0:e.options)==null?void 0:t.dataProviderName};var Dn=e=>{let t=[...e].filter(Boolean).sort((r,a)=>(a.priority||0)-(r.priority||0))[0];return t||null};var Ti=j(h("prettier/standalone")),Ri=j(h("prettier/parser-typescript")),Mn=e=>{try{return Ti.default.format(e,{parser:"typescript",plugins:[Ri.default],arrowParens:"always",trailingComma:"all",semi:!0,tabWidth:4,printWidth:80})}catch(t){return console.warn("Formatting error in inferencer",t),e}};var Tn=e=>e.replace(/ {2,}/g," ").replace(/\n{2,}/g,`
`);var Rn=/(-id|-ids|_id|_ids|Id|Ids|ID|IDs)(\[\])?$/,Oi=(e,t)=>{let r=Rn.test(e),a=typeof t=="string"||typeof t=="number",n=Array.isArray(t)&&t.every(o=>typeof o=="string"||typeof o=="number");return r&&a||r&&n?{key:e,relation:!0,multiple:!!n,type:"relation",priority:1}:!1};var Ue=e=>e.replace(Rn,"");var W=e=>Ue(e).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").replace(/-/g," ").split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ");var On=e=>e.replace(/export\s+(const|let|var|type|interface|function|class)\s+(\w+)\s*(=|:)\s*/g,"$1 $2 = ").split(`
`).filter(n=>!n.trim().startsWith("export default")).join(`
`);var Hi=/import(?:(?:(?:[ \n\t]+([^ *\n\t\{\},]+)[ \n\t]*(?:,|[ \n\t]+))?([ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\})?[ \n\t]*)|[ \n\t]*\*[ \n\t]*as[ \n\t]+([^ \n\t\{\}]+)[ \n\t]+)from[ \n\t]*(?:['"])([^'"\n]+)(?:['"])(?:;?)/g,tp=/import[ \n\t](?:['"])([^'"\n]+)(?:['"])(?:;?)/g,rp=/((?:\w|\s|_)*)( as )((?:\w|\s|_)*)( |,)?/g,Hn=(e,t={})=>{let r=e.matchAll(Hi),a=new Set;for(let n of r){let[,o,l,d,m]=n;if(m in t){let v=t[m];if(m==="react")continue;o&&a.add(`const { default: ${o} } = ${v};`),l&&a.add(`const${l.replace(rp,"$1: $3$4")} = ${v};`),d&&a.add(`const ${d} = ${v};`)}}return Tn(`
    ${Array.from(a).join(`
`)}
    ${e.replace(Hi,"").replace(tp,"")}
    `)};var ta=j(h("pluralize"));var zn=(e,t)=>e?t.find(a=>{let n=Ue(e.key);return a.name===n||a.name===(ta.default.isPlural(n)?n:ta.default.plural(n))||a.name===(ta.default.isSingular(n)?n:ta.default.singular(n))}):void 0;var zi=j(h("pluralize"));var ft=(e,t,r="Inferred")=>{let a=e.replace(/[^a-zA-Z0-9]/g," "),n=zi.default.singular(a),l=W(n).replace(/ /g,"")||r,d=t.charAt(0).toUpperCase()+t.slice(1);return/^[a-zA-Z]/.test(l)?`${l}${d}`:`${d}${l}`};var ap=e=>e?Array.isArray(e)?e.join(""):typeof e=="string"?e:typeof e=="object"||typeof e=="function"?e.toString():typeof e=="number"?String(e):typeof e=="boolean"&&e?"true":e:"",z=(e,...t)=>e.reduce((a,n,o)=>`${a}${n}${ap(t[o])}`,"").trim();var Un=(e,t)=>`
    ${e!=null?e:""}
    
    render(typeof ${t} !== "undefined" ? <${t} /> : <></>);
    `;var Wn=e=>e==null?void 0:e.replace(/(\/\* hidden-start \*\/)(.|\n)*?(\/\* hidden-end \*\/)/g,"");var np=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,jn=e=>np.test(e);function Vn(e,t,r){let a=`${e}`;return t&&(a+="?.",jn(t)?a+=t:a+=`['${t}']`),r&&(a+="?.",jn(r)?a+=r:a+=`['${r}']`),a}function op(e,t,r){return(r!=null?r:[]).map(n=>Vn(e,t,n))}var M=(e,t,r,a=' + " " + ')=>Array.isArray(r)?a?op(e,t,r).join(a):Vn(e,t,r[0]):Vn(e,t,r),Ie=(e,t,r)=>{let a=e;return t&&(a+=`.${t}`),r&&(Array.isArray(r)?a+=`.${r[0]}`:a+=`.${r}`),a};var St=e=>{let t=e.reduce((a,[n,o,l])=>(a[o]||(a[o]=[]),a[o].includes(n)||(l?a[o].push([n,!0]):a[o].push(n)),a),{});return Object.entries(t).map(([a,n])=>{let o=n.find(v=>Array.isArray(v)&&v[1]),l=n.filter(v=>typeof v=="string"),d=o?`${o[0]}`:"",m=l.length?`{ ${l.join(", ")} }`:"";return`import ${d}${d&&m?", ":""}${m} from "${a}";`})};var Qn=j(h("pluralize")),Ct=(e="")=>Qn.default.isSingular(e)?e:Qn.default.singular(e);var _n=j(h("pluralize")),qr=(e="")=>_n.default.isPlural(e)?e:_n.default.plural(e);var lp=/^id$/i,ra=e=>lp.test(e);var aa=e=>e.relationInfer&&e.relationInfer.accessor?Array.isArray(e.relationInfer.accessor)?`optionLabel: "${e.relationInfer.accessor[0]}",`:e.relationInfer.accessor!=="title"?`optionLabel: "${e.relationInfer.accessor}",`:"":"";var Ft=e=>{};var Y=(e,t="")=>{if(Number.isInteger(Number(e)))return t.charAt(0).toLowerCase()+t.slice(1)+e;let a=e.replace(/^\d+/,"").replace(/[^a-zA-Z0-9]/g,"-"),n=W(a).replace(/ /g,"");return`${n.charAt(0).toLowerCase()+n.slice(1)}${t.charAt(0).toUpperCase()+t.slice(1)}`};var Ui=e=>{let t=(r,a,n,o=t)=>{let l=e.map(m=>m(r,a,n,o));return Dn(l)};return t};var Wi=e=>(r,a,n,o,l)=>e.reduce((d,m)=>m(d,a,n,o,l),r);var ji=(e,t,r,a)=>{let n=Array.isArray(t),o=Array.isArray(t)&&t.every(l=>typeof l=="string"||typeof l=="number");if(n){if(!o){let d=a(e,t[0],r,a);return d?{...d,key:e,multiple:!0,priority:1}:!1}let l=a(e,t[0],r,a)||{type:"string"};return{key:e,multiple:!0,priority:1,type:l==null?void 0:l.type}}return!1};var Vi=(e,t)=>typeof t=="boolean"?{key:e,type:"boolean"}:!1;var Kn=j(h("dayjs")),ip=/(_at|_on|At|On|AT|ON)(\[\])?$/,up=["/",":","-","."],Qi=(e,t)=>{let r=ip.test(e)&&(0,Kn.default)(t).isValid(),a=typeof t=="string"&&(0,Kn.default)(t).isValid();return typeof t=="string"&&up.some(o=>t.includes(o))&&(r||a)?{key:e,type:"date",priority:1}:!1};var sp=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_i=(e,t)=>typeof t=="string"&&sp.test(t)?{key:e,type:"email",priority:1}:!1;var cp=/\.(gif|jpe?g|tiff?|png|webp|bmp|svg)$/i,Ki=(e,t)=>typeof t=="string"&&cp.test(t)?{key:e,type:"image",priority:2}:!1;var Gi=(e,t)=>typeof t>"u"||t===null?null:!1;var Yi=(e,t)=>{let r=typeof t=="string"&&t.length>0,a=!isNaN(t);return r&&a||typeof t=="number"?{key:e,type:"number"}:!1};var dp=/id$/i,Zi=(e,t,r,a)=>{let n=t!==null,o=!Array.isArray(t);if(n&&o&&typeof t=="object"){if(Object.keys(t).length===1&&dp.test(Object.keys(t)[0]))return{key:e,type:"relation",relation:!0,accessor:"id",priority:1};let m=Nn(e,t);if((m?m.length>0:!1)&&m){let g=m&&Array.isArray(m)?m[0]:m,y=a(g,t[g],t,a);if(y){let C=Array.isArray(m)?m.map(u=>y.accessor?`${u}.${Array.isArray(y.accessor)?y.accessor[0]:y.accessor}`:u):y.accessor?Array.isArray(y.accessor)?`${m}.${y.accessor[0]}`:`${m}.${y.accessor}`:m;return{...y,fieldable:!0,key:e,accessor:C,priority:1}}}return{key:e,fieldable:!1,type:"object",priority:1}}return!1};var Ji=(e,t)=>typeof t=="string"&&t.length>100?{key:e,type:"richtext",priority:1}:!1;var Xi=(e,t)=>typeof t=="string"?{key:e,type:"text"}:!1;var mp=/^(https?|ftp):\/\/(-\.)?([^\s/?\.#-]+\.?)+(\/[^\s]*)?$/i,eu=(e,t)=>typeof t=="string"&&mp.test(t)?{key:e,type:"url",priority:1}:!1;var tu=[ji,Vi,Qi,_i,Ki,Gi,Yi,Zi,Oi,Ji,Xi,eu];var ru=(e,t,r,a)=>e.map(o=>{if(!o.relation&&(o.type==="text"||o.type==="richtext"||o.type==="number")&&!o.canRelation){let l=/^[a-z0-9-]+$/,d=C=>l.test(`${C}`),m=o.key.toLowerCase()!=="id";return!(!o.accessor||typeof o.accessor=="string")||!m?o:(o.multiple?a[o.key]:[a[o.key]]).every(C=>d(o.accessor?C[o.accessor]:C))?{...o,canRelation:!0}:o}return o});var pp=/(image|photo|avatar|cover|thumbnail|icon)/i,au=e=>e.map(r=>r.type==="url"&&pp.test(r.key)?{...r,type:"image"}:r);var nu=(e,t)=>e.map(a=>{let n=zn(a,t);return n?{...a,relation:!0,type:"relation",resource:n}:a});var ou=(e,t,r,a,n)=>e.map(l=>{if(l.relation&&l.type==="relation"&&!l.resource){let d=l.accessor?a[l.key][l.accessor]:a[l.key],m=n(l.key,d,a,n);if(m&&m.type!=="relation")return{...l,fieldable:!0,relation:!1,type:m.type,canRelation:!0}}return l});var lu=[au,nu,ou,ru];var Rt=j(h("react")),Ba=j(h("prism-react-renderer")),iu=j(h("prism-react-renderer/themes/vsDark")),Gn=({code:e,wrapperProps:t})=>((0,Rt.useEffect)(()=>{var a;let r=document.createElement("style");r.appendChild(document.createTextNode(`
                #code-highlight::-webkit-scrollbar {-webkit-appearance: none; height: 7px; width: 7px;}
                #code-highlight::-webkit-scrollbar-thumb {background-color: #666b7a;}
                #code-highlight::-webkit-scrollbar-corner {background-color: rgb(30, 30, 30);}
                `)),(a=document.getElementById("code-highlight"))==null||a.appendChild(r)},[]),Rt.default.createElement("div",{id:"code-highlight",style:{maxHeight:"75vh",height:"100%",overflow:"auto",backgroundColor:"rgb(30, 30, 30)"},...t!=null?t:{}},Rt.default.createElement(Ba.default,{...Ba.defaultProps,theme:iu.default,code:e,language:"tsx"},({className:r,style:a,tokens:n,getLineProps:o,getTokenProps:l})=>Rt.default.createElement("pre",{className:r,style:{...a,padding:"14px 14px 14px 14px",margin:"0",width:"100%",boxSizing:"border-box"}},n.map((d,m)=>Rt.default.createElement("div",{key:m,...o({line:d,key:m})},d.map((v,g)=>Rt.default.createElement("span",{key:g,...l({token:v,key:g})}))))))));var tt=j(h("react")),fp=j(V()),Da=h("@aliemir/react-live");var uu=[["react","React",tt.default],["@refinedev/core","RefineCore",fp]],Yn=tt.default.createContext({}),Zn=({fetchError:e,code:t,additionalScope:r,errorComponent:a})=>{var d;let n=(d=t&&On(Hn(t,[...uu,...r!=null?r:[]].reduce((m,[v,g,y,C])=>C?m:{...m,[v]:g},{}))))!=null?d:"",o=tt.default.useMemo(()=>({React:tt.default,...tt.default,...[...uu,...r!=null?r:[]].reduce((m,[v,g,y])=>({...m,[g]:y}),{})}),[r]),l=tt.default.useMemo(()=>()=>{let{error:v}=tt.default.useContext(Yn);return a?tt.default.createElement(a,{error:v?`<p>An error occured while rendering the generated component.You can check the generated code from the below "Show Code" button and fix the error manually.</p>
                                    <p>If you think this is a bug, please report the issue at <a target="_blank" rel="noopener noreferrer" href="https://github.com/refinedev/refine/issues">https://github.com/refinedev/refine/issues</a></p>
                                    <p>Exception:</p>
                                    <code>${v}</code>`:typeof e=="string"?e:e?`<p>Something went wrong while fetching the resource data.</p>
                                    <p>To learn more about the Inferencer, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`:void 0}):null},[a,e]);return tt.default.createElement(Da.LiveProvider,{Context:Yn,code:n,scope:o,noInline:!0},!e&&tt.default.createElement(Da.LivePreview,{Context:Yn}),tt.default.createElement(l,null))};var fr=j(h("react")),Ma=j(V());var su=(e,t,r)=>{let{resource:a,id:n,resources:o}=(0,Ma.useResource)(t),l=r!=null?r:n,d=(0,Ma.useDataProvider)(),[m,v]=fr.default.useState(void 0),[g,y]=fr.default.useState(void 0),[C,u]=fr.default.useState(!0),[p,c]=fr.default.useState(!1),i=fr.default.useCallback(async b=>{var I,s;let k=(I=ea(a))!=null?I:Bn(a==null?void 0:a.name,void 0,o),x=d(k);c(!0),v(void 0);try{if((e==="list"||e==="create")&&a){let f=(s=(await x.getList({resource:a==null?void 0:a.name})).data)==null?void 0:s[0];f||v(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(f),setTimeout(()=>{c(!1)},500)}if((e==="edit"||e==="show")&&b&&a){let f=(await x.getOne({resource:a==null?void 0:a.name,id:b})).data;f||v(`<p>No records/data found for resource "${a==null?void 0:a.name}".</p>
                            <p>Please check your data provider and resource.</p>
                            <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),y(f),setTimeout(()=>{c(!1)},500)}}catch(E){console.warn("An error occured while fetching the resource data. Please check the error message below:",E),v(`<p>Something went wrong while fetching the resource data.</p>
                    <p>Please check your data provider and API for resource "${a==null?void 0:a.name}".</p>
                    <p>For more info, please check the <a href="https://refine.dev/docs/packages/documentation/inferencer/" target="_blank">documentation</a>.</p>`),setTimeout(()=>{c(!1)},500)}},[e,d,a,o]);return fr.default.useEffect(()=>{u(!1),!p&&!g&&i(l)},[i,l]),{data:g,loading:p,initial:C,error:m}};var Ar=j(h("react")),cu=j(V());var Jn=h("lodash"),du=({record:e,fields:t,infer:r})=>{let a=(0,cu.useDataProvider)(),[n,o]=Ar.default.useState([]),[l,d]=Ar.default.useState(!0),[m,v]=Ar.default.useState(!1),g=Ar.default.useCallback(async y=>{console.groupCollapsed("@refinedev/inferencer is trying to detect relations");let C=[];v(!0);try{let u=y.map(async c=>{if(c&&(c.relation||c.canRelation)&&e){let i=ea(c.resource),b=a(i),k=Array.isArray(c.accessor)?void 0:c.multiple?e[c.key].map(x=>c.accessor?(0,Jn.get)(x,c.accessor):x)[0]:c.accessor?(0,Jn.get)(e[c.key],c.accessor):e[c.key];if(k&&c.resource)try{let{data:x}=await b.getOne({resource:c.resource.name,id:k});C.push({status:"success",resource:c.resource.name,field:c.key});let I=r("__",x,{},r);return{...c,relationInfer:I}}catch{return C.push({status:"error",resource:c.resource.name,field:c.key}),{...c,relationInfer:null}}if(k){let x,I;try{let{data:f}=await b.getOne({resource:qr(Ue(c.key)),id:k});C.push({status:"success",resource:qr(Ue(c.key)),field:c.key}),x=f,I=!0}catch{C.push({status:"error",resource:qr(Ue(c.key)),field:c.key});try{let{data:P}=await b.getOne({resource:Ct(Ue(c.key)),id:k});C.push({status:"success",resource:Ct(Ue(c.key)),field:c.key}),x=P,I=!1}catch{return C.push({status:"error",resource:Ct(Ue(c.key)),field:c.key}),{...c,relationInfer:null}}}let s=r("__",x,{},r),E=Ue(c.key);return{...c,relation:!0,type:"relation",resource:{name:I?qr(E):Ct(E)},fieldable:!1,canRelation:void 0,relationInfer:s}}return{...c,relationInfer:null}}return c}),p=await Promise.all(u);o(p.filter(c=>c)),setTimeout(()=>{v(!1)},500)}catch{setTimeout(()=>{v(!1)},500)}setTimeout(()=>{console.log(`Tried to detect relations with ${C.length} attempts and succeeded with ${C.filter(u=>u.status==="success").length} attempts.`),console.groupEnd()},500)},[a,e]);return Ar.default.useEffect(()=>{d(!1),!m&&t&&t.length>0&&n.length===0&&g(t)},[g,m,t,g]),{fields:n,loading:m,initial:l}};var Ot=({type:e,additionalScope:t=[],customElements:r=[],fieldTransformers:a=[],renderer:n,loadingComponent:o,errorComponent:l,codeViewerComponent:d})=>{let m=Ui([...tu,...r]),v=Wi([...lu,...a]),g=({resourceName:C,fieldTransformer:u,id:p})=>{var S,F,N,$,A,T;let{resource:c,resources:i}=(0,Xn.useResource)(C),{resource:b}=(0,Xn.useResource)(),{data:k,loading:x,initial:I,error:s}=su(e,C!=null?C:c==null?void 0:c.name,p),E=vt.default.useMemo(()=>{if(k){let B=Object.keys(k).map(L=>{let O=k[L];return m(L,O,k,m)}).filter(Boolean);if(c){let L=v(B,i,c,k,m);return u?L.flatMap(D=>{let X=u(D);return X?[X]:[]}):L}return[]}return[]},[k,i,c,u]),{fields:f,loading:P}=du({record:k,fields:E,infer:m}),w=vt.default.useMemo(()=>!x&&!P&&!I&&c?n({resource:c,resources:i,fields:f,infer:m,isCustomPage:c.name!==(b==null?void 0:b.name),id:p}):"",[c,i,f,x,P]);return vt.default.createElement(vt.default.Fragment,null,o&&(x||P)&&vt.default.createElement(o,null),!x&&!P&&vt.default.createElement(vt.default.Fragment,null,vt.default.createElement(Zn,{fetchError:!x&&s?s:!x&&!I&&!k,code:Un(w,ft((T=(A=($=(N=(S=c==null?void 0:c.meta)==null?void 0:S.label)!=null?N:(F=c==null?void 0:c.options)==null?void 0:F.label)!=null?$:c==null?void 0:c.label)!=null?A:c==null?void 0:c.name)!=null?T:"Resource",e)),errorComponent:l,additionalScope:t}),d&&vt.default.createElement(d,{code:Wn(w),loading:x||P})))};return({name:C,resource:u,fieldTransformer:p,id:c})=>vt.default.createElement(g,{fieldTransformer:p,resourceName:u!=null?u:C,key:u!=null?u:C,id:c})};var Nr=j(h("react")),Ht=h("@chakra-ui/react"),zt=({error:e})=>e?Nr.default.createElement(Ht.Center,{style:{minHeight:300}},Nr.default.createElement(Ht.Alert,{status:"error",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"200px",maxWidth:"700px"},Nr.default.createElement(Ht.AlertIcon,{boxSize:"40px",mr:0}),Nr.default.createElement(Ht.AlertDescription,{mt:4,maxWidth:"sm"},Nr.default.createElement("div",{dangerouslySetInnerHTML:{__html:e!=null?e:""}})))):null;var eo=j(h("react")),Ta=h("@chakra-ui/react"),Ut=()=>eo.default.createElement(Ta.Box,{position:"relative",bg:"chakra-body-bg",minH:120},eo.default.createElement(Ta.Spinner,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}));var se=j(h("react")),ye=h("@chakra-ui/react"),Wt=h("@tabler/icons");var jt=({code:e,loading:t})=>{let r=se.default.useMemo(()=>Mn(e!=null?e:""),[e]),a=se.default.useRef(null),[n,o]=se.default.useState(!1),{isOpen:l,onOpen:d,onClose:m}=(0,ye.useDisclosure)();if(t)return null;let v=()=>{var g,y,C,u;(g=a==null?void 0:a.current)==null||g.select(),(y=a==null?void 0:a.current)==null||y.setSelectionRange(0,Number.MAX_SAFE_INTEGER),typeof navigator<"u"&&(navigator.clipboard.writeText((u=(C=a==null?void 0:a.current)==null?void 0:C.value)!=null?u:""),o(!0),setTimeout(()=>{o(!1)},1e3))};return r?se.default.createElement(se.default.Fragment,null,se.default.createElement(ye.Box,{position:"fixed",bottom:"12px",right:"60px"},se.default.createElement(ye.HStack,{spacing:4},se.default.createElement(ye.Button,{variant:"solid",colorScheme:"green",leftIcon:se.default.createElement(Wt.IconCode,{size:18}),onClick:d},"Show Code"),se.default.createElement(ye.Button,{colorScheme:"gray",variant:"solid",leftIcon:se.default.createElement(Wt.IconMessageCircle,{size:18}),as:"a",target:"_blank",href:"https://github.com/refinedev/refine/discussions/3046"},"Give Feedback"))),se.default.createElement("div",{style:{height:"50px"}}),se.default.createElement(ye.Modal,{size:"4xl",isOpen:l,onClose:m},se.default.createElement(ye.ModalOverlay,null),se.default.createElement(ye.ModalContent,null,se.default.createElement(ye.ModalCloseButton,{sx:{position:"absolute",right:0,top:0,height:"56px",width:"56px",color:"#666b7a"}}),se.default.createElement(ye.ModalBody,{sx:{padding:0}},se.default.createElement(Gn,{code:r}),se.default.createElement("textarea",{ref:a,defaultValue:(r!=null?r:"").replace(/\\n/g,`\r
`),id:"code-input",style:{padding:0,margin:0,width:0,height:0,opacity:0,border:"none",display:"block"}})),se.default.createElement(ye.Button,{sx:{position:"absolute",bottom:"12px",right:"12px",width:100},key:"copy",leftIcon:n?se.default.createElement(Wt.IconCheck,{size:18,style:{color:"green"}}):se.default.createElement(Wt.IconCopy,{size:18}),onClick:v},n?"Copied":"Copy")))):null};var mu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var I;let n=ft((I=e.label)!=null?I:e.name,"show"),o="record",l=[["useShow","@refinedev/core"],["Show","@refinedev/chakra-ui"],["Heading","@chakra-ui/react"]],m=t.filter(s=>(s==null?void 0:s.relation)&&!(s!=null&&s.fieldable)&&(s==null?void 0:s.resource)).filter(Boolean).map(s=>{if((s==null?void 0:s.relation)&&!s.fieldable&&s.resource){if(s.multiple){l.push(["useMany","@refinedev/core"]);let E=M(o,s.key);return s.accessor&&(E=`${M(o,s.key)}?.map((item: any) => ${M("item",void 0,s.accessor)})`),`
                const { data: ${Y(s.key,"Data")}, isLoading: ${Y(s.key,"IsLoading")} } =
                useMany({
                    resource: "${s.resource.name}",
                    ids: ${E} || [],
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
                `}return l.push(["useOne","@refinedev/core"]),`
                const { data: ${Y(s.key,"Data")}, isLoading: ${Y(s.key,"IsLoading")} } =
                useOne({
                    resource: "${s.resource.name}",
                    id: ${M(o,s.key,s.accessor,!1)} || "",
                    queryOptions: {
                        enabled: !!${o},
                    },
                });
            `}}).filter(Boolean),v=s=>{if(s.relation&&s.resource){let E=Y(s.key,"Data"),f=Y(s.key,"IsLoading");return s.multiple?(l.push(["TagField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                {${f} ? <>Loading...</> : (
                    <>
                    ${(()=>{var P;if(s.relationInfer)if((P=s.relationInfer)!=null&&P.accessor){if(Array.isArray(s.relationInfer.accessor))return"Not Handled.";{let w=Y(s.key),S=M(w,void 0,s.relationInfer.accessor);return`<HStack spacing="12px">{${E}?.data?.map((${w}: any) => <TagField key={${S}} value={${S}} />)}</HStack>`}}else return"Not Handled.";else return"not-handled - relation with multiple but no resource"})()}
                    </>
                )}
                `):z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                {${f} ? <>Loading...</> : (
                    <>
                    ${(()=>{var P;return s.relationInfer?(P=s.relationInfer)!=null&&P.accessor?Array.isArray(s.relationInfer.accessor)?`{${M(`${E}?.data`,void 0,s.relationInfer.accessor,' + " " + ')}}`:`{${E}?.data?.${s.relationInfer.accessor}}`:`{${E}?.data}`:`{${E}?.data?.id}`})()}
                    </>
                )}
                
                `}},g=s=>{if(s.type==="text"){if(l.push(["TagField","@refinedev/chakra-ui"],["TextField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <HStack spacing="12px">
                {${M(o,s.key)}?.map((item: any) => (
                    <TagField value={${E}} key={${E}} />
                ))}
                </HStack>
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <TextField value={${M(o,s.key,s.accessor)}} />
            `}},y=s=>{if(s.type==="image"){if(l.push(["Image","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                {${M(o,s.key)}?.map((item: any) => (
                    <Image sx={{ maxWidth: 200 }} src={${E}} key={${E}} />
                ))}
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <Image sx={{ maxWidth: 200 }} src={${M(o,s.key,s.accessor," + ")}} />
                `}},C=s=>{if(s.type==="email"){if(l.push(["TagField","@refinedev/chakra-ui"],["EmailField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <HStack spacing="12px">
                {${M(o,s.key)}?.map((item: any) => (
                    <TagField value={${E}} key={${E}} />
                ))}
                </HStack>
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <EmailField value={${M(o,s.key,s.accessor," + ")}} />
            `}},u=s=>{if(s.type==="url"){if(l.push(["TagField","@refinedev/chakra-ui"],["UrlField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <HStack spacing="12px">
                {${M(o,s.key)}?.map((item: any) => (
                    <TagField value={${E}} key={${E}} />
                ))}
                </HStack>
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <UrlField value={${M(o,s.key,s.accessor," + ")}} />
            `}},p=s=>{if(s.type==="boolean"){if(l.push(["TagField","@refinedev/chakra-ui"],["BooleanField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <HStack spacing="12px">
                {${M(o,s.key)}?.map((item: any) => (
                    <TagField value={${E}} key={${E}} />
                ))}
                </HStack>
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <BooleanField value={${M(o,s.key,s.accessor," && ")}} />
            `}},c=s=>{if(s.type==="date"){if(l.push(["DateField","@refinedev/chakra-ui"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                {${M(o,s.key)}?.map((item: any) => (
                    <DateField value={${E}} key={${E}} />
                ))}
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <DateField value={${M(o,s.key,s.accessor," + ' ' + ")}} />
            `}},i=s=>{if(s.type==="richtext")return l.push(["MarkdownField","@refinedev/chakra-ui"]),z`
                <Heading as="h5" size="sm" mt={4}>${W(s.key)}</Heading>
                <MarkdownField value={${M(o,s.key,s.accessor,' + " " + ')}} />
            `},b=s=>{if(s.type==="number"){if(l.push(["NumberField","@refinedev/chakra-ui"],["TagField","@refinedev/chakra-ui"],["HStack","@chakra-ui/react"]),s.multiple){let E=M("item",void 0,s.accessor);return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <HStack spacing="12px">
                {${M(o,s.key)}?.map((item: any) => (
                    <TagField value={${E}} key={${E}} />
                ))}
                </HStack>
            `}return z`
                <Heading as="h5" size="sm" mt={4} >${W(s.key)}</Heading>
                <NumberField value={${M(o,s.key,s.accessor,' + " " + ')} ?? ""} />
            `}},k=s=>{if(s)return z`
                ${s}
            `},x=t.map(s=>{switch(s==null?void 0:s.type){case"text":return k(g(s));case"number":return k(b(s));case"richtext":return k(i(s));case"email":return k(C(s));case"image":return k(y(s));case"date":return k(c(s));case"boolean":return k(p(s));case"url":return k(u(s));case"relation":return k(v(s));default:return}});return Ft(l),z`
    ${St(l)}
    
    export const ${n} = () => {
        const { queryResult } = useShow(${r?`{ 
                    resource: "${e.name}", 
                    id: ${a}
                }`:""});
        const { data, isLoading } = queryResult;

        const ${o} = data?.data;
    
        ${m}

        return (
            <Show isLoading={isLoading}>
                ${x.join("")}
            </Show>
        );
    };
    `},to=Ot({type:"show",additionalScope:[["@refinedev/chakra-ui","RefineChakraUI",vp],["@chakra-ui/react","ChakraUI",gp]],codeViewerComponent:jt,loadingComponent:Ut,errorComponent:zt,renderer:mu});var Pp=j(Xr()),wp=j(h("@chakra-ui/react")),$p=j(gu()),Sp=j(h("@tanstack/react-table")),Fp=j(h("@tabler/icons"));var Vt=e=>Array.isArray(e.accessor)||e.multiple?`accessorKey: "${e.key}"`:e.accessor?`accessorKey: "${Ie(e.key,void 0,e.accessor)}"`:`accessorKey: "${e.key}"`,yu=({resource:e,fields:t,isCustomPage:r})=>{var E;let a=ft((E=e.label)!=null?E:e.name,"list"),n="tableData?.data",o=[["IResourceComponentsProps","@refinedev/core"],["useTable","@refinedev/react-table"],["ColumnDef","@tanstack/react-table"],["flexRender","@tanstack/react-table"],["List","@refinedev/chakra-ui"],["TableContainer","@chakra-ui/react"],["Table","@chakra-ui/react"],["Thead","@chakra-ui/react"],["Tr","@chakra-ui/react"],["Th","@chakra-ui/react"],["Tbody","@chakra-ui/react"],["Tr","@chakra-ui/react"],["Td","@chakra-ui/react"],["HStack","@chakra-ui/react"],["Button","@chakra-ui/react"],["IconButton","@chakra-ui/react"],["usePagination","@refinedev/chakra-ui"],["Box","@chakra-ui/react"],["IconChevronRight","@tabler/icons"],["IconChevronLeft","@tabler/icons"]],l=t.filter(f=>(f==null?void 0:f.relation)&&!(f!=null&&f.fieldable)&&(f==null?void 0:f.resource)),d=l.filter(Boolean).map(f=>{if((f==null?void 0:f.relation)&&!f.fieldable&&f.resource){o.push(["GetManyResponse","@refinedev/core"]),o.push(["useMany","@refinedev/core"]);let P="";return f.multiple?P=`[].concat(...(${n}?.map((item) => ${M("item",f.key,f.accessor,!1)}) ?? []))`:P=`${n}?.map((item) => ${M("item",f.key,f.accessor,!1)}) ?? []`,`
                const { data: ${Y(f.key,"Data")} } =
                useMany({
                    resource: "${f.resource.name}",
                    ids: ${P},
                    queryOptions: {
                        enabled: !!${n},
                    },
                });
                `}}).filter(Boolean),m=l==null?void 0:l.map(f=>{if(f&&f.resource)return Y(f.key,"Data")}).filter(Boolean),v=f=>{var P;if(f.relation&&f.resource){let w=`${Y(f.key,"Data")}?.data`;if(Array.isArray(f.accessor))return;let S=`id: "${f.key}"`,F=`header: "${W(f.key)}"`,N=Vt(f),$="";if(f.multiple){o.push(["TagField","@refinedev/chakra-ui"]);let A="item";f!=null&&f.relationInfer&&(A=M("item",void 0,f.relationInfer.accessor)),$=`cell: function render({ getValue, table }) {
                    const meta = table.options.meta as {
                        ${Y(f.key,"Data")}: GetManyResponse;
                    };

                    const ${Y(f.key,"")} = getValue<any[]>()?.map((item) => {
                        return meta.${Y(f.key,"Data")}?.data?.find(
                            (resourceItems) => resourceItems.id === ${M("item",void 0,f.accessor)}
                        );
                    })


                    return (
                        <HStack>
                            {${Y(f.key,"")}?.map((item, index) => (
                                <TagField key={index} value={${A}} />
                            ))}
                        </HStack>
                    )
                }
            `}else f!=null&&f.relationInfer?$=`cell: function render({ getValue, table }) {
                        const meta = table.options.meta as {
                            ${Y(f.key,"Data")}: GetManyResponse;
                        };

                        const ${Y(f.key,"")} = meta.${w}?.find(
                            (item) => item.id === getValue<any>(),
                        );

                        return ${M(Y(f.key),void 0,(P=f==null?void 0:f.relationInfer)==null?void 0:P.accessor)} ?? "Loading...";
                    },`:$="";return`
                {
                    ${S},
                    ${F},
                    ${N},
                    ${$}
                }
            `}},g=f=>{if(f.type==="image"){o.push(["Image","@chakra-ui/react"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    ${f!=null&&f.accessor?"try {":""}
                        return <Image sx={{ maxWidth: "100px" }} src={${M("getValue<any>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0," + ")}} />
                    ${f!=null&&f.accessor?" } catch (error) { return null; }":""}
                }
            `;if(f.multiple){let N=M("item",void 0,f.accessor," + ");F=`
                    cell: function render({ getValue }) {
                        ${f!=null&&f.accessor?"try {":""}
                            return (
                                <HStack>
                                    {getValue<any[]>()?.map((item, index) => (
                                        <Image src={${N}} key={index} sx={{ height: "50px", maxWidth: "100px" }} />
                                    ))}
                                </HStack>
                            )
                        ${f!=null&&f.accessor?" } catch (error) { return null; }":""}
                    }
                `}return`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},y=f=>{if(f.type==="email"){o.push(["EmailField","@refinedev/chakra-ui"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    return <EmailField value={${M("getValue<any>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0,' + " " + ')}} />
                }
            `;return f.multiple&&(o.push(["TagField","@refinedev/chakra-ui"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<any[]>()?.map((item, index) => (
                                    <TagField value={${M("item",void 0,f.accessor," + ")}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},C=f=>{if(f.type==="url"){o.push(["UrlField","@refinedev/chakra-ui"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    return <UrlField value={${M("getValue<any>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0," + ")}} />
                }
            `;return f.multiple&&(o.push(["TagField","@refinedev/chakra-ui"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<any[]>()?.map((item, index) => (
                                    <TagField value={${M("item",void 0,f.accessor," + ")}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},u=f=>{if((f==null?void 0:f.type)==="boolean"){o.push(["BooleanField","@refinedev/chakra-ui"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    return <BooleanField value={${M("getValue<any>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0," + ")}} />
                }
            `;return f.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<any[]>()?.map((item, index) => (
                                    <BooleanField value={${M("item",void 0,f.accessor," + ")}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},p=f=>{if(f.type==="date"){o.push(["DateField","@refinedev/chakra-ui"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    return <DateField value={${M("getValue<any>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0,' + " " + ')}} />
                }
            `;return f.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<any[]>()?.map((item, index) => (
                                    <DateField value={${M("item",void 0,f.accessor," + ")}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},c=f=>{if((f==null?void 0:f.type)==="richtext"){o.push(["MarkdownField","@refinedev/chakra-ui"]);let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F=z`
                cell: function render({ getValue }) {
                    return <MarkdownField value={(${M("getValue<string>()",void 0,Array.isArray(f.accessor)?f.accessor:void 0)})?.slice(0, 80) + "..." } />
                }
            `;return f.multiple&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<string[]>()?.map((item, index) => (
                                    <MarkdownField value={${M("item",void 0,f.accessor," + ")}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},i=f=>{if(f&&(f.type==="text"||f.type==="number")){let P=`id: "${f.key}"`,w=Vt(f),S=`header: "${W(f.key)}"`,F="";return f.multiple&&(o.push(["TagField","@refinedev/chakra-ui"]),F=`
                    cell: function render({ getValue }) {
                        return (
                            <HStack>
                                {getValue<any[]>()?.map((item, index) => (
                                    <TagField value={${M("item",void 0,f.accessor,' + " " + ')}} key={index} />
                                ))}
                            </HStack>
                        )
                    }
                `),!f.multiple&&Array.isArray(f.accessor)&&(F=`
                    cell: function render({ getValue }) {
                        return (
                            <>{${M("getValue<any>()",f.key,f.accessor)}}</>
                        );
                    }
                `),`
                {
                    ${P},
                    ${w},
                    ${S},
                    ${F}
                }
            `}},{canEdit:b,canShow:k,canDelete:x}=e!=null?e:{};b&&o.push(["EditButton","@refinedev/chakra-ui"]),k&&o.push(["ShowButton","@refinedev/chakra-ui"]),x&&o.push(["DeleteButton","@refinedev/chakra-ui"]);let I=b||k||x?z`
    {
        id: "actions",
        accessorKey: "id",
        header: "Actions",
        cell: function render({ getValue }) {
            return (
                <HStack>
                ${k?z`
                    <ShowButton
                        hideText
                        recordItemId={getValue() as string}
                    />
                    `:""}
                    ${b?z`
                    <EditButton
                        hideText
                        recordItemId={getValue() as string}
                    />
                    `:""}
                    ${x?z`
                    <DeleteButton
                        hideText
                        recordItemId={getValue() as string}
                    />
                    `:""}
                </HStack>
            );
        },
    },
        `:"",s=t.map(f=>{switch(f==null?void 0:f.type){case"text":case"number":return i(f);case"richtext":return c(f);case"email":return y(f);case"image":return g(f);case"date":return p(f);case"boolean":return u(f);case"url":return C(f);case"relation":return v(f);default:return}});return Ft(o),z`
    import React from "react";
    ${St(o)}
    
    export const ${a}: React.FC<IResourceComponentsProps> = () => {
        const columns = React.useMemo<ColumnDef<any>[]>(() => [
            ${[...s,I].filter(Boolean).join(",")}
        ], []);

        const {
            getHeaderGroups,
            getRowModel,
            setOptions,
            refineCore: {
                setCurrent,
                pageCount,
                current,
                tableQueryResult: { data: tableData },
            },
        } = useTable({
            columns,
            ${r?`
            refineCoreProps: {
                resource: "${e.name}",
            }
            `:""}
            
        });

        ${d}

        setOptions((prev) => ({
            ...prev,
            meta: {
                ...prev.meta,
                ${m.join(", ")}
            },
        }));

        return (
            <List>
                <TableContainer whiteSpace="pre-line">
                    <Table variant="simple">
                        <Thead>
                            {getHeaderGroups().map((headerGroup) => (
                                <Tr key={headerGroup.id}>
                                    {headerGroup.headers.map((header) => (
                                        <Th key={header.id}>
                                            {!header.isPlaceholder && (
                                                flexRender(
                                                    header.column.columnDef
                                                        .header,
                                                    header.getContext(),
                                                )
                                            )}
                                        </Th>
                                    ))}
                                </Tr>
                            ))}
                        </Thead>
                        <Tbody>
                            {getRowModel().rows.map((row) => (
                                <Tr key={row.id}>
                                    {row.getVisibleCells().map((cell) => (
                                        <Td key={cell.id}>
                                            {flexRender(
                                                cell.column.columnDef.cell,
                                                cell.getContext(),
                                            )}
                                        </Td>
                                    ))}
                                </Tr>
                            ))}
                        </Tbody>
                    </Table>
                </TableContainer>
                <Pagination
                    current={current}
                    pageCount={pageCount}
                    setCurrent={setCurrent}
                />
            </List>   
        );
    };

    type PaginationProps = {
        current: number;
        pageCount: number;
        setCurrent: (page: number) => void;
    };

    const Pagination: React.FC<PaginationProps> = ({
        current,
        pageCount,
        setCurrent,
    }) => {
        const pagination = usePagination({
            current,
            pageCount,
        });
    
        return (
            <Box display="flex" justifyContent="flex-end">
                <HStack my="3" spacing="1">
                    {pagination?.prev && (
                        <IconButton
                            aria-label="previous page"
                            onClick={() => setCurrent(current - 1)}
                            disabled={!pagination?.prev}
                            variant="outline"
                        >
                            <IconChevronLeft size="18" />
                        </IconButton>
                    )}
    
                    {pagination?.items.map((page) => {
                        if (typeof page === "string")
                            return <span key={page}>...</span>;
    
                        return (
                            <Button
                                key={page}
                                onClick={() => setCurrent(page)}
                                variant={page === current ? "solid" : "outline"}
                            >
                                {page}
                            </Button>
                        );
                    })}
                    {pagination?.next && (
                        <IconButton
                            aria-label="next page"
                            onClick={() => setCurrent(current + 1)}
                            variant="outline"
                        >
                            <IconChevronRight size="18" />
                        </IconButton>
                    )}
                </HStack>
            </Box>
        );
    };
    `},ao=Ot({type:"list",additionalScope:[["@refinedev/chakra-ui","RefineChakraUI",Pp],["@refinedev/react-table","RefineReactTable",$p],["@tabler/icons","TablerIcons",Fp],["@chakra-ui/react","ChakraUI",wp],["@tanstack/react-table","TanstackReactTable",Sp]],codeViewerComponent:jt,loadingComponent:Ut,errorComponent:zt,renderer:yu});var Lp=j(V()),qp=j(Xr()),Ap=j(h("@chakra-ui/react")),Np=j(ar()),Bp=j(h("react-hook-form"));var hu=({resource:e,fields:t,isCustomPage:r})=>{var C;let a=ft((C=e.label)!=null?C:e.name,"create"),n=[["Create","@refinedev/chakra-ui"],["FormControl","@chakra-ui/react"],["FormLabel","@chakra-ui/react"],["FormErrorMessage","@chakra-ui/react"],["useForm","@refinedev/react-hook-form"]],l=t.filter(u=>(u==null?void 0:u.relation)&&!(u!=null&&u.fieldable)&&(u==null?void 0:u.resource)).filter(Boolean).map(u=>{if((u==null?void 0:u.relation)&&!u.fieldable&&u.resource)return n.push(["useSelect","@refinedev/core"]),`
                const { options: ${Y(u.key,"Options")} } =
                useSelect({
                    resource: "${u.resource.name}",
                    ${aa(u)}
                });
            `}).filter(Boolean),d=u=>{if(u.relation&&u.resource){n.push(["useSelect","@refinedev/core"]),n.push(["Select","@chakra-ui/react"]);let p=Y(u.key,"Options");return z`
            <FormControl mb="3" isInvalid={!!errors?.${Ie(u.key,void 0)}}>
                <FormLabel>${W(u.key)}</FormLabel>
                <Select
                    placeholder="Select ${Ct(u.resource.name)}"
                    {...register("${Ie(u.key,void 0,u.accessor)}", {
                        required: "This field is required",
                    })}
                >
                    {${p}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </Select>
                <FormErrorMessage>
                    {${M("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                </FormErrorMessage>
            </FormControl>
            `}},m=u=>{if(u.type==="text"||u.type==="url"||u.type==="email"||u.type==="number"||u.type==="date"||u.type==="richtext")return ra(u.key)||(n.push(["Input","@chakra-ui/react"]),u.multiple)?void 0:z`
                <FormControl mb="3" isInvalid={!!${M("(errors as any)",u.key,u.accessor,!1)}}>
                    <FormLabel>${W(u.key)}</FormLabel>
                    <Input
                        ${u.type!=="date"&&u.type!=="richtext"?`type="${u.type}"`:""}
                        {...register("${Ie(u.key,void 0,u.accessor)}", {
                            required: "This field is required",
                            ${u.type==="number"?"valueAsNumber: true,":""}
                        })}
                    />
                    <FormErrorMessage>
                        {${M("(errors as any)",u.key,u.accessor,!1)}?.message as string}
                    </FormErrorMessage>
                </FormControl>
            `},v=u=>{if(u.type==="boolean")return n.push(["Checkbox","@chakra-ui/react"]),u.multiple?void 0:z`
                <FormControl mb="3" isInvalid={!!${M("errors",u.key,u.accessor,!1)}}>
                    <FormLabel>${W(u.key)}</FormLabel>
                    <Checkbox
                        {...register("${Ie(u.key,void 0,u.accessor)}", {
                            required: "This field is required",
                        })}
                    />
                    <FormErrorMessage>
                        {${M("errors",u.key,u.accessor,!1)}?.message as string}
                    </FormErrorMessage>
                </FormControl>
               
            `},g=u=>{if(u.type==="date"){let p=m(u);return`
                {/* 
                    DatePicker component is not included in "@refinedev/chakra-ui" package.
                    To use a <DatePicker> component, you can examine the following links:
                    
                    - https://github.com/aboveyunhai/chakra-dayzed-datepicker
                    - https://github.com/wojtekmaj/react-date-picker
                */}
                ${p!=null?p:""}
                `}},y=t.map(u=>{switch(u==null?void 0:u.type){case"text":case"number":case"email":case"url":case"richtext":return m(u);case"date":return g(u);case"boolean":return v(u);case"relation":return d(u);default:return}});return Ft(n),z`
    ${St(n)}
    
    export const ${a} = () => {
        const {
            refineCore: { formLoading },
            saveButtonProps,
            register,
            formState: { errors },
        } = useForm(
            ${r?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    action: "create",
                }
            }`:""}
        );
    
        ${l}

        return (
            <Create isLoading={formLoading} saveButtonProps={saveButtonProps}>
                ${y.join("")}
            </Create>
        );
    };
    `},no=Ot({type:"create",additionalScope:[["@refinedev/core","RefineCore",Lp],["@refinedev/chakra-ui","RefineChakraUI",qp],["@refinedev/react-hook-form","RefineReactHookForm",Np],["@chakra-ui/react","ChakraUI",Ap],["react-hook-form","ReactHookForm",Bp]],codeViewerComponent:jt,loadingComponent:Ut,errorComponent:zt,renderer:hu});var Dp=j(V()),Mp=j(Xr()),Tp=j(h("@chakra-ui/react")),Rp=j(ar()),Op=j(h("react-hook-form"));var bu=({resource:e,fields:t,isCustomPage:r,id:a})=>{var p,c;let n=ft((p=e.label)!=null?p:e.name,"edit"),o=Y((c=e.label)!=null?c:e.name,"Data"),l=[["React","react",!0],["Edit","@refinedev/chakra-ui"],["FormControl","@chakra-ui/react"],["FormLabel","@chakra-ui/react"],["FormErrorMessage","@chakra-ui/react"],["useForm","@refinedev/react-hook-form"]],m=t.filter(i=>(i==null?void 0:i.relation)&&!(i!=null&&i.fieldable)&&(i==null?void 0:i.resource)).filter(Boolean).map(i=>{if((i==null?void 0:i.relation)&&!i.fieldable&&i.resource){l.push(["useSelect","@refinedev/core"]);let b=M(o,i.key,i.accessor,!1);return i.multiple&&i.accessor&&(b=`${M(o,i.key)}?.map((item: any) => ${M("item",void 0,i.accessor)})`),`
                const { options: ${Y(i.key,"Options")} } =
                useSelect({
                    resource: "${i.resource.name}",
                    defaultValue: ${b},
                    ${aa(i)}
                });

                React.useEffect(() => {
                    resetField("${Ie(i.key,void 0,i.accessor)}");
                }, [${Y(i.key,"Options")}]);
            `}}).filter(Boolean),v=i=>{if(i.relation&&i.resource){l.push(["useSelect","@refinedev/core"]),l.push(["Select","@chakra-ui/react"]);let b=Y(i.key,"Options");return z`
            <FormControl mb="3" isInvalid={!!errors?.${Ie(i.key,void 0)}}>
                <FormLabel>${W(i.key)}</FormLabel>
                <Select
                    placeholder="Select ${Ct(i.resource.name)}"
                    {...register("${Ie(i.key,void 0,i.accessor)}", {
                        required: "This field is required",
                    })}
                >
                    {${b}?.map((option) => (
                        <option value={option.value} key={option.value}>
                            {option.label}
                        </option>
                    ))}
                </Select>
                <FormErrorMessage>
                    {${M("(errors as any)",i.key,i.accessor,!1)}?.message as string}
                </FormErrorMessage>
            </FormControl>
            `}},g=i=>{if(i.type==="text"||i.type==="url"||i.type==="email"||i.type==="number"||i.type==="date"||i.type==="richtext"){if(l.push(["Input","@chakra-ui/react"]),i.multiple){let b=Ie(i.key,"${index}",i.accessor),k=M(M("(errors as any)",i.key,void 0,!1)+"?.[index]",void 0,i.accessor);return`
                    <>
                        {${M(o,i.key)}?.map((item: any, index: number) => (
                            <FormControl key={index} mb="3" isInvalid={!!${k}}>
                                <FormLabel>${W(i.key)} #{index + 1}</FormLabel>
                                <Input
                                    {...register(\`${b}\`, {
                                        required: "This field is required",
                                        ${i.type==="number"?"valueAsNumber: true,":""}
                                    })}
                                />
                                <FormErrorMessage>
                                    {${M(k,"message")} as string}
                                </FormErrorMessage>
                            </FormControl>
                        ))}
                    </>
                `}return z`
                <FormControl mb="3" isInvalid={!!${M("(errors as any)",i.key,i.accessor,!1)}}>
                    <FormLabel>${W(i.key)}</FormLabel>
                    <Input
                        ${ra(i.key)?"disabled":""}
                        ${i.type!=="date"&&i.type!=="richtext"?`type="${i.type}"`:""}
                        {...register("${Ie(i.key,void 0,i.accessor)}", {
                            required: "This field is required",
                            ${i.type==="number"?"valueAsNumber: true,":""}
                        })}
                    />
                    <FormErrorMessage>
                        {${M("(errors as any)",i.key,i.accessor,!1)}?.message as string}
                    </FormErrorMessage>
                </FormControl>
            `}},y=i=>{if(i.type==="boolean"){if(l.push(["Checkbox","@chakra-ui/react"]),i.multiple){let b=Ie(i.key,void 0,i.accessor),k=M("(errors as any)",i.key,void 0,!1)+"?.[index]";return`
                    <>
                        {${M(o,i.key)}?.map((item: any, index: number) => (
                            <FormControl key={index} mb="3" isInvalid={!!${k}}>
                                <FormLabel>${W(i.key)} #{index + 1}</FormLabel>
                                <Checkbox
                                    {...register(\`${b}.\${index}\`, {
                                        required: "This field is required",
                                    })}
                                />
                                <FormErrorMessage>
                                    {${k}?.message as string}
                                </FormErrorMessage>
                            </FormControl>
                        ))}
                    </>
                `}return z`
                <FormControl mb="3" isInvalid={!!${M("errors",i.key,i.accessor,!1)}}>
                    <FormLabel>${W(i.key)}</FormLabel>
                    <Checkbox
                        {...register("${Ie(i.key,void 0,i.accessor)}", {
                            required: "This field is required",
                        })}
                    />
                    <FormErrorMessage>
                        {${M("errors",i.key,i.accessor,!1)}?.message as string}
                    </FormErrorMessage>
                </FormControl>
               
            `}},C=i=>{if(i.type==="date")return`
                {/* 
                    DatePicker component is not included in "@refinedev/chakra-ui" package.
                    To use a <DatePicker> component, you can examine the following links:
                    
                    - https://github.com/aboveyunhai/chakra-dayzed-datepicker
                    - https://github.com/wojtekmaj/react-date-picker
                */}
                ${g(i)}
                `},u=t.map(i=>{switch(i==null?void 0:i.type){case"text":case"number":case"email":case"url":case"richtext":return g(i);case"date":return C(i);case"boolean":return y(i);case"relation":return v(i);default:return}});return Ft(l),z`
    ${St(l)}
    
    export const ${n} = () => {
        const {
            refineCore: { formLoading, queryResult },
            saveButtonProps,
            register,
            resetField,
            formState: { errors },
        } = useForm(
            ${r?`
            { 
                refineCoreProps: {
                    resource: "${e.name}",
                    id: ${a},
                    action: "edit",
                }
            }`:""}
        );
    
        const ${o} = queryResult?.data?.data;
    
        ${m}

        return (
            <Edit isLoading={formLoading} saveButtonProps={saveButtonProps}>
                ${u.join("")}
            </Edit>
        );
    };
    `},oo=Ot({type:"edit",additionalScope:[["@refinedev/core","RefineCore",Dp],["@refinedev/chakra-ui","RefineChakraUI",Mp],["@refinedev/react-hook-form","RefineReactHookForm",Rp],["@chakra-ui/react","ChakraUI",Tp],["react-hook-form","ReactHookForm",Op]],codeViewerComponent:jt,loadingComponent:Ut,errorComponent:zt,renderer:bu});var Hg=({action:e,id:t,...r})=>{let{action:a,id:n}=(0,Eu.useResource)();switch(e!=null?e:a){case"show":return na.default.createElement(to,{...r,id:t!=null?t:n});case"create":return na.default.createElement(no,{...r,id:t!=null?t:n});case"edit":return na.default.createElement(oo,{...r,id:t!=null?t:n});default:return na.default.createElement(ao,{...r,id:t!=null?t:n})}};})();
//# sourceMappingURL=chakra-ui.js.map