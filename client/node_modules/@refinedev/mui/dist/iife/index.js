(()=>{var Jl=Object.create;var Ua=Object.defineProperty;var es=Object.getOwnPropertyDescriptor;var ts=Object.getOwnPropertyNames;var rs=Object.getPrototypeOf,os=Object.prototype.hasOwnProperty;var y=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var Lo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var as=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ts(t))!os.call(e,a)&&a!==r&&Ua(e,a,{get:()=>t[a],enumerable:!(o=es(t,a))||o.enumerable});return e};var D=(e,t,r)=>(r=e!=null?Jl(rs(e)):{},as(t||!e||!e.__esModule?Ua(r,"default",{value:e,enumerable:!0}):r,e));var I=Lo((Nc,Pi)=>{var ns=Object.create,to=Object.defineProperty,is=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyNames,ss=Object.getPrototypeOf,us=Object.prototype.hasOwnProperty,ds=(e,t)=>{for(var r in t)to(e,r,{get:t[r],enumerable:!0})},wn=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of ls(t))!us.call(e,a)&&a!==r&&to(e,a,{get:()=>t[a],enumerable:!(o=is(t,a))||o.enumerable});return e},O=(e,t,r)=>(r=e!=null?ns(ss(e)):{},wn(t||!e||!e.__esModule?to(r,"default",{value:e,enumerable:!0}):r,e)),cs=e=>wn(to({},"__esModule",{value:!0}),e),kn={};ds(kn,{AuthPage:()=>wd,Authenticated:()=>Rd,CanAccess:()=>Qd,ErrorComponent:()=>Cd,GitHubBanner:()=>Hd,LayoutWrapper:()=>$d,LoginPage:()=>hi,ReadyPage:()=>bi,Refine:()=>Nd,ResourceContext:()=>Mr,RouteChangeHandler:()=>Ci,UndoableQueue:()=>xi,WelcomePage:()=>kd,createTreeView:()=>$s,file2Base64:()=>Bs,getDefaultFilter:()=>Ts,getDefaultSortOrder:()=>ks,getNextPageParam:()=>Hn,getPreviousPageParam:()=>Gn,handleUseParams:()=>Ds,importCSVMapper:()=>On,legacyResourceTransform:()=>In,matchResourceFromRoute:()=>Ns,parseTableParams:()=>Vo,parseTableParamsFromQuery:()=>ws,pickNotDeprecated:()=>T,routeGenerator:()=>zn,setInitialFilters:()=>Ro,setInitialSorters:()=>zo,stringifyTableParams:()=>Wo,unionFilters:()=>Tr,unionSorters:()=>Uo,useActiveAuthProvider:()=>Le,useApiUrl:()=>ru,useAuthenticated:()=>xs,useBack:()=>mi,useBreadcrumb:()=>hd,useCan:()=>gi,useCanWithoutCache:()=>ad,useCancelNotification:()=>gr,useCheckError:()=>Cs,useCreate:()=>Xo,useCreateMany:()=>Zn,useCustom:()=>au,useCustomMutation:()=>iu,useDataProvider:()=>$e,useDelete:()=>Ys,useDeleteMany:()=>tu,useExport:()=>Ru,useForgotPassword:()=>qn,useForm:()=>zu,useGetIdentity:()=>Dn,useGetLocale:()=>Mu,useGetToPath:()=>oa,useGo:()=>ft,useHandleNotification:()=>ot,useImport:()=>Iu,useInfiniteList:()=>du,useInvalidate:()=>nr,useIsAuthenticated:()=>Go,useIsExistAuthentication:()=>Fn,useLink:()=>ao,useList:()=>Yo,useLiveMode:()=>ei,useLog:()=>ar,useLogList:()=>md,useLogin:()=>Ho,useLogout:()=>$o,useMany:()=>Kn,useMenu:()=>xd,useModal:()=>Vu,useMutationMode:()=>hr,useNavigation:()=>vt,useNotification:()=>Ht,useOnError:()=>rt,useOne:()=>Zo,useParse:()=>li,useParsed:()=>mt,usePermissions:()=>fs,usePublish:()=>or,useRedirectionAfterSubmission:()=>pi,useRefineContext:()=>ra,useRegister:()=>Mn,useResource:()=>ne,useResourceSubscription:()=>Dr,useResourceWithRoute:()=>oo,useRouterContext:()=>We,useRouterType:()=>ve,useSelect:()=>ld,useSetLocale:()=>Du,useShow:()=>ju,useSubscription:()=>fu,useSyncWithLocation:()=>ci,useTable:()=>ud,useTitle:()=>Nu,useToPath:()=>_u,useTranslate:()=>se,useUpdate:()=>Yn,useUpdateMany:()=>Js,useUpdatePassword:()=>An,useWarnAboutChange:()=>ta,userFriendlyResourceName:()=>Ko});Pi.exports=cs(kn);var er=O(y("react")),vr=O(y("react")),Tn=vr.default.createContext({}),ps=({children:e,isProvided:t,...r})=>{let{replace:o}=vt(),a=async v=>{var c;try{return await((c=r.login)==null?void 0:c.call(r,v))}catch(d){return Promise.reject(d)}},i=async v=>{var c;try{return await((c=r.register)==null?void 0:c.call(r,v))}catch(d){return Promise.reject(d)}},n=async v=>{var c;try{return await((c=r.logout)==null?void 0:c.call(r,v))}catch(d){return Promise.reject(d)}},u=async v=>{var c;try{return await((c=r.checkAuth)==null?void 0:c.call(r,v)),Promise.resolve()}catch(d){return d!=null&&d.redirectPath&&o(d.redirectPath),Promise.reject(d)}};return vr.default.createElement(Tn.Provider,{value:{...r,login:a,logout:n,checkAuth:u,register:i,isProvided:t}},e)},Bn=vr.default.createContext({}),ms=({children:e,isProvided:t,...r})=>{let o=async c=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,c))}catch(g){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",g),Promise.reject(g)}},a=async c=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,c))}catch(g){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",g),Promise.reject(g)}},i=async c=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,c))}catch(g){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",g),Promise.reject(g)}},n=async c=>{var d;try{let g=await((d=r.check)==null?void 0:d.call(r,c));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",g),Promise.reject(g)}},u=async c=>{var d;try{let g=await((d=r.forgotPassword)==null?void 0:d.call(r,c));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",g),Promise.reject(g)}},v=async c=>{var d;try{let g=await((d=r.updatePassword)==null?void 0:d.call(r,c));return Promise.resolve(g)}catch(g){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",g),Promise.reject(g)}};return vr.default.createElement(Bn.Provider,{value:{...r,login:o,logout:i,check:n,register:a,forgotPassword:u,updatePassword:v,isProvided:t}},e)},ct=()=>vr.default.useContext(Tn),bt=()=>vr.default.useContext(Bn),Ra=y("@tanstack/react-query");function fs({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=ct(),{getPermissions:o}=bt(),a=(0,Ra.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!e&&!!o,...e?{}:t}),i=(0,Ra.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?i:a}var za=y("@tanstack/react-query");function Dn({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ct(),{getIdentity:o}=bt(),a=(0,za.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t}),i=(0,za.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?i:a}var Qa=y("@tanstack/react-query"),vs=y("@tanstack/react-query"),jo=()=>{let e=(0,vs.useQueryClient)();return()=>{e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])}};function $o({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=jo(),o=ve(),a=ft(),{push:i}=vt(),{open:n,close:u}=Ht(),{logout:v}=ct(),{logout:c}=bt(),d=(0,Qa.useMutation)(["useLogout"],c,{onSuccess:(E,p)=>{let{success:s,error:m,redirectTo:l}=E,{redirectPath:f}=p!=null?p:{},b=f!=null?f:l;s&&(u==null||u("useLogout-error")),(m||!s)&&(n==null||n(So(m))),b!==!1&&(o==="legacy"?i(b!=null?b:"/login"):b&&a({to:b})),r()},onError:E=>{n==null||n(So(E))},...e===!0?{}:t}),g=(0,Qa.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],v,{onSuccess:(E,p)=>{var s;let m=(s=p==null?void 0:p.redirectPath)!=null?s:E;if(m!==!1){if(m){o==="legacy"?i(m):a({to:m});return}o==="legacy"?i("/login"):a({to:"/login"}),r()}},onError:E=>{n==null||n(So(E))},...e?t:{}});return e?g:d}var So=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),ja=y("@tanstack/react-query"),gs=O(y("qs")),ys=O(y("react"));function Ho({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=jo(),o=ve(),a=ft(),{replace:i}=vt(),n=mt(),{useLocation:u}=We(),{search:v}=u(),{close:c,open:d}=Ht(),{login:g}=ct(),{login:E}=bt(),p=ys.default.useMemo(()=>{var l;return o==="legacy"?gs.default.parse(v,{ignoreQueryPrefix:!0}).to:(l=n.params)==null?void 0:l.to},[o,n.params,v]),s=(0,ja.useMutation)(["useLogin"],E,{onSuccess:({success:l,redirectTo:f,error:b})=>{l&&(c==null||c("login-error")),(b||!l)&&(d==null||d(wo(b))),p&&l?o==="legacy"?i(p):a({to:p,type:"replace"}):f?o==="legacy"?i(f):a({to:f,type:"replace"}):o==="legacy"&&i("/"),setTimeout(()=>{r()})},onError:l=>{d==null||d(wo(l))},...e===!0?{}:t}),m=(0,ja.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],g,{onSuccess:l=>{p&&i(p),l!==!1&&!p&&(typeof l=="string"?o==="legacy"?i(l):a({to:l,type:"replace"}):o==="legacy"?i("/"):a({to:"/",type:"replace"})),c==null||c("login-error"),setTimeout(()=>{r()})},onError:l=>{d==null||d(wo(l))},...e?t:{}});return e?m:s}var wo=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),Ha=y("@tanstack/react-query");function Mn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=jo(),o=ve(),a=ft(),{replace:i}=vt(),{register:n}=ct(),{register:u}=bt(),{close:v,open:c}=Ht(),d=(0,Ha.useMutation)(["useRegister"],u,{onSuccess:({success:E,redirectTo:p,error:s})=>{E&&(v==null||v("register-error")),(s||!E)&&(c==null||c(ko(s))),p?o==="legacy"?i(p):a({to:p,type:"replace"}):o==="legacy"&&i("/"),r()},onError:E=>{c==null||c(ko(E))},...e===!0?{}:t}),g=(0,Ha.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],n,{onSuccess:E=>{E!==!1&&(E?o==="legacy"?i(E):a({to:E,type:"replace"}):o==="legacy"?i("/"):a({to:"/",type:"replace"}),v==null||v("register-error")),r()},onError:E=>{c==null||c(ko(E))},...e?t:{}});return e?g:d}var ko=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),Ga=y("@tanstack/react-query");function qn({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ve(),o=ft(),{replace:a}=vt(),{forgotPassword:i}=ct(),{forgotPassword:n}=bt(),{close:u,open:v}=Ht(),c=(0,Ga.useMutation)(["useForgotPassword"],n,{onSuccess:({success:g,redirectTo:E,error:p})=>{g&&(u==null||u("forgot-password-error")),(p||!g)&&(v==null||v(To(p))),E&&(r==="legacy"?a(E):o({to:E,type:"replace"}))},onError:g=>{v==null||v(To(g))},...e===!0?{}:t}),d=(0,Ga.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],i,{onSuccess:g=>{g!==!1&&g&&(r==="legacy"?a(g):o({to:g,type:"replace"})),u==null||u("forgot-password-error")},onError:g=>{v==null||v(To(g))},...e?t:{}});return e?d:c}var To=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),hs=O(y("react")),Ia=y("@tanstack/react-query"),bs=O(y("qs"));function An({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ve(),o=ft(),{replace:a}=vt(),{updatePassword:i}=ct(),{updatePassword:n}=bt(),{close:u,open:v}=Ht(),c=mt(),{useLocation:d}=We(),{search:g}=d(),E=hs.default.useMemo(()=>{var m;if(r==="legacy"){let l=bs.default.parse(g,{ignoreQueryPrefix:!0});return l!=null?l:{}}else return(m=c.params)!=null?m:{}},[g,c,r]),p=(0,Ia.useMutation)(["useUpdatePassword"],async m=>n==null?void 0:n({...E,...m}),{onSuccess:({success:m,redirectTo:l,error:f})=>{m&&(u==null||u("update-password-error")),(f||!m)&&(v==null||v(Bo(f))),l&&(r==="legacy"?a(l):o({to:l,type:"replace"}))},onError:m=>{v==null||v(Bo(m))},...e===!0?{}:t}),s=(0,Ia.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async m=>i==null?void 0:i({...E,...m}),{onSuccess:m=>{m!==!1&&m&&(r==="legacy"?a(m):o({to:m,type:"replace"})),u==null||u("update-password-error")},onError:m=>{v==null||v(Bo(m))},...e?t:{}});return e?s:p}var Bo=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),Va=y("@tanstack/react-query");function Go({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ct(),{check:o}=bt(),a=(0,Va.useQuery)(["useAuthenticated",t],async()=>{var n;return(n=await(o==null?void 0:o(t)))!=null?n:{}},{retry:!1,enabled:!e}),i=(0,Va.useQuery)(["useAuthenticated","v3LegacyAuthProviderCompatible",t],async()=>{var n;return(n=await(r==null?void 0:r(t)))!=null?n:{}},{retry:!1,enabled:e});return e?i:a}var xs=Go,Ka=y("@tanstack/react-query");function rt({v3LegacyAuthProviderCompatible:e=!1}={}){let t=ve(),r=ft(),{replace:o}=vt(),{checkError:a}=ct(),{onError:i}=bt(),{mutate:n}=$o({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:u}=$o({v3LegacyAuthProviderCompatible:Boolean(e)}),v=(0,Ka.useMutation)(["useCheckError"],i,{onSuccess:({logout:d,redirectTo:g})=>{if(d){u({redirectPath:g});return}if(g){t==="legacy"?o(g):r({to:g,type:"replace"});return}}}),c=(0,Ka.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],a,{onError:d=>{n({redirectPath:d})}});return e?c:v}var Cs=rt,Fn=()=>{let{isProvided:e}=ct(),{isProvided:t}=bt();return Boolean(t||e)},Ps=y("@tanstack/react-query"),Do=e=>e/1e3,Es=O(y("lodash/zip")),Ls=O(y("lodash/fromPairs")),On=(e,t=r=>r)=>{let[r,...o]=e;return o.map(a=>(0,Ls.default)((0,Es.default)(r,a))).map((a,i,n)=>t.call(void 0,a,i,n))},_a=O(y("pluralize")),Io=O(y("qs")),Nn=O(y("lodash/unionWith")),$n=O(y("lodash/differenceWith")),Ss=O(y("warn-once")),Vo=e=>{var t;let{current:r,pageSize:o,sorter:a,sorters:i,filters:n}=Io.default.parse(e.substring(1));return{parsedCurrent:r&&Number(r),parsedPageSize:o&&Number(o),parsedSorter:(t=T(i,a))!=null?t:[],parsedFilters:n!=null?n:[]}},ws=e=>{let t=Io.default.stringify(e);return Vo(`/${t}`)},Wo=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:a,filters:i,...n}=e;return Io.default.stringify({...n,...r||{},sorters:T(a,o),filters:i},t)},Wn=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,Un=(e,t)=>e.field==t.field,Tr=(e,t,r=[])=>(t.filter(o=>(o.operator==="or"||o.operator==="and")&&!o.key).length>1&&(0,Ss.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,Nn.default)(e,t,r,Wn).filter(o=>o.value!==void 0&&o.value!==null&&(o.operator!=="or"||o.operator==="or"&&o.value.length!==0)&&(o.operator!=="and"||o.operator==="and"&&o.value.length!==0))),Uo=(e,t)=>(0,Nn.default)(e,t,Un).filter(r=>r.order!==void 0&&r.order!==null),Ro=(e,t)=>[...(0,$n.default)(t,e,Wn),...e],zo=(e,t)=>[...(0,$n.default)(t,e,Un),...e],ks=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},Ts=(e,t,r="eq")=>{let o=t==null?void 0:t.find(a=>{if(a.operator!=="or"&&a.operator!=="and"&&"field"in a){let{operator:i,field:n}=a;return n===e&&i===r}});if(o)return o.value||[]},Bs=e=>new Promise((t,r)=>{let o=new FileReader,a=()=>{o.result&&(o.removeEventListener("load",a,!1),t(o.result))};o.addEventListener("load",a,!1),o.readAsDataURL(e.originFileObj),o.onerror=i=>(o.removeEventListener("load",a,!1),r(i))}),Ko=(e="",t)=>{let r=Zr(e);return t==="singular"?_a.default.singular(r):_a.default.plural(r)},Ds=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,T=(...e)=>e.find(t=>typeof t<"u"),pt=(e,t,r,o)=>{let a=t||"default",i={all:[a],resourceAll:[a,e||""],list:n=>[...i.resourceAll,"list",{...n,...T(r,o)||{}}],many:n=>[...i.resourceAll,"getMany",n&&n.map(String),{...T(r,o)||{}}].filter(u=>u!==void 0),detail:n=>[...i.resourceAll,"detail",n==null?void 0:n.toString(),{...T(r,o)||{}}],logList:n=>["logList",e,n,o].filter(u=>u!==void 0)};return i},Ms=(e,t)=>!e||!t?!1:!!e.find(r=>r===t),_o=e=>e.startsWith(":"),fr=e=>e.split("/").filter(t=>t!==""),qs=(e,t)=>{let r=fr(e),o=fr(t);return r.length===o.length},Ot=e=>e.replace(/^\/|\/$/g,""),As=(e,t)=>{let r=Ot(e),o=Ot(t);if(!qs(r,o))return!1;let a=fr(r);return fr(o).every((i,n)=>_o(i)||i===a[n])},Fs=(e,t,r)=>{let o=Ot(r||""),a=`${o}${o?"/":""}${e}`;return t==="list"?a=`${a}`:t==="create"?a=`${a}/create`:t==="edit"?a=`${a}/edit/:id`:t==="show"?a=`${a}/show/:id`:t==="clone"&&(a=`${a}/clone/:id`),`/${a.replace(/^\//,"")}`},Qt=(e,t)=>{var r,o;let a=T((r=e.meta)==null?void 0:r.parent,(o=e.options)==null?void 0:o.parent,e.parentName);if(!a)return;let i=t.find(n=>{var u;return((u=n.identifier)!=null?u:n.name)===a});return i!=null?i:{name:a}},Rn=(e,t,r)=>{let o=[],a=Qt(e,t);for(;a;)o.push(a),a=Qt(a,t);if(o.length!==0)return`/${o.reverse().map(i=>{var n,u;let v=r&&(u=(n=i.options)==null?void 0:n.route)!=null?u:i.name;return Ot(v)}).join("/")}`},tt=(e,t,r)=>{let o=[],a=["list","show","edit","create","clone"],i=Rn(e,t,r);return a.forEach(n=>{var u,v,c,d;let g=r&&n==="clone"?e.create:e[n],E;typeof g=="function"||r?E=Fs(r&&(d=(c=(u=e.meta)==null?void 0:u.route)!=null?c:(v=e.options)==null?void 0:v.route)!=null?d:e.name,n,r?i:void 0):typeof g=="string"?E=g:typeof g=="object"&&(E=g.path),E&&o.push({action:n,resource:e,route:`/${E.replace(/^\//,"")}`})}),o},Os=e=>{var t,r;if(e.length===0)return;if(e.length===1)return e[0];let o=e.map(n=>({...n,splitted:fr(Ot(n.route))})),a=(r=(t=o[0])==null?void 0:t.splitted.length)!=null?r:0,i=[...o];for(let n=0;n<a;n++){let u=i.filter(v=>!_o(v.splitted[n]));if(u.length!==0){if(u.length===1){i=u;break}i=u}}return i[0]},Ns=(e,t)=>{let r=t.flatMap(a=>tt(a,t)).filter(a=>As(e,a.route)),o=Os(r);return{found:!!o,resource:o==null?void 0:o.resource,action:o==null?void 0:o.action,matchedRoute:o==null?void 0:o.route}},zn=(e,t)=>{var r,o,a;let i,n=Rn(e,t,!0);if(n){let u=T(e.meta,e.options);i=`${n}/${(r=u==null?void 0:u.route)!=null?r:e.name}`}else i=(a=(o=e.options)==null?void 0:o.route)!=null?a:e.name;return`/${i.replace(/^\//,"")}`},$s=e=>{var t,r,o;let a=[],i={},n={},u,v;for(let c=0;c<e.length;c++){u=e[c];let d=(o=(r=u.route)!=null?r:(t=T(u==null?void 0:u.meta,u.options))==null?void 0:t.route)!=null?o:"";i[d]=u,i[d].children=[],n[u.name]=u,n[u.name].children=[]}for(let c in i)i.hasOwnProperty(c)&&(v=i[c],v.parentName&&n[v.parentName]?n[v.parentName].children.push(v):a.push(v));return a},Zr=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),Qn=O(y("react")),Ws=O(y("react")),jn=({children:e})=>Ws.default.createElement("div",null,e),At={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},jt=Qn.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:jn,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:At}),Us=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:a,children:i,DashboardPage:n,Title:u,Layout:v=jn,Header:c,Sider:d,Footer:g,OffLayoutArea:E,LoginPage:p=hi,catchAll:s,liveMode:m="off",onLiveEvent:l,options:f})=>Qn.default.createElement(jt.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:u,undoableTimeout:a,Layout:v,Header:c,Sider:d,Footer:g,OffLayoutArea:E,DashboardPage:n,LoginPage:p,catchAll:s,liveMode:m,onLiveEvent:l,options:f}},i),Rs=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:a,reactQueryDevtoolConfig:i,syncWithLocation:n,undoableTimeout:u,warnWhenUnsavedChanges:v}={})=>{var c,d,g,E,p,s,m,l,f,b,h,x,P,L,S,C,w,B,M,k,q,N,$,A;let F={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(d=(c=e==null?void 0:e.mutationMode)!=null?c:o)!=null?d:At.mutationMode,undoableTimeout:(E=(g=e==null?void 0:e.undoableTimeout)!=null?g:u)!=null?E:At.undoableTimeout,syncWithLocation:(s=(p=e==null?void 0:e.syncWithLocation)!=null?p:n)!=null?s:At.syncWithLocation,warnWhenUnsavedChanges:(l=(m=e==null?void 0:e.warnWhenUnsavedChanges)!=null?m:v)!=null?l:At.warnWhenUnsavedChanges,liveMode:(b=(f=e==null?void 0:e.liveMode)!=null?f:r)!=null?b:At.liveMode,redirect:{afterCreate:(x=(h=e==null?void 0:e.redirect)==null?void 0:h.afterCreate)!=null?x:At.redirect.afterCreate,afterClone:(L=(P=e==null?void 0:e.redirect)==null?void 0:P.afterClone)!=null?L:At.redirect.afterClone,afterEdit:(C=(S=e==null?void 0:e.redirect)==null?void 0:S.afterEdit)!=null?C:At.redirect.afterEdit}},U=(B=(w=e==null?void 0:e.disableTelemetry)!=null?w:t)!=null?B:!1,R={clientConfig:(q=(k=(M=e==null?void 0:e.reactQuery)==null?void 0:M.clientConfig)!=null?k:a)!=null?q:{},devtoolConfig:(A=($=(N=e==null?void 0:e.reactQuery)==null?void 0:N.devtoolConfig)!=null?$:i)!=null?A:{}};return{optionsWithDefaults:F,disableTelemetryWithDefault:U,reactQueryWithDefaults:R}},zs=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},Ya=async(e,t,r)=>{let o=[];for(let[a,i]of e.entries())try{let n=await i();o.push(t(n,a))}catch(n){o.push(r(n,a))}return o},fe=(e,t=[],r=!1)=>{if(!!e)return r?t.find(a=>{var i;return Ot((i=a.route)!=null?i:"")===Ot(e)})||t.find(a=>a.name===e):t.find(o=>{var a;return((a=o.identifier)!=null?a:o.name)===e})},V=(e,t,r)=>{if(t)return t;let o=fe(e,r),a=T(o==null?void 0:o.meta,o==null?void 0:o.options);return a!=null&&a.dataProviderName?a.dataProviderName:"default"},ro=async e=>({data:(await Promise.all(e)).map(t=>t.data)}),Hn=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,a=(t==null?void 0:t.pageSize)||10,i=Math.ceil((e.total||0)/a);return o<i?Number(o)+1:void 0},Gn=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1},In=e=>{let t=[];return e==null||e.forEach(r=>{var o;t.push({...r,label:(o=r.options)==null?void 0:o.label,route:zn(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},Qs=e=>fr(Ot(e)).flatMap(t=>_o(t)?[t.slice(1)]:[]),js=(e,t={},r={})=>e.reduce((o,a)=>{var i;let n=r[a]||((i=t.params)==null?void 0:i[a])||(a==="id"?t.id:void 0)||(a==="action"?t.action:void 0)||(a==="resource"?t.resource:void 0);return typeof n<"u"&&(o[a]=n),o},{}),dt=(e,t={},r={})=>{let o=Qs(e),a=js(o,t,r);return e.replace(/:([^\/]+)/g,(i,n)=>{let u=a[n];return typeof u<"u"?`${u}`:i})},Le=()=>{let e=ct(),t=bt();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},Vn=({hasPagination:e,pagination:t,configPagination:r}={})=>{var o,a,i;let n=e===!1?"off":"server",u=(o=t==null?void 0:t.mode)!=null?o:n,v=(a=T(t==null?void 0:t.current,r==null?void 0:r.current))!=null?a:1,c=(i=T(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?i:10;return{current:v,pageSize:c,mode:u}},Yo=({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:i,queryOptions:n,successNotification:u,errorNotification:v,meta:c,metaData:d,liveMode:g,onLiveEvent:E,liveParams:p,dataProviderName:s})=>{let{resources:m}=ne(),l=$e(),f=se(),b=Le(),{mutate:h}=rt({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),x=ot(),P=V(e,s,m),L=T(c,d),S=T(r,t==null?void 0:t.filters),C=T(i,t==null?void 0:t.sort),w=T(o,t==null?void 0:t.hasPagination),B=Vn({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:w}),M=B.mode==="server",k={meta:L,metaData:L,filters:S,hasPagination:M,pagination:B,sorters:C,config:{...t,sort:C}},q=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,N=pt(e,P,L,L),{getList:$}=l(P);return Dr({resource:e,types:["*"],params:{meta:L,metaData:L,pagination:B,hasPagination:M,sort:C,sorters:C,filters:S,subscriptionType:"useList",...p},channel:`resources/${e}`,enabled:q,liveMode:g,onLiveEvent:E}),(0,Ps.useQuery)(N.list({filters:S,hasPagination:M,...M&&{pagination:B},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:A,pageParam:F,signal:U})=>$({resource:e,pagination:B,hasPagination:M,filters:S,sort:C,sorters:C,meta:{...L||{},queryContext:{queryKey:A,pageParam:F,signal:U}},metaData:{...L||{},queryContext:{queryKey:A,pageParam:F,signal:U}}}),{...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!e,select:A=>{var F;let U=A,{current:R,mode:G,pageSize:z}=B;return G==="client"&&(U={...U,data:U.data.slice((R-1)*z,R*z),total:U.total}),n!=null&&n.select?(F=n==null?void 0:n.select)==null?void 0:F.call(n,U):U},onSuccess:A=>{var F;(F=n==null?void 0:n.onSuccess)==null||F.call(n,A);let U=typeof u=="function"?u(A,k,e):u;x(U)},onError:A=>{var F;h(A),(F=n==null?void 0:n.onError)==null||F.call(n,A);let U=typeof v=="function"?v(A,k,e):v;x(U,{key:`${e}-useList-notification`,message:f("notifications.error",{statusCode:A.statusCode},`Error (status code: ${A.statusCode})`),description:A.message,type:"error"})}})},Hs=y("@tanstack/react-query"),Zo=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:a,meta:i,metaData:n,liveMode:u,onLiveEvent:v,liveParams:c,dataProviderName:d})=>{let{resources:g}=ne(),E=$e(),p=pt(e,V(e,d,g),T(i,n),T(i,n)),{getOne:s}=E(V(e,d,g)),m=se(),l=Le(),{mutate:f}=rt({v3LegacyAuthProviderCompatible:Boolean(l==null?void 0:l.isLegacy)}),b=ot();return Dr({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:T(i,n),metaData:T(i,n),subscriptionType:"useOne",...c},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:u,onLiveEvent:v}),(0,Hs.useQuery)(p.detail(t),({queryKey:h,pageParam:x,signal:P})=>s({resource:e,id:t,meta:{...T(i,n)||{},queryContext:{queryKey:h,pageParam:x,signal:P}},metaData:{...T(i,n)||{},queryContext:{queryKey:h,pageParam:x,signal:P}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:h=>{var x;(x=r==null?void 0:r.onSuccess)==null||x.call(r,h);let P=typeof o=="function"?o(h,{id:t,...T(i,n)||{}},e):o;b(P)},onError:h=>{var x;f(h),(x=r==null?void 0:r.onError)==null||x.call(r,h);let P=typeof a=="function"?a(h,{id:t,...T(i,n)||{}},e):a;b(P,{key:`${t}-${e}-getOne-notification`,message:m("notifications.error",{statusCode:h.statusCode},`Error (status code: ${h.statusCode})`),description:h.message,type:"error"})}})},Gs=y("@tanstack/react-query"),Kn=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:a,meta:i,metaData:n,liveMode:u,onLiveEvent:v,liveParams:c,dataProviderName:d})=>{let{resources:g}=ne(),E=$e(),p=pt(e,V(e,d,g),T(i,n),T(i,n)),{getMany:s,getOne:m}=E(V(e,d,g)),l=se(),f=Le(),{mutate:b}=rt({v3LegacyAuthProviderCompatible:Boolean(f==null?void 0:f.isLegacy)}),h=ot(),x=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return Dr({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:T(i,n),metaData:T(i,n),subscriptionType:"useMany",...c},channel:`resources/${e}`,enabled:x,liveMode:u,onLiveEvent:v}),(0,Gs.useQuery)(p.many(t),({queryKey:P,pageParam:L,signal:S})=>s?s({resource:e,ids:t,metaData:{...T(i,n)||{},queryContext:{queryKey:P,pageParam:L,signal:S}}}):ro(t.map(C=>m({resource:e,id:C,metaData:{...T(i,n)||{},queryContext:{queryKey:P,pageParam:L,signal:S}}}))),{...r,onSuccess:P=>{var L;(L=r==null?void 0:r.onSuccess)==null||L.call(r,P);let S=typeof o=="function"?o(P,t,e):o;h(S)},onError:P=>{var L;b(P),(L=r==null?void 0:r.onError)==null||L.call(r,P);let S=typeof a=="function"?a(P,t,e):a;h(S,{key:`${t[0]}-${e}-getMany-notification`,message:l("notifications.error",{statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}})},Za=y("@tanstack/react-query"),Xr=O(y("react")),Mo=O(y("lodash/isEqual")),_n=Xr.default.createContext({notifications:[],notificationDispatch:()=>!1}),Is=[],Vs=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(r=>!((0,Mo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!((0,Mo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>(0,Mo.default)(r.id,t.payload.id)&&r.resource==t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},Ks=({children:e})=>{let[t,r]=(0,Xr.useReducer)(Vs,Is),o={notifications:t,notificationDispatch:r};return Xr.default.createElement(_n.Provider,{value:o},e,typeof window<"u"&&t.map(a=>Xr.default.createElement(xi,{key:`${a.id}-${a.resource}-queue`,notification:a})))},Xa=O(y("pluralize")),Yn=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,Za.useQueryClient)(),o=$e(),{mutationMode:a,undoableTimeout:i}=hr(),n=se(),u=Le(),{mutate:v}=rt({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),c=or(),{log:d}=ar(),{notificationDispatch:g}=gr(),E=ot(),p=nr();return(0,Za.useMutation)(({id:s,values:m,resource:l,mutationMode:f,undoableTimeout:b,onCancel:h,meta:x,metaData:P,dataProviderName:L})=>{let S=f!=null?f:a,C=b!=null?b:i;return S!=="undoable"?o(V(l,L,t)).update({resource:l,id:s,variables:m,meta:T(x,P),metaData:T(x,P)}):new Promise((w,B)=>{let M=()=>{o(V(l,L,t)).update({resource:l,id:s,variables:m,meta:T(x,P),metaData:T(x,P)}).then(q=>w(q)).catch(q=>B(q))},k=()=>{B({message:"mutationCancelled"})};h&&h(k),g({type:"ADD",payload:{id:s,resource:l,cancelMutation:k,doMutation:M,seconds:C,isSilent:!!h}})})},{onMutate:async({resource:s,id:m,mutationMode:l,values:f,dataProviderName:b})=>{let h=pt(s,V(s,b,t)),x=r.getQueriesData(h.resourceAll),P=l!=null?l:a;return await r.cancelQueries(h.resourceAll,void 0,{silent:!0}),P!=="pessimistic"&&(r.setQueriesData(h.list(),L=>{if(!L)return null;let S=L.data.map(C=>{var w;return((w=C.id)==null?void 0:w.toString())===(m==null?void 0:m.toString())?{id:m,...C,...f}:C});return{...L,data:S}}),r.setQueriesData(h.many(),L=>{if(!L)return null;let S=L.data.map(C=>{var w;return((w=C.id)==null?void 0:w.toString())===(m==null?void 0:m.toString())&&(C={id:m,...C,...f}),C});return{...L,data:S}}),r.setQueriesData(h.detail(m),L=>L?{...L,data:{...L.data,...f}}:null)),{previousQueries:x,queryKey:h}},onSettled:(s,m,{id:l,resource:f,dataProviderName:b,invalidates:h=["list","many","detail"]})=>{p({resource:f,dataProviderName:V(f,b,t),invalidates:h,id:l}),g({type:"REMOVE",payload:{id:l,resource:f}})},onSuccess:(s,{id:m,resource:l,successNotification:f,dataProviderName:b,values:h,meta:x,metaData:P},L)=>{var S;let C=Xa.default.singular(l),w=typeof f=="function"?f(s,{id:m,values:h},l):f;E(w,{key:`${m}-${l}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${l}.${l}`,C)},`Successfully updated ${C}`),type:"success"}),c==null||c({channel:`resources/${l}`,type:"updated",payload:{ids:(S=s.data)!=null&&S.id?[s.data.id]:void 0},date:new Date});let B;if(L){let $=r.getQueryData(L.queryKey.detail(m));B=Object.keys(h||{}).reduce((A,F)=>{var U;return A[F]=(U=$==null?void 0:$.data)==null?void 0:U[F],A},{})}let{fields:M,operation:k,variables:q,...N}=T(x,P)||{};d==null||d.mutate({action:"update",resource:l,data:h,previousData:B,meta:{id:m,dataProviderName:V(l,b,t),...N}})},onError:(s,{id:m,resource:l,errorNotification:f,values:b},h)=>{if(h)for(let x of h.previousQueries)r.setQueryData(x[0],x[1]);if(s.message!=="mutationCancelled"){v==null||v(s);let x=Xa.default.singular(l),P=typeof f=="function"?f(s,{id:m,values:b},l):f;E(P,{key:`${m}-${l}-notification`,message:n("notifications.editError",{resource:n(`${l}.${l}`,x),statusCode:s.statusCode},`Error when updating ${x} (status code: ${s.statusCode})`),description:s.message,type:"error"})}},...e})},_s=y("@tanstack/react-query"),Ja=O(y("pluralize")),Xo=({mutationOptions:e}={})=>{let t=Le(),{mutate:r}=rt({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=$e(),a=nr(),{resources:i}=ne(),n=se(),u=or(),{log:v}=ar(),c=ot();return(0,_s.useMutation)(({resource:d,values:g,meta:E,metaData:p,dataProviderName:s})=>o(V(d,s,i)).create({resource:d,variables:g,meta:T(E,p),metaData:T(E,p)}),{onSuccess:(d,{resource:g,successNotification:E,dataProviderName:p,invalidates:s=["list","many"],values:m,meta:l,metaData:f})=>{var b,h,x;let P=Ja.default.singular(g),L=typeof E=="function"?E(d,m,g):E;c(L,{key:`create-${g}-notification`,message:n("notifications.createSuccess",{resource:n(`${g}.${g}`,P)},`Successfully created ${P}`),description:n("notifications.success","Success"),type:"success"}),a({resource:g,dataProviderName:V(g,p,i),invalidates:s}),u==null||u({channel:`resources/${g}`,type:"created",payload:{ids:(b=d==null?void 0:d.data)!=null&&b.id?[d.data.id]:void 0},date:new Date});let{fields:S,operation:C,variables:w,...B}=T(l,f)||{};v==null||v.mutate({action:"create",resource:g,data:m,meta:{dataProviderName:V(g,p,i),id:(x=(h=d==null?void 0:d.data)==null?void 0:h.id)!=null?x:void 0,...B}})},onError:(d,{resource:g,errorNotification:E,values:p})=>{r(d);let s=Ja.default.singular(g),m=typeof E=="function"?E(d,p,g):E;c(m,{key:`create-${g}-notification`,description:d.message,message:n("notifications.createError",{resource:n(`${g}.${g}`,s),statusCode:d.statusCode},`There was an error creating ${s} (status code: ${d.statusCode})`),type:"error"})},...e})},en=y("@tanstack/react-query"),tn=O(y("pluralize")),Ys=({mutationOptions:e}={})=>{let t=Le(),{mutate:r}=rt({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=$e(),{resources:a}=ne(),i=(0,en.useQueryClient)(),{mutationMode:n,undoableTimeout:u}=hr(),{notificationDispatch:v}=gr(),c=se(),d=or(),{log:g}=ar(),E=ot(),p=nr();return(0,en.useMutation)(({id:s,mutationMode:m,undoableTimeout:l,resource:f,onCancel:b,meta:h,metaData:x,dataProviderName:P,values:L})=>{let S=m!=null?m:n,C=l!=null?l:u;return S!=="undoable"?o(V(f,P,a)).deleteOne({resource:f,id:s,meta:T(h,x),metaData:T(h,x),variables:L}):new Promise((w,B)=>{let M=()=>{o(V(f,P,a)).deleteOne({resource:f,id:s,meta:T(h,x),variables:L}).then(q=>w(q)).catch(q=>B(q))},k=()=>{B({message:"mutationCancelled"})};b&&b(k),v({type:"ADD",payload:{id:s,resource:f,cancelMutation:k,doMutation:M,seconds:C,isSilent:!!b}})})},{onMutate:async({id:s,resource:m,mutationMode:l,dataProviderName:f})=>{let b=pt(m,V(m,f,a)),h=l!=null?l:n;await i.cancelQueries(b.resourceAll,void 0,{silent:!0});let x=i.getQueriesData(b.resourceAll);return h!=="pessimistic"&&(i.setQueriesData(b.list(),P=>P?{data:P.data.filter(L=>{var S;return((S=L.id)==null?void 0:S.toString())!==s.toString()}),total:P.total-1}:null),i.setQueriesData(b.many(),P=>{if(!P)return null;let L=P.data.filter(S=>{var C;return((C=S.id)==null?void 0:C.toString())!==(s==null?void 0:s.toString())});return{...P,data:L}})),{previousQueries:x,queryKey:b}},onSettled:(s,m,{id:l,resource:f,dataProviderName:b,invalidates:h=["list","many"]})=>{p({resource:f,dataProviderName:V(f,b,a),invalidates:h}),v({type:"REMOVE",payload:{id:l,resource:f}})},onSuccess:(s,{id:m,resource:l,successNotification:f,dataProviderName:b,meta:h,metaData:x},P)=>{let L=tn.default.singular(l!=null?l:"");i.removeQueries(P==null?void 0:P.queryKey.detail(m));let S=typeof f=="function"?f(s,m,l):f;E(S,{key:`${m}-${l}-notification`,description:c("notifications.success","Success"),message:c("notifications.deleteSuccess",{resource:c(`${l}.${l}`,L)},`Successfully deleted a ${L}`),type:"success"}),d==null||d({channel:`resources/${l}`,type:"deleted",payload:{ids:m?[m]:[]},date:new Date});let{fields:C,operation:w,variables:B,...M}=T(h,x)||{};g==null||g.mutate({action:"delete",resource:l,meta:{id:m,dataProviderName:V(l,b,a),...M}}),i.removeQueries(P==null?void 0:P.queryKey.detail(m))},onError:(s,{id:m,resource:l,errorNotification:f},b)=>{if(b)for(let h of b.previousQueries)i.setQueryData(h[0],h[1]);if(s.message!=="mutationCancelled"){r(s);let h=tn.default.singular(l!=null?l:""),x=typeof f=="function"?f(s,m,l):f;E(x,{key:`${m}-${l}-notification`,message:c("notifications.deleteError",{resource:h,statusCode:s.statusCode},`Error (status code: ${s.statusCode})`),description:s.message,type:"error"})}},...e})},Zs=y("@tanstack/react-query"),Xs=O(y("pluralize")),Zn=({mutationOptions:e}={})=>{let t=$e(),{resources:r}=ne(),o=se(),a=or(),i=ot(),n=nr(),{log:u}=ar();return(0,Zs.useMutation)(({resource:v,values:c,meta:d,metaData:g,dataProviderName:E})=>{let p=t(V(v,E,r));return p.createMany?p.createMany({resource:v,variables:c,meta:T(d,g),metaData:T(d,g)}):ro(c.map(s=>p.create({resource:v,variables:s,meta:T(d,g),metaData:T(d,g)})))},{onSuccess:(v,{resource:c,successNotification:d,dataProviderName:g,invalidates:E=["list","many"],values:p,meta:s,metaData:m})=>{let l=Xs.default.plural(c),f=typeof d=="function"?d(v,p,c):d;i(f,{key:`createMany-${c}-notification`,message:o("notifications.createSuccess",{resource:o(`${c}.${c}`,c)},`Successfully created ${l}`),description:o("notifications.success","Success"),type:"success"}),n({resource:c,dataProviderName:V(c,g,r),invalidates:E});let b=v==null?void 0:v.data.filter(S=>(S==null?void 0:S.id)!==void 0).map(S=>S.id);a==null||a({channel:`resources/${c}`,type:"created",payload:{ids:b},date:new Date});let{fields:h,operation:x,variables:P,...L}=T(s,m)||{};u==null||u.mutate({action:"createMany",resource:c,data:p,meta:{dataProviderName:V(c,g,r),ids:b,...L}})},onError:(v,{resource:c,errorNotification:d,values:g})=>{let E=typeof d=="function"?d(v,g,c):d;i(E,{key:`createMany-${c}-notification`,description:v.message,message:o("notifications.createError",{resource:o(`${c}.${c}`,c),statusCode:v.statusCode},`There was an error creating ${c} (status code: ${v.statusCode}`),type:"error"})},...e})},rn=y("@tanstack/react-query"),on=O(y("pluralize")),Js=({mutationOptions:e}={})=>{let{resources:t}=ne(),r=(0,rn.useQueryClient)(),o=$e(),a=se(),{mutationMode:i,undoableTimeout:n}=hr(),u=Le(),{mutate:v}=rt({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),{notificationDispatch:c}=gr(),d=or(),g=ot(),E=nr(),{log:p}=ar();return(0,rn.useMutation)(({ids:s,values:m,resource:l,onCancel:f,mutationMode:b,undoableTimeout:h,meta:x,metaData:P,dataProviderName:L})=>{let S=b!=null?b:i,C=h!=null?h:n,w=o(V(l,L,t)),B=()=>w.updateMany?w.updateMany({resource:l,ids:s,variables:m,meta:T(x,P),metaData:T(x,P)}):ro(s.map(M=>w.update({resource:l,id:M,variables:m,meta:T(x,P),metaData:T(x,P)})));return S!=="undoable"?B():new Promise((M,k)=>{let q=()=>{B().then($=>M($)).catch($=>k($))},N=()=>{k({message:"mutationCancelled"})};f&&f(N),c({type:"ADD",payload:{id:s,resource:l,cancelMutation:N,doMutation:q,seconds:C,isSilent:!!f}})})},{onMutate:async({resource:s,ids:m,values:l,mutationMode:f,dataProviderName:b,meta:h,metaData:x})=>{let P=pt(s,V(s,b,t),T(h,x),T(h,x)),L=f!=null?f:i;await r.cancelQueries(P.resourceAll,void 0,{silent:!0});let S=r.getQueriesData(P.resourceAll);if(L!=="pessimistic"){r.setQueriesData(P.list(),C=>{if(!C)return null;let w=C.data.map(B=>B.id!==void 0&&m.filter(M=>M!==void 0).map(String).includes(B.id.toString())?{...B,...l}:B);return{...C,data:w}}),r.setQueriesData(P.many(),C=>{if(!C)return null;let w=C.data.map(B=>B.id!==void 0&&m.filter(M=>M!==void 0).map(String).includes(B.id.toString())?{...B,...l}:B);return{...C,data:w}});for(let C of m)r.setQueriesData(P.detail(C),w=>{if(!w)return null;let B={...w.data,...l};return{...w,data:B}})}return{previousQueries:S,queryKey:P}},onSettled:(s,m,{ids:l,resource:f,dataProviderName:b})=>{E({resource:f,invalidates:["list","many"],dataProviderName:V(f,b,t)}),l.forEach(h=>E({resource:f,invalidates:["detail"],dataProviderName:V(f,b,t),id:h})),c({type:"REMOVE",payload:{id:l,resource:f}})},onSuccess:(s,{ids:m,resource:l,meta:f,metaData:b,dataProviderName:h,successNotification:x,values:P},L)=>{let S=on.default.singular(l),C=typeof x=="function"?x(s,{ids:m,values:P},l):x;g(C,{key:`${m}-${l}-notification`,description:a("notifications.success","Successful"),message:a("notifications.editSuccess",{resource:a(`${l}.${l}`,l)},`Successfully updated ${S}`),type:"success"}),d==null||d({channel:`resources/${l}`,type:"updated",payload:{ids:m.map(String)},date:new Date});let w=[];L&&m.forEach(N=>{let $=r.getQueryData(L.queryKey.detail(N));w.push(Object.keys(P||{}).reduce((A,F)=>{var U;return A[F]=(U=$==null?void 0:$.data)==null?void 0:U[F],A},{}))});let{fields:B,operation:M,variables:k,...q}=T(f,b)||{};p==null||p.mutate({action:"updateMany",resource:l,data:P,previousData:w,meta:{ids:m,dataProviderName:V(l,h,t),...q}})},onError:(s,{ids:m,resource:l,errorNotification:f,values:b},h)=>{if(h)for(let x of h.previousQueries)r.setQueryData(x[0],x[1]);if(s.message!=="mutationCancelled"){v==null||v(s);let x=on.default.singular(l),P=typeof f=="function"?f(s,{ids:m,values:b},l):f;g(P,{key:`${m}-${l}-updateMany-error-notification`,message:a("notifications.editError",{resource:x,statusCode:s.statusCode},`Error when updating ${x} (status code: ${s.statusCode})`),description:s.message,type:"error"})}},...e})},an=y("@tanstack/react-query"),eu=O(y("pluralize")),tu=({mutationOptions:e}={})=>{let t=Le(),{mutate:r}=rt({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:o,undoableTimeout:a}=hr(),i=$e(),{notificationDispatch:n}=gr(),u=se(),v=or(),c=ot(),d=nr(),{log:g}=ar(),{resources:E}=ne(),p=(0,an.useQueryClient)();return(0,an.useMutation)(({resource:s,ids:m,mutationMode:l,undoableTimeout:f,onCancel:b,meta:h,metaData:x,dataProviderName:P,values:L})=>{let S=l!=null?l:o,C=f!=null?f:a,w=i(V(s,P,E)),B=()=>w.deleteMany?w.deleteMany({resource:s,ids:m,meta:T(h,x),metaData:T(h,x),variables:L}):ro(m.map(M=>w.deleteOne({resource:s,id:M,meta:T(h,x),metaData:T(h,x),variables:L})));return S!=="undoable"?B():new Promise((M,k)=>{let q=()=>{B().then($=>M($)).catch($=>k($))},N=()=>{k({message:"mutationCancelled"})};b&&b(N),n({type:"ADD",payload:{id:m,resource:s,cancelMutation:N,doMutation:q,seconds:C,isSilent:!!b}})})},{onMutate:async({ids:s,resource:m,mutationMode:l,dataProviderName:f})=>{let b=pt(m,V(m,f,E)),h=l!=null?l:o;await p.cancelQueries(b.resourceAll,void 0,{silent:!0});let x=p.getQueriesData(b.resourceAll);if(h!=="pessimistic"){p.setQueriesData(b.list(),P=>P?{data:P.data.filter(L=>L.id&&!s.map(String).includes(L.id.toString())),total:P.total-1}:null),p.setQueriesData(b.many(),P=>{if(!P)return null;let L=P.data.filter(S=>S.id?!s.map(String).includes(S.id.toString()):!1);return{...P,data:L}});for(let P of s)p.setQueriesData(b.detail(P),L=>!L||L.data.id==P?null:{...L})}return{previousQueries:x,queryKey:b}},onSettled:(s,m,{resource:l,ids:f,dataProviderName:b,invalidates:h=["list","many"]})=>{d({resource:l,dataProviderName:V(l,b,E),invalidates:h}),n({type:"REMOVE",payload:{id:f,resource:l}})},onSuccess:(s,{ids:m,resource:l,meta:f,metaData:b,dataProviderName:h,successNotification:x},P)=>{m.forEach(M=>p.removeQueries(P==null?void 0:P.queryKey.detail(M)));let L=typeof x=="function"?x(s,m,l):x;c(L,{key:`${m}-${l}-notification`,description:u("notifications.success","Success"),message:u("notifications.deleteSuccess",{resource:u(`${l}.${l}`,l)},`Successfully deleted ${l}`),type:"success"}),v==null||v({channel:`resources/${l}`,type:"deleted",payload:{ids:m},date:new Date});let{fields:S,operation:C,variables:w,...B}=T(f,b)||{};g==null||g.mutate({action:"deleteMany",resource:l,meta:{ids:m,dataProviderName:V(l,h,E),...B}}),m.forEach(M=>p.removeQueries(P==null?void 0:P.queryKey.detail(M)))},onError:(s,{ids:m,resource:l,errorNotification:f},b)=>{if(b)for(let h of b.previousQueries)p.setQueryData(h[0],h[1]);if(s.message!=="mutationCancelled"){r(s);let h=eu.default.singular(l),x=typeof f=="function"?f(s,m,l):f;c(x,{key:`${m}-${l}-notification`,message:u("notifications.deleteError",{resource:h,statusCode:s.statusCode},`Error (status code: ${s.statusCode})`),description:s.message,type:"error"})}},...e})},ru=e=>{let t=$e(),{getApiUrl:r}=t(e);return r()},ou=y("@tanstack/react-query"),au=({url:e,method:t,config:r,queryOptions:o,successNotification:a,errorNotification:i,meta:n,metaData:u,dataProviderName:v})=>{let c=$e(),{custom:d}=c(v),g=Le(),{mutate:E}=rt({v3LegacyAuthProviderCompatible:Boolean(g==null?void 0:g.isLegacy)}),p=se(),s=ot();if(d)return(0,ou.useQuery)([v,"custom",t,e,{...r,...T(n,u)||{}}],({queryKey:m,pageParam:l,signal:f})=>d({url:e,method:t,...r,metaData:{...T(n,u)||{},queryContext:{queryKey:m,pageParam:l,signal:f}}}),{...o,onSuccess:m=>{var l;(l=o==null?void 0:o.onSuccess)==null||l.call(o,m);let f=typeof a=="function"?a(m,{...r,...T(n,u)||{}}):a;s(f)},onError:m=>{var l;E(m),(l=o==null?void 0:o.onError)==null||l.call(o,m);let f=typeof i=="function"?i(m,{...r,...T(n,u)||{}}):i;s(f,{key:`${t}-notification`,message:p("notifications.error",{statusCode:m.statusCode},`Error (status code: ${m.statusCode})`),description:m.message,type:"error"})}});throw Error("Not implemented custom on data provider.")},nu=y("@tanstack/react-query"),iu=({mutationOptions:e}={})=>{let t=Le(),{mutate:r}=rt({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=ot(),a=$e(),i=se();return(0,nu.useMutation)(({url:n,method:u,values:v,meta:c,metaData:d,dataProviderName:g,config:E})=>{let{custom:p}=a(g);if(p)return p({url:n,method:u,payload:v,meta:T(c,d),metaData:T(c,d),headers:{...E==null?void 0:E.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(n,{successNotification:u,config:v,meta:c,metaData:d})=>{let g=typeof u=="function"?u(n,{...v,...T(c,d)||{}}):u;o(g)},onError:(n,{errorNotification:u,method:v,config:c,meta:d,metaData:g})=>{r(n);let E=typeof u=="function"?u(n,{...c,...T(d,g)||{}}):u;o(E,{key:`${v}-notification`,message:i("notifications.error",{statusCode:n.statusCode},`Error (status code: ${n.statusCode})`),description:n.message,type:"error"})},...e})},nn=y("react"),Xn=O(y("react")),lu=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Jo=Xn.default.createContext(lu()),su=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Xn.default.createElement(Jo.Provider,{value:r},e)},$e=()=>{let e=(0,nn.useContext)(Jo);return(0,nn.useCallback)(t=>{if(t){if(!e[t])throw new Error(`"${t}" Data provider not found`);return e[t]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},uu=y("@tanstack/react-query"),du=({resource:e,config:t,filters:r,hasPagination:o,pagination:a,sorters:i,queryOptions:n,successNotification:u,errorNotification:v,meta:c,metaData:d,liveMode:g,onLiveEvent:E,liveParams:p,dataProviderName:s})=>{let{resources:m}=ne(),l=$e(),f=se(),b=Le(),{mutate:h}=rt({v3LegacyAuthProviderCompatible:Boolean(b==null?void 0:b.isLegacy)}),x=ot(),P=V(e,s,m),L=T(c,d),S=T(r,t==null?void 0:t.filters),C=T(i,t==null?void 0:t.sort),w=T(o,t==null?void 0:t.hasPagination),B=Vn({pagination:a,configPagination:t==null?void 0:t.pagination,hasPagination:w}),M=B.mode==="server",k={meta:L,metaData:L,filters:S,hasPagination:M,pagination:B,sorters:C,config:{...t,sort:C}},q=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,N=pt(e,P,L,L),{getList:$}=l(P);return Dr({resource:e,types:["*"],params:{meta:L,metaData:L,pagination:B,hasPagination:M,sort:C,sorters:C,filters:S,subscriptionType:"useList",...p},channel:`resources/${e}`,enabled:q,liveMode:g,onLiveEvent:E}),(0,uu.useInfiniteQuery)(N.list({filters:S,hasPagination:M,...M&&{pagination:B},...i&&{sorters:i},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:A,pageParam:F,signal:U})=>{let R={...B,current:F};return $({resource:e,pagination:R,hasPagination:M,filters:S,sort:C,sorters:C,meta:{...L||{},queryContext:{queryKey:A,pageParam:F,signal:U}},metaData:{...L||{},queryContext:{queryKey:A,pageParam:F,signal:U}}}).then(({data:G,total:z,...Q})=>({data:G,total:z,pagination:R,...Q}))},{getNextPageParam:A=>Hn(A),getPreviousPageParam:A=>Gn(A),...n,onSuccess:A=>{var F;(F=n==null?void 0:n.onSuccess)==null||F.call(n,A);let U=typeof u=="function"?u(A,k,e):u;x(U)},onError:A=>{var F;h(A),(F=n==null?void 0:n.onError)==null||F.call(n,A);let U=typeof v=="function"?v(A,k,e):v;x(U,{key:`${e}-useInfiniteList-notification`,message:f("notifications.error",{statusCode:A.statusCode},`Error (status code: ${A.statusCode})`),description:A.message,type:"error"})}})},qo=y("react"),cu=y("@tanstack/react-query"),Jn=O(y("react")),Br=Jn.default.createContext(void 0),pu=({liveProvider:e,children:t})=>Jn.default.createElement(Br.Provider,{value:e},t),Dr=({resource:e,params:t,channel:r,types:o,enabled:a=!0,liveMode:i,onLiveEvent:n})=>{let u=(0,cu.useQueryClient)(),v=pt(e),c=(0,qo.useContext)(Br),{liveMode:d,onLiveEvent:g}=(0,qo.useContext)(jt),E=i!=null?i:d;(0,qo.useEffect)(()=>{let p;return E&&E!=="off"&&a&&(p=c==null?void 0:c.subscribe({channel:r,params:{resource:e,...t},types:o,callback:s=>{E==="auto"&&u.invalidateQueries(v.resourceAll),n==null||n(s),g==null||g(s)}})),()=>{p&&(c==null||c.unsubscribe(p))}},[a])},mu=y("react"),ei=e=>{let{liveMode:t}=(0,mu.useContext)(jt);return e!=null?e:t},ln=y("react"),fu=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:a})=>{let i=(0,ln.useContext)(Br);(0,ln.useEffect)(()=>{let n;return o&&(n=i==null?void 0:i.subscribe({channel:t,params:e,types:r,callback:a})),()=>{n&&(i==null||i.unsubscribe(n))}},[o])},vu=y("react"),or=()=>{let e=(0,vu.useContext)(Br);return e==null?void 0:e.publish},gu=y("react"),ti=O(y("react")),yu=y("react"),hu=y("react"),bu=O(y("lodash/isEqual")),xu=e=>{let t=(0,hu.useRef)(e);return(0,bu.default)(t.current,e)||(t.current=e),t.current},ri=(e,t)=>{let r=xu(t);return(0,yu.useMemo)(e,r)},Mr=ti.default.createContext({resources:[]}),Cu=({resources:e,children:t})=>{let r=ri(()=>In(e!=null?e:[]),[e]);return ti.default.createElement(Mr.Provider,{value:{resources:r}},t)},oi=O(y("react")),ai=oi.default.createContext("new"),Pu=ai.Provider,ve=()=>oi.default.useContext(ai),Eu=O(y("react")),ni=O(y("react")),ii={},qr=(0,ni.createContext)(ii),Lu=({children:e,router:t})=>ni.default.createElement(qr.Provider,{value:t!=null?t:ii},e),sn=O(y("react")),li=()=>{let e=(0,sn.useContext)(qr);return sn.default.useMemo(()=>{var t;return(t=e==null?void 0:e.parse)!=null?t:()=>()=>({})},[e==null?void 0:e.parse])()},mt=()=>{let e=li();return Eu.default.useMemo(()=>e(),[e])};function ne(e){var t,r;let{resources:o}=(0,gu.useContext)(Mr),a=ve(),i=mt(),n={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},u=oo(),{useParams:v}=We(),c=v();if(a==="legacy"){let E=n.resourceNameOrRouteName?n.resourceNameOrRouteName:c.resource,p=E?u(E):void 0,s=(t=n==null?void 0:n.recordItemId)!=null?t:c.id,m=c.action,l=(r=n==null?void 0:n.resourceName)!=null?r:p==null?void 0:p.name;return{resources:o,resource:p,resourceName:l,id:s,action:m}}let d,g=typeof e=="string"?e:n==null?void 0:n.resourceNameOrRouteName;if(g){let E=fe(g,o);E?d=E:d={name:g}}else i!=null&&i.resource&&(d=i.resource);return{resources:o,resource:d,resourceName:d==null?void 0:d.name,id:i.id,action:i.action}}var un=y("react"),oo=()=>{let{resources:e}=(0,un.useContext)(Mr);return(0,un.useCallback)(t=>fe(t,e,!0)||{name:t,route:t},[e])},Su=y("react"),gr=()=>{let{notifications:e,notificationDispatch:t}=(0,Su.useContext)(_n);return{notifications:e,notificationDispatch:t}},wu=y("react"),si=O(y("react")),ea=(0,si.createContext)({}),ku=({open:e,close:t,children:r})=>si.default.createElement(ea.Provider,{value:{open:e,close:t}},r),Ht=()=>{let{open:e,close:t}=(0,wu.useContext)(ea);return{open:e,close:t}},Tu=y("react"),ot=()=>{let{open:e}=Ht();return(0,Tu.useCallback)((t,r)=>{t!==!1&&(t?e==null||e(t):r&&(e==null||e(r)))},[])},dn=y("react"),ui=O(y("react")),yr=ui.default.createContext({}),Bu=({children:e,i18nProvider:t})=>ui.default.createElement(yr.Provider,{value:{i18nProvider:t}},e),Du=()=>{let{i18nProvider:e}=(0,dn.useContext)(yr);return(0,dn.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])},cn=y("react"),se=()=>{let{i18nProvider:e}=(0,cn.useContext)(yr);return(0,cn.useMemo)(()=>{function t(r,o,a){var i,n;return(n=(i=e==null?void 0:e.translate(r,o,a))!=null?i:a)!=null?n:typeof o=="string"&&typeof a>"u"?o:r}return t},[e])},pn=y("react"),Mu=()=>{let{i18nProvider:e}=(0,pn.useContext)(yr);return(0,pn.useCallback)(()=>e==null?void 0:e.getLocale(),[])},qu=y("react"),hr=()=>{let{mutationMode:e,undoableTimeout:t}=(0,qu.useContext)(jt);return{mutationMode:e,undoableTimeout:t}},mn=y("react"),Qo=O(y("react")),di=Qo.default.createContext({}),Au=({children:e})=>{let[t,r]=(0,Qo.useState)(!1);return Qo.default.createElement(di.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},ta=()=>{let{warnWhenUnsavedChanges:e}=(0,mn.useContext)(jt),{warnWhen:t,setWarnWhen:r}=(0,mn.useContext)(di);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}},Fu=y("react"),ci=()=>{let{syncWithLocation:e}=(0,Fu.useContext)(jt);return{syncWithLocation:e}},Ou=y("react"),Nu=()=>{let{Title:e}=(0,Ou.useContext)(jt);return e},$u=y("react"),ra=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:i,hasDashboard:n,mutationMode:u,syncWithLocation:v,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:g,LoginPage:E,catchAll:p,options:s}=(0,$u.useContext)(jt);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:a,Title:i,hasDashboard:n,mutationMode:u,syncWithLocation:v,undoableTimeout:c,warnWhenUnsavedChanges:d,DashboardPage:g,LoginPage:E,catchAll:p,options:s}},Wu=y("react"),Uu=y("export-to-csv-fix-source-map"),Ru=({resourceName:e,resource:t,sorter:r,sorters:o,filters:a,maxItemCount:i,pageSize:n=20,mapData:u=p=>p,exportOptions:v,meta:c,metaData:d,dataProviderName:g,onError:E}={})=>{var p;let[s,m]=(0,Wu.useState)(!1),l=$e(),{resource:f,resources:b}=ne(),h=`${Ko(f==null?void 0:f.name,"plural")}-${new Date().toLocaleString()}`,{getList:x}=l(V((p=f==null?void 0:f.identifier)!=null?p:f==null?void 0:f.name,g,b));return{isLoading:s,triggerExport:async()=>{var P;m(!0);let L=[],S=1,C=!0;for(;C;)try{let{data:w,total:B}=await x({resource:(P=f==null?void 0:f.name)!=null?P:"",filters:a,sort:T(o,r),sorters:T(o,r),pagination:{current:S,pageSize:n,mode:"server"},meta:T(c,d),metaData:T(c,d)});S++,L.push(...w),i&&L.length>=i&&(L=L.slice(0,i),C=!1),B===L.length&&(C=!1)}catch(w){m(!1),C=!1,E==null||E(w);return}new Uu.ExportToCsv({filename:h,useKeysAsHeaders:!0,...v}).generateCsv(L.map(u)),m(!1)}}},fn=O(y("react")),zu=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:a,redirect:i,successNotification:n,errorNotification:u,meta:v,metaData:c,mutationMode:d,liveMode:g,onLiveEvent:E,liveParams:p,undoableTimeout:s,dataProviderName:m,invalidates:l,queryOptions:f,createMutationOptions:b,updateMutationOptions:h}={})=>{let{options:x}=ra(),{resources:P}=ne(),L=ve(),{resource:S,id:C,action:w}=mt(),{useParams:B}=We(),{resource:M,action:k,id:q}=B(),N=typeof S=="string"?S:S==null?void 0:S.name,$=!e||e===(L==="legacy"?M:N)?r!=null?r:L==="legacy"?q:C:r,[A,F]=fn.default.useState($);fn.default.useEffect(()=>{$!==A&&F(r)},[r]);let U=e!=null?e:L==="legacy"?M:N,R=L==="legacy"?k:w,G=t!=null?t:R==="edit"||R==="clone"?R:"create",z=oo(),Q;if(L==="legacy")U&&(Q=z(U));else if(e){let ee=fe(e,P);ee?Q=ee:Q={name:e,route:e}}else if(typeof S=="string"){let ee=fe(S,P);ee?Q=ee:Q={name:S,route:S}}else Q=S;let{mutationMode:K}=hr(),te=d!=null?d:K,Y=G==="create",j=G==="edit",_=G==="clone",xe=zs({redirectFromProps:i,action:G,redirectOptions:x.redirect}),ce=A!==void 0&&(j||_),le=Zo({resource:Q==null?void 0:Q.name,id:A!=null?A:"",queryOptions:{enabled:ce,...f},liveMode:g,onLiveEvent:E,liveParams:p,meta:T(v,c),metaData:T(v,c),dataProviderName:m}),{isFetching:Ze}=le,Xe=Xo({mutationOptions:b}),{mutate:Dt,isLoading:Ne}=Xe,Zt=Yn({mutationOptions:h}),{mutate:Et,isLoading:Sr}=Zt,{setWarnWhen:Mt}=ta(),yt=pi();return{...Y||_?{formLoading:Ze||Ne,mutationResult:Xe,onFinish:async ee=>{Mt(!1);let Me=de=>{yt({redirect:xe,resource:Q,id:de,meta:c})};return te!=="pessimistic"&&setTimeout(()=>{Me()}),new Promise((de,Pe)=>{if(te!=="pessimistic"&&de(),!!Q)return Dt({values:ee,resource:Q.name,successNotification:n,errorNotification:u,meta:T(v,c),metaData:T(v,c),dataProviderName:m,invalidates:l},{onSuccess:(Ae,st,Fe)=>{var qt;o&&o(Ae,ee,Fe);let Xt=(qt=Ae==null?void 0:Ae.data)==null?void 0:qt.id;Me(Xt),de(Ae)},onError:(Ae,st,Fe)=>{if(a)return a(Ae,ee,Fe);Pe()}})})}}:{formLoading:Ze||Sr,mutationResult:Zt,onFinish:async ee=>{if(Mt(!1),!Q)return;let Me={id:A!=null?A:"",values:ee,resource:Q.name,mutationMode:te,undoableTimeout:s,successNotification:n,errorNotification:u,meta:T(v,c),metaData:T(v,c),dataProviderName:m,invalidates:l},de=()=>{F($),yt({redirect:xe,resource:Q,id:A,meta:c})};return te!=="pessimistic"&&setTimeout(()=>{de()}),new Promise((Pe,Ae)=>(te!=="pessimistic"&&Pe(),setTimeout(()=>{Et(Me,{onSuccess:(st,Fe,qt)=>{o&&o(st,ee,qt),te==="pessimistic"&&de(),Pe(st)},onError:(st,Fe,qt)=>{if(a)return a(st,ee,qt);Ae()}})})))}},queryResult:le,id:A,setId:F,redirect:(ee,Me)=>{yt({redirect:ee!==void 0?ee:j?"list":"edit",resource:Q,id:Me!=null?Me:A,meta:c})}}},Qu=y("react"),pi=()=>{let{show:e,edit:t,list:r,create:o}=vt();return(0,Qu.useCallback)(({redirect:a,resource:i,id:n,meta:u={}})=>{if(a&&i)return!!i.show&&a==="show"&&n?e(i,n,void 0,u):!!i.edit&&a==="edit"&&n?t(i,n,void 0,u):!!i.create&&a==="create"?o(i,void 0,u):r(i,"push",u)},[])},vn=O(y("react")),ft=()=>{let e=(0,vn.useContext)(qr);return vn.default.useMemo(()=>{var t;return(t=e==null?void 0:e.go)!=null?t:()=>()=>{}},[e==null?void 0:e.go])()},gn=O(y("react")),mi=()=>{let e=(0,gn.useContext)(qr);return gn.default.useMemo(()=>{var t;return(t=e==null?void 0:e.back)!=null?t:()=>()=>{}},[e==null?void 0:e.back])()},vt=()=>{let{resources:e}=ne(),t=ve(),{useHistory:r}=We(),o=r(),a=mt(),i=ft(),n=mi(),u=(p,s="push")=>{t==="legacy"?o[s](p):i({to:p,type:s})},v=(p,s={})=>{var m,l,f;if(t==="legacy"){let b=typeof p=="string"?(m=fe(p,e,!0))!=null?m:{name:p,route:p}:p,h=tt(b,e,!0).find(x=>x.action==="create");return h?dt(h.route,a,s):""}else{let b=typeof p=="string"?(l=fe(p,e))!=null?l:{name:p}:p,h=(f=tt(b,e).find(x=>x.action==="create"))==null?void 0:f.route;return h?i({to:dt(h,a,s),type:"path"}):""}},c=(p,s,m={})=>{var l,f,b;let h=encodeURIComponent(s);if(t==="legacy"){let x=typeof p=="string"?(l=fe(p,e,!0))!=null?l:{name:p,route:p}:p,P=tt(x,e,!0).find(L=>L.action==="edit");return P?dt(P.route,a,{...m,id:h}):""}else{let x=typeof p=="string"?(f=fe(p,e))!=null?f:{name:p}:p,P=(b=tt(x,e).find(L=>L.action==="edit"))==null?void 0:b.route;return P?i({to:dt(P,a,{...m,id:h}),type:"path"}):""}},d=(p,s,m={})=>{var l,f,b;let h=encodeURIComponent(s);if(t==="legacy"){let x=typeof p=="string"?(l=fe(p,e,!0))!=null?l:{name:p,route:p}:p,P=tt(x,e,!0).find(L=>L.action==="clone");return P?dt(P.route,a,{...m,id:h}):""}else{let x=typeof p=="string"?(f=fe(p,e))!=null?f:{name:p}:p,P=(b=tt(x,e).find(L=>L.action==="clone"))==null?void 0:b.route;return P?i({to:dt(P,a,{...m,id:h}),type:"path"}):""}},g=(p,s,m={})=>{var l,f,b;let h=encodeURIComponent(s);if(t==="legacy"){let x=typeof p=="string"?(l=fe(p,e,!0))!=null?l:{name:p,route:p}:p,P=tt(x,e,!0).find(L=>L.action==="show");return P?dt(P.route,a,{...m,id:h}):""}else{let x=typeof p=="string"?(f=fe(p,e))!=null?f:{name:p}:p,P=(b=tt(x,e).find(L=>L.action==="show"))==null?void 0:b.route;return P?i({to:dt(P,a,{...m,id:h}),type:"path"}):""}},E=(p,s={})=>{var m,l,f;if(t==="legacy"){let b=typeof p=="string"?(m=fe(p,e,!0))!=null?m:{name:p,route:p}:p,h=tt(b,e,!0).find(x=>x.action==="list");return h?dt(h.route,a,s):""}else{let b=typeof p=="string"?(l=fe(p,e))!=null?l:{name:p}:p,h=(f=tt(b,e).find(x=>x.action==="list"))==null?void 0:f.route;return h?i({to:dt(h,a,s),type:"path"}):""}};return{create:(p,s="push",m={})=>{u(v(p,m),s)},createUrl:v,edit:(p,s,m="push",l={})=>{u(c(p,s,l),m)},editUrl:c,clone:(p,s,m="push",l={})=>{u(d(p,s,l),m)},cloneUrl:d,show:(p,s,m="push",l={})=>{u(g(p,s,l),m)},showUrl:g,list:(p,s="push",m={})=>{u(E(p,m),s)},listUrl:E,push:(p,...s)=>{t==="legacy"?o.push(p,...s):i({to:p,type:"push"})},replace:(p,...s)=>{t==="legacy"?o.replace(p,...s):i({to:p,type:"replace"})},goBack:()=>{t==="legacy"?o.goBack():n()}}},yn=O(y("react")),ju=({resource:e,id:t,successNotification:r,errorNotification:o,meta:a,metaData:i,liveMode:n,onLiveEvent:u,dataProviderName:v,queryOptions:c}={})=>{let d=ve(),{resources:g}=ne(),{useParams:E}=We(),{resource:p,id:s}=mt(),{resource:m,id:l}=E(),f=p==null?void 0:p.name,b=!e||e===(d==="legacy"?m:f)?t!=null?t:d==="legacy"?l:s:t,[h,x]=(0,yn.useState)(b);yn.default.useEffect(()=>{b!==h&&x(b)},[b]);let P=e!=null?e:d==="legacy"?m:f,L,S=oo();if(d==="legacy")P&&(L=S(P));else if(e){let C=fe(e,g);C?L=C:L={name:e,route:e}}else if(typeof p=="string"){let C=fe(p,g);C?L=C:L={name:p,route:p}}else L=p;return{queryResult:Zo({resource:L==null?void 0:L.name,id:h!=null?h:"",queryOptions:{enabled:h!==void 0,...c},successNotification:r,errorNotification:o,meta:T(a,i),metaData:T(a,i),liveMode:n,onLiveEvent:u,dataProviderName:v}),showId:h,setShowId:x}},Vr=y("react"),Hu=y("papaparse"),Gu=O(y("lodash/chunk")),Iu=({resourceName:e,resource:t,mapData:r=d=>d,paparseOptions:o,batchSize:a=Number.MAX_SAFE_INTEGER,onFinish:i,meta:n,metaData:u,onProgress:v,dataProviderName:c}={})=>{let[d,g]=(0,Vr.useState)(0),[E,p]=(0,Vr.useState)(0),[s,m]=(0,Vr.useState)(!1),{resource:l}=ne(t!=null?t:e),f=Zn(),b=Xo(),h;a===1?h=b:h=f;let x=()=>{p(0),g(0),m(!1)},P=S=>{let C={succeeded:S.filter(w=>w.type==="success"),errored:S.filter(w=>w.type==="error")};i==null||i(C),m(!1)};(0,Vr.useEffect)(()=>{v==null||v({totalAmount:E,processedAmount:d})},[E,d]);let L=({file:S})=>(x(),new Promise(C=>{m(!0),(0,Hu.parse)(S,{complete:async({data:w})=>{let B=On(w,r);if(p(B.length),a===1){let M=B.map(q=>async()=>{var N;return{response:await b.mutateAsync({resource:(N=l==null?void 0:l.name)!=null?N:"",values:q,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T(n,u),metaData:T(n,u)}),value:q}}),k=await Ya(M,({response:q,value:N})=>(g($=>$+1),{response:[q.data],type:"success",request:[N]}),(q,N)=>({response:[q],type:"error",request:[B[N]]}));C(k)}else{let M=(0,Gu.default)(B,a),k=M.map(N=>async()=>{var $;return{response:await f.mutateAsync({resource:($=l==null?void 0:l.name)!=null?$:"",values:N,successNotification:!1,errorNotification:!1,dataProviderName:c,meta:T(n,u),metaData:T(n,u)}),value:N,currentBatchLength:N.length}}),q=await Ya(k,({response:N,currentBatchLength:$,value:A})=>(g(F=>F+$),{response:N.data,type:"success",request:A}),(N,$)=>({response:[N],type:"error",request:M[$]}));C(q)}},...o})}).then(C=>(P(C),C)));return{inputProps:{type:"file",accept:".csv",onChange:S=>{S.target.files&&S.target.files.length>0&&L({file:S.target.files[0]})}},mutationResult:h,isLoading:s,handleChange:L}},Ao=y("react"),Vu=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Ao.useState)(e),o=(0,Ao.useCallback)(()=>r(!0),[t]),a=(0,Ao.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:a}},Ku=O(y("react")),oa=()=>{let e=ve(),{resource:t,resources:r}=ne(),o=mt();return Ku.default.useCallback(({resource:a,action:i,meta:n})=>{var u;let v=a||t;if(!v)return;let c=(u=tt(v,r,e==="legacy").find(d=>d.action===i))==null?void 0:u.route;return c?dt(c,o,n):void 0},[r,t,o])},_u=({resource:e,action:t,meta:r,legacy:o})=>oa()({resource:e,action:t,meta:r,legacy:o}),hn=O(y("react")),ao=()=>{let e=(0,hn.useContext)(qr);return e!=null&&e.Link?e.Link:({to:t,...r})=>hn.default.createElement("a",{href:t,...r})},Yu=y("react"),fi=O(y("react")),zt={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Zu=fi.default.createContext(zt),aa=Zu,Xu=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n})=>fi.default.createElement(aa.Provider,{value:{useHistory:t!=null?t:zt.useHistory,useLocation:r!=null?r:zt.useLocation,useParams:o!=null?o:zt.useParams,Prompt:a!=null?a:zt.Prompt,Link:i!=null?i:zt.Link,routes:n!=null?n:zt.routes}},e),We=()=>{let e=(0,Yu.useContext)(aa),{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n}=e!=null?e:zt;return{useHistory:t,useLocation:r,useParams:o,Prompt:a,Link:i,routes:n}},Ju=y("react"),ed=y("@tanstack/react-query"),vi=O(y("react")),no=vi.default.createContext({}),td=({can:e,children:t})=>vi.default.createElement(no.Provider,{value:{can:e}},t),rd=e=>{let{icon:t,list:r,edit:o,create:a,show:i,clone:n,children:u,meta:v,options:c,...d}=e,{icon:g,...E}=v!=null?v:{},{icon:p,...s}=c!=null?c:{};return{...d,...v?{meta:E}:{},...c?{options:s}:{}}},gi=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:a}=(0,Ju.useContext)(no),{resource:i,...n}=r!=null?r:{},u=rd(i!=null?i:{}),v=(0,ed.useQuery)(["useCan",{action:e,resource:t,params:{...n,resource:u},enabled:o==null?void 0:o.enabled}],()=>{var c;return(c=a==null?void 0:a({action:e,resource:t,params:r}))!=null?c:Promise.resolve({can:!0})},{enabled:typeof a<"u",...o,retry:!1});return typeof a>"u"?{data:{can:!0}}:v},od=y("react"),ad=()=>{let{can:e}=(0,od.useContext)(no);return{can:e}},dr=y("react"),nd=O(y("lodash/uniqBy")),id=O(y("lodash/debounce")),Kr=O(y("lodash/get")),ld=e=>{var t,r,o;let[a,i]=(0,dr.useState)([]),[n,u]=(0,dr.useState)([]),[v,c]=(0,dr.useState)([]),{resource:d,sort:g,sorters:E,filters:p=[],optionLabel:s="title",optionValue:m="id",debounce:l=300,successNotification:f,errorNotification:b,defaultValueQueryOptions:h,queryOptions:x,fetchSize:P,pagination:L,hasPagination:S=!1,liveMode:C,defaultValue:w=[],onLiveEvent:B,onSearch:M,liveParams:k,meta:q,metaData:N,dataProviderName:$}=e,{resources:A}=ne(),F=fe(d,A),U=(t=F==null?void 0:F.name)!=null?t:d,R=Array.isArray(w)?w:[w],G=(0,dr.useCallback)(j=>{c(j.data.map(_=>({label:(0,Kr.default)(_,s),value:(0,Kr.default)(_,m)})))},[s,m]),z=h!=null?h:x,Q=Kn({resource:U,ids:R,queryOptions:{...z,enabled:R.length>0&&((r=h==null?void 0:h.enabled)!=null?r:!0),onSuccess:j=>{var _;G(j),(_=z==null?void 0:z.onSuccess)==null||_.call(z,j)}},meta:T(q,N),metaData:T(q,N),liveMode:"off",dataProviderName:$}),K=(0,dr.useCallback)(j=>{u(j.data.map(_=>({label:(0,Kr.default)(_,s),value:(0,Kr.default)(_,m)})))},[s,m]),te=Yo({resource:U,sorters:T(E,g),filters:p.concat(a),pagination:{current:L==null?void 0:L.current,pageSize:(o=L==null?void 0:L.pageSize)!=null?o:P,mode:L==null?void 0:L.mode},hasPagination:S,queryOptions:{...x,onSuccess:j=>{var _;K(j),(_=x==null?void 0:x.onSuccess)==null||_.call(x,j)}},successNotification:f,errorNotification:b,meta:T(q,N),metaData:T(q,N),liveMode:C,liveParams:k,onLiveEvent:B,dataProviderName:$}),Y=j=>{if(M){i(M(j));return}if(j)i([{field:s,operator:"contains",value:j}]);else{i([]);return}};return{queryResult:te,defaultValueQueryResult:Q,options:(0,dr.useMemo)(()=>(0,nd.default)([...n,...v],"value"),[n,v]),onSearch:(0,id.default)(Y,l)}},tr=O(y("react")),bn=O(y("qs")),_r=O(y("lodash/differenceWith")),Yr=O(y("lodash/isEqual")),sd=O(y("warn-once")),xn=[],Cn=[];function ud({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:a,permanentSorter:i=Cn,defaultSetFilterBehavior:n,initialFilter:u,permanentFilter:v=xn,filters:c,sorters:d,syncWithLocation:g,resource:E,successNotification:p,errorNotification:s,queryOptions:m,liveMode:l,onLiveEvent:f,liveParams:b,meta:h,metaData:x,dataProviderName:P}={}){var L,S,C,w,B,M,k,q,N,$;let{syncWithLocation:A}=ci(),F=g!=null?g:A,U=ei(l),R=ve(),{useLocation:G}=We(),{search:z,pathname:Q}=G(),K=mt(),te=r===!1?"off":"server",Y=((L=o==null?void 0:o.mode)!=null?L:te)!=="off",j=T(o==null?void 0:o.current,e),_=T(o==null?void 0:o.pageSize,t),xe=T(h,x),{parsedCurrent:ce,parsedPageSize:le,parsedSorter:Ze,parsedFilters:Xe}=Vo(z!=null?z:"?"),Dt=T(c==null?void 0:c.initial,u),Ne=(S=T(c==null?void 0:c.permanent,v))!=null?S:xn,Zt=T(d==null?void 0:d.initial,a),Et=(C=T(d==null?void 0:d.permanent,i))!=null?C:Cn,Sr=(w=T(c==null?void 0:c.defaultBehavior,n))!=null?w:"merge",Mt,yt,ee,Me;F?(Mt=((B=K==null?void 0:K.params)==null?void 0:B.current)||ce||j||1,yt=((M=K==null?void 0:K.params)==null?void 0:M.pageSize)||le||_||10,ee=((k=K==null?void 0:K.params)==null?void 0:k.sorters)||(Ze.length?Ze:Zt),Me=((q=K==null?void 0:K.params)==null?void 0:q.filters)||(Xe.length?Xe:Dt)):(Mt=j||1,yt=_||10,ee=Zt,Me=Dt);let{replace:de}=vt(),Pe=ft(),{resource:Ae}=ne(E),st=Ae==null?void 0:Ae.name;tr.default.useEffect(()=>{(0,sd.default)(typeof st>"u","useTable: `resource` is not defined.")},[st]);let[Fe,qt]=(0,tr.useState)(zo(Et,ee!=null?ee:[])),[Xt,jr]=(0,tr.useState)(Ro(Ne,Me!=null?Me:[])),[wr,Aa]=(0,tr.useState)(Mt),[Jt,Fa]=(0,tr.useState)(yt),Kl=({pagination:{current:pe,pageSize:ut},sorter:Hr,filters:Gr})=>{var Ir;if(R==="new")return(Ir=Pe({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...Y?{current:pe,pageSize:ut}:{},sorters:Hr,filters:Gr,...Oa()}}))!=null?Ir:"";{let kr=bn.default.parse(z==null?void 0:z.substring(1)),Wa=Wo({pagination:{pageSize:ut,current:pe},sorters:Fe!=null?Fe:Hr,filters:Gr,...kr});return`${Q!=null?Q:""}?${Wa!=null?Wa:""}`}};(0,tr.useEffect)(()=>{z===""&&(Aa(Mt),Fa(yt),qt(zo(Et,ee!=null?ee:[])),jr(Ro(Ne,Me!=null?Me:[])))},[z]);let Oa=()=>{var pe;if(R==="new"){let{sorters:ut,filters:Hr,pageSize:Gr,current:Ir,...kr}=(pe=K==null?void 0:K.params)!=null?pe:{};return kr}else{let{sorter:ut,filters:Hr,pageSize:Gr,current:Ir,...kr}=bn.default.parse(z,{ignoreQueryPrefix:!0});return kr}};(0,tr.useEffect)(()=>{if(F){let pe=Oa();if(R==="new")Pe({type:"replace",options:{keepQuery:!0},query:{...Y?{pageSize:Jt,current:wr}:{},sorters:(0,_r.default)(Fe,Et,Yr.default),filters:(0,_r.default)(Xt,Ne,Yr.default)}});else{let ut=Wo({...Y?{pagination:{pageSize:Jt,current:wr}}:{},sorters:(0,_r.default)(Fe,Et,Yr.default),filters:(0,_r.default)(Xt,Ne,Yr.default),...pe});return de==null?void 0:de(`${Q}?${ut}`,void 0,{shallow:!0})}}},[F,wr,Jt,Fe,Xt]);let Na=Yo({resource:st,hasPagination:r,pagination:{current:wr,pageSize:Jt,mode:o==null?void 0:o.mode},filters:Tr(Ne,Xt),sorters:Uo(Et,Fe),queryOptions:m,successNotification:p,errorNotification:s,meta:xe,metaData:xe,liveMode:U,liveParams:b,onLiveEvent:f,dataProviderName:P}),_l=pe=>{jr(ut=>Tr(Ne,pe,ut))},Yl=pe=>{jr(Tr(Ne,pe))},Zl=pe=>{jr(ut=>Tr(Ne,pe(ut)))},Xl=(pe,ut=Sr)=>{typeof pe=="function"?Zl(pe):ut==="replace"?Yl(pe):_l(pe)},$a=pe=>{qt(()=>Uo(Et,pe))};return{tableQueryResult:Na,sorters:Fe,setSorters:$a,sorter:Fe,setSorter:$a,filters:Xt,setFilters:Xl,current:wr,setCurrent:Aa,pageSize:Jt,setPageSize:Fa,pageCount:Jt?Math.ceil((($=(N=Na.data)==null?void 0:N.total)!=null?$:0)/Jt):1,createLinkForSyncWithLocation:Kl}}var Pn=y("react"),Fo=y("@tanstack/react-query"),yi=O(y("react")),io=yi.default.createContext({}),dd=({create:e,get:t,update:r,children:o})=>yi.default.createElement(io.Provider,{value:{create:e,get:t,update:r}},o),ar=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Fo.useQueryClient)(),o=(0,Pn.useContext)(io),a=Le(),{resources:i}=(0,Pn.useContext)(Mr),{data:n,refetch:u,isLoading:v}=Dn({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy),queryOptions:{enabled:!!o}}),c=(0,Fo.useMutation)(async g=>{var E,p,s,m,l;let f=fe(g.resource,i),b=T((E=f==null?void 0:f.meta)==null?void 0:E.audit,(p=f==null?void 0:f.options)==null?void 0:p.audit,(m=(s=f==null?void 0:f.options)==null?void 0:s.auditLog)==null?void 0:m.permissions);if(b&&!Ms(b,g.action))return;let h;return v&&(h=await u()),await((l=o.create)==null?void 0:l.call(o,{...g,author:n!=null?n:h==null?void 0:h.data}))},e),d=(0,Fo.useMutation)(async g=>{var E;return await((E=o.update)==null?void 0:E.call(o,g))},{onSuccess:g=>{if(g!=null&&g.resource){let E=pt(g==null?void 0:g.resource);r.invalidateQueries(E.logList())}},...t});return{log:c,rename:d}},cd=y("react"),pd=y("@tanstack/react-query"),md=({resource:e,action:t,meta:r,author:o,metaData:a,queryOptions:i})=>{let{get:n}=(0,cd.useContext)(io),u=pt(e,void 0,a);return(0,pd.useQuery)(u.logList(r),()=>{var v;return(v=n==null?void 0:n({resource:e,action:t,author:o,meta:r,metaData:a}))!=null?v:Promise.resolve([])},{enabled:typeof n<"u",...i,retry:!1})},fd=y("react"),vd=y("@tanstack/react-query"),nr=()=>{let{resources:e}=ne(),t=(0,vd.useQueryClient)();return(0,fd.useCallback)(({resource:r,dataProviderName:o,invalidates:a,id:i})=>{if(a===!1)return;let n=pt(r,V(r,o,e));a.forEach(u=>{switch(u){case"all":t.invalidateQueries(n.all);break;case"list":t.invalidateQueries(n.list());break;case"many":t.invalidateQueries(n.many());break;case"resourceAll":t.invalidateQueries(n.resourceAll);break;case"detail":t.invalidateQueries(n.detail(i||""));break;default:break}})},[])},gd=y("react"),yd=O(y("warn-once")),hd=({meta:e={}}={})=>{let t=ve(),{i18nProvider:r}=(0,gd.useContext)(yr),o=mt(),a=se(),{resources:i,resource:n,action:u}=ne(),v=[];if(!(n!=null&&n.name))return{breadcrumbs:v};let c=d=>{var g,E,p,s,m,l,f,b;let h=typeof d=="string"?(g=fe(d,i,t==="legacy"))!=null?g:{name:d}:d;if(h){let x=T((E=h==null?void 0:h.meta)==null?void 0:E.parent,h==null?void 0:h.parentName);x&&c(x);let P=tt(h,i,t==="legacy").find(C=>C.action==="list"),L=(p=P==null?void 0:P.resource)!=null&&p.list?P==null?void 0:P.route:void 0,S=L?t==="legacy"?L:dt(L,o,e):void 0;v.push({label:(l=T((s=h.meta)==null?void 0:s.label,(m=h.options)==null?void 0:m.label))!=null?l:a(`${h.name}.${h.name}`,Zr(h.name)),href:S,icon:T((f=h.meta)==null?void 0:f.icon,(b=h.options)==null?void 0:b.icon,h.icon)})}};if(c(n),u&&u!=="list"){let d=`actions.${u}`,g=a(d);typeof r<"u"&&g===d?((0,yd.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${u}" action. Please add "actions.${u}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),v.push({label:a(`buttons.${u}`,Zr(u))})):v.push({label:a(d,Zr(u))})}return{breadcrumbs:v}},Oo=O(y("react")),Jr=(e,t,r=!1)=>{let o=[],a=Qt(e,t);for(;a;)o.push(a),a=Qt(a,t);return o.reverse(),`/${[...o,e].map(i=>{var n,u;return Ot((u=(n=r?i.route:void 0)!=null?n:i.identifier)!=null?u:i.name)}).join("/").replace(/^\//,"")}`},bd=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(a=>{var i,n;let u=[],v=Qt(a,e);for(;v;)u.push(v),v=Qt(v,e);u.reverse();let c=r;u.forEach(g=>{var E,p;let s=(p=(E=t?g.route:void 0)!=null?E:g.identifier)!=null?p:g.name;c.children[s]||(c.children[s]={item:g,children:{}}),c=c.children[s]});let d=(n=(i=t?a.route:void 0)!=null?i:a.identifier)!=null?n:a.name;c.children[d]||(c.children[d]={item:a,children:{}})});let o=a=>{let i=[];return Object.keys(a.children).forEach(n=>{let u=Jr(a.children[n].item,e,t),v={...a.children[n].item,key:u,children:o(a.children[n])};i.push(v)}),i};return o(r)},En=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),xd=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=se(),o=oa(),a=ve(),{resource:i,resources:n}=ne(),{pathname:u}=mt(),{useLocation:v}=We(),{pathname:c}=v(),d=a==="legacy"?En(c):u?En(u):void 0,g=`/${(d!=null?d:"").replace(/^\//,"")}`,E=i?Jr(i,n,a==="legacy"):g!=null?g:"",p=Oo.default.useMemo(()=>{if(!i)return[];let l=Qt(i,n),f=[Jr(i,n)];for(;l;)f.push(Jr(l,n)),l=Qt(l,n);return f},[]),s=Oo.default.useCallback(l=>{var f,b,h,x,P,L,S,C;if(((h=(f=l==null?void 0:l.meta)==null?void 0:f.hide)!=null?h:(b=l==null?void 0:l.options)==null?void 0:b.hide)||!(l!=null&&l.list)&&l.children.length===0)return;let w=l.list?o({resource:l,action:"list",legacy:a==="legacy",meta:e}):void 0;if(!(t&&w&&w.match(/(\/|^):(.+?)(\/|$){1}/)))return{...l,route:w,icon:T((x=l.meta)==null?void 0:x.icon,(P=l.options)==null?void 0:P.icon,l.icon),label:(C=T((L=l==null?void 0:l.meta)==null?void 0:L.label,(S=l==null?void 0:l.options)==null?void 0:S.label))!=null?C:r(`${l.name}.${l.name}`,Ko(l.name,"plural"))}},[a,e,r,t]),m=Oo.default.useMemo(()=>{let l=bd(n,a==="legacy"),f=b=>b.flatMap(h=>{let x=f(h.children),P=s({...h,children:x});return P?[P]:[]});return f(l)},[n,a,s]);return{defaultOpenKeys:p,selectedKey:E,menuItems:m}},Cd=()=>{let[e,t]=(0,er.useState)(),r=se(),{push:o}=vt(),a=ft(),i=ve(),{resource:n,action:u}=ne();return(0,er.useEffect)(()=>{n&&u&&t(r("pages.error.info",{action:u,resource:n==null?void 0:n.name},`You may have forgotten to add the "${u}" component to "${n==null?void 0:n.name}" resource.`))},[n,u]),er.default.createElement(er.default.Fragment,null,er.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&er.default.createElement("p",null,e),er.default.createElement("button",{onClick:()=>{i==="legacy"?o("/"):a({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},Ee=O(y("react")),hi=()=>{let[e,t]=(0,Ee.useState)(""),[r,o]=(0,Ee.useState)(""),a=se(),i=Le(),{mutate:n}=Ho({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)});return Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("h1",null,a("pages.login.title","Sign in your account")),Ee.default.createElement("form",{onSubmit:u=>{u.preventDefault(),n({username:e,password:r})}},Ee.default.createElement("table",null,Ee.default.createElement("tbody",null,Ee.default.createElement("tr",null,Ee.default.createElement("td",null,a("pages.login.username",void 0,"username"),":"),Ee.default.createElement("td",null,Ee.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:u=>t(u.target.value)}))),Ee.default.createElement("tr",null,Ee.default.createElement("td",null,a("pages.login.password",void 0,"password"),":"),Ee.default.createElement("td",null,Ee.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:u=>o(u.target.value)}))))),Ee.default.createElement("br",null),Ee.default.createElement("input",{type:"submit",value:"login"})))},cr=O(y("react")),oe=O(y("react")),Pd=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:i,renderContent:n,formProps:u})=>{let v=ve(),c=ao(),{Link:d}=We(),g=v==="legacy"?d:c,[E,p]=(0,oe.useState)(""),[s,m]=(0,oe.useState)(""),[l,f]=(0,oe.useState)(!1),b=se(),h=Le(),{mutate:x}=Ho({v3LegacyAuthProviderCompatible:Boolean(h==null?void 0:h.isLegacy)}),P=(C,w)=>C?typeof C=="string"?oe.default.createElement(g,{to:C},w):C:null,L=()=>e?e.map(C=>{var w;return oe.default.createElement("div",{key:C.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},oe.default.createElement("button",{onClick:()=>x({providerName:C.name}),style:{display:"flex",alignItems:"center"}},C==null?void 0:C.icon,(w=C.label)!=null?w:oe.default.createElement("label",null,C.label)))}):null,S=oe.default.createElement("div",{...a},oe.default.createElement("h1",{style:{textAlign:"center"}},b("pages.login.title","Sign in to your account")),L(),oe.default.createElement("hr",null),oe.default.createElement("form",{onSubmit:C=>{C.preventDefault(),x({email:E,password:s,remember:l})},...u},oe.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},oe.default.createElement("label",null,b("pages.login.fields.email","Email")),oe.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:E,onChange:C=>p(C.target.value)}),oe.default.createElement("label",null,b("pages.login.fields.password","Password")),oe.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:s,onChange:C=>m(C.target.value)}),o!=null?o:oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("label",null,b("pages.login.buttons.rememberMe","Remember me"),oe.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:l,value:l.toString(),onChange:()=>{f(!l)}}))),oe.default.createElement("br",null),r!=null?r:P("/forgot-password",b("pages.login.buttons.forgotPassword","Forgot password?")),oe.default.createElement("input",{type:"submit",value:b("pages.login.signin","Sign in")}),t!=null?t:oe.default.createElement("span",null,b("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",P("/register",b("pages.login.register","Sign up"))))));return oe.default.createElement("div",{...i},n?n(S):S)},me=O(y("react")),Ed=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:a,formProps:i})=>{let n=ve(),u=ao(),{Link:v}=We(),c=n==="legacy"?v:u,[d,g]=(0,me.useState)(""),[E,p]=(0,me.useState)(""),s=se(),m=Le(),{mutate:l,isLoading:f}=Mn({v3LegacyAuthProviderCompatible:Boolean(m==null?void 0:m.isLegacy)}),b=(P,L)=>P?typeof P=="string"?me.default.createElement(c,{to:P},L):P:null,h=()=>e?e.map(P=>{var L;return me.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},me.default.createElement("button",{onClick:()=>l({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(L=P.label)!=null?L:me.default.createElement("label",null,P.label)))}):null,x=me.default.createElement("div",{...o},me.default.createElement("h1",{style:{textAlign:"center"}},s("pages.register.title","Sign up for your account")),h(),me.default.createElement("hr",null),me.default.createElement("form",{onSubmit:P=>{P.preventDefault(),l({email:d,password:E})},...i},me.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},me.default.createElement("label",null,s("pages.register.fields.email","Email")),me.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:P=>g(P.target.value)}),me.default.createElement("label",null,s("pages.register.fields.password","Password")),me.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:E,onChange:P=>p(P.target.value)}),me.default.createElement("input",{type:"submit",value:s("pages.register.buttons.submit","Sign up"),disabled:f}),t!=null?t:me.default.createElement(me.default.Fragment,null,me.default.createElement("span",null,s("pages.login.buttons.haveAccount","Have an account?")," ",b("/login",s("pages.login.signin","Sign in")))))));return me.default.createElement("div",{...r},a?a(x):x)},Je=O(y("react")),Ld=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a})=>{let i=se(),n=ve(),u=ao(),{Link:v}=We(),c=n==="legacy"?v:u,[d,g]=(0,Je.useState)(""),{mutate:E,isLoading:p}=qn(),s=(l,f)=>l?typeof l=="string"?Je.default.createElement(c,{to:l},f):l:null,m=Je.default.createElement("div",{...r},Je.default.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),Je.default.createElement("hr",null),Je.default.createElement("form",{onSubmit:l=>{l.preventDefault(),E({email:d})},...a},Je.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Je.default.createElement("label",null,i("pages.forgotPassword.fields.email","Email")),Je.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:l=>g(l.target.value)}),Je.default.createElement("input",{type:"submit",disabled:p,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),Je.default.createElement("br",null),e!=null?e:Je.default.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",s("/login",i("pages.login.signin","Sign in"))))));return Je.default.createElement("div",{...t},o?o(m):m)},et=O(y("react")),Sd=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o})=>{let a=se(),i=Le(),{mutate:n,isLoading:u}=An({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),[v,c]=(0,et.useState)(""),[d,g]=(0,et.useState)(""),E=et.default.createElement("div",{...t},et.default.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),et.default.createElement("hr",null),et.default.createElement("form",{onSubmit:p=>{p.preventDefault(),n({password:v,confirmPassword:d})},...o},et.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},et.default.createElement("label",null,a("pages.updatePassword.fields.password","New Password")),et.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:v,onChange:p=>c(p.target.value)}),et.default.createElement("label",null,a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),et.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:d,onChange:p=>g(p.target.value)}),et.default.createElement("input",{type:"submit",disabled:u,value:a("pages.updatePassword.buttons.submit","Update")}))));return et.default.createElement("div",{...e},r?r(E):E)},wd=e=>{let{type:t}=e;return cr.default.createElement(cr.default.Fragment,null,(()=>{switch(t){case"register":return cr.default.createElement(Ed,{...e});case"forgotPassword":return cr.default.createElement(Ld,{...e});case"updatePassword":return cr.default.createElement(Sd,{...e});default:return cr.default.createElement(Pd,{...e})}})())},Re=O(y("react")),bi=()=>Re.default.createElement(Re.default.Fragment,null,Re.default.createElement("h1",null,"Welcome on board"),Re.default.createElement("p",null,"Your configuration is completed."),Re.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Re.default.createElement("code",null,"`resources`")," property of ",Re.default.createElement("code",null,"`<Refine>`")),Re.default.createElement("div",{style:{display:"flex",gap:8}},Re.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Documentation")),Re.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Examples")),Re.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Re.default.createElement("button",null,"Community")))),ht=O(y("react")),kd=()=>ht.default.createElement(ht.default.Fragment,null,ht.default.createElement("h1",null,"Welcome on board"),ht.default.createElement("p",null,"Your configuration is completed."),ht.default.createElement("div",{style:{display:"flex",gap:8}},ht.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},ht.default.createElement("button",null,"Documentation")),ht.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},ht.default.createElement("button",null,"Examples")),ht.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},ht.default.createElement("button",null,"Community")))),ae=O(y("react")),No=y("@tanstack/react-query"),Td=y("@tanstack/react-query-devtools"),Bd=y("react"),rr=y("react"),Dd="4.1.0",Md=()=>{let e=Fn(),t=(0,rr.useContext)(io),r=(0,rr.useContext)(Br),o=(0,rr.useContext)(aa),a=(0,rr.useContext)(Jo),{i18nProvider:i}=(0,rr.useContext)(yr),n=(0,rr.useContext)(ea),u=(0,rr.useContext)(no),{resources:v}=ne(),c=!!t.create||!!t.get||!!t.update,d=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),g=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,E=!!a,p=!!(i!=null&&i.changeLocale)||!!(i!=null&&i.getLocale)||!!(i!=null&&i.translate),s=!!n.close||!!n.open,m=!!u.can;return{providers:{auth:e,auditLog:c,live:d,router:g,data:E,i18n:p,notification:s,accessControl:m},version:Dd,resourceCount:v.length}},qd=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},Ad=()=>{let e=Md();return(0,Bd.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${qd(e)}`},[]),null},Fd=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(o=>!t.includes(o));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},Ln=O(y("react")),Od=e=>{let t=Ln.default.useRef(!1);Ln.default.useEffect(()=>{t.current===!1&&e&&Fd(e)&&(t.current=!0)},[e])},Nd=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:a,notificationProvider:i,accessControlProvider:n,auditLogProvider:u,resources:v,DashboardPage:c,ReadyPage:d,LoginPage:g,catchAll:E,children:p,liveProvider:s,i18nProvider:m,Title:l,Layout:f,Sider:b,Header:h,Footer:x,OffLayoutArea:P,onLiveEvent:L,options:S})=>{let{optionsWithDefaults:C,disableTelemetryWithDefault:w,reactQueryWithDefaults:B}=Rs({options:S}),M=ri(()=>{var N;return B.clientConfig instanceof No.QueryClient?B.clientConfig:new No.QueryClient({...B.clientConfig,defaultOptions:{...B.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(N=B.clientConfig.defaultOptions)==null?void 0:N.queries}}})},[B.clientConfig]),k=ae.default.useMemo(()=>typeof i=="function"?i:()=>i!=null?i:{},[i])();if(Od(a),o&&!a&&(v!=null?v:[]).length===0)return d?ae.default.createElement(d,null):ae.default.createElement(bi,null);let{RouterComponent:q=ae.default.Fragment}=a?{}:o!=null?o:{};return ae.default.createElement(No.QueryClientProvider,{client:M},ae.default.createElement(ku,{...k},ae.default.createElement(ps,{...e!=null?e:{},isProvided:Boolean(e)},ae.default.createElement(ms,{...t!=null?t:{},isProvided:Boolean(t)},ae.default.createElement(su,{...r},ae.default.createElement(pu,{liveProvider:s},ae.default.createElement(Pu,{value:o&&!a?"legacy":"new"},ae.default.createElement(Lu,{router:a},ae.default.createElement(Xu,{...o},ae.default.createElement(Cu,{resources:v!=null?v:[]},ae.default.createElement(Bu,{i18nProvider:m},ae.default.createElement(td,{...n!=null?n:{}},ae.default.createElement(dd,{...u!=null?u:{}},ae.default.createElement(Ks,null,ae.default.createElement(Us,{mutationMode:C.mutationMode,warnWhenUnsavedChanges:C.warnWhenUnsavedChanges,syncWithLocation:C.syncWithLocation,Title:l,undoableTimeout:C.undoableTimeout,catchAll:E,DashboardPage:c,LoginPage:g,Layout:f,Sider:b,Footer:x,Header:h,OffLayoutArea:P,hasDashboard:!!c,liveMode:C.liveMode,onLiveEvent:L,options:C},ae.default.createElement(Au,null,ae.default.createElement(q,null,p,!w&&ae.default.createElement(Ad,null),ae.default.createElement(Ci,null))))))))))))))))),B.devtoolConfig===!1?null:ae.default.createElement(Td.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...B.devtoolConfig}))},Sn=y("react"),xi=({notification:e})=>{let t=se(),{notificationDispatch:r}=gr(),{open:o}=Ht(),[a,i]=(0,Sn.useState)(),n=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:Do(e.seconds)},`You have ${Do(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:Do(e.seconds)}),e.seconds>0)){a&&clearTimeout(a);let u=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);i(u)}};return(0,Sn.useEffect)(()=>{n()},[e]),null},eo=O(y("react")),$d=({children:e,Layout:t,Sider:r,Header:o,Title:a,Footer:i,OffLayoutArea:n})=>{let{Layout:u,Footer:v,Header:c,Sider:d,Title:g,OffLayoutArea:E}=ra(),p=t!=null?t:u;return eo.default.createElement(p,{Sider:r!=null?r:d,Header:o!=null?o:c,Footer:i!=null?i:v,Title:a!=null?a:g,OffLayoutArea:n!=null?n:E},e,eo.default.createElement(Wd,null))},Wd=()=>{let{Prompt:e}=We(),t=se(),{warnWhen:r,setWarnWhen:o}=ta(),a=i=>(i.preventDefault(),i.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),i.returnValue);return(0,eo.useEffect)(()=>(r&&window.addEventListener("beforeunload",a),window.removeEventListener("beforeunload",a)),[r]),eo.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})},Ft=O(y("react")),Ud=()=>{let e=ft(),[t,r]=Ft.default.useState(void 0);return Ft.default.useEffect(()=>{t&&e(t)},[t]),Ft.default.useCallback(o=>{t||r(o)},[t])};function Rd({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:a}){var i,n,u,v,c;let d=Le(),g=Boolean(d==null?void 0:d.isLegacy),E=Go({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),p=ve(),s=mt(),m=ft(),l=Ud(),{replace:f}=vt(),{useLocation:b}=We(),{pathname:h,search:x}=b(),P=E.isLoading,L=d!=null&&d.isProvided?g?E.isSuccess:(i=E.data)==null?void 0:i.authenticated:!0,S=g?typeof e=="string"?e:"/login":typeof e=="string"?e:(n=E.data)==null?void 0:n.redirectTo;if(P)return a?Ft.default.createElement(Ft.default.Fragment,null,a):null;if(L)return Ft.default.createElement(Ft.default.Fragment,null,r!=null?r:null);if(typeof o>"u"){if(p==="legacy"){let C=t&&h?`?to=${encodeURIComponent(`${h}${x!=null?x:""}`)}`:"",w=h==null?void 0:h.split(/[?#]/)[0];!(w!=null&&w.includes("/login"))&&w!==e&&f(`/${(S!=null?S:"/login").replace(/^\//,"")}${C}`)}else{if(((u=s.pathname)==null?void 0:u.split(/[?#]/)[0])===S)return null;let C=(v=s.params)!=null&&v.to?(c=s.params)==null?void 0:c.to:m({to:s.pathname||"/",options:{keepQuery:!0},type:"path"});S&&l({to:`/${S.replace(/^\//,"")}`,query:C&&typeof C=="string"&&C.length>1?{to:C}:{}})}return null}return Ft.default.createElement(Ft.default.Fragment,null,o)}var zd=y("react"),Ci=()=>{let{useLocation:e}=We(),{checkAuth:t}=ct(),r=e();return(0,zd.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},pr=O(y("react")),Qd=({resource:e,action:t,params:r,fallback:o,children:a,...i})=>{let{data:n}=gi({resource:e,action:t,params:r});return n!=null&&n.can?pr.default.isValidElement(a)?pr.default.cloneElement(a,i):pr.default.createElement(pr.default.Fragment,null,a):(n==null?void 0:n.can)===!1?pr.default.createElement(pr.default.Fragment,null,o!=null?o:null):null},mr=O(y("react")),jd=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `],Hd=()=>((0,mr.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),jd.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),mr.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},mr.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},mr.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},mr.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),mr.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))))});var xr=Lo((Ic,Di)=>{var Id=Object.create,uo=Object.defineProperty,Vd=Object.getOwnPropertyDescriptor,Kd=Object.getOwnPropertyNames,_d=Object.getPrototypeOf,Yd=Object.prototype.hasOwnProperty,Zd=(e,t)=>{for(var r in t)uo(e,r,{get:t[r],enumerable:!0})},Ti=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Kd(t))!Yd.call(e,a)&&a!==r&&uo(e,a,{get:()=>t[a],enumerable:!(o=Vd(t,a))||o.enumerable});return e},Xd=(e,t,r)=>(r=e!=null?Id(_d(e)):{},Ti(t||!e||!e.__esModule?uo(r,"default",{value:e,enumerable:!0}):r,e)),Jd=e=>Ti(uo({},"__esModule",{value:!0}),e),Bi={};Zd(Bi,{useForm:()=>ua,useModalForm:()=>rc,useStepsForm:()=>tc});Di.exports=Jd(Bi);var Li=y("react"),ec=y("react-hook-form"),Si=I(),ua=({refineCoreProps:e,warnWhenUnsavedChanges:t,...r}={})=>{let{warnWhenUnsavedChanges:o,setWarnWhen:a}=(0,Si.useWarnAboutChange)(),i=t!=null?t:o,n=(0,Si.useForm)({...e}),{queryResult:u,onFinish:v,formLoading:c}=n,d=(0,ec.useForm)({...r}),{watch:g,reset:E,getValues:p,handleSubmit:s}=d;(0,Li.useEffect)(()=>{var f;if(typeof(u==null?void 0:u.data)<"u"){let b={},h=Object.keys(p());Object.entries(((f=u==null?void 0:u.data)==null?void 0:f.data)||{}).forEach(([x,P])=>{h.includes(x)&&(b[x]=P)}),E(b)}},[u==null?void 0:u.data]),(0,Li.useEffect)(()=>{let f=g((b,{type:h})=>{h==="change"&&m(b)});return()=>f.unsubscribe()},[g]);let m=f=>(i&&a(!0),f),l=(f,b)=>async h=>(a(!1),await s(f,b)(h));return{...d,handleSubmit:l,refineCore:n,saveButtonProps:{disabled:c,onClick:f=>{l(v,()=>!1)(f)}}}},wi=y("react"),tc=({stepsProps:e,...t}={})=>{let{defaultStep:r=0,isBackValidate:o=!1}=e!=null?e:{},[a,i]=(0,wi.useState)(r),n=ua({...t}),{trigger:u,getValues:v,reset:c,formState:{dirtyFields:d},refineCore:{queryResult:g}}=n;(0,wi.useEffect)(()=>{var p;if(g!=null&&g.data){let s={},m=Object.keys(v());Object.entries((p=g==null?void 0:g.data)==null?void 0:p.data).forEach(([l,f])=>{m.includes(l)&&(d[l]?s[l]=v(l):s[l]=f)}),c(s,{keepDirty:!0,keepValues:!0})}},[g==null?void 0:g.data,a]);let E=p=>{let s=p;p<0&&(s=0),i(s)};return{...n,steps:{currentStep:a,gotoStep:async p=>{if(p!==a){if(p<a&&!o){E(p);return}await u()&&E(p)}}}}},ki=y("react"),lr=I(),sa=Xd(y("react")),rc=({modalProps:e,refineCoreProps:t,syncWithLocation:r,...o}={})=>{var a,i,n,u,v,c,d;let g=sa.default.useRef(!1),E=(0,lr.useTranslate)(),{resource:p,action:s}=t!=null?t:{},{resource:m,action:l}=(0,lr.useResource)(p),f=(0,lr.useParsed)(),b=(0,lr.useGo)(),h=(a=s!=null?s:l)!=null?a:"",x=typeof r=="object"&&r.syncId,P=typeof r=="object"&&"key"in r?r.key:m&&h&&r?`modal-${(i=m==null?void 0:m.identifier)!=null?i:m==null?void 0:m.name}-${h}`:void 0,{defaultVisible:L=!1,autoSubmitClose:S=!0,autoResetForm:C=!0}=e!=null?e:{},w=ua({refineCoreProps:t,...o}),{reset:B,refineCore:{onFinish:M,id:k,setId:q},saveButtonProps:N,handleSubmit:$}=w,{visible:A,show:F,close:U}=(0,lr.useModal)({defaultVisible:L});sa.default.useEffect(()=>{var Y,j,_,xe;if(g.current===!1&&P){let ce=(j=(Y=f==null?void 0:f.params)==null?void 0:Y[P])==null?void 0:j.open;if(typeof ce=="boolean"?ce&&F():typeof ce=="string"&&ce==="true"&&F(),x){let le=(xe=(_=f==null?void 0:f.params)==null?void 0:_[P])==null?void 0:xe.id;le&&(q==null||q(le))}g.current=!0}},[P,f,x,q]),sa.default.useEffect(()=>{var Y;g.current===!0&&(A&&P?b({query:{[P]:{...(Y=f==null?void 0:f.params)==null?void 0:Y[P],open:!0,...x&&k&&{id:k}}},options:{keepQuery:!0},type:"replace"}):P&&!A&&b({query:{[P]:void 0},options:{keepQuery:!0},type:"replace"}))},[k,A,F,P,x]);let R=async Y=>{await M(Y),S&&U(),C&&B()},{warnWhen:G,setWarnWhen:z}=(0,lr.useWarnAboutChange)(),Q=(0,ki.useCallback)(()=>{if(G)if(window.confirm(E("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes.")))z(!1);else return;q==null||q(void 0),U()},[G]),K=(0,ki.useCallback)(Y=>{q==null||q(Y),F()},[]),te=E(`${m==null?void 0:m.name}.titles.${s}`,void 0,`${(0,lr.userFriendlyResourceName)(`${s} ${(d=(c=(v=(n=m==null?void 0:m.meta)==null?void 0:n.label)!=null?v:(u=m==null?void 0:m.options)==null?void 0:u.label)!=null?c:m==null?void 0:m.label)!=null?d:m==null?void 0:m.name}`,"singular")}`);return{modal:{submit:R,close:Q,show:K,visible:A,title:te},...w,saveButtonProps:{...N,onClick:Y=>$(R)(Y)}}}});var Ct=Lo((am,Ii)=>{var ga=Object.defineProperty,pc=Object.getOwnPropertyDescriptor,mc=Object.getOwnPropertyNames,fc=Object.prototype.hasOwnProperty,vc=(e,t)=>{for(var r in t)ga(e,r,{get:t[r],enumerable:!0})},gc=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of mc(t))!fc.call(e,a)&&a!==r&&ga(e,a,{get:()=>t[a],enumerable:!(o=pc(t,a))||o.enumerable});return e},yc=e=>gc(ga({},"__esModule",{value:!0}),e),Gi={};vc(Gi,{RefineButtonTestIds:()=>hc});Ii.exports=yc(Gi);var hc={CloneButton:"refine-clone-button",DeleteButton:"refine-delete-button",EditButton:"refine-edit-button",SaveButton:"refine-save-button",CreateButton:"refine-create-button",ImportButton:"refine-import-button",ExportButton:"refine-export-button",ListButton:"refine-list-button",RefreshButton:"refine-refresh-button",ShowButton:"refine-show-button"}});var Eo=y("notistack");var Gt=D(y("react")),so=y("@mui/material");var W=D(y("react")),H=y("@mui/material"),qe=y("@mui/icons-material"),J=D(I());var na=({Title:e,render:t,meta:r})=>{var A;let[o,a]=(0,W.useState)(!1),[i,n]=(0,W.useState)(!1),u=()=>o?64:200,v=(0,J.useTranslate)(),c=(0,J.useRouterType)(),d=(0,J.useLink)(),{Link:g}=(0,J.useRouterContext)(),E=c==="legacy"?g:d,{hasDashboard:p}=(0,J.useRefineContext)(),s=(0,J.useTranslate)(),{menuItems:m,selectedKey:l,defaultOpenKeys:f}=(0,J.useMenu)({meta:r}),b=(0,J.useIsExistAuthentication)(),h=(0,J.useTitle)(),x=(0,J.useActiveAuthProvider)(),{mutate:P}=(0,J.useLogout)({v3LegacyAuthProviderCompatible:Boolean(x==null?void 0:x.isLegacy)}),[L,S]=(0,W.useState)({});W.default.useEffect(()=>{S(F=>{let R=Object.keys(F).filter(Q=>F[Q]),G=new Set([...R,...f]);return Object.fromEntries(Array.from(G.values()).map(Q=>[Q,!0]))})},[f]);let C=(A=e!=null?e:h)!=null?A:ia,w=F=>{S({...L,[F]:!L[F]})},B=(F,U)=>F.map(R=>{let{icon:G,label:z,route:Q,name:K,children:te,parentName:Y,meta:j,options:_}=R,xe=L[R.key||""]||!1,ce=R.key===U,le=(0,J.pickNotDeprecated)(j==null?void 0:j.parent,_==null?void 0:_.parent,Y)!==void 0;return te.length>0?W.default.createElement(J.CanAccess,{key:R.key,resource:K.toLowerCase(),action:"list",params:{resource:R}},W.default.createElement("div",{key:R.key},W.default.createElement(H.Tooltip,{title:z!=null?z:K,placement:"right",disableHoverListener:!o,arrow:!0},W.default.createElement(H.ListItemButton,{onClick:()=>{o?(a(!1),xe||w(R.key||"")):w(R.key||"")},sx:{pl:le?4:2,justifyContent:"center","&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"}}},W.default.createElement(H.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},G!=null?G:W.default.createElement(qe.ListOutlined,null)),W.default.createElement(H.ListItemText,{primary:z,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:ce?"bold":"normal"}}),!o&&(xe?W.default.createElement(qe.ExpandLess,null):W.default.createElement(qe.ExpandMore,null)))),!o&&W.default.createElement(H.Collapse,{in:L[R.key||""],timeout:"auto",unmountOnExit:!0},W.default.createElement(H.List,{component:"div",disablePadding:!0},B(te,U))))):W.default.createElement(J.CanAccess,{key:R.key,resource:K.toLowerCase(),action:"list",params:{resource:R}},W.default.createElement(H.Tooltip,{title:z!=null?z:K,placement:"right",disableHoverListener:!o,arrow:!0},W.default.createElement(H.ListItemButton,{component:E,to:Q,selected:ce,onClick:()=>{n(!1)},sx:{pl:le?4:2,py:le?1.25:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},W.default.createElement(H.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},G!=null?G:W.default.createElement(qe.ListOutlined,null)),W.default.createElement(H.ListItemText,{primary:z,primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:ce?"bold":"normal"}}))))}),M=p?W.default.createElement(J.CanAccess,{resource:"dashboard",action:"list"},W.default.createElement(H.Tooltip,{title:s("dashboard.title","Dashboard"),placement:"right",disableHoverListener:!o,arrow:!0},W.default.createElement(H.ListItemButton,{component:E,to:"/",selected:l==="/",onClick:()=>{n(!1)},sx:{pl:2,py:1,"&.Mui-selected":{"&:hover":{backgroundColor:"transparent"},backgroundColor:"transparent"},justifyContent:"center"}},W.default.createElement(H.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},W.default.createElement(qe.Dashboard,null)),W.default.createElement(H.ListItemText,{primary:s("dashboard.title","Dashboard"),primaryTypographyProps:{noWrap:!0,fontSize:"14px",fontWeight:l==="/"?"bold":"normal"}})))):null,k=b&&W.default.createElement(H.Tooltip,{title:v("buttons.logout","Logout"),placement:"right",disableHoverListener:!o,arrow:!0},W.default.createElement(H.ListItemButton,{key:"logout",onClick:()=>P(),sx:{justifyContent:"center"}},W.default.createElement(H.ListItemIcon,{sx:{justifyContent:"center",minWidth:36,color:"secondary.contrastText"}},W.default.createElement(qe.Logout,null)),W.default.createElement(H.ListItemText,{primary:v("buttons.logout","Logout"),primaryTypographyProps:{noWrap:!0,fontSize:"14px"}}))),q=B(m,l),$=W.default.createElement(H.List,{disablePadding:!0,sx:{mt:1,color:"secondary.contrastText"}},(()=>t?t({dashboard:M,logout:k,items:q,collapsed:o}):W.default.createElement(W.default.Fragment,null,M,q,k))());return W.default.createElement(W.default.Fragment,null,W.default.createElement(H.Box,{sx:{width:{xs:u()},display:{xs:"none",md:"block"},transition:"width 0.3s ease"}}),W.default.createElement(H.Box,{component:"nav",sx:{position:"fixed",zIndex:1101,width:{sm:u()},display:"flex"}},W.default.createElement(H.Drawer,{variant:"temporary",open:i,onClose:()=>n(!1),ModalProps:{keepMounted:!0},sx:{display:{sm:"block",md:"none"},"& .MuiDrawer-paper":{width:256,bgcolor:"secondary.main"}}},W.default.createElement(H.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},W.default.createElement(C,{collapsed:!1})),$),W.default.createElement(H.Drawer,{variant:"permanent",PaperProps:{elevation:1},sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{width:u,bgcolor:"secondary.main",overflow:"hidden",transition:"width 200ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},open:!0},W.default.createElement(H.Box,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"}},W.default.createElement(C,{collapsed:o})),W.default.createElement(H.Box,{sx:{flexGrow:1,overflowX:"hidden",overflowY:"auto"}},$),W.default.createElement(H.Button,{sx:{background:"rgba(0,0,0,.5)",color:"secondary.contrastText",textAlign:"center",borderRadius:0,borderTop:"1px solid #ffffff1a"},fullWidth:!0,size:"large",onClick:()=>a(F=>!F)},o?W.default.createElement(qe.ChevronRight,null):W.default.createElement(qe.ChevronLeft,null))),W.default.createElement(H.Box,{sx:{display:{xs:"block",md:"none"},position:"fixed",top:"64px",left:"0px",borderRadius:"0 6px 6px 0",bgcolor:"secondary.main",zIndex:1199,width:"36px"}},W.default.createElement(H.IconButton,{sx:{color:"#fff",width:"36px"},onClick:()=>n(F=>!F)},W.default.createElement(qe.MenuRounded,null)))))};var ir=D(y("react")),lo=D(I()),xt=y("@mui/material"),la=()=>{let e=(0,lo.useActiveAuthProvider)(),{data:t}=(0,lo.useGetIdentity)({v3LegacyAuthProviderCompatible:Boolean(e==null?void 0:e.isLegacy)});return t&&(t.name||t.avatar)?ir.default.createElement(xt.AppBar,{color:"default",position:"sticky",elevation:1},ir.default.createElement(xt.Toolbar,null,ir.default.createElement(xt.Stack,{direction:"row",width:"100%",justifyContent:"flex-end",alignItems:"center"},ir.default.createElement(xt.Stack,{direction:"row",gap:"16px",alignItems:"center",justifyContent:"center"},ir.default.createElement(xt.Typography,{variant:"subtitle2"},t==null?void 0:t.name),ir.default.createElement(xt.Avatar,{src:t==null?void 0:t.avatar,alt:t==null?void 0:t.name}))))):null};var Gd=({Sider:e,Header:t,Title:r,Footer:o,OffLayoutArea:a,children:i})=>{let n=e!=null?e:na,u=t!=null?t:la;return Gt.default.createElement(so.Box,{display:"flex",flexDirection:"row"},Gt.default.createElement(n,{Title:r}),Gt.default.createElement(so.Box,{sx:{display:"flex",flexDirection:"column",flex:1,minHeight:"100vh"}},Gt.default.createElement(u,null),Gt.default.createElement(so.Box,{component:"main",sx:{p:{xs:1,md:2,lg:3},flexGrow:1,bgcolor:v=>v.palette.background.default}},i),o&&Gt.default.createElement(o,null)),a&&Gt.default.createElement(a,null))};var Ar=D(y("react")),br=D(I()),Ei=y("@mui/material"),ia=({collapsed:e})=>{let t=(0,br.useRouterType)(),r=(0,br.useLink)(),{Link:o}=(0,br.useRouterContext)();return Ar.default.createElement(Ei.Button,{fullWidth:!0,variant:"text",disableRipple:!0},Ar.default.createElement(t==="legacy"?o:r,{to:"/"},e?Ar.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine-mini.svg",alt:"Refine",width:"28px",style:{maxHeight:"38px"}}):Ar.default.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine",width:"140px"})))};var re=D(y("react")),Mi=D(I()),qi=D(xr()),X=y("@mui/material"),co=D(I()),oc=()=>{var u;let{register:e,handleSubmit:t,formState:{errors:r}}=(0,qi.useForm)(),o=(0,Mi.useActiveAuthProvider)(),{mutate:a,isLoading:i}=(0,co.useLogin)({v3LegacyAuthProviderCompatible:Boolean(o==null?void 0:o.isLegacy)}),n=(0,co.useTranslate)();return re.createElement(re.Fragment,null,re.createElement(X.Box,{component:"div",sx:{background:"radial-gradient(50% 50% at 50% 50%, #63386A 0%, #310438 100%)",backgroundSize:"cover"}},re.createElement(X.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},re.createElement(X.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},re.createElement("div",null,re.createElement("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo",style:{maxWidth:200}})),re.createElement(X.Box,{mt:4},re.createElement(X.Card,null,re.createElement(X.CardContent,{sx:{paddingX:"32px"}},re.createElement(X.Typography,{component:"h1",variant:"h5",align:"center",sx:{fontWeight:"700",margin:"12px 0"}},n("pages.login.title","Sign in your account")),re.createElement(X.Box,{component:"form",onSubmit:t(v=>{a(v)}),gap:"16px"},re.createElement(X.TextField,{...e("username",{required:!0}),id:"username",margin:"normal",size:"small",fullWidth:!0,label:n("pages.login.username","Username"),name:"username",autoComplete:"username",autoFocus:!0}),re.createElement(X.TextField,{...e("password",{required:!0}),id:"password",size:"small",margin:"normal",fullWidth:!0,name:"password",label:n("pages.login.password","Password"),helperText:(u=r==null?void 0:r.password)==null?void 0:u.message,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),re.createElement(X.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},re.createElement(X.FormControlLabel,{sx:{span:{fontSize:"12px",color:"text.secondary"}},color:"secondary",control:re.createElement(X.Checkbox,{size:"small",id:"remember",...e("remember")}),label:n("pages.login.remember","Remember me")}),re.createElement(X.Link,{href:"#",sx:{fontSize:"12px",textDecoration:"none"}},re.createElement(X.Typography,{sx:{fontSize:"12px"}},n("pages.login.forgotPassword","Forgot password?")))),re.createElement(X.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:i},n("pages.login.signin","Sign in")),re.createElement(X.Box,{style:{marginTop:8}},re.createElement(X.Typography,{variant:"subtitle2"},n("pages.login.noAccount","Don\u2019t have an account?")," ",re.createElement(X.Link,{underline:"none",href:"#",style:{fontWeight:"bold"}},n("pages.login.signup","Sign up"))))))))))))};var ge=D(y("react")),ye=y("@mui/material"),ac=()=>{let e=t=>ge.createElement(ye.Typography,{sx:{backgroundColor:r=>r.palette.secondary.contrastText,color:r=>r.palette.secondary.main,display:"inline-block",fontFamily:"monospace"}},t);return ge.createElement(ge.Fragment,null,ge.createElement(ye.Grid,{container:!0,sx:{backgroundColor:t=>t.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},ge.createElement(ye.Grid,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:t=>t.palette.primary.contrastText},ge.createElement(ye.Typography,{display:"flex",justifyContent:"center"},ge.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),ge.createElement(ye.Typography,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),ge.createElement(ye.Typography,{variant:"h5",mt:2},"Your configuration is completed."),ge.createElement(ye.Typography,{variant:"h6",mt:2},"Now you can get started by adding your resources to the"," ",e("resources")," property of"," ",e("Refine")),ge.createElement(ye.Grid,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},ge.createElement(ye.Stack,{spacing:2,direction:{xs:"column",sm:"row"}},ge.createElement(ye.Link,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},ge.createElement(ye.Button,{variant:"outlined",fullWidth:!0},"Documentation")),ge.createElement(ye.Link,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},ge.createElement(ye.Button,{variant:"outlined",fullWidth:!0},"Examples")),ge.createElement(ye.Link,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},ge.createElement(ye.Button,{variant:"outlined",fullWidth:!0},"Community")))))))};var Se=D(y("react")),we=y("@mui/material"),nc=()=>Se.createElement(Se.Fragment,null,Se.createElement(we.Grid,{container:!0,sx:{backgroundColor:e=>e.palette.secondary.main,display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundImage:"url('https://refine.ams3.cdn.digitaloceanspaces.com/login-background/background.png')",backgroundSize:"cover"},p:3},Se.createElement(we.Grid,{display:"flex",flexDirection:"column",flex:1,alignItems:"center",color:e=>e.palette.primary.contrastText},Se.createElement(we.Typography,{display:"flex",justifyContent:"center"},Se.createElement("img",{style:{marginBottom:"48px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/logo/refine.svg",alt:"Refine Logo"})),Se.createElement(we.Typography,{variant:"h2",fontWeight:"bold",display:"flex",justifyContent:"center"},"Welcome on board"),Se.createElement(we.Typography,{variant:"h5",mt:2},"Your configuration is completed."),Se.createElement(we.Grid,{item:!0,sm:12,mt:12,display:"flex",justifyContent:"center"},Se.createElement(we.Stack,{spacing:2,direction:{xs:"column",sm:"row"}},Se.createElement(we.Link,{href:"https://refine.dev",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(we.Button,{variant:"outlined",fullWidth:!0},"Documentation")),Se.createElement(we.Link,{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(we.Button,{variant:"outlined",fullWidth:!0},"Examples")),Se.createElement(we.Link,{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer",style:{textDecoration:"none"}},Se.createElement(we.Button,{variant:"outlined",fullWidth:!0},"Community")))))));var at=D(y("react")),Cr=D(I()),po=D(I()),gt=y("@mui/material"),Ai=y("@mui/icons-material"),ic=()=>{let[e,t]=(0,at.useState)(),{push:r}=(0,po.useNavigation)(),o=(0,Cr.useGo)(),a=(0,Cr.useRouterType)(),{resource:i,action:n}=(0,Cr.useResource)(),u=(0,po.useTranslate)();return(0,at.useEffect)(()=>{i&&n&&t(u("pages.error.info",{action:n,resource:i==null?void 0:i.name},`You may have forgotten to add the "${n}" component to "${i==null?void 0:i.name}" resource.`))},[n,i]),at.default.createElement(gt.Grid,{display:"flex",justifyContent:"center",alignItems:"center",mt:20},at.default.createElement(gt.Grid,{container:!0,direction:"column",display:"flex",alignItems:"center"},at.default.createElement(gt.Typography,{variant:"h1"},"404"),at.default.createElement(gt.Stack,{direction:"row",spacing:"2"},at.default.createElement(gt.Typography,null,u("pages.error.404","Sorry, the page you visited does not exist.")),e&&at.default.createElement(gt.Tooltip,{title:e},at.default.createElement(Ai.Info,{}))),at.default.createElement(gt.Button,{onClick:()=>{a==="legacy"?r("/"):o({to:"/"})}},u("pages.error.backHome","Back Home"))))};var sr=D(y("react"));var ie=D(y("react")),Fi=D(I()),Oi=D(xr()),Ni=y("react-hook-form"),Z=y("@mui/material"),Lt=D(I());var It={background:"radial-gradient(50% 50% at 50% 50%, #6813CB 0%, #2A2A42 100%)",backgroundSize:"cover"},Vt={textAlign:"center",fontSize:"24px",letterSpacing:"-0.04em",marginBottom:"24px",overflowWrap:"break-word",hyphens:"manual",textOverflow:"unset",whiteSpace:"pre-wrap"};var da=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:a,wrapperProps:i,renderContent:n,formProps:u})=>{var C;let{onSubmit:v,...c}=u||{},d=(0,Oi.useForm)({...c}),{register:g,handleSubmit:E,formState:{errors:p}}=d,s=(0,Fi.useActiveAuthProvider)(),{mutate:m,isLoading:l}=(0,Lt.useLogin)({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy)}),f=(0,Lt.useTranslate)(),b=(0,Lt.useRouterType)(),h=(0,Lt.useLink)(),{Link:x}=(0,Lt.useRouterContext)(),P=b==="legacy"?x:h,L=()=>e&&e.length>0?ie.createElement(ie.Fragment,null,e.map(w=>ie.createElement(Z.Button,{key:w.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>m({providerName:w.name}),startIcon:w.icon},w.label)),ie.createElement(Z.Divider,{style:{fontSize:12}},f("pages.login.divider","or"))):null,S=ie.createElement(Z.Card,{...a!=null?a:{}},ie.createElement(Z.CardContent,{sx:{paddingX:"32px"}},ie.createElement(Z.Typography,{component:"h1",variant:"h5",align:"center",style:Vt,color:"primary"},f("pages.login.title","Sign in to your account")),ie.createElement(Z.Box,{component:"form",onSubmit:E(w=>v?v(w):m(w)),gap:"16px"},L(),ie.createElement(Z.TextField,{...g("email",{required:!0}),id:"email",margin:"normal",fullWidth:!0,label:f("pages.login.fields.email","Email"),error:!!p.email,name:"email",type:"email",autoComplete:"email"}),ie.createElement(Z.TextField,{...g("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:f("pages.login.fields.password","Password"),helperText:(C=p==null?void 0:p.password)==null?void 0:C.message,error:!!p.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),ie.createElement(Z.Box,{component:"div",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o!=null?o:ie.createElement(Z.FormControlLabel,{sx:{span:{fontSize:"14px",color:"text.secondary"}},color:"secondary",control:ie.createElement(Z.Checkbox,{size:"small",id:"remember",...g("remember")}),label:f("pages.login.buttons.rememberMe","Remember me")}),r!=null?r:ie.createElement(Z.Link,{variant:"body2",component:P,underline:"none",to:"/forgot-password"},f("pages.login.buttons.forgotPassword","Forgot password?"))),ie.createElement(Z.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:l},f("pages.login.signin","Sign in")),t!=null?t:ie.createElement(Z.Box,{style:{marginTop:8}},ie.createElement(Z.Typography,{variant:"body2",component:"span"},f("pages.login.buttons.noAccount","Don\u2019t have an account?")),ie.createElement(Z.Link,{ml:"8px",variant:"body2",component:P,underline:"none",to:"/register",fontWeight:"bold"},f("pages.login.signup","Sign up"))))));return ie.createElement(Ni.FormProvider,{...d},ie.createElement(Z.Box,{component:"div",style:It,...i!=null?i:{}},ie.createElement(Z.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},ie.createElement(Z.Box,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},n?n(S):S))))};var ke=D(y("react")),$i=D(I()),Wi=D(xr()),ue=y("@mui/material"),St=D(I());var ca=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,providers:a,formProps:i})=>{let{onSubmit:n,...u}=i||{},{register:v,handleSubmit:c,formState:{errors:d}}=(0,Wi.useForm)({...u}),g=(0,$i.useActiveAuthProvider)(),{mutate:E,isLoading:p}=(0,St.useRegister)({v3LegacyAuthProviderCompatible:Boolean(g==null?void 0:g.isLegacy)}),s=(0,St.useTranslate)(),m=(0,St.useRouterType)(),l=(0,St.useLink)(),{Link:f}=(0,St.useRouterContext)(),b=m==="legacy"?f:l,h=()=>a&&a.length>0?ke.createElement(ke.Fragment,null,a.map(P=>ke.createElement(ue.Button,{key:P.name,fullWidth:!0,variant:"outlined",sx:{my:"8px",textTransform:"none"},onClick:()=>E({providerName:P.name}),startIcon:P.icon},P.label)),ke.createElement(ue.Divider,{style:{fontSize:12}},s("pages.login.divider","or"))):null,x=ke.createElement(ue.Card,{...r!=null?r:{}},ke.createElement(ue.CardContent,{sx:{paddingX:"32px"}},ke.createElement(ue.Typography,{component:"h1",variant:"h5",align:"center",style:Vt,color:"primary"},s("pages.register.title","Sign up for your account")),h(),ke.createElement(ue.Box,{component:"form",onSubmit:c(P=>n?n(P):E(P)),gap:"16px"},ke.createElement(ue.TextField,{...v("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:s("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:s("pages.register.email","Email"),error:!!d.email,helperText:d.email?d.email.message:"",name:"email",autoComplete:"email"}),ke.createElement(ue.TextField,{...v("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:s("pages.register.fields.password","Password"),helperText:d.password?d.password.message:"",error:!!d.password,type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),e!=null?e:ke.createElement(ue.Box,{display:"flex",justifyContent:"flex-end"},ke.createElement(ue.Typography,{variant:"body2",component:"span"},s("pages.login.buttons.haveAccount","Have an account?")),ke.createElement(ue.Link,{ml:"6px",variant:"body2",component:b,underline:"none",to:"/login",fontWeight:"bold"},s("pages.login.signin","Sign in"))),ke.createElement(ue.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:"8px",color:"white"},disabled:p},s("pages.register.signup","Sign up")))));return ke.createElement(ue.Box,{component:"div",style:It,...t!=null?t:{}},ke.createElement(ue.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},o?o(x):x))};var Ue=D(y("react")),Ui=D(xr()),Ce=y("@mui/material"),wt=D(I());var pa=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:a})=>{let{onSubmit:i,...n}=a||{},{register:u,handleSubmit:v,formState:{errors:c}}=(0,Ui.useForm)({...n}),{mutate:d,isLoading:g}=(0,wt.useForgotPassword)(),E=(0,wt.useTranslate)(),p=(0,wt.useRouterType)(),s=(0,wt.useLink)(),{Link:m}=(0,wt.useRouterContext)(),l=p==="legacy"?m:s,f=Ue.createElement(Ce.Card,{...r!=null?r:{}},Ue.createElement(Ce.CardContent,{sx:{paddingX:"32px"}},Ue.createElement(Ce.Typography,{component:"h1",variant:"h5",align:"center",style:Vt,color:"primary"},E("pages.forgotPassword.title","Forgot your password?")),Ue.createElement(Ce.Box,{component:"form",onSubmit:v(b=>i?i(b):d(b)),gap:"16px"},Ue.createElement(Ce.TextField,{...u("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:E("pages.register.errors.validEmail","Invalid email address")}}),id:"email",margin:"normal",fullWidth:!0,label:E("pages.forgotPassword.fields.email","Email"),name:"email",type:"email",error:!!c.email,autoComplete:"email"}),e!=null?e:Ue.createElement(Ce.Box,{textAlign:"right"},Ue.createElement(Ce.Typography,{variant:"body2",component:"span"},E("pages.register.buttons.haveAccount","Have an account?"))," ",Ue.createElement(Ce.Link,{variant:"body2",component:l,underline:"none",to:"/register",fontWeight:"bold"},E("pages.login.signin","Sign in"))),Ue.createElement(Ce.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:g},E("pages.forgotPassword.buttons.submit","Send reset instructions")))));return Ue.createElement(Ue.Fragment,null,Ue.createElement(Ce.Box,{component:"div",style:It,...t!=null?t:{}},Ue.createElement(Ce.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},o?o(f):f)))};var nt=D(y("react")),Ri=D(I()),zi=D(xr()),Oe=y("@mui/material"),mo=D(I());var ma=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o})=>{var m,l;let{onSubmit:a,...i}=o||{},{register:n,watch:u,handleSubmit:v,formState:{errors:c}}=(0,zi.useForm)({...i}),d=(0,Ri.useActiveAuthProvider)(),{mutate:g,isLoading:E}=(0,mo.useUpdatePassword)({v3LegacyAuthProviderCompatible:Boolean(d==null?void 0:d.isLegacy)}),p=(0,mo.useTranslate)(),s=nt.createElement(Oe.Card,{...t!=null?t:{}},nt.createElement(Oe.CardContent,{sx:{paddingX:"32px"}},nt.createElement(Oe.Typography,{component:"h1",variant:"h5",align:"center",style:Vt,color:"primary"},p("pages.updatePassword.title","Set New Password")),nt.createElement(Oe.Box,{component:"form",onSubmit:v(f=>a?a(f):g(f)),gap:"16px"},nt.createElement(Oe.TextField,{...n("password",{required:!0}),id:"password",margin:"normal",fullWidth:!0,name:"password",label:p("pages.updatePassword.fields.password","New Password"),helperText:(m=c==null?void 0:c.password)==null?void 0:m.message,error:!!(c!=null&&c.password),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-password"}),nt.createElement(Oe.TextField,{...n("confirmPassword",{required:!0,validate:f=>u("password")!==f?p("pages.updatePassword.errors.confirmPasswordNotMatch","Passwords do not match"):!0}),id:"confirmPassword",margin:"normal",fullWidth:!0,name:"confirmPassword",label:p("pages.updatePassword.fields.confirmPassword","Confirm New Password"),helperText:(l=c==null?void 0:c.confirmPassword)==null?void 0:l.message,error:!!(c!=null&&c.confirmPassword),type:"password",placeholder:"\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF\u25CF",autoComplete:"current-confirm-password"}),nt.createElement(Oe.Button,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:"8px"},disabled:E},p("pages.updatePassword.buttons.submit","Update")))));return nt.createElement(nt.Fragment,null,nt.createElement(Oe.Box,{component:"div",style:It,...e!=null?e:{}},nt.createElement(Oe.Container,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100vh"}},r?r(s):s)))};var lc=e=>{let{type:t}=e;return sr.default.createElement(sr.default.Fragment,null,(()=>{switch(t){case"register":return sr.default.createElement(ca,{...e});case"forgotPassword":return sr.default.createElement(pa,{...e});case"updatePassword":return sr.default.createElement(ma,{...e});default:return sr.default.createElement(da,{...e})}})())};var it=D(y("react")),ze=D(I()),Qe=y("@mui/material"),Qi=D(y("@mui/icons-material/ArrowBack"));var sc=({title:e,children:t,saveButtonProps:r,resource:o,isLoading:a=!1,breadcrumb:i,wrapperProps:n,headerProps:u,contentProps:v,headerButtonProps:c,headerButtons:d,footerButtonProps:g,footerButtons:E,goBack:p})=>{var C,w,B,M,k,q;let s=(0,ze.useTranslate)(),{options:{breadcrumb:m}={}}=(0,ze.useRefineContext)(),l=(0,ze.useRouterType)(),f=(0,ze.useBack)(),{goBack:b}=(0,ze.useNavigation)(),{resource:h,action:x}=(0,ze.useResource)(o),P=typeof i>"u"?m:i,L=typeof P<"u"?(C=it.default.createElement(it.default.Fragment,null,P))!=null?C:void 0:it.default.createElement(Kt,null),S=it.default.createElement(Fr,{...a?{disabled:!0}:{},...r});return it.default.createElement(Qe.Card,{...n!=null?n:{}},L,it.default.createElement(Qe.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:it.default.createElement(Qe.Typography,{variant:"h5"},s(`${h==null?void 0:h.name}.titles.create`,`Create ${(0,ze.userFriendlyResourceName)((q=(k=(M=(w=h==null?void 0:h.meta)==null?void 0:w.label)!=null?M:(B=h==null?void 0:h.options)==null?void 0:B.label)!=null?k:h==null?void 0:h.label)!=null?q:h==null?void 0:h.name,"singular")}`)),avatar:typeof p<"u"?p:it.default.createElement(Qe.IconButton,{onClick:x!=="list"||typeof x<"u"?l==="legacy"?b:f:void 0},it.default.createElement(Qi.default,null)),action:d?it.default.createElement(Qe.Box,{display:"flex",gap:"16px",...c!=null?c:{}},d?typeof d=="function"?d({defaultButtons:null}):d:null):void 0,...u!=null?u:{}}),it.default.createElement(Qe.CardContent,{...v!=null?v:{}},t),it.default.createElement(Qe.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...g!=null?g:{}},E?typeof E=="function"?E({defaultButtons:S}):E:S))};var he=D(y("react")),be=D(I()),je=y("@mui/material"),ji=D(y("@mui/icons-material/ArrowBack"));var uc=({title:e,saveButtonProps:t,mutationMode:r,recordItemId:o,children:a,deleteButtonProps:i,canDelete:n,resource:u,isLoading:v=!1,breadcrumb:c,dataProviderName:d,wrapperProps:g,headerProps:E,contentProps:p,headerButtonProps:s,headerButtons:m,footerButtonProps:l,footerButtons:f,goBack:b})=>{var Q,K,te,Y,j,_,xe,ce,le,Ze,Xe;let h=(0,be.useTranslate)(),{options:{breadcrumb:x}={}}=(0,be.useRefineContext)(),{mutationMode:P}=(0,be.useMutationMode)(),L=r!=null?r:P,S=(0,be.useRouterType)(),C=(0,be.useBack)(),w=(0,be.useGo)(),{goBack:B,list:M}=(0,be.useNavigation)(),{resource:k,action:q,id:N}=(0,be.useResource)(u),$=(0,be.useToPath)({resource:k,action:"list"}),A=o!=null?o:N,F=typeof c>"u"?x:c,U=n!=null?n:((K=(Q=k==null?void 0:k.meta)==null?void 0:Q.canDelete)!=null?K:k==null?void 0:k.canDelete)||i,R=typeof F<"u"?(te=he.default.createElement(he.default.Fragment,null,F))!=null?te:void 0:he.default.createElement(Kt,null),G=he.default.createElement(he.default.Fragment,null,!o&&he.default.createElement($r,{...v?{disabled:!0}:{},resource:S==="legacy"?k==null?void 0:k.route:(Y=k==null?void 0:k.identifier)!=null?Y:k==null?void 0:k.name}),he.default.createElement(Nr,{...v?{disabled:!0}:{},resource:S==="legacy"?k==null?void 0:k.route:(j=k==null?void 0:k.identifier)!=null?j:k==null?void 0:k.name,recordItemId:A,dataProviderName:d})),z=he.default.createElement(he.default.Fragment,null,U&&(A||(i==null?void 0:i.recordItemId))&&he.default.createElement(Or,{...v?{disabled:!0}:{},resource:S==="legacy"?k==null?void 0:k.route:(_=k==null?void 0:k.identifier)!=null?_:k==null?void 0:k.name,mutationMode:L,variant:"outlined",onSuccess:()=>{var Dt,Ne;S==="legacy"?M((Ne=(Dt=k==null?void 0:k.route)!=null?Dt:k==null?void 0:k.name)!=null?Ne:""):w({to:$})},recordItemId:A,dataProviderName:d,...i}),he.default.createElement(Fr,{...v?{disabled:!0}:{},...t}));return he.default.createElement(je.Card,{...g!=null?g:{}},R,he.default.createElement(je.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:he.default.createElement(je.Typography,{variant:"h5"},h(`${k==null?void 0:k.name}.titles.edit`,`Edit ${(0,be.userFriendlyResourceName)((Xe=(Ze=(le=(xe=k==null?void 0:k.meta)==null?void 0:xe.label)!=null?le:(ce=k==null?void 0:k.options)==null?void 0:ce.label)!=null?Ze:k==null?void 0:k.label)!=null?Xe:k==null?void 0:k.name,"singular")}`)),avatar:typeof b<"u"?b:he.default.createElement(je.IconButton,{onClick:q!=="list"&&typeof q<"u"?S==="legacy"?B:C:void 0},he.default.createElement(ji.default,null)),action:he.default.createElement(je.Box,{display:"flex",gap:"16px",...s!=null?s:{}},m?typeof m=="function"?m({defaultButtons:G}):m:G),...E!=null?E:{}}),he.default.createElement(je.CardContent,{...p!=null?p:{}},a),he.default.createElement(je.CardActions,{sx:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"16px"},...l!=null?l:{}},f?typeof f=="function"?f({defaultButtons:z}):f:z))};var kt=D(y("react")),Tt=D(I()),Bt=y("@mui/material");var dc=({title:e,canCreate:t,children:r,createButtonProps:o,resource:a,breadcrumb:i,wrapperProps:n,headerProps:u,contentProps:v,headerButtonProps:c,headerButtons:d})=>{var h,x,P,L,S,C,w,B;let g=(0,Tt.useTranslate)(),{options:{breadcrumb:E}={}}=(0,Tt.useRefineContext)(),p=(0,Tt.useRouterType)(),{resource:s}=(0,Tt.useResource)(a),m=t!=null?t:((h=s==null?void 0:s.canCreate)!=null?h:!!(s!=null&&s.create))||o,l=typeof i>"u"?E:i,f=typeof l<"u"?(x=kt.default.createElement(kt.default.Fragment,null,l))!=null?x:void 0:kt.default.createElement(Kt,null),b=m?kt.default.createElement(fa,{resource:p==="legacy"?s==null?void 0:s.route:(P=s==null?void 0:s.identifier)!=null?P:s==null?void 0:s.name,...o}):null;return kt.default.createElement(Bt.Card,{...n!=null?n:{}},f,kt.default.createElement(Bt.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:kt.default.createElement(Bt.Typography,{variant:"h5"},g(`${s==null?void 0:s.name}.titles.list`,(0,Tt.userFriendlyResourceName)((B=(w=(C=(L=s==null?void 0:s.meta)==null?void 0:L.label)!=null?C:(S=s==null?void 0:s.options)==null?void 0:S.label)!=null?w:s==null?void 0:s.label)!=null?B:s==null?void 0:s.name,"plural"))),action:kt.default.createElement(Bt.Box,{display:"flex",gap:"16px",...c},d?typeof d=="function"?d({defaultButtons:b}):d:b),...u!=null?u:{}}),kt.default.createElement(Bt.CardContent,{...v!=null?v:{}},r))};var Te=D(y("react")),Be=D(I()),He=y("@mui/material"),Hi=D(y("@mui/icons-material/ArrowBack"));var cc=({title:e,canEdit:t,canDelete:r,isLoading:o=!1,children:a,resource:i,recordItemId:n,breadcrumb:u,dataProviderName:v,wrapperProps:c,headerProps:d,contentProps:g,headerButtonProps:E,headerButtons:p,footerButtonProps:s,footerButtons:m,goBack:l})=>{var U,R,G,z,Q,K,te,Y,j,_,xe,ce,le;let f=(0,Be.useTranslate)(),{options:{breadcrumb:b}={}}=(0,Be.useRefineContext)(),h=(0,Be.useRouterType)(),x=(0,Be.useBack)(),P=(0,Be.useGo)(),{goBack:L,list:S}=(0,Be.useNavigation)(),{resource:C,action:w,id:B}=(0,Be.useResource)(i),M=(0,Be.useToPath)({resource:C,action:"list"}),k=n!=null?n:B,q=typeof u>"u"?b:u,N=(R=r!=null?r:(U=C==null?void 0:C.meta)==null?void 0:U.canDelete)!=null?R:C==null?void 0:C.canDelete,$=(G=t!=null?t:C==null?void 0:C.canEdit)!=null?G:!!(C!=null&&C.edit),A=typeof q<"u"?(z=Te.default.createElement(Te.default.Fragment,null,q))!=null?z:void 0:Te.default.createElement(Kt,null),F=Te.default.createElement(Te.default.Fragment,null,!n&&Te.default.createElement($r,{...o?{disabled:!0}:{},resource:h==="legacy"?C==null?void 0:C.route:(Q=C==null?void 0:C.identifier)!=null?Q:C==null?void 0:C.name}),$&&Te.default.createElement(va,{...o?{disabled:!0}:{},resource:h==="legacy"?C==null?void 0:C.route:(K=C==null?void 0:C.identifier)!=null?K:C==null?void 0:C.name,recordItemId:k}),N&&typeof k<"u"&&Te.default.createElement(Or,{...o?{disabled:!0}:{},resource:h==="legacy"?C==null?void 0:C.route:(te=C==null?void 0:C.identifier)!=null?te:C==null?void 0:C.name,recordItemId:k,onSuccess:()=>{var Ze,Xe;h==="legacy"?S((Xe=(Ze=C==null?void 0:C.route)!=null?Ze:C==null?void 0:C.name)!=null?Xe:""):P({to:M})},dataProviderName:v}),Te.default.createElement(Nr,{...o?{disabled:!0}:{},resource:h==="legacy"?C==null?void 0:C.route:(Y=C==null?void 0:C.identifier)!=null?Y:C==null?void 0:C.name,recordItemId:k,dataProviderName:v}));return Te.default.createElement(He.Card,{...c!=null?c:{}},A,Te.default.createElement(He.CardHeader,{sx:{display:"flex",flexWrap:"wrap"},title:e!=null?e:Te.default.createElement(He.Typography,{variant:"h5"},f(`${C==null?void 0:C.name}.titles.show`,`Show ${(0,Be.userFriendlyResourceName)((le=(ce=(xe=(j=C==null?void 0:C.meta)==null?void 0:j.label)!=null?xe:(_=C==null?void 0:C.options)==null?void 0:_.label)!=null?ce:C==null?void 0:C.label)!=null?le:C==null?void 0:C.name,"singular")}`)),avatar:typeof l<"u"?l:Te.default.createElement(He.IconButton,{onClick:w!=="list"&&typeof w<"u"?h==="legacy"?L:x:void 0},Te.default.createElement(Hi.default,null)),action:Te.default.createElement(He.Box,{display:"flex",gap:"16px",...E!=null?E:{}},p?typeof p=="function"?p({defaultButtons:F}):p:F),...d!=null?d:{}}),Te.default.createElement(He.CardContent,{...g!=null?g:{}},a),Te.default.createElement(He.CardActions,{sx:{padding:"16px"},...s!=null?s:{}},m?typeof m=="function"?m({defaultButtons:null}):m:null))};var Wr=D(y("react")),Ge=D(I()),Vi=D(Ct()),Ki=y("@mui/material"),ya=y("@mui/icons-material"),fa=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,svgIconProps:a,meta:i,children:n,onClick:u,...v})=>{var S,C;let c=(S=o==null?void 0:o.enabled)!=null?S:!0,d=(C=o==null?void 0:o.hideIfUnauthorized)!=null?C:!1,g=(0,Ge.useTranslate)(),E=(0,Ge.useRouterType)(),p=(0,Ge.useLink)(),{Link:s}=(0,Ge.useRouterContext)(),m=E==="legacy"?s:p,{createUrl:l}=(0,Ge.useNavigation)(),{resource:f}=(0,Ge.useResource)(e!=null?e:t),{data:b}=(0,Ge.useCan)({resource:f==null?void 0:f.name,action:"create",queryOptions:{enabled:c},params:{resource:f}}),h=()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:g("buttons.notAccessTitle","You don't have permission to access"),x=f?l(f,i):"",{sx:P,...L}=v;return c&&d&&!(b!=null&&b.can)?null:Wr.default.createElement(m,{to:x,replace:!1,onClick:w=>{if((b==null?void 0:b.can)===!1){w.preventDefault();return}u&&(w.preventDefault(),u(w))},style:{textDecoration:"none"}},Wr.default.createElement(Ki.Button,{disabled:(b==null?void 0:b.can)===!1,startIcon:!r&&Wr.default.createElement(ya.AddBoxOutlined,{...a}),title:h(),variant:"contained",sx:{minWidth:0,...P},...L},r?Wr.default.createElement(ya.AddBoxOutlined,{fontSize:"small",...a}):n!=null?n:g("buttons.create","Create")))};var Ur=D(y("react")),Ie=D(I()),_i=D(Ct()),Yi=y("@mui/material"),ha=y("@mui/icons-material"),va=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:i,meta:n,children:u,onClick:v,...c})=>{var w,B;let d=(w=a==null?void 0:a.enabled)!=null?w:!0,g=(B=a==null?void 0:a.hideIfUnauthorized)!=null?B:!1,E=(0,Ie.useTranslate)(),p=(0,Ie.useRouterType)(),s=(0,Ie.useLink)(),{Link:m}=(0,Ie.useRouterContext)(),l=p==="legacy"?m:s,{editUrl:f}=(0,Ie.useNavigation)(),{id:b,resource:h}=(0,Ie.useResource)(e!=null?e:t),{data:x}=(0,Ie.useCan)({resource:h==null?void 0:h.name,action:"edit",params:{id:r!=null?r:b,resource:h},queryOptions:{enabled:d}}),P=()=>x!=null&&x.can?"":x!=null&&x.reason?x.reason:E("buttons.notAccessTitle","You don't have permission to access"),L=h&&(r!=null?r:b)?f(h,r!=null?r:b,n):"",{sx:S,...C}=c;return d&&g&&!(x!=null&&x.can)?null:Ur.default.createElement(l,{to:L,replace:!1,onClick:M=>{if((x==null?void 0:x.can)===!1){M.preventDefault();return}v&&(M.preventDefault(),v(M))},style:{textDecoration:"none"}},Ur.default.createElement(Yi.Button,{disabled:(x==null?void 0:x.can)===!1,startIcon:!o&&Ur.default.createElement(ha.EditOutlined,{sx:{selfAlign:"center"},...i}),title:P(),sx:{minWidth:0,...S},...C},o?Ur.default.createElement(ha.EditOutlined,{fontSize:"small",...i}):u!=null?u:E("buttons.edit","Edit")))};var Pt=D(y("react")),lt=D(I()),Zi=D(Ct()),Nt=y("@mui/material"),Xi=y("@mui/lab"),ba=y("@mui/icons-material"),Or=({resource:e,resourceNameOrRouteName:t,recordItemId:r,onSuccess:o,mutationMode:a,children:i,successNotification:n,errorNotification:u,hideText:v=!1,accessControl:c,meta:d,metaData:g,dataProviderName:E,confirmTitle:p,confirmOkText:s,confirmCancelText:m,svgIconProps:l,invalidates:f,...b})=>{var z,Q;let h=(z=c==null?void 0:c.enabled)!=null?z:!0,x=(Q=c==null?void 0:c.hideIfUnauthorized)!=null?Q:!1,P=(0,lt.useTranslate)(),{id:L,resource:S}=(0,lt.useResource)(e!=null?e:t),{mutationMode:C}=(0,lt.useMutationMode)(),w=a!=null?a:C,{mutate:B,isLoading:M,variables:k}=(0,lt.useDelete)(),{data:q}=(0,lt.useCan)({resource:S==null?void 0:S.name,action:"delete",params:{id:r!=null?r:L,resource:S},queryOptions:{enabled:h}}),[N,$]=Pt.default.useState(!1),A=()=>{$(!0)},F=()=>{$(!1)},U=()=>{var K;(r!=null?r:L)&&(S==null?void 0:S.name)&&($(!1),B({id:(K=r!=null?r:L)!=null?K:"",resource:S==null?void 0:S.name,mutationMode:w,successNotification:n,errorNotification:u,meta:(0,lt.pickNotDeprecated)(d,g),metaData:(0,lt.pickNotDeprecated)(d,g),dataProviderName:E,invalidates:f},{onSuccess:te=>{o&&o(te)}}))},{sx:R,...G}=b;return h&&x&&!(q!=null&&q.can)?null:Pt.default.createElement("div",null,Pt.default.createElement(Xi.LoadingButton,{color:"error",onClick:A,disabled:(q==null?void 0:q.can)===!1,loading:(r!=null?r:L)===(k==null?void 0:k.id)&&M,startIcon:!v&&Pt.default.createElement(ba.DeleteOutline,{...l}),sx:{minWidth:0,...R},loadingPosition:v?"center":"start",...G},v?Pt.default.createElement(ba.DeleteOutline,{fontSize:"small",...l}):i!=null?i:P("buttons.delete","Delete")),Pt.default.createElement(Nt.Dialog,{open:N,onClose:F,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},Pt.default.createElement(Nt.DialogTitle,{id:"alert-dialog-title"},p!=null?p:P("buttons.confirm","Are you sure?")),Pt.default.createElement(Nt.DialogActions,{sx:{justifyContent:"center"}},Pt.default.createElement(Nt.Button,{onClick:F},m!=null?m:P("buttons.cancel","Cancel")),Pt.default.createElement(Nt.Button,{color:"error",onClick:U,autoFocus:!0},s!=null?s:P("buttons.delete","Delete")))))};var fo=D(y("react")),$t=D(I()),Ji=D(Ct()),el=y("@mui/lab"),xa=y("@mui/icons-material"),Nr=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,meta:a,metaData:i,dataProviderName:n,svgIconProps:u,children:v,onClick:c,...d})=>{var b;let{resource:g,id:E}=(0,$t.useResource)(e!=null?e:t),p=(0,$t.useTranslate)(),{refetch:s,isFetching:m}=(0,$t.useOne)({resource:g==null?void 0:g.name,id:(b=r!=null?r:E)!=null?b:"",queryOptions:{enabled:!1},meta:(0,$t.pickNotDeprecated)(a,i),metaData:(0,$t.pickNotDeprecated)(a,i),liveMode:"off",dataProviderName:n}),{sx:l,...f}=d;return fo.default.createElement(el.LoadingButton,{startIcon:!o&&fo.default.createElement(xa.RefreshOutlined,{...u}),loading:m,loadingPosition:o?"center":"start",onClick:h=>c?c(h):s(),sx:{minWidth:0,...l},...f},o?fo.default.createElement(xa.RefreshOutlined,{fontSize:"small",...u}):v!=null?v:p("buttons.refresh","Refresh"))};var Rr=D(y("react")),Ve=D(I()),tl=D(Ct()),rl=y("@mui/material"),Ca=y("@mui/icons-material"),bc=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:i,meta:n,children:u,onClick:v,...c})=>{var w,B;let d=(w=a==null?void 0:a.enabled)!=null?w:!0,g=(B=a==null?void 0:a.hideIfUnauthorized)!=null?B:!1,{showUrl:E}=(0,Ve.useNavigation)(),p=(0,Ve.useRouterType)(),s=(0,Ve.useLink)(),{Link:m}=(0,Ve.useRouterContext)(),l=p==="legacy"?m:s,f=(0,Ve.useTranslate)(),{id:b,resource:h}=(0,Ve.useResource)(e!=null?e:t),{data:x}=(0,Ve.useCan)({resource:h==null?void 0:h.name,action:"show",params:{id:r!=null?r:b,resource:h},queryOptions:{enabled:d}}),P=()=>x!=null&&x.can?"":x!=null&&x.reason?x.reason:f("buttons.notAccessTitle","You don't have permission to access"),L=h&&(r||b)?E(h,r!=null?r:b,n):"",{sx:S,...C}=c;return d&&g&&!(x!=null&&x.can)?null:Rr.default.createElement(l,{to:L,replace:!1,onClick:M=>{if((x==null?void 0:x.can)===!1){M.preventDefault();return}v&&(M.preventDefault(),v(M))},style:{textDecoration:"none"}},Rr.default.createElement(rl.Button,{disabled:(x==null?void 0:x.can)===!1,startIcon:!o&&Rr.default.createElement(Ca.VisibilityOutlined,{...i}),title:P(),sx:{minWidth:0,...S},...C},o?Rr.default.createElement(Ca.VisibilityOutlined,{fontSize:"small",...i}):u!=null?u:f("buttons.show","Show")))};var zr=D(y("react")),De=D(I()),ol=D(Ct()),al=y("@mui/material"),Pa=y("@mui/icons-material"),$r=({resource:e,resourceNameOrRouteName:t,hideText:r=!1,accessControl:o,svgIconProps:a,meta:i,children:n,onClick:u,...v})=>{var S,C,w,B,M,k,q,N;let c=(S=o==null?void 0:o.enabled)!=null?S:!0,d=(C=o==null?void 0:o.hideIfUnauthorized)!=null?C:!1,{listUrl:g}=(0,De.useNavigation)(),E=(0,De.useRouterType)(),p=(0,De.useLink)(),{Link:s}=(0,De.useRouterContext)(),m=E==="legacy"?s:p,l=(0,De.useTranslate)(),{resource:f}=(0,De.useResource)(e!=null?e:t),{data:b}=(0,De.useCan)({resource:f==null?void 0:f.name,action:"list",queryOptions:{enabled:c},params:{resource:f}}),h=()=>b!=null&&b.can?"":b!=null&&b.reason?b.reason:l("buttons.notAccessTitle","You don't have permission to access"),x=f?g(f,i):"",{sx:P,...L}=v;return c&&d&&!(b!=null&&b.can)?null:zr.default.createElement(m,{to:x,replace:!1,onClick:$=>{if((b==null?void 0:b.can)===!1){$.preventDefault();return}u&&($.preventDefault(),u($))},style:{textDecoration:"none"}},zr.default.createElement(al.Button,{disabled:(b==null?void 0:b.can)===!1,startIcon:!r&&zr.default.createElement(Pa.ListOutlined,{...a}),title:h(),sx:{minWidth:0,...P},...L},r?zr.default.createElement(Pa.ListOutlined,{fontSize:"small",...a}):n!=null?n:l(`${(B=(w=f==null?void 0:f.name)!=null?w:e)!=null?B:t}.titles.list`,(0,De.userFriendlyResourceName)((N=(q=(k=(M=f==null?void 0:f.meta)==null?void 0:M.label)!=null?k:f==null?void 0:f.label)!=null?q:f==null?void 0:f.name)!=null?N:(0,De.pickNotDeprecated)(e,t),"plural"))))};var vo=D(y("react")),nl=D(I()),il=D(Ct()),ll=y("@mui/lab"),Ea=y("@mui/icons-material"),xc=({hideText:e=!1,children:t,loading:r=!1,svgIconProps:o,...a})=>{let i=(0,nl.useTranslate)(),{sx:n,...u}=a;return vo.default.createElement(ll.LoadingButton,{...a,loading:r,startIcon:!e&&vo.default.createElement(Ea.ImportExportOutlined,{...o}),loadingPosition:e?"center":"start",sx:{minWidth:0,...n},...u},e?vo.default.createElement(Ea.ImportExportOutlined,{fontSize:"small",...o}):t!=null?t:i("buttons.export","Export"))};var go=D(y("react")),sl=D(I()),ul=D(Ct()),dl=y("@mui/lab"),La=y("@mui/icons-material"),Fr=({hideText:e=!1,svgIconProps:t,children:r,...o})=>{let a=(0,sl.useTranslate)(),{sx:i,...n}=o;return go.default.createElement(dl.LoadingButton,{startIcon:!e&&go.default.createElement(La.SaveOutlined,{...t}),sx:{minWidth:0,...i},variant:"contained",...n},e?go.default.createElement(La.SaveOutlined,{fontSize:"small",...t}):r!=null?r:a("buttons.save","Save"))};var Qr=D(y("react")),Ke=D(I()),cl=D(Ct()),pl=y("@mui/material"),Sa=y("@mui/icons-material"),Cc=({resource:e,resourceNameOrRouteName:t,recordItemId:r,hideText:o=!1,accessControl:a,svgIconProps:i,meta:n,children:u,onClick:v,...c})=>{var w,B;let d=(w=a==null?void 0:a.enabled)!=null?w:!0,g=(B=a==null?void 0:a.hideIfUnauthorized)!=null?B:!1,{cloneUrl:E}=(0,Ke.useNavigation)(),p=(0,Ke.useRouterType)(),s=(0,Ke.useLink)(),{Link:m}=(0,Ke.useRouterContext)(),l=p==="legacy"?m:s,f=(0,Ke.useTranslate)(),{id:b,resource:h}=(0,Ke.useResource)(e!=null?e:t),{data:x}=(0,Ke.useCan)({resource:h==null?void 0:h.name,action:"create",params:{id:r!=null?r:b,resource:h},queryOptions:{enabled:d}}),P=()=>x!=null&&x.can?"":x!=null&&x.reason?x.reason:f("buttons.notAccessTitle","You don't have permission to access"),L=h&&(r||b)?E(h,r!=null?r:b,n):"",{sx:S,...C}=c;return d&&g&&!(x!=null&&x.can)?null:Qr.default.createElement(l,{to:L,replace:!1,onClick:M=>{if((x==null?void 0:x.can)===!1){M.preventDefault();return}v&&(M.preventDefault(),v(M))},style:{textDecoration:"none"}},Qr.default.createElement(pl.Button,{disabled:(x==null?void 0:x.can)===!1,startIcon:!o&&Qr.default.createElement(Sa.AddBoxOutlined,{...i}),title:P(),sx:{minWidth:0,...S},...C},o?Qr.default.createElement(Sa.AddBoxOutlined,{fontSize:"small",...i}):u!=null?u:f("buttons.clone","Clone")))};var Pr=D(y("react")),ml=D(I()),fl=D(Ct()),vl=y("@mui/lab"),wa=y("@mui/icons-material"),Pc=({inputProps:e,hideText:t=!1,loading:r=!1,svgIconProps:o,children:a,...i})=>{let n=(0,ml.useTranslate)(),{sx:u,...v}=i;return Pr.default.createElement("label",{htmlFor:"contained-button-file"},Pr.default.createElement("input",{...e,id:"contained-button-file",multiple:!0,hidden:!0}),Pr.default.createElement(vl.LoadingButton,{component:"span",startIcon:!t&&Pr.default.createElement(wa.ImportExportOutlined,{...o}),loadingPosition:t?"center":"start",loading:r,sx:{minWidth:0,...u},...v},t?Pr.default.createElement(wa.ImportExportOutlined,{fontSize:"small",...o}):a!=null?a:n("buttons.import","Import")))};var _e=D(y("react")),Wt=y("@mui/material"),gl=({undoableTimeout:e,message:t})=>{let[r,o]=(0,_e.useState)(100),[a,i]=(0,_e.useState)(e);return(0,_e.useEffect)(()=>{let n=100/e,u=setInterval(()=>{i(v=>v-1),o(v=>v-n)},1e3);return a===0&&clearInterval(u),()=>{clearInterval(u)}},[a]),_e.default.createElement(_e.default.Fragment,null,_e.default.createElement(Wt.Box,{sx:{position:"relative",display:"inline-flex"}},_e.default.createElement(Wt.CircularProgress,{color:"inherit",variant:"determinate",value:r}),_e.default.createElement(Wt.Box,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},_e.default.createElement(Wt.Typography,{component:"div"},a))),_e.default.createElement(Wt.Box,{sx:{marginLeft:"10px",maxWidth:{xs:"150px",md:"100%"}}},_e.default.createElement(Wt.Typography,{variant:"subtitle2"},t)))};var yl=D(y("react")),hl=y("@mui/material"),Ec=({value:e,...t})=>yl.default.createElement(hl.Typography,{variant:"body2",...t},e);var bl=D(y("react")),xl=y("@mui/material"),Lc=({value:e,...t})=>bl.default.createElement(xl.Chip,{label:e==null?void 0:e.toString(),...t});var ka=D(y("react")),yo=y("@mui/material"),Sc=({value:e,...t})=>ka.default.createElement(yo.Typography,{variant:"body2"},ka.default.createElement(yo.Link,{href:`mailto:${e}`,...t},e));var Er=D(y("react")),Cl=y("@mui/material"),ho=y("@mui/icons-material"),wc=({value:e,valueLabelTrue:t="true",valueLabelFalse:r="false",trueIcon:o,falseIcon:a,svgIconProps:i,...n})=>Er.default.createElement(Cl.Tooltip,{title:e?t:r,...n},e?Er.default.createElement("span",null,o!=null?o:Er.default.createElement(ho.CheckOutlined,{...i})):Er.default.createElement("span",null,a!=null?a:Er.default.createElement(ho.CloseOutlined,{...i})));var Pl=D(y("react")),bo=D(y("dayjs")),El=D(y("dayjs/plugin/localizedFormat")),Ll=y("@mui/material");bo.default.extend(El.default);var kc=bo.default.locale(),Tc=({value:e,locales:t,format:r="L",...o})=>Pl.default.createElement(Ll.Typography,{variant:"body2",...o},(0,bo.default)(e).locale(t||kc).format(r));var Sl=D(y("react"));var Bc=({title:e,src:t,...r})=>Sl.default.createElement(Ta,{value:t,title:e,...r},e!=null?e:t);var Ba=D(y("react")),xo=y("@mui/material"),Ta=({children:e,value:t,...r})=>Ba.default.createElement(xo.Typography,{variant:"body2"},Ba.default.createElement(xo.Link,{href:t,...r},e!=null?e:t));var wl=D(y("react")),kl=y("@mui/material");function Dc(){return!!(typeof Intl=="object"&&Intl&&typeof Intl.NumberFormat=="function")}var Mc=({value:e,locale:t,options:r,...o})=>{let a=parseFloat(e.toString());return wl.default.createElement(kl.Typography,{variant:"body2",...o},Dc()?a.toLocaleString(t,r):a)};var Tl=D(y("react")),Bl=D(y("react-markdown")),Dl=D(y("remark-gfm")),qc=({value:e=""})=>Tl.default.createElement(Bl.default,{plugins:[Dl.default]},e);var _t=D(y("react")),Ye=D(I()),Yt=y("@mui/material"),Ml=y("@mui/icons-material"),Kt=({breadcrumbProps:e,showHome:t=!0,hideIcons:r=!1,meta:o})=>{var p,s,m,l;let{breadcrumbs:a}=(0,Ye.useBreadcrumb)({meta:o}),i=(0,Ye.useRouterType)(),n=(0,Ye.useLink)(),{Link:u}=(0,Ye.useRouterContext)(),v=i==="legacy"?u:n,{hasDashboard:c}=(0,Ye.useRefineContext)(),{resources:d}=(0,Ye.useResource)(),g=(0,Ye.matchResourceFromRoute)("/",d);if(a.length===1)return null;let E=f=>_t.default.createElement(Yt.Link,{...f,component:v});return _t.default.createElement(Yt.Breadcrumbs,{"aria-label":"breadcrumb",sx:{paddingY:2,paddingX:2,...(p=e==null?void 0:e.sx)!=null?p:{}},...e},t&&(c||g.found)&&_t.default.createElement(E,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",to:"/"},(l=(m=(s=g==null?void 0:g.resource)==null?void 0:s.meta)==null?void 0:m.icon)!=null?l:_t.default.createElement(Ml.HomeOutlined,{sx:{fontSize:"18px"}})),a.map(({label:f,icon:b,href:h})=>_t.default.createElement(Yt.Grid,{key:f,sx:{display:"flex",alignItems:"center","& .MuiSvgIcon-root":{fontSize:"16px"}}},!r&&b,h?_t.default.createElement(E,{underline:"hover",sx:{display:"flex",alignItems:"center",fontSize:"14px"},color:"inherit",to:h,variant:"subtitle1",marginLeft:.5},f):_t.default.createElement(Yt.Typography,{fontSize:"14px"},f))))};var ql=D(I()),Al=D(y("lodash-es/isEqual")),Fl=D(y("lodash-es/unionWith")),vf=e=>{var a,i;let{queryResult:t,defaultValueQueryResult:r,onSearch:o}=(0,ql.useSelect)(e);return{autocompleteProps:{options:(0,Fl.default)(((a=t.data)==null?void 0:a.data)||[],((i=r.data)==null?void 0:i.data)||[],Al.default),loading:t.isFetching||r.isFetching,onInputChange:(n,u)=>{(n==null?void 0:n.type)==="change"&&o(u)},filterOptions:n=>n},onSearch:o,queryResult:t,defaultValueQueryResult:r}};var Da=y("react"),Ut=D(I()),Lr=y("@mui/material"),Ma=D(y("lodash-es/differenceWith")),Po=D(y("lodash-es/isEqual"));var Co=y("@mui/x-data-grid"),Nl=e=>e.map(({field:r,sort:o})=>({field:r,order:o||"asc"})),$l=e=>e.map(({field:r,order:o})=>({field:r,sort:o})),Ac=e=>{if(!e)return"eq";switch(e){case"equals":case"is":case"=":return"eq";case"!=":case"not":return"ne";case">":case"after":return"gt";case">=":case"onOrAfter":return"gte";case"<":case"before":return"lt";case"<=":case"onOrBefore":return"lte";case"isEmpty":return"null";case"isNotEmpty":return"nnull";default:return e}},Wl=({items:e,linkOperator:t})=>{let r=e.map(({columnField:o,value:a,operatorValue:i})=>({field:o,value:a!=null?a:"",operator:Ac(i)}));return t===Co.GridLinkOperator.Or?[{operator:"or",value:r}]:r},Ol=(e,t)=>{switch(t){case"number":switch(e){case"eq":return"=";case"ne":return"!=";case"gt":return">";case"gte":return">=";case"lt":return"<";case"lte":return"<=";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"singleSelect":case"boolean":switch(e){case"eq":return"is";default:return e}case void 0:case"string":switch(e){case"eq":return"equals";case"contains":return"contains";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}case"date":case"dateTime":switch(e){case"eq":return"is";case"ne":return"not";case"gt":return"after";case"gte":return"onOrAfter";case"lt":return"before";case"lte":return"onOrBefore";case"null":return"isEmpty";case"nnull":return"isNotEmpty";default:return e}default:return e}},Ul=(e,t)=>{var a;let r=[],o=e.some(i=>i.operator==="or");return t&&(o?((a=e.find(n=>n.operator==="or"))==null?void 0:a.value).map(({field:n,value:u,operator:v})=>{let c=t[n];r.push({columnField:n,operatorValue:Ol(v,c),value:u===""?void 0:u,id:n+v})}):e.map(({field:i,value:n,operator:u})=>{let v=t[i];r.push({columnField:i,operatorValue:Ol(u,v),value:n===""?void 0:n,id:i+u})})),{items:r,linkOperator:o?Co.GridLinkOperator.Or:Co.GridLinkOperator.And}};function Fc({onSearch:e,initialCurrent:t,initialPageSize:r=25,pagination:o,hasPagination:a=!0,initialSorter:i,permanentSorter:n,defaultSetFilterBehavior:u="replace",initialFilter:v,permanentFilter:c,filters:d,sorters:g,syncWithLocation:E,resource:p,successNotification:s,errorNotification:m,queryOptions:l,liveMode:f,onLiveEvent:b,liveParams:h,meta:x,metaData:P,dataProviderName:L}={}){var yt,ee,Me;let S=(0,Lr.useTheme)(),C=(0,Ut.useLiveMode)(f),[w,B]=(0,Da.useState)(),{tableQueryResult:M,current:k,setCurrent:q,pageSize:N,setPageSize:$,filters:A,setFilters:F,sorters:U,setSorters:R,sorter:G,setSorter:z,pageCount:Q,createLinkForSyncWithLocation:K}=(0,Ut.useTable)({permanentSorter:n,permanentFilter:c,initialCurrent:t,initialPageSize:r,pagination:o,hasPagination:a,initialSorter:i,initialFilter:v,filters:d,sorters:g,syncWithLocation:E,defaultSetFilterBehavior:u,resource:p,successNotification:s,errorNotification:m,queryOptions:l,liveMode:f,onLiveEvent:b,liveParams:h,meta:(0,Ut.pickNotDeprecated)(x,P),metaData:(0,Ut.pickNotDeprecated)(x,P),dataProviderName:L}),[te,Y]=(0,Da.useState)(A),{data:j,isFetched:_,isLoading:xe}=M,ce=a===!1?"off":"server",le=((yt=o==null?void 0:o.mode)!=null?yt:ce)!=="off",Ze=(ee=(0,Ut.pickNotDeprecated)(g==null?void 0:g.permanent,n))!=null?ee:[],Xe=(Me=(0,Ut.pickNotDeprecated)(d==null?void 0:d.permanent,c))!=null?Me:[],Dt=de=>{le&&q(de+1)},Ne=de=>{le&&$(de)},Zt=de=>{let Pe=Nl(de);R(Pe)},Et=de=>{let Pe=Wl(de);Y(Pe),F(Pe.filter(Ae=>Ae.value!=="")),le&&q(1)},Sr=async de=>{if(e){let Pe=await e(de);Y(Pe),F(Pe.filter(Ae=>Ae.value!=="")),le&&q(1)}},Mt=()=>le?{paginationMode:"server",page:k-1,onPageChange:Dt,pageSize:N,onPageSizeChange:Ne}:{paginationMode:"client"};return{tableQueryResult:M,dataGridProps:{disableSelectionOnClick:!0,rows:(j==null?void 0:j.data)||[],loading:C==="auto"?xe:!_,rowCount:(j==null?void 0:j.total)||0,...Mt(),sortingMode:"server",sortModel:$l((0,Ma.default)(U,Ze,Po.default)),onSortModelChange:Zt,filterMode:"server",filterModel:Ul((0,Ma.default)(te,Xe,Po.default),w),onFilterModelChange:Et,onStateChange:de=>{let Pe=Object.fromEntries(Object.entries(de.columns.lookup).map(([st,Fe])=>[st,Fe.type]));!(0,Po.default)(Pe,w)&&B(Pe)},sx:{border:"none","& .MuiDataGrid-columnHeaders":{background:(0,Lr.darken)(S.palette.background.paper,.05),borderBottom:`1px solid ${(0,Lr.darken)(S.palette.background.paper,.1)}`},"& .MuiDataGrid-cell":{borderBottom:`1px solid ${(0,Lr.darken)(S.palette.background.paper,.05)}`}}},current:k,setCurrent:q,pageSize:N,setPageSize:$,pageCount:Q,sorters:U,setSorters:R,sorter:G,setSorter:z,filters:A,setFilters:F,search:Sr,createLinkForSyncWithLocation:K}}var qa=y("@mui/material");var Rl={mode:"light",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#f0f0f0",paper:"#ffffff"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#fa541c",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#0b82f0",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#626262",secondary:"#9f9f9f",disabled:"#c1c1c1"}};var zl={mode:"dark",primary:{main:"#67be23",contrastText:"#fff"},secondary:{main:"#2A132E",contrastText:"#fff"},background:{default:"#212121",paper:"#242424"},success:{main:"#67be23",contrastText:"#fff"},error:{main:"#ee2a1e",contrastText:"#fff"},warning:{main:"#fa8c16",contrastText:"#fff"},info:{main:"#1890ff",contrastText:"#fff"},divider:"rgba(0,0,0,0)",text:{primary:"#fff",secondary:"rgba(255,255,255,0.7)",disabled:"#d1d1d1"}};var Ql={fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")};var jl={shape:{borderRadius:6},typography:{...Ql}},Hf=(0,qa.createTheme)({...jl,palette:Rl,components:{MuiAppBar:{styleOverrides:{colorDefault:{backgroundColor:"#fff"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.01), rgba(255, 255, 255, 0.01))"}}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}}),Gf=(0,qa.createTheme)({...jl,palette:zl,components:{MuiPaper:{styleOverrides:{root:{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0.025), rgba(255, 255, 255, 0.025))"}}},MuiAppBar:{defaultProps:{color:"transparent"}},MuiTypography:{styleOverrides:{h5:{fontWeight:800,lineHeight:"2rem"}}}}});var Rt=D(y("react")),Hl=y("notistack");var ur=y("@mui/material"),Gl=y("@mui/icons-material"),Kf=()=>{let{closeSnackbar:e,enqueueSnackbar:t}=(0,Hl.useSnackbar)();return{open:({message:o,type:a,undoableTimeout:i,key:n,cancelMutation:u,description:v})=>{if(a==="progress"){let c=d=>Rt.default.createElement(ur.IconButton,{onClick:()=>{u==null||u(),e(d)},color:"inherit"},Rt.default.createElement(Gl.UndoOutlined,null));t(Rt.default.createElement(Rt.default.Fragment,null,Rt.default.createElement(gl,{undoableTimeout:i!=null?i:0,message:o})),{action:c,anchorOrigin:{vertical:"top",horizontal:"right"},preventDuplicate:!0,key:n,autoHideDuration:(i!=null?i:0)*1e3,disableWindowBlurListener:!0})}else t(Rt.default.createElement(ur.Box,null,Rt.default.createElement(ur.Typography,{variant:"subtitle2",component:"h6"},v),Rt.default.createElement(ur.Typography,{variant:"caption",component:"p"},o)),{variant:a,anchorOrigin:{vertical:"top",horizontal:"right"},disableWindowBlurListener:!0})},close:o=>{e(o)}}};var Il=y("@mui/material"),Vl=y("notistack"),Yf=(0,Il.styled)(Vl.SnackbarProvider)`
    &.SnackbarItem-contentRoot {
        background-color: ${e=>e.theme.palette.background.default};
        color: ${e=>e.theme.palette.primary.main};
    }
    &.SnackbarItem-variantSuccess {
        background-color: ${e=>e.theme.palette.success.main};
        color: ${e=>e.theme.palette.success.contrastText};
    }
    &.SnackbarItem-variantError {
        background-color: ${e=>e.theme.palette.error.main};
        color: ${e=>e.theme.palette.error.contrastText};
    }
    &.SnackbarItem-variantInfo {
        background-color: ${e=>e.theme.palette.info.main};
        color: ${e=>e.theme.palette.info.contrastText};
    }
    &.SnackbarItem-variantWarning {
        background-color: ${e=>e.theme.palette.warning.main};
        color: ${e=>e.theme.palette.warning.contrastText};
    }
`;})();
//# sourceMappingURL=index.js.map