(()=>{var Jn=Object.create;var rs=Object.defineProperty;var Xn=Object.getOwnPropertyDescriptor;var Zn=Object.getOwnPropertyNames;var qn=Object.getPrototypeOf,ea=Object.prototype.hasOwnProperty;var b=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var ta=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zn(t))!ea.call(e,s)&&s!==r&&rs(e,s,{get:()=>t[s],enumerable:!(o=Xn(t,s))||o.enumerable});return e};var A=(e,t,r)=>(r=e!=null?Jn(qn(e)):{},ta(t||!e||!e.__esModule?rs(r,"default",{value:e,enumerable:!0}):r,e));var Fe=A(b("react"));var at=A(b("react"));var os=at.default.createContext({}),ss=({children:e,isProvided:t,...r})=>{let{replace:o}=oe(),s=async l=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,l))}catch(d){return Promise.reject(d)}},a=async l=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,l))}catch(d){return Promise.reject(d)}},n=async l=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,l))}catch(d){return Promise.reject(d)}},i=async l=>{var p;try{return await((p=r.checkAuth)==null?void 0:p.call(r,l)),Promise.resolve()}catch(d){return d!=null&&d.redirectPath&&o(d.redirectPath),Promise.reject(d)}};return at.default.createElement(os.Provider,{value:{...r,login:s,logout:n,checkAuth:i,register:a,isProvided:t}},e)},ns=at.default.createContext({}),as=({children:e,isProvided:t,...r})=>{let o=async p=>{var d;try{return await((d=r.login)==null?void 0:d.call(r,p))}catch(c){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",c),Promise.reject(c)}},s=async p=>{var d;try{return await((d=r.register)==null?void 0:d.call(r,p))}catch(c){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",c),Promise.reject(c)}},a=async p=>{var d;try{return await((d=r.logout)==null?void 0:d.call(r,p))}catch(c){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",c),Promise.reject(c)}},n=async p=>{var d;try{let c=await((d=r.check)==null?void 0:d.call(r,p));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",c),Promise.reject(c)}},i=async p=>{var d;try{let c=await((d=r.forgotPassword)==null?void 0:d.call(r,p));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",c),Promise.reject(c)}},l=async p=>{var d;try{let c=await((d=r.updatePassword)==null?void 0:d.call(r,p));return Promise.resolve(c)}catch(c){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",c),Promise.reject(c)}};return at.default.createElement(ns.Provider,{value:{...r,login:o,logout:a,check:n,register:s,forgotPassword:i,updatePassword:l,isProvided:t}},e)},Z=()=>at.default.useContext(os),re=()=>at.default.useContext(ns);var Hr=b("@tanstack/react-query");function ra({v3LegacyAuthProviderCompatible:e=!1,options:t}={}){let{getPermissions:r}=Z(),{getPermissions:o}=re(),s=(0,Hr.useQuery)(["usePermissions"],o!=null?o:()=>Promise.resolve(void 0),{enabled:!e&&!!o,...e?{}:t}),a=(0,Hr.useQuery)(["usePermissions","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve(void 0),{enabled:e&&!!r,...e?t:{}});return e?a:s}var $r=b("@tanstack/react-query");function Wr({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=Z(),{getIdentity:o}=re(),s=(0,$r.useQuery)(["getUserIdentity"],o!=null?o:()=>Promise.resolve({}),{enabled:!e&&!!o,retry:!1,...e===!0?{}:t}),a=(0,$r.useQuery)(["getUserIdentity","v3LegacyAuthProviderCompatible"],r!=null?r:()=>Promise.resolve({}),{enabled:e&&!!r,retry:!1,...e?t:{}});return e?a:s}var Gr=b("@tanstack/react-query");var is=b("@tanstack/react-query"),xt=()=>{let e=(0,is.useQueryClient)();return async()=>{await Promise.all([e.invalidateQueries(["useAuthenticated"]),e.invalidateQueries(["getUserIdentity"]),e.invalidateQueries(["usePermissions"])])}};function rr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=H(),s=se(),{push:a}=oe(),{open:n,close:i}=Re(),{logout:l}=Z(),{logout:p}=re(),d=(0,Gr.useMutation)(["useLogout"],p,{onSuccess:async(g,x)=>{let{success:U,error:T,redirectTo:u}=g,{redirectPath:y}=x!=null?x:{},R=y!=null?y:u;U&&(i==null||i("useLogout-error")),(T||!U)&&(n==null||n(Kr(T))),await r(),R!==!1&&(o==="legacy"?a(R!=null?R:"/login"):R&&s({to:R}))},onError:g=>{n==null||n(Kr(g))},...e===!0?{}:t}),c=(0,Gr.useMutation)(["useLogout","v3LegacyAuthProviderCompatible"],l,{onSuccess:async(g,x)=>{var T;let U=(T=x==null?void 0:x.redirectPath)!=null?T:g;if(await r(),U!==!1){if(U){o==="legacy"?a(U):s({to:U});return}o==="legacy"?a("/login"):s({to:"/login"})}},onError:g=>{n==null||n(Kr(g))},...e?t:{}});return e?c:d}var Kr=e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"});var _r=b("@tanstack/react-query"),us=A(b("qs"));var cs=A(b("react"));function Mt({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=H(),s=se(),{replace:a}=oe(),n=Y(),{useLocation:i}=G(),{search:l}=i(),{close:p,open:d}=Re(),{login:c}=Z(),{login:g}=re(),x=cs.default.useMemo(()=>{var u;return o==="legacy"?us.default.parse(l,{ignoreQueryPrefix:!0}).to:(u=n.params)==null?void 0:u.to},[o,n.params,l]),U=(0,_r.useMutation)(["useLogin"],g,{onSuccess:async({success:u,redirectTo:y,error:R})=>{u&&(p==null||p("login-error")),(R||!u)&&(d==null||d(zr(R))),await r(),x&&u?o==="legacy"?a(x):s({to:x,type:"replace"}):y?o==="legacy"?a(y):s({to:y,type:"replace"}):o==="legacy"&&a("/")},onError:u=>{d==null||d(zr(u))},...e===!0?{}:t}),T=(0,_r.useMutation)(["useLogin","v3LegacyAuthProviderCompatible"],c,{onSuccess:async u=>{await r(),x&&a(x),u!==!1&&!x&&(typeof u=="string"?o==="legacy"?a(u):s({to:u,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"})),p==null||p("login-error")},onError:u=>{d==null||d(zr(u))},...e?t:{}});return e?T:U}var zr=e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"});var Yr=b("@tanstack/react-query");function Jr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=xt(),o=H(),s=se(),{replace:a}=oe(),{register:n}=Z(),{register:i}=re(),{close:l,open:p}=Re(),d=(0,Yr.useMutation)(["useRegister"],i,{onSuccess:async({success:g,redirectTo:x,error:U})=>{g&&(l==null||l("register-error")),(U||!g)&&(p==null||p(jr(U))),await r(),x?o==="legacy"?a(x):s({to:x,type:"replace"}):o==="legacy"&&a("/")},onError:g=>{p==null||p(jr(g))},...e===!0?{}:t}),c=(0,Yr.useMutation)(["useRegister","v3LegacyAuthProviderCompatible"],n,{onSuccess:async g=>{await r(),g!==!1&&(g?o==="legacy"?a(g):s({to:g,type:"replace"}):o==="legacy"?a("/"):s({to:"/",type:"replace"}),l==null||l("register-error"))},onError:g=>{p==null||p(jr(g))},...e?t:{}});return e?c:d}var jr=e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"});var Zr=b("@tanstack/react-query");function qr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=H(),o=se(),{replace:s}=oe(),{forgotPassword:a}=Z(),{forgotPassword:n}=re(),{close:i,open:l}=Re(),p=(0,Zr.useMutation)(["useForgotPassword"],n,{onSuccess:({success:c,redirectTo:g,error:x})=>{c&&(i==null||i("forgot-password-error")),(x||!c)&&(l==null||l(Xr(x))),g&&(r==="legacy"?s(g):o({to:g,type:"replace"}))},onError:c=>{l==null||l(Xr(c))},...e===!0?{}:t}),d=(0,Zr.useMutation)(["useForgotPassword","v3LegacyAuthProviderCompatible"],a,{onSuccess:c=>{c!==!1&&c&&(r==="legacy"?s(c):o({to:c,type:"replace"})),i==null||i("forgot-password-error")},onError:c=>{l==null||l(Xr(c))},...e?t:{}});return e?d:p}var Xr=e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"});var ps=A(b("react")),to=b("@tanstack/react-query"),ls=A(b("qs"));function ro({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=H(),o=se(),{replace:s}=oe(),{updatePassword:a}=Z(),{updatePassword:n}=re(),{close:i,open:l}=Re(),p=Y(),{useLocation:d}=G(),{search:c}=d(),g=ps.default.useMemo(()=>{var T;if(r==="legacy"){let u=ls.default.parse(c,{ignoreQueryPrefix:!0});return u!=null?u:{}}else return(T=p.params)!=null?T:{}},[c,p,r]),x=(0,to.useMutation)(["useUpdatePassword"],async T=>n==null?void 0:n({...g,...T}),{onSuccess:({success:T,redirectTo:u,error:y})=>{T&&(i==null||i("update-password-error")),(y||!T)&&(l==null||l(eo(y))),u&&(r==="legacy"?s(u):o({to:u,type:"replace"}))},onError:T=>{l==null||l(eo(T))},...e===!0?{}:t}),U=(0,to.useMutation)(["useUpdatePassword","v3LegacyAuthProviderCompatible"],async T=>a==null?void 0:a({...g,...T}),{onSuccess:T=>{T!==!1&&T&&(r==="legacy"?s(T):o({to:T,type:"replace"})),i==null||i("update-password-error")},onError:T=>{l==null||l(eo(T))},...e?t:{}});return e?U:x}var eo=e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"});var oo=b("@tanstack/react-query");function or({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=Z(),{check:o}=re(),s=(0,oo.useQuery)(["useAuthenticated",t],async()=>{var n;return(n=await(o==null?void 0:o(t)))!=null?n:{}},{retry:!1,enabled:!e}),a=(0,oo.useQuery)(["useAuthenticated",t,"v3LegacyAuthProviderCompatible"],async()=>{var n;return(n=await(r==null?void 0:r(t)))!=null?n:{}},{retry:!1,enabled:e});return e?a:s}var oa=or;var so=b("@tanstack/react-query");function q({v3LegacyAuthProviderCompatible:e=!1}={}){let t=H(),r=se(),{replace:o}=oe(),{checkError:s}=Z(),{onError:a}=re(),{mutate:n}=rr({v3LegacyAuthProviderCompatible:Boolean(e)}),{mutate:i}=rr({v3LegacyAuthProviderCompatible:Boolean(e)}),l=(0,so.useMutation)(["useCheckError"],a,{onSuccess:({logout:d,redirectTo:c})=>{if(d){i({redirectPath:c});return}if(c){t==="legacy"?o(c):r({to:c,type:"replace"});return}}}),p=(0,so.useMutation)(["useCheckError","v3LegacyAuthProviderCompatible"],s,{onError:d=>{n({redirectPath:d})}});return e?p:l}var sa=q;var no=()=>{let{isProvided:e}=Z(),{isProvided:t}=re();return Boolean(t||e)};var vs=b("@tanstack/react-query");var At=e=>e/1e3;var ds=A(b("lodash/zip")),ms=A(b("lodash/fromPairs")),sr=(e,t=r=>r)=>{let[r,...o]=e;return o.map(s=>(0,ms.default)((0,ds.default)(r,s))).map((s,a,n)=>t.call(void 0,s,a,n))};var uo=A(b("pluralize"));var nr=A(b("qs")),ao=A(b("lodash/unionWith")),io=A(b("lodash/differenceWith")),fs=A(b("warn-once"));var ar=e=>{var n;let{current:t,pageSize:r,sorter:o,sorters:s,filters:a}=nr.default.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:(n=h(s,o))!=null?n:[],parsedFilters:a!=null?a:[]}},na=e=>{let t=nr.default.stringify(e);return ar(`/${t}`)},ir=e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:o,sorters:s,filters:a,...n}=e;return nr.default.stringify({...n,...r||{},sorters:h(s,o),filters:a},t)},ys=(e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)==("field"in t?t.field:void 0)&&e.operator==t.operator:("key"in e?e.key:void 0)==("key"in t?t.key:void 0)&&e.operator==t.operator,gs=(e,t)=>e.field==t.field,Ct=(e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&(0,fs.default)(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),(0,ao.default)(e,t,r,ys).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),ur=(e,t)=>(0,ao.default)(e,t,gs).filter(r=>r.order!==void 0&&r.order!==null),cr=(e,t)=>[...(0,io.default)(t,e,ys),...e],pr=(e,t)=>[...(0,io.default)(t,e,gs),...e],aa=(e,t)=>{if(!t)return;let r=t.find(o=>o.field===e);if(r)return r.order},ia=(e,t,r="eq")=>{let o=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:a,field:n}=s;return n===e&&a===r}});if(o)return o.value||[]};var ua=e=>new Promise((t,r)=>{let o=new FileReader,s=()=>{o.result&&(o.removeEventListener("load",s,!1),t(o.result))};o.addEventListener("load",s,!1),o.readAsDataURL(e.originFileObj),o.onerror=a=>(o.removeEventListener("load",s,!1),r(a))});var Pt=(e="",t)=>{let r=it(e);return t==="singular"?uo.default.singular(r):uo.default.plural(r)};var Ts=(e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e;var h=(...e)=>e.find(t=>typeof t<"u");var J=(e,t,r,o)=>{let s=t||"default",a={all:[s],resourceAll:[s,e||""],list:n=>[...a.resourceAll,"list",{...n,...h(r,o)||{}}],many:n=>[...a.resourceAll,"getMany",n&&n.map(String),{...h(r,o)||{}}].filter(i=>i!==void 0),detail:n=>[...a.resourceAll,"detail",n==null?void 0:n.toString(),{...h(r,o)||{}}],logList:n=>["logList",e,n,o].filter(i=>i!==void 0)};return a};var co=(e,t)=>!e||!t?!1:!!e.find(r=>r===t);var ut=e=>e.startsWith(":");var Ve=e=>e.split("/").filter(r=>r!=="");var po=(e,t)=>{let r=Ve(e),o=Ve(t);return r.length===o.length};var le=e=>e.replace(/^\/|\/$/g,"");var lo=(e,t)=>{let r=le(e),o=le(t);if(!po(r,o))return!1;let s=Ve(r);return Ve(o).every((n,i)=>ut(n)||n===s[i])};var mo=(e,t,r)=>{let o=le(r||""),s=`${o}${o?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`};var Pe=(e,t)=>{var s,a;let r=h((s=e.meta)==null?void 0:s.parent,(a=e.options)==null?void 0:a.parent,e.parentName);if(!r)return;let o=t.find(n=>{var i;return((i=n.identifier)!=null?i:n.name)===r});return o!=null?o:{name:r}};var St=(e,t,r)=>{let o=[],s=Pe(e,t);for(;s;)o.push(s),s=Pe(s,t);if(o.length!==0)return`/${o.reverse().map(a=>{var i,l;let n=r&&(l=(i=a.options)==null?void 0:i.route)!=null?l:a.name;return le(n)}).join("/")}`};var ce=(e,t,r)=>{let o=[],s=["list","show","edit","create","clone"],a=St(e,t,r);return s.forEach(n=>{var p,d,c,g;let i=r&&n==="clone"?e.create:e[n],l;typeof i=="function"||r?l=mo(r&&(g=(c=(p=e.meta)==null?void 0:p.route)!=null?c:(d=e.options)==null?void 0:d.route)!=null?g:e.name,n,r?a:void 0):typeof i=="string"?l=i:typeof i=="object"&&(l=i.path),l&&o.push({action:n,resource:e,route:`/${l.replace(/^\//,"")}`})}),o};var Rs=e=>{var s,a;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(n=>({...n,splitted:Ve(le(n.route))})),r=(a=(s=t[0])==null?void 0:s.splitted.length)!=null?a:0,o=[...t];for(let n=0;n<r;n++){let i=o.filter(l=>!ut(l.splitted[n]));if(i.length!==0){if(i.length===1){o=i;break}o=i}}return o[0]};var fo=(e,t)=>{let o=t.flatMap(a=>ce(a,t)).filter(a=>lo(e,a.route)),s=Rs(o);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}};var lr=(e,t)=>{var s,a,n;let r,o=St(e,t,!0);if(o){let i=h(e.meta,e.options);r=`${o}/${(s=i==null?void 0:i.route)!=null?s:e.name}`}else r=(n=(a=e.options)==null?void 0:a.route)!=null?n:e.name;return`/${r.replace(/^\//,"")}`};var xs=e=>{var n,i,l;let t=[],r={},o={},s,a;for(let p=0;p<e.length;p++){s=e[p];let d=(l=(i=s.route)!=null?i:(n=h(s==null?void 0:s.meta,s.options))==null?void 0:n.route)!=null?l:"";r[d]=s,r[d].children=[],o[s.name]=s,o[s.name].children=[]}for(let p in r)r.hasOwnProperty(p)&&(a=r[p],a.parentName&&o[a.parentName]?o[a.parentName].children.push(a):t.push(a));return t};var it=e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e);var go=A(b("react"));var Cs=A(b("react")),yo=({children:e})=>Cs.default.createElement("div",null,e);var Qe={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"}},fe=go.default.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:yo,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Qe}),Ps=({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,undoableTimeout:s,children:a,DashboardPage:n,Title:i,Layout:l=yo,Header:p,Sider:d,Footer:c,OffLayoutArea:g,LoginPage:x=To,catchAll:U,liveMode:T="off",onLiveEvent:u,options:y})=>go.default.createElement(fe.Provider,{value:{hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:o,Title:i,undoableTimeout:s,Layout:l,Header:p,Sider:d,Footer:c,OffLayoutArea:g,DashboardPage:n,LoginPage:x,catchAll:U,liveMode:T,onLiveEvent:u,options:y}},a);var Ro=({options:e,disableTelemetry:t,liveMode:r,mutationMode:o,reactQueryClientConfig:s,reactQueryDevtoolConfig:a,syncWithLocation:n,undoableTimeout:i,warnWhenUnsavedChanges:l}={})=>{var g,x,U,T,u,y,R,D,v,m,f,C,P,E,L,I,S,M,k,B,O,w,F,$;let p={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(x=(g=e==null?void 0:e.mutationMode)!=null?g:o)!=null?x:Qe.mutationMode,undoableTimeout:(T=(U=e==null?void 0:e.undoableTimeout)!=null?U:i)!=null?T:Qe.undoableTimeout,syncWithLocation:(y=(u=e==null?void 0:e.syncWithLocation)!=null?u:n)!=null?y:Qe.syncWithLocation,warnWhenUnsavedChanges:(D=(R=e==null?void 0:e.warnWhenUnsavedChanges)!=null?R:l)!=null?D:Qe.warnWhenUnsavedChanges,liveMode:(m=(v=e==null?void 0:e.liveMode)!=null?v:r)!=null?m:Qe.liveMode,redirect:{afterCreate:(C=(f=e==null?void 0:e.redirect)==null?void 0:f.afterCreate)!=null?C:Qe.redirect.afterCreate,afterClone:(E=(P=e==null?void 0:e.redirect)==null?void 0:P.afterClone)!=null?E:Qe.redirect.afterClone,afterEdit:(I=(L=e==null?void 0:e.redirect)==null?void 0:L.afterEdit)!=null?I:Qe.redirect.afterEdit}},d=(M=(S=e==null?void 0:e.disableTelemetry)!=null?S:t)!=null?M:!1,c={clientConfig:(O=(B=(k=e==null?void 0:e.reactQuery)==null?void 0:k.clientConfig)!=null?B:s)!=null?O:{},devtoolConfig:($=(F=(w=e==null?void 0:e.reactQuery)==null?void 0:w.devtoolConfig)!=null?F:a)!=null?$:{}};return{optionsWithDefaults:p,disableTelemetryWithDefault:d,reactQueryWithDefaults:c}};var xo=({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}};var dr=async(e,t,r)=>{let o=[];for(let[s,a]of e.entries())try{let n=await a();o.push(t(n,s))}catch(n){o.push(r(n,s))}return o};var K=(e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(n=>{var i;return le((i=n.route)!=null?i:"")===le(e)});return s||t.find(n=>n.name===e)}return t.find(s=>{var a;return((a=s.identifier)!=null?a:s.name)===e})};var Q=(e,t,r)=>{if(t)return t;let o=K(e,r),s=h(o==null?void 0:o.meta,o==null?void 0:o.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"};var $e=async e=>({data:(await Promise.all(e)).map(t=>t.data)});var mr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let o=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,a=Math.ceil((e.total||0)/s);return o<a?Number(o)+1:void 0},fr=e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let o=(t==null?void 0:t.current)||1;return o===1?void 0:o-1};var yr=e=>{let t=[];return e==null||e.forEach(r=>{var o,s,a;t.push({...r,label:(a=(o=r.meta)==null?void 0:o.label)!=null?a:(s=r.options)==null?void 0:s.label,route:lr(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t};var bs=e=>Ve(le(e)).flatMap(r=>ut(r)?[r.slice(1)]:[]);var hs=(e,t={},r={})=>e.reduce((o,s)=>{var n;let a=r[s]||((n=t.params)==null?void 0:n[s])||(s==="id"?t.id:void 0)||(s==="action"?t.action:void 0)||(s==="resource"?t.resource:void 0);return typeof a<"u"&&(o[s]=a),o},{});var me=(e,t={},r={})=>{let o=bs(e),s=hs(o,t,r);return e.replace(/:([^\/]+)/g,(a,n)=>{let i=s[n];return typeof i<"u"?`${i}`:a})};var W=()=>{let e=Z(),t=re();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null};var wt=({hasPagination:e,pagination:t,configPagination:r}={})=>{var i,l,p;let o=e===!1?"off":"server",s=(i=t==null?void 0:t.mode)!=null?i:o,a=(l=h(t==null?void 0:t.current,r==null?void 0:r.current))!=null?l:1,n=(p=h(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize))!=null?p:10;return{current:a,pageSize:n,mode:s}};var kt=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:i,errorNotification:l,meta:p,metaData:d,liveMode:c,onLiveEvent:g,liveParams:x,dataProviderName:U})=>{let{resources:T}=V(),u=z(),y=N(),R=W(),{mutate:D}=q({v3LegacyAuthProviderCompatible:Boolean(R==null?void 0:R.isLegacy)}),v=ee(),m=Q(e,U,T),f=h(p,d),C=h(r,t==null?void 0:t.filters),P=h(a,t==null?void 0:t.sort),E=h(o,t==null?void 0:t.hasPagination),L=wt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),I=L.mode==="server",S={meta:f,metaData:f,filters:C,hasPagination:I,pagination:L,sorters:P,config:{...t,sort:P}},M=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,k=J(e,m,f,f),{getList:B}=u(m);return qe({resource:e,types:["*"],params:{meta:f,metaData:f,pagination:L,hasPagination:I,sort:P,sorters:P,filters:C,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:M,liveMode:c,onLiveEvent:g}),(0,vs.useQuery)(k.list({filters:C,hasPagination:I,...I&&{pagination:L},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:w,pageParam:F,signal:$})=>B({resource:e,pagination:L,hasPagination:I,filters:C,sort:P,sorters:P,meta:{...f||{},queryContext:{queryKey:w,pageParam:F,signal:$}},metaData:{...f||{},queryContext:{queryKey:w,pageParam:F,signal:$}}}),{...n,enabled:typeof(n==null?void 0:n.enabled)<"u"?n==null?void 0:n.enabled:!!e,select:w=>{var _;let F=w,{current:$,mode:Ce,pageSize:Ee}=L;return Ce==="client"&&(F={...F,data:F.data.slice(($-1)*Ee,$*Ee),total:F.total}),n!=null&&n.select?(_=n==null?void 0:n.select)==null?void 0:_.call(n,F):F},onSuccess:w=>{var $;($=n==null?void 0:n.onSuccess)==null||$.call(n,w);let F=typeof i=="function"?i(w,S,e):i;v(F)},onError:w=>{var $;D(w),($=n==null?void 0:n.onError)==null||$.call(n,w);let F=typeof l=="function"?l(w,S,e):l;v(F,{key:`${e}-useList-notification`,message:y("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}})};var Ds=b("@tanstack/react-query");var Vt=({resource:e,id:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:i,onLiveEvent:l,liveParams:p,dataProviderName:d})=>{let{resources:c}=V(),g=z(),x=J(e,Q(e,d,c),h(a,n),h(a,n)),{getOne:U}=g(Q(e,d,c)),T=N(),u=W(),{mutate:y}=q({v3LegacyAuthProviderCompatible:Boolean(u==null?void 0:u.isLegacy)}),R=ee();return qe({resource:e,types:["*"],channel:`resources/${e}`,params:{ids:t?[t]:[],id:t,meta:h(a,n),metaData:h(a,n),subscriptionType:"useOne",...p},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof e<"u"&&typeof t<"u",liveMode:i,onLiveEvent:l}),(0,Ds.useQuery)(x.detail(t),({queryKey:v,pageParam:m,signal:f})=>U({resource:e,id:t,meta:{...h(a,n)||{},queryContext:{queryKey:v,pageParam:m,signal:f}},metaData:{...h(a,n)||{},queryContext:{queryKey:v,pageParam:m,signal:f}}}),{...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:v=>{var f;(f=r==null?void 0:r.onSuccess)==null||f.call(r,v);let m=typeof o=="function"?o(v,{id:t,...h(a,n)||{}},e):o;R(m)},onError:v=>{var f;y(v),(f=r==null?void 0:r.onError)==null||f.call(r,v);let m=typeof s=="function"?s(v,{id:t,...h(a,n)||{}},e):s;R(m,{key:`${t}-${e}-getOne-notification`,message:T("notifications.error",{statusCode:v.statusCode},`Error (status code: ${v.statusCode})`),description:v.message,type:"error"})}})};var Us=b("@tanstack/react-query");var Co=({resource:e,ids:t,queryOptions:r,successNotification:o,errorNotification:s,meta:a,metaData:n,liveMode:i,onLiveEvent:l,liveParams:p,dataProviderName:d})=>{let{resources:c}=V(),g=z(),x=J(e,Q(e,d,c),h(a,n),h(a,n)),{getMany:U,getOne:T}=g(Q(e,d,c)),u=N(),y=W(),{mutate:R}=q({v3LegacyAuthProviderCompatible:Boolean(y==null?void 0:y.isLegacy)}),D=ee(),v=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0;return qe({resource:e,types:["*"],params:{ids:t!=null?t:[],meta:h(a,n),metaData:h(a,n),subscriptionType:"useMany",...p},channel:`resources/${e}`,enabled:v,liveMode:i,onLiveEvent:l}),(0,Us.useQuery)(x.many(t),({queryKey:f,pageParam:C,signal:P})=>U?U({resource:e,ids:t,metaData:{...h(a,n)||{},queryContext:{queryKey:f,pageParam:C,signal:P}}}):$e(t.map(E=>T({resource:e,id:E,metaData:{...h(a,n)||{},queryContext:{queryKey:f,pageParam:C,signal:P}}}))),{...r,onSuccess:f=>{var P;(P=r==null?void 0:r.onSuccess)==null||P.call(r,f);let C=typeof o=="function"?o(f,t,e):o;D(C)},onError:f=>{var P;R(f),(P=r==null?void 0:r.onError)==null||P.call(r,f);let C=typeof s=="function"?s(f,t,e):s;D(C,{key:`${t[0]}-${e}-getMany-notification`,message:u("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})}})};var Rr=b("@tanstack/react-query");var bt=A(b("react")),gr=A(b("lodash-es/isEqual"));var Tr=bt.default.createContext({notifications:[],notificationDispatch:()=>!1}),ca=[],pa=(e,t)=>{switch(t.type){case"ADD":return[...e.filter(o=>!((0,gr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(o=>!((0,gr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(o=>(0,gr.default)(o.id,t.payload.id)&&o.resource==t.payload.resource?{...o,seconds:t.payload.seconds-1e3}:o);default:return e}},Po=({children:e})=>{let[t,r]=(0,bt.useReducer)(pa,ca),o={notifications:t,notificationDispatch:r};return bt.default.createElement(Tr.Provider,{value:o},e,typeof window<"u"&&t.map(s=>bt.default.createElement(Es,{key:`${s.id}-${s.resource}-queue`,notification:s})))};var bo=A(b("pluralize"));var ho=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,Rr.useQueryClient)(),o=z(),{mutationMode:s,undoableTimeout:a}=we(),n=N(),i=W(),{mutate:l}=q({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),p=he(),{log:d}=ve(),{notificationDispatch:c}=Be(),g=ee(),x=De();return(0,Rr.useMutation)(({id:T,values:u,resource:y,mutationMode:R,undoableTimeout:D,onCancel:v,meta:m,metaData:f,dataProviderName:C})=>{let P=R!=null?R:s,E=D!=null?D:a;return P!=="undoable"?o(Q(y,C,t)).update({resource:y,id:T,variables:u,meta:h(m,f),metaData:h(m,f)}):new Promise((I,S)=>{let M=()=>{o(Q(y,C,t)).update({resource:y,id:T,variables:u,meta:h(m,f),metaData:h(m,f)}).then(B=>I(B)).catch(B=>S(B))},k=()=>{S({message:"mutationCancelled"})};v&&v(k),c({type:"ADD",payload:{id:T,resource:y,cancelMutation:k,doMutation:M,seconds:E,isSilent:!!v}})})},{onMutate:async({resource:T,id:u,mutationMode:y,values:R,dataProviderName:D})=>{let v=J(T,Q(T,D,t)),m=r.getQueriesData(v.resourceAll),f=y!=null?y:s;return await r.cancelQueries(v.resourceAll,void 0,{silent:!0}),f!=="pessimistic"&&(r.setQueriesData(v.list(),C=>{if(!C)return null;let P=C.data.map(E=>{var L;return((L=E.id)==null?void 0:L.toString())===(u==null?void 0:u.toString())?{id:u,...E,...R}:E});return{...C,data:P}}),r.setQueriesData(v.many(),C=>{if(!C)return null;let P=C.data.map(E=>{var L;return((L=E.id)==null?void 0:L.toString())===(u==null?void 0:u.toString())&&(E={id:u,...E,...R}),E});return{...C,data:P}}),r.setQueriesData(v.detail(u),C=>C?{...C,data:{...C.data,...R}}:null)),{previousQueries:m,queryKey:v}},onSettled:(T,u,{id:y,resource:R,dataProviderName:D,invalidates:v=["list","many","detail"]})=>{x({resource:R,dataProviderName:Q(R,D,t),invalidates:v,id:y}),c({type:"REMOVE",payload:{id:y,resource:R}})},onSuccess:(T,{id:u,resource:y,successNotification:R,dataProviderName:D,values:v,meta:m,metaData:f},C)=>{var B;let P=bo.default.singular(y),E=typeof R=="function"?R(T,{id:u,values:v},y):R;g(E,{key:`${u}-${y}-notification`,description:n("notifications.success","Successful"),message:n("notifications.editSuccess",{resource:n(`${y}.${y}`,P)},`Successfully updated ${P}`),type:"success"}),p==null||p({channel:`resources/${y}`,type:"updated",payload:{ids:(B=T.data)!=null&&B.id?[T.data.id]:void 0},date:new Date});let L;if(C){let O=r.getQueryData(C.queryKey.detail(u));L=Object.keys(v||{}).reduce((w,F)=>{var $;return w[F]=($=O==null?void 0:O.data)==null?void 0:$[F],w},{})}let{fields:I,operation:S,variables:M,...k}=h(m,f)||{};d==null||d.mutate({action:"update",resource:y,data:v,previousData:L,meta:{id:u,dataProviderName:Q(y,D,t),...k}})},onError:(T,{id:u,resource:y,errorNotification:R,values:D},v)=>{if(v)for(let m of v.previousQueries)r.setQueryData(m[0],m[1]);if(T.message!=="mutationCancelled"){l==null||l(T);let m=bo.default.singular(y),f=typeof R=="function"?R(T,{id:u,values:D},y):R;g(f,{key:`${u}-${y}-notification`,message:n("notifications.editError",{resource:n(`${y}.${y}`,m),statusCode:T.statusCode},`Error when updating ${m} (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var Ls=b("@tanstack/react-query"),vo=A(b("pluralize"));var Qt=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=q({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=z(),s=De(),{resources:a}=V(),n=N(),i=he(),{log:l}=ve(),p=ee();return(0,Ls.useMutation)(({resource:c,values:g,meta:x,metaData:U,dataProviderName:T})=>o(Q(c,T,a)).create({resource:c,variables:g,meta:h(x,U),metaData:h(x,U)}),{onSuccess:(c,{resource:g,successNotification:x,dataProviderName:U,invalidates:T=["list","many"],values:u,meta:y,metaData:R})=>{var E,L,I;let D=vo.default.singular(g),v=typeof x=="function"?x(c,u,g):x;p(v,{key:`create-${g}-notification`,message:n("notifications.createSuccess",{resource:n(`${g}.${g}`,D)},`Successfully created ${D}`),description:n("notifications.success","Success"),type:"success"}),s({resource:g,dataProviderName:Q(g,U,a),invalidates:T}),i==null||i({channel:`resources/${g}`,type:"created",payload:{ids:(E=c==null?void 0:c.data)!=null&&E.id?[c.data.id]:void 0},date:new Date});let{fields:m,operation:f,variables:C,...P}=h(y,R)||{};l==null||l.mutate({action:"create",resource:g,data:u,meta:{dataProviderName:Q(g,U,a),id:(I=(L=c==null?void 0:c.data)==null?void 0:L.id)!=null?I:void 0,...P}})},onError:(c,{resource:g,errorNotification:x,values:U})=>{r(c);let T=vo.default.singular(g),u=typeof x=="function"?x(c,U,g):x;p(u,{key:`create-${g}-notification`,description:c.message,message:n("notifications.createError",{resource:n(`${g}.${g}`,T),statusCode:c.statusCode},`There was an error creating ${T} (status code: ${c.statusCode})`),type:"error"})},...e})};var xr=b("@tanstack/react-query"),Do=A(b("pluralize"));var la=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=q({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=z(),{resources:s}=V(),a=(0,xr.useQueryClient)(),{mutationMode:n,undoableTimeout:i}=we(),{notificationDispatch:l}=Be(),p=N(),d=he(),{log:c}=ve(),g=ee(),x=De();return(0,xr.useMutation)(({id:T,mutationMode:u,undoableTimeout:y,resource:R,onCancel:D,meta:v,metaData:m,dataProviderName:f,values:C})=>{let P=u!=null?u:n,E=y!=null?y:i;return P!=="undoable"?o(Q(R,f,s)).deleteOne({resource:R,id:T,meta:h(v,m),metaData:h(v,m),variables:C}):new Promise((I,S)=>{let M=()=>{o(Q(R,f,s)).deleteOne({resource:R,id:T,meta:h(v,m),variables:C}).then(B=>I(B)).catch(B=>S(B))},k=()=>{S({message:"mutationCancelled"})};D&&D(k),l({type:"ADD",payload:{id:T,resource:R,cancelMutation:k,doMutation:M,seconds:E,isSilent:!!D}})})},{onMutate:async({id:T,resource:u,mutationMode:y,dataProviderName:R})=>{let D=J(u,Q(u,R,s)),v=y!=null?y:n;await a.cancelQueries(D.resourceAll,void 0,{silent:!0});let m=a.getQueriesData(D.resourceAll);return v!=="pessimistic"&&(a.setQueriesData(D.list(),f=>f?{data:f.data.filter(P=>{var E;return((E=P.id)==null?void 0:E.toString())!==T.toString()}),total:f.total-1}:null),a.setQueriesData(D.many(),f=>{if(!f)return null;let C=f.data.filter(P=>{var E;return((E=P.id)==null?void 0:E.toString())!==(T==null?void 0:T.toString())});return{...f,data:C}})),{previousQueries:m,queryKey:D}},onSettled:(T,u,{id:y,resource:R,dataProviderName:D,invalidates:v=["list","many"]})=>{x({resource:R,dataProviderName:Q(R,D,s),invalidates:v}),l({type:"REMOVE",payload:{id:y,resource:R}})},onSuccess:(T,{id:u,resource:y,successNotification:R,dataProviderName:D,meta:v,metaData:m},f)=>{let C=Do.default.singular(y!=null?y:"");a.removeQueries(f==null?void 0:f.queryKey.detail(u));let P=typeof R=="function"?R(T,u,y):R;g(P,{key:`${u}-${y}-notification`,description:p("notifications.success","Success"),message:p("notifications.deleteSuccess",{resource:p(`${y}.${y}`,C)},`Successfully deleted a ${C}`),type:"success"}),d==null||d({channel:`resources/${y}`,type:"deleted",payload:{ids:u?[u]:[]},date:new Date});let{fields:E,operation:L,variables:I,...S}=h(v,m)||{};c==null||c.mutate({action:"delete",resource:y,meta:{id:u,dataProviderName:Q(y,D,s),...S}}),a.removeQueries(f==null?void 0:f.queryKey.detail(u))},onError:(T,{id:u,resource:y,errorNotification:R},D)=>{if(D)for(let v of D.previousQueries)a.setQueryData(v[0],v[1]);if(T.message!=="mutationCancelled"){r(T);let v=Do.default.singular(y!=null?y:""),m=typeof R=="function"?R(T,u,y):R;g(m,{key:`${u}-${y}-notification`,message:p("notifications.deleteError",{resource:v,statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var Is=b("@tanstack/react-query"),Ms=A(b("pluralize"));var Uo=({mutationOptions:e}={})=>{let t=z(),{resources:r}=V(),o=N(),s=he(),a=ee(),n=De(),{log:i}=ve();return(0,Is.useMutation)(({resource:p,values:d,meta:c,metaData:g,dataProviderName:x})=>{let U=t(Q(p,x,r));return U.createMany?U.createMany({resource:p,variables:d,meta:h(c,g),metaData:h(c,g)}):$e(d.map(T=>U.create({resource:p,variables:T,meta:h(c,g),metaData:h(c,g)})))},{onSuccess:(p,{resource:d,successNotification:c,dataProviderName:g,invalidates:x=["list","many"],values:U,meta:T,metaData:u})=>{let y=Ms.default.plural(d),R=typeof c=="function"?c(p,U,d):c;a(R,{key:`createMany-${d}-notification`,message:o("notifications.createSuccess",{resource:o(`${d}.${d}`,d)},`Successfully created ${y}`),description:o("notifications.success","Success"),type:"success"}),n({resource:d,dataProviderName:Q(d,g,r),invalidates:x});let D=p==null?void 0:p.data.filter(P=>(P==null?void 0:P.id)!==void 0).map(P=>P.id);s==null||s({channel:`resources/${d}`,type:"created",payload:{ids:D},date:new Date});let{fields:v,operation:m,variables:f,...C}=h(T,u)||{};i==null||i.mutate({action:"createMany",resource:d,data:U,meta:{dataProviderName:Q(d,g,r),ids:D,...C}})},onError:(p,{resource:d,errorNotification:c,values:g})=>{let x=typeof c=="function"?c(p,g,d):c;a(x,{key:`createMany-${d}-notification`,description:p.message,message:o("notifications.createError",{resource:o(`${d}.${d}`,d),statusCode:p.statusCode},`There was an error creating ${d} (status code: ${p.statusCode}`),type:"error"})},...e})};var Cr=b("@tanstack/react-query"),Eo=A(b("pluralize"));var da=({mutationOptions:e}={})=>{let{resources:t}=V(),r=(0,Cr.useQueryClient)(),o=z(),s=N(),{mutationMode:a,undoableTimeout:n}=we(),i=W(),{mutate:l}=q({v3LegacyAuthProviderCompatible:Boolean(i==null?void 0:i.isLegacy)}),{notificationDispatch:p}=Be(),d=he(),c=ee(),g=De(),{log:x}=ve();return(0,Cr.useMutation)(({ids:T,values:u,resource:y,onCancel:R,mutationMode:D,undoableTimeout:v,meta:m,metaData:f,dataProviderName:C})=>{let P=D!=null?D:a,E=v!=null?v:n,L=o(Q(y,C,t)),I=()=>L.updateMany?L.updateMany({resource:y,ids:T,variables:u,meta:h(m,f),metaData:h(m,f)}):$e(T.map(M=>L.update({resource:y,id:M,variables:u,meta:h(m,f),metaData:h(m,f)})));return P!=="undoable"?I():new Promise((M,k)=>{let B=()=>{I().then(w=>M(w)).catch(w=>k(w))},O=()=>{k({message:"mutationCancelled"})};R&&R(O),p({type:"ADD",payload:{id:T,resource:y,cancelMutation:O,doMutation:B,seconds:E,isSilent:!!R}})})},{onMutate:async({resource:T,ids:u,values:y,mutationMode:R,dataProviderName:D,meta:v,metaData:m})=>{let f=J(T,Q(T,D,t),h(v,m),h(v,m)),C=R!=null?R:a;await r.cancelQueries(f.resourceAll,void 0,{silent:!0});let P=r.getQueriesData(f.resourceAll);if(C!=="pessimistic"){r.setQueriesData(f.list(),E=>{if(!E)return null;let L=E.data.map(I=>I.id!==void 0&&u.filter(S=>S!==void 0).map(String).includes(I.id.toString())?{...I,...y}:I);return{...E,data:L}}),r.setQueriesData(f.many(),E=>{if(!E)return null;let L=E.data.map(I=>I.id!==void 0&&u.filter(S=>S!==void 0).map(String).includes(I.id.toString())?{...I,...y}:I);return{...E,data:L}});for(let E of u)r.setQueriesData(f.detail(E),L=>{if(!L)return null;let I={...L.data,...y};return{...L,data:I}})}return{previousQueries:P,queryKey:f}},onSettled:(T,u,{ids:y,resource:R,dataProviderName:D})=>{g({resource:R,invalidates:["list","many"],dataProviderName:Q(R,D,t)}),y.forEach(v=>g({resource:R,invalidates:["detail"],dataProviderName:Q(R,D,t),id:v})),p({type:"REMOVE",payload:{id:y,resource:R}})},onSuccess:(T,{ids:u,resource:y,meta:R,metaData:D,dataProviderName:v,successNotification:m,values:f},C)=>{let P=Eo.default.singular(y),E=typeof m=="function"?m(T,{ids:u,values:f},y):m;c(E,{key:`${u}-${y}-notification`,description:s("notifications.success","Successful"),message:s("notifications.editSuccess",{resource:s(`${y}.${y}`,y)},`Successfully updated ${P}`),type:"success"}),d==null||d({channel:`resources/${y}`,type:"updated",payload:{ids:u.map(String)},date:new Date});let L=[];C&&u.forEach(B=>{let O=r.getQueryData(C.queryKey.detail(B));L.push(Object.keys(f||{}).reduce((w,F)=>{var $;return w[F]=($=O==null?void 0:O.data)==null?void 0:$[F],w},{}))});let{fields:I,operation:S,variables:M,...k}=h(R,D)||{};x==null||x.mutate({action:"updateMany",resource:y,data:f,previousData:L,meta:{ids:u,dataProviderName:Q(y,v,t),...k}})},onError:(T,{ids:u,resource:y,errorNotification:R,values:D},v)=>{if(v)for(let m of v.previousQueries)r.setQueryData(m[0],m[1]);if(T.message!=="mutationCancelled"){l==null||l(T);let m=Eo.default.singular(y),f=typeof R=="function"?R(T,{ids:u,values:D},y):R;c(f,{key:`${u}-${y}-updateMany-error-notification`,message:s("notifications.editError",{resource:m,statusCode:T.statusCode},`Error when updating ${m} (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var Pr=b("@tanstack/react-query"),As=A(b("pluralize"));var ma=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=q({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),{mutationMode:o,undoableTimeout:s}=we(),a=z(),{notificationDispatch:n}=Be(),i=N(),l=he(),p=ee(),d=De(),{log:c}=ve(),{resources:g}=V(),x=(0,Pr.useQueryClient)();return(0,Pr.useMutation)(({resource:T,ids:u,mutationMode:y,undoableTimeout:R,onCancel:D,meta:v,metaData:m,dataProviderName:f,values:C})=>{let P=y!=null?y:o,E=R!=null?R:s,L=a(Q(T,f,g)),I=()=>L.deleteMany?L.deleteMany({resource:T,ids:u,meta:h(v,m),metaData:h(v,m),variables:C}):$e(u.map(M=>L.deleteOne({resource:T,id:M,meta:h(v,m),metaData:h(v,m),variables:C})));return P!=="undoable"?I():new Promise((M,k)=>{let B=()=>{I().then(w=>M(w)).catch(w=>k(w))},O=()=>{k({message:"mutationCancelled"})};D&&D(O),n({type:"ADD",payload:{id:u,resource:T,cancelMutation:O,doMutation:B,seconds:E,isSilent:!!D}})})},{onMutate:async({ids:T,resource:u,mutationMode:y,dataProviderName:R})=>{let D=J(u,Q(u,R,g)),v=y!=null?y:o;await x.cancelQueries(D.resourceAll,void 0,{silent:!0});let m=x.getQueriesData(D.resourceAll);if(v!=="pessimistic"){x.setQueriesData(D.list(),f=>f?{data:f.data.filter(P=>P.id&&!T.map(String).includes(P.id.toString())),total:f.total-1}:null),x.setQueriesData(D.many(),f=>{if(!f)return null;let C=f.data.filter(P=>P.id?!T.map(String).includes(P.id.toString()):!1);return{...f,data:C}});for(let f of T)x.setQueriesData(D.detail(f),C=>!C||C.data.id==f?null:{...C})}return{previousQueries:m,queryKey:D}},onSettled:(T,u,{resource:y,ids:R,dataProviderName:D,invalidates:v=["list","many"]})=>{d({resource:y,dataProviderName:Q(y,D,g),invalidates:v}),n({type:"REMOVE",payload:{id:R,resource:y}})},onSuccess:(T,{ids:u,resource:y,meta:R,metaData:D,dataProviderName:v,successNotification:m},f)=>{u.forEach(S=>x.removeQueries(f==null?void 0:f.queryKey.detail(S)));let C=typeof m=="function"?m(T,u,y):m;p(C,{key:`${u}-${y}-notification`,description:i("notifications.success","Success"),message:i("notifications.deleteSuccess",{resource:i(`${y}.${y}`,y)},`Successfully deleted ${y}`),type:"success"}),l==null||l({channel:`resources/${y}`,type:"deleted",payload:{ids:u},date:new Date});let{fields:P,operation:E,variables:L,...I}=h(R,D)||{};c==null||c.mutate({action:"deleteMany",resource:y,meta:{ids:u,dataProviderName:Q(y,v,g),...I}}),u.forEach(S=>x.removeQueries(f==null?void 0:f.queryKey.detail(S)))},onError:(T,{ids:u,resource:y,errorNotification:R},D)=>{if(D)for(let v of D.previousQueries)x.setQueryData(v[0],v[1]);if(T.message!=="mutationCancelled"){r(T);let v=As.default.singular(y),m=typeof R=="function"?R(T,u,y):R;p(m,{key:`${u}-${y}-notification`,message:i("notifications.deleteError",{resource:v,statusCode:T.statusCode},`Error (status code: ${T.statusCode})`),description:T.message,type:"error"})}},...e})};var fa=e=>{let t=z(),{getApiUrl:r}=t(e);return r()};var Ss=b("@tanstack/react-query");var ya=({url:e,method:t,config:r,queryOptions:o,successNotification:s,errorNotification:a,meta:n,metaData:i,dataProviderName:l})=>{let p=z(),{custom:d}=p(l),c=W(),{mutate:g}=q({v3LegacyAuthProviderCompatible:Boolean(c==null?void 0:c.isLegacy)}),x=N(),U=ee();if(d)return(0,Ss.useQuery)({queryKey:[l,"custom",t,e,{...r,...h(n,i)||{}}],queryFn:({queryKey:u,pageParam:y,signal:R})=>d({url:e,method:t,...r,metaData:{...h(n,i)||{},queryContext:{queryKey:u,pageParam:y,signal:R}}}),...o,onSuccess:u=>{var R;(R=o==null?void 0:o.onSuccess)==null||R.call(o,u);let y=typeof s=="function"?s(u,{...r,...h(n,i)||{}}):s;U(y)},onError:u=>{var R;g(u),(R=o==null?void 0:o.onError)==null||R.call(o,u);let y=typeof a=="function"?a(u,{...r,...h(n,i)||{}}):a;U(y,{key:`${t}-notification`,message:x("notifications.error",{statusCode:u.statusCode},`Error (status code: ${u.statusCode})`),description:u.message,type:"error"})}});throw Error("Not implemented custom on data provider.")};var ws=b("@tanstack/react-query");var ga=({mutationOptions:e}={})=>{let t=W(),{mutate:r}=q({v3LegacyAuthProviderCompatible:Boolean(t==null?void 0:t.isLegacy)}),o=ee(),s=z(),a=N();return(0,ws.useMutation)(({url:i,method:l,values:p,meta:d,metaData:c,dataProviderName:g,config:x})=>{let{custom:U}=s(g);if(U)return U({url:i,method:l,payload:p,meta:h(d,c),metaData:h(d,c),headers:{...x==null?void 0:x.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(i,{successNotification:l,config:p,meta:d,metaData:c})=>{let g=typeof l=="function"?l(i,{...p,...h(d,c)||{}}):l;o(g)},onError:(i,{errorNotification:l,method:p,config:d,meta:c,metaData:g})=>{r(i);let x=typeof l=="function"?l(i,{...d,...h(c,g)||{}}):l;o(x,{key:`${p}-notification`,message:a("notifications.error",{statusCode:i.statusCode},`Error (status code: ${i.statusCode})`),description:i.message,type:"error"})},...e})};var br=b("react");var Lo=A(b("react")),Ta=()=>({default:{create:()=>Promise.resolve({data:{id:1}}),createMany:()=>Promise.resolve({data:[]}),deleteOne:()=>Promise.resolve({data:{id:1}}),deleteMany:()=>Promise.resolve({data:[]}),getList:()=>Promise.resolve({data:[],total:0}),getMany:()=>Promise.resolve({data:[]}),getOne:()=>Promise.resolve({data:{id:1}}),update:()=>Promise.resolve({data:{id:1}}),updateMany:()=>Promise.resolve({data:[]}),custom:()=>Promise.resolve({data:{}}),getApiUrl:()=>""}}),Bt=Lo.default.createContext(Ta()),ks=({children:e,...t})=>{let r;return!t.getList||!t.getOne?r=t:r={default:t},Lo.default.createElement(Bt.Provider,{value:r},e)};var z=()=>{let e=(0,br.useContext)(Bt);return(0,br.useCallback)(r=>{if(r){if(!e[r])throw new Error(`"${r}" Data provider not found`);return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])};var Vs=b("@tanstack/react-query");var Ra=({resource:e,config:t,filters:r,hasPagination:o,pagination:s,sorters:a,queryOptions:n,successNotification:i,errorNotification:l,meta:p,metaData:d,liveMode:c,onLiveEvent:g,liveParams:x,dataProviderName:U})=>{let{resources:T}=V(),u=z(),y=N(),R=W(),{mutate:D}=q({v3LegacyAuthProviderCompatible:Boolean(R==null?void 0:R.isLegacy)}),v=ee(),m=Q(e,U,T),f=h(p,d),C=h(r,t==null?void 0:t.filters),P=h(a,t==null?void 0:t.sort),E=h(o,t==null?void 0:t.hasPagination),L=wt({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:E}),I=L.mode==="server",S={meta:f,metaData:f,filters:C,hasPagination:I,pagination:L,sorters:P,config:{...t,sort:P}},M=(n==null?void 0:n.enabled)===void 0||(n==null?void 0:n.enabled)===!0,k=J(e,m,f,f),{getList:B}=u(m);return qe({resource:e,types:["*"],params:{meta:f,metaData:f,pagination:L,hasPagination:I,sort:P,sorters:P,filters:C,subscriptionType:"useList",...x},channel:`resources/${e}`,enabled:M,liveMode:c,onLiveEvent:g}),(0,Vs.useInfiniteQuery)(k.list({filters:C,hasPagination:I,...I&&{pagination:L},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}),({queryKey:w,pageParam:F,signal:$})=>{let Ce={...L,current:F};return B({resource:e,pagination:Ce,hasPagination:I,filters:C,sort:P,sorters:P,meta:{...f||{},queryContext:{queryKey:w,pageParam:F,signal:$}},metaData:{...f||{},queryContext:{queryKey:w,pageParam:F,signal:$}}}).then(({data:Ee,total:_,...Oe})=>({data:Ee,total:_,pagination:Ce,...Oe}))},{getNextPageParam:w=>mr(w),getPreviousPageParam:w=>fr(w),...n,onSuccess:w=>{var $;($=n==null?void 0:n.onSuccess)==null||$.call(n,w);let F=typeof i=="function"?i(w,S,e):i;v(F)},onError:w=>{var $;D(w),($=n==null?void 0:n.onError)==null||$.call(n,w);let F=typeof l=="function"?l(w,S,e):l;v(F,{key:`${e}-useInfiniteList-notification`,message:y("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})}})};var Nt=b("react"),Bs=b("@tanstack/react-query");var Io=A(b("react")),We=Io.default.createContext(void 0),Qs=({liveProvider:e,children:t})=>Io.default.createElement(We.Provider,{value:e},t);var qe=({resource:e,params:t,channel:r,types:o,enabled:s=!0,liveMode:a,onLiveEvent:n})=>{let i=(0,Bs.useQueryClient)(),l=J(e),p=(0,Nt.useContext)(We),{liveMode:d,onLiveEvent:c}=(0,Nt.useContext)(fe),g=a!=null?a:d;(0,Nt.useEffect)(()=>{let x;return g&&g!=="off"&&s&&(x=p==null?void 0:p.subscribe({channel:r,params:{resource:e,...t},types:o,callback:U=>{g==="auto"&&i.invalidateQueries(l.resourceAll),n==null||n(U),c==null||c(U)}})),()=>{x&&(p==null||p.unsubscribe(x))}},[s])};var Ns=b("react");var Fs=e=>{let{liveMode:t}=(0,Ns.useContext)(fe);return e!=null?e:t};var hr=b("react");var Gl=({params:e,channel:t,types:r=["*"],enabled:o=!0,onLiveEvent:s})=>{let a=(0,hr.useContext)(We);(0,hr.useEffect)(()=>{let n;return o&&(n=a==null?void 0:a.subscribe({channel:t,params:e,types:r,callback:s})),()=>{n&&(a==null||a.unsubscribe(n))}},[o])};var Os=b("react");var he=()=>{let e=(0,Os.useContext)(We);return e==null?void 0:e.publish};var Xs=b("react");var Mo=A(b("react"));var Ks=b("react");var Hs=b("react"),$s=A(b("lodash-es/isEqual")),Ws=e=>{let t=(0,Hs.useRef)(e);return(0,$s.default)(t.current,e)||(t.current=e),t.current};var vr=(e,t)=>{let r=Ws(t);return(0,Ks.useMemo)(e,r)};var et=Mo.default.createContext({resources:[]}),Gs=({resources:e,children:t})=>{let r=vr(()=>yr(e!=null?e:[]),[e]);return Mo.default.createElement(et.Provider,{value:{resources:r}},t)};var Ao=A(b("react")),zs=Ao.default.createContext("new"),_s=zs.Provider,H=()=>Ao.default.useContext(zs);var Js=A(b("react"));var Dr=A(b("react")),js={},Ke=(0,Dr.createContext)(js),Ys=({children:e,router:t})=>Dr.default.createElement(Ke.Provider,{value:t!=null?t:js},e);var Ur=A(b("react")),So=()=>{let e=(0,Ur.useContext)(Ke);return Ur.default.useMemo(()=>{var o;return(o=e==null?void 0:e.parse)!=null?o:()=>()=>({})},[e==null?void 0:e.parse])()};var Y=()=>{let e=So();return Js.default.useMemo(()=>e(),[e])};function V(e){var d,c;let{resources:t}=(0,Xs.useContext)(et),r=H(),o=Y(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},a=tt(),{useParams:n}=G(),i=n();if(r==="legacy"){let g=s.resourceNameOrRouteName?s.resourceNameOrRouteName:i.resource,x=g?a(g):void 0,U=(d=s==null?void 0:s.recordItemId)!=null?d:i.id,T=i.action,u=(c=s==null?void 0:s.resourceName)!=null?c:x==null?void 0:x.name;return{resources:t,resource:x,resourceName:u,id:U,action:T}}let l,p=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(p){let g=K(p,t);g?l=g:l={name:p}}else o!=null&&o.resource&&(l=o.resource);return{resources:t,resource:l,resourceName:l==null?void 0:l.name,id:o.id,action:o.action}}var Er=b("react");var tt=()=>{let{resources:e}=(0,Er.useContext)(et);return(0,Er.useCallback)(r=>{let o=K(r,e,!0);return o||{name:r,route:r}},[e])};var Zs=b("react");var Be=()=>{let{notifications:e,notificationDispatch:t}=(0,Zs.useContext)(Tr);return{notifications:e,notificationDispatch:t}};var en=b("react");var Lr=A(b("react"));var Ft=(0,Lr.createContext)({}),qs=({open:e,close:t,children:r})=>Lr.default.createElement(Ft.Provider,{value:{open:e,close:t}},r);var Re=()=>{let{open:e,close:t}=(0,en.useContext)(Ft);return{open:e,close:t}};var tn=b("react");var ee=()=>{let{open:e}=Re();return(0,tn.useCallback)((r,o)=>{r!==!1&&(r?e==null||e(r):o&&(e==null||e(o)))},[])};var Ir=b("react");var wo=A(b("react"));var ke=wo.default.createContext({}),rn=({children:e,i18nProvider:t})=>wo.default.createElement(ke.Provider,{value:{i18nProvider:t}},e);var xa=()=>{let{i18nProvider:e}=(0,Ir.useContext)(ke);return(0,Ir.useCallback)(t=>e==null?void 0:e.changeLocale(t),[])};var Mr=b("react");var N=()=>{let{i18nProvider:e}=(0,Mr.useContext)(ke);return(0,Mr.useMemo)(()=>{function r(o,s,a){var n,i;return(i=(n=e==null?void 0:e.translate(o,s,a))!=null?n:a)!=null?i:typeof s=="string"&&typeof a>"u"?s:o}return r},[e])};var Ar=b("react");var Ca=()=>{let{i18nProvider:e}=(0,Ar.useContext)(ke);return(0,Ar.useCallback)(()=>e==null?void 0:e.getLocale(),[])};var on=b("react");var we=()=>{let{mutationMode:e,undoableTimeout:t}=(0,on.useContext)(fe);return{mutationMode:e,undoableTimeout:t}};var Vo=b("react");var Ot=A(b("react")),ko=Ot.default.createContext({}),sn=({children:e})=>{let[t,r]=(0,Ot.useState)(!1);return Ot.default.createElement(ko.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)};var Ht=()=>{let{warnWhenUnsavedChanges:e}=(0,Vo.useContext)(fe),{warnWhen:t,setWarnWhen:r}=(0,Vo.useContext)(ko);return{warnWhenUnsavedChanges:e,warnWhen:Boolean(t),setWarnWhen:r!=null?r:()=>{}}};var nn=b("react");var Qo=()=>{let{syncWithLocation:e}=(0,nn.useContext)(fe);return{syncWithLocation:e}};var an=b("react");var Pa=()=>{let{Title:e}=(0,an.useContext)(fe);return e};var un=b("react");var $t=()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:i,syncWithLocation:l,undoableTimeout:p,warnWhenUnsavedChanges:d,DashboardPage:c,LoginPage:g,catchAll:x,options:U}=(0,un.useContext)(fe);return{Footer:e,Header:t,Layout:r,OffLayoutArea:o,Sider:s,Title:a,hasDashboard:n,mutationMode:i,syncWithLocation:l,undoableTimeout:p,warnWhenUnsavedChanges:d,DashboardPage:c,LoginPage:g,catchAll:x,options:U}};var cn=b("react");var pn=b("export-to-csv-fix-source-map"),gm=({resourceName:e,resource:t,sorter:r,sorters:o,filters:s,maxItemCount:a,pageSize:n=20,mapData:i=x=>x,exportOptions:l,meta:p,metaData:d,dataProviderName:c,onError:g}={})=>{var m;let[x,U]=(0,cn.useState)(!1),T=z(),{resource:u,resources:y}=V(),R=`${Pt(u==null?void 0:u.name,"plural")}-${new Date().toLocaleString()}`,{getList:D}=T(Q((m=u==null?void 0:u.identifier)!=null?m:u==null?void 0:u.name,c,y));return{isLoading:x,triggerExport:async()=>{var L;U(!0);let f=[],C=1,P=!0;for(;P;)try{let{data:I,total:S}=await D({resource:(L=u==null?void 0:u.name)!=null?L:"",filters:s,sort:h(o,r),sorters:h(o,r),pagination:{current:C,pageSize:n,mode:"server"},meta:h(p,d),metaData:h(p,d)});C++,f.push(...I),a&&f.length>=a&&(f=f.slice(0,a),P=!1),S===f.length&&(P=!1)}catch(I){U(!1),P=!1,g==null||g(I);return}new pn.ExportToCsv({filename:R,useKeysAsHeaders:!0,...l}).generateCsv(f.map(i)),U(!1)}}};var Bo=A(b("react"));var Em=({resource:e,action:t,id:r,onMutationSuccess:o,onMutationError:s,redirect:a,successNotification:n,errorNotification:i,meta:l,metaData:p,mutationMode:d,liveMode:c,onLiveEvent:g,liveParams:x,undoableTimeout:U,dataProviderName:T,invalidates:u,queryOptions:y,createMutationOptions:R,updateMutationOptions:D}={})=>{let{options:v}=$t(),{resources:m}=V(),f=H(),{resource:C,id:P,action:E}=Y(),{useParams:L}=G(),{resource:I,action:S,id:M}=L(),k=typeof C=="string"?C:C==null?void 0:C.name,B=!e||e===(f==="legacy"?I:k)?r!=null?r:f==="legacy"?M:P:r,[O,w]=Bo.default.useState(B);Bo.default.useEffect(()=>{B!==O&&w(r)},[r]);let F=e!=null?e:f==="legacy"?I:k,$=f==="legacy"?S:E,Ce=t!=null?t:$==="edit"||$==="clone"?$:"create",Ee=tt(),_;if(f==="legacy")F&&(_=Ee(F));else if(e){let ue=K(e,m);ue?_=ue:_={name:e,route:e}}else if(typeof C=="string"){let ue=K(C,m);ue?_=ue:_={name:C,route:C}}else _=C;let{mutationMode:Oe}=we(),pe=d!=null?d:Oe,st=Ce==="create",te=Ce==="edit",de=Ce==="clone",nt=xo({redirectFromProps:a,action:Ce,redirectOptions:v.redirect}),ft=O!==void 0&&(te||de),Le=Vt({resource:_==null?void 0:_.name,id:O!=null?O:"",queryOptions:{enabled:ft,...y},liveMode:c,onLiveEvent:g,liveParams:x,meta:h(l,p),metaData:h(l,p),dataProviderName:T}),{isFetching:Ie}=Le,yt=Qt({mutationOptions:R}),{mutate:Xt,isLoading:Et}=yt,gt=ho({mutationOptions:D}),{mutate:Me,isLoading:Zt}=gt,{setWarnWhen:_e}=Ht(),je=ln();return{...st||de?{formLoading:Ie||Et,mutationResult:yt,onFinish:async ue=>{_e(!1);let Ae=He=>{je({redirect:nt,resource:_,id:He,meta:p})};return pe!=="pessimistic"&&setTimeout(()=>{Ae()}),new Promise((He,Rt)=>{if(pe!=="pessimistic"&&He(),!!_)return Xt({values:ue,resource:_.name,successNotification:n,errorNotification:i,meta:h(l,p),metaData:h(l,p),dataProviderName:T,invalidates:u},{onSuccess:(Se,Je,Xe)=>{var Lt;o&&o(Se,ue,Xe);let Ze=(Lt=Se==null?void 0:Se.data)==null?void 0:Lt.id;Ae(Ze),He(Se)},onError:(Se,Je,Xe)=>{if(s)return s(Se,ue,Xe);Rt()}})})}}:{formLoading:Ie||Zt,mutationResult:gt,onFinish:async ue=>{if(_e(!1),!_)return;let Ae={id:O!=null?O:"",values:ue,resource:_.name,mutationMode:pe,undoableTimeout:U,successNotification:n,errorNotification:i,meta:h(l,p),metaData:h(l,p),dataProviderName:T,invalidates:u},He=()=>{w(B),je({redirect:nt,resource:_,id:O,meta:p})};return pe!=="pessimistic"&&setTimeout(()=>{He()}),new Promise((Rt,Se)=>(pe!=="pessimistic"&&Rt(),setTimeout(()=>{Me(Ae,{onSuccess:(Je,Xe,Ze)=>{o&&o(Je,ue,Ze),pe==="pessimistic"&&He(),Rt(Je)},onError:(Je,Xe,Ze)=>{if(s)return s(Je,ue,Ze);Se()}})})))}},queryResult:Le,id:O,setId:w,redirect:(ue,Ae)=>{je({redirect:ue!==void 0?ue:te?"list":"edit",resource:_,id:Ae!=null?Ae:O,meta:p})}}};var dn=b("react");var ln=()=>{let{show:e,edit:t,list:r,create:o}=oe();return(0,dn.useCallback)(({redirect:a,resource:n,id:i,meta:l={}})=>{if(a&&n)return!!n.show&&a==="show"&&i?e(n,i,void 0,l):!!n.edit&&a==="edit"&&i?t(n,i,void 0,l):!!n.create&&a==="create"?o(n,void 0,l):r(n,"push",l)},[])};var Sr=A(b("react")),se=()=>{let e=(0,Sr.useContext)(Ke);return Sr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.go)!=null?o:()=>()=>{}},[e==null?void 0:e.go])()};var wr=A(b("react")),No=()=>{let e=(0,wr.useContext)(Ke);return wr.default.useMemo(()=>{var o;return(o=e==null?void 0:e.back)!=null?o:()=>()=>{}},[e==null?void 0:e.back])()};var oe=()=>{let{resources:e}=V(),t=H(),{useHistory:r}=G(),o=r(),s=Y(),a=se(),n=No(),i=(m,f="push")=>{t==="legacy"?o[f](m):a({to:m,type:f})},l=(m,f={})=>{var C,P,E;if(t==="legacy"){let L=typeof m=="string"?(C=K(m,e,!0))!=null?C:{name:m,route:m}:m,I=ce(L,e,!0).find(S=>S.action==="create");return I?me(I.route,s,f):""}else{let L=typeof m=="string"?(P=K(m,e))!=null?P:{name:m}:m,I=(E=ce(L,e).find(S=>S.action==="create"))==null?void 0:E.route;return I?a({to:me(I,s,f),type:"path"}):""}},p=(m,f,C={})=>{var E,L,I;let P=encodeURIComponent(f);if(t==="legacy"){let S=typeof m=="string"?(E=K(m,e,!0))!=null?E:{name:m,route:m}:m,M=ce(S,e,!0).find(k=>k.action==="edit");return M?me(M.route,s,{...C,id:P}):""}else{let S=typeof m=="string"?(L=K(m,e))!=null?L:{name:m}:m,M=(I=ce(S,e).find(k=>k.action==="edit"))==null?void 0:I.route;return M?a({to:me(M,s,{...C,id:P}),type:"path"}):""}},d=(m,f,C={})=>{var E,L,I;let P=encodeURIComponent(f);if(t==="legacy"){let S=typeof m=="string"?(E=K(m,e,!0))!=null?E:{name:m,route:m}:m,M=ce(S,e,!0).find(k=>k.action==="clone");return M?me(M.route,s,{...C,id:P}):""}else{let S=typeof m=="string"?(L=K(m,e))!=null?L:{name:m}:m,M=(I=ce(S,e).find(k=>k.action==="clone"))==null?void 0:I.route;return M?a({to:me(M,s,{...C,id:P}),type:"path"}):""}},c=(m,f,C={})=>{var E,L,I;let P=encodeURIComponent(f);if(t==="legacy"){let S=typeof m=="string"?(E=K(m,e,!0))!=null?E:{name:m,route:m}:m,M=ce(S,e,!0).find(k=>k.action==="show");return M?me(M.route,s,{...C,id:P}):""}else{let S=typeof m=="string"?(L=K(m,e))!=null?L:{name:m}:m,M=(I=ce(S,e).find(k=>k.action==="show"))==null?void 0:I.route;return M?a({to:me(M,s,{...C,id:P}),type:"path"}):""}},g=(m,f={})=>{var C,P,E;if(t==="legacy"){let L=typeof m=="string"?(C=K(m,e,!0))!=null?C:{name:m,route:m}:m,I=ce(L,e,!0).find(S=>S.action==="list");return I?me(I.route,s,f):""}else{let L=typeof m=="string"?(P=K(m,e))!=null?P:{name:m}:m,I=(E=ce(L,e).find(S=>S.action==="list"))==null?void 0:E.route;return I?a({to:me(I,s,f),type:"path"}):""}};return{create:(m,f="push",C={})=>{i(l(m,C),f)},createUrl:l,edit:(m,f,C="push",P={})=>{i(p(m,f,P),C)},editUrl:p,clone:(m,f,C="push",P={})=>{i(d(m,f,P),C)},cloneUrl:d,show:(m,f,C="push",P={})=>{i(c(m,f,P),C)},showUrl:c,list:(m,f="push",C={})=>{i(g(m,C),f)},listUrl:g,push:(m,...f)=>{t==="legacy"?o.push(m,...f):a({to:m,type:"push"})},replace:(m,...f)=>{t==="legacy"?o.replace(m,...f):a({to:m,type:"replace"})},goBack:()=>{t==="legacy"?o.goBack():n()}}};var kr=A(b("react"));var Zm=({resource:e,id:t,successNotification:r,errorNotification:o,meta:s,metaData:a,liveMode:n,onLiveEvent:i,dataProviderName:l,queryOptions:p}={})=>{let d=H(),{resources:c}=V(),{useParams:g}=G(),{resource:x,id:U}=Y(),{resource:T,id:u}=g(),y=x==null?void 0:x.name,R=!e||e===(d==="legacy"?T:y)?t!=null?t:d==="legacy"?u:U:t,[D,v]=(0,kr.useState)(R);kr.default.useEffect(()=>{R!==D&&v(R)},[R]);let m=e!=null?e:d==="legacy"?T:y,f,C=tt();if(d==="legacy")m&&(f=C(m));else if(e){let E=K(e,c);E?f=E:f={name:e,route:e}}else if(typeof x=="string"){let E=K(x,c);E?f=E:f={name:x,route:x}}else f=x;return{queryResult:Vt({resource:f==null?void 0:f.name,id:D!=null?D:"",queryOptions:{enabled:D!==void 0,...p},successNotification:r,errorNotification:o,meta:h(s,a),metaData:h(s,a),liveMode:n,onLiveEvent:i,dataProviderName:l}),showId:D,setShowId:v}};var vt=b("react"),mn=b("papaparse"),fn=A(b("lodash-es/chunk"));var nf=({resourceName:e,resource:t,mapData:r=d=>d,paparseOptions:o,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:a,meta:n,metaData:i,onProgress:l,dataProviderName:p}={})=>{let[d,c]=(0,vt.useState)(0),[g,x]=(0,vt.useState)(0),[U,T]=(0,vt.useState)(!1),{resource:u}=V(t!=null?t:e),y=Uo(),R=Qt(),D;s===1?D=R:D=y;let v=()=>{x(0),c(0),T(!1)},m=C=>{let P={succeeded:C.filter(E=>E.type==="success"),errored:C.filter(E=>E.type==="error")};a==null||a(P),T(!1)};(0,vt.useEffect)(()=>{l==null||l({totalAmount:g,processedAmount:d})},[g,d]);let f=({file:C})=>(v(),new Promise(P=>{T(!0),(0,mn.parse)(C,{complete:async({data:E})=>{let L=sr(E,r);if(x(L.length),s===1){let I=L.map(M=>async()=>{var O;return{response:await R.mutateAsync({resource:(O=u==null?void 0:u.name)!=null?O:"",values:M,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:h(n,i),metaData:h(n,i)}),value:M}}),S=await dr(I,({response:M,value:k})=>(c(B=>B+1),{response:[M.data],type:"success",request:[k]}),(M,k)=>({response:[M],type:"error",request:[L[k]]}));P(S)}else{let I=(0,fn.default)(L,s),S=I.map(k=>async()=>{var w;return{response:await y.mutateAsync({resource:(w=u==null?void 0:u.name)!=null?w:"",values:k,successNotification:!1,errorNotification:!1,dataProviderName:p,meta:h(n,i),metaData:h(n,i)}),value:k,currentBatchLength:k.length}}),M=await dr(S,({response:k,currentBatchLength:B,value:O})=>(c(w=>w+B),{response:k.data,type:"success",request:O}),(k,B)=>({response:[k],type:"error",request:I[B]}));P(M)}},...o})}).then(P=>(m(P),P)));return{inputProps:{type:"file",accept:".csv",onChange:C=>{C.target.files&&C.target.files.length>0&&f({file:C.target.files[0]})}},mutationResult:D,isLoading:U,handleChange:f}};var Wt=b("react"),uf=({defaultVisible:e=!1}={})=>{let[t,r]=(0,Wt.useState)(e),o=(0,Wt.useCallback)(()=>r(!0),[t]),s=(0,Wt.useCallback)(()=>r(!1),[t]);return{visible:t,show:o,close:s}};var yn=A(b("react"));var Kt=()=>{let e=H(),{resource:t,resources:r}=V(),o=Y();return yn.default.useCallback(({resource:a,action:n,meta:i})=>{var g;let l=a||t;if(!l)return;let d=(g=ce(l,r,e==="legacy").find(x=>x.action===n))==null?void 0:g.route;return d?me(d,o,i):void 0},[r,t,o])};var ba=({resource:e,action:t,meta:r,legacy:o})=>Kt()({resource:e,action:t,meta:r,legacy:o});var Vr=A(b("react")),ct=()=>{let e=(0,Vr.useContext)(Ke);return e!=null&&e.Link?e.Link:({to:r,...o})=>Vr.default.createElement("a",{href:r,...o})};var Tn=b("react");var Fo=A(b("react")),Ge={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},ha=Fo.default.createContext(Ge),Gt=ha,gn=({children:e,useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n})=>Fo.default.createElement(Gt.Provider,{value:{useHistory:t!=null?t:Ge.useHistory,useLocation:r!=null?r:Ge.useLocation,useParams:o!=null?o:Ge.useParams,Prompt:s!=null?s:Ge.Prompt,Link:a!=null?a:Ge.Link,routes:n!=null?n:Ge.routes}},e);var G=()=>{let e=(0,Tn.useContext)(Gt),{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}=e!=null?e:Ge;return{useHistory:t,useLocation:r,useParams:o,Prompt:s,Link:a,routes:n}};var Cn=b("@tanstack/react-query"),Pn=b("react");var Oo=A(b("react"));var pt=Oo.default.createContext({}),Rn=({can:e,children:t})=>Oo.default.createElement(pt.Provider,{value:{can:e}},t);var xn=e=>{let{icon:t,list:r,edit:o,create:s,show:a,clone:n,children:i,meta:l,options:p,...d}=e,{icon:c,...g}=l!=null?l:{},{icon:x,...U}=p!=null?p:{};return{...d,...l?{meta:g}:{},...p?{options:U}:{}}};var bn=({action:e,resource:t,params:r,queryOptions:o})=>{let{can:s}=(0,Pn.useContext)(pt),{resource:a,...n}=r!=null?r:{},i=xn(a!=null?a:{}),l=(0,Cn.useQuery)(["useCan",{action:e,resource:t,params:{...n,resource:i},enabled:o==null?void 0:o.enabled}],()=>{var p;return(p=s==null?void 0:s({action:e,resource:t,params:n}))!=null?p:Promise.resolve({can:!0})},{enabled:typeof s<"u",...o,retry:!1});return typeof s>"u"?{data:{can:!0}}:l};var hn=b("react");var Wf=()=>{let{can:e}=(0,hn.useContext)(pt);return{can:e}};var ze=b("react"),vn=A(b("lodash/uniqBy")),Dn=A(b("lodash/debounce")),zt=A(b("lodash/get"));var Zf=e=>{var Oe,pe,st;let[t,r]=(0,ze.useState)([]),[o,s]=(0,ze.useState)([]),[a,n]=(0,ze.useState)([]),{resource:i,sort:l,sorters:p,filters:d=[],optionLabel:c="title",optionValue:g="id",debounce:x=300,successNotification:U,errorNotification:T,defaultValueQueryOptions:u,queryOptions:y,fetchSize:R,pagination:D,hasPagination:v=!1,liveMode:m,defaultValue:f=[],onLiveEvent:C,onSearch:P,liveParams:E,meta:L,metaData:I,dataProviderName:S}=e,{resources:M}=V(),k=K(i,M),B=(Oe=k==null?void 0:k.name)!=null?Oe:i,O=Array.isArray(f)?f:[f],w=(0,ze.useCallback)(te=>{n(te.data.map(de=>({label:(0,zt.default)(de,c),value:(0,zt.default)(de,g)})))},[c,g]),F=u!=null?u:y,$=Co({resource:B,ids:O,queryOptions:{...F,enabled:O.length>0&&((pe=u==null?void 0:u.enabled)!=null?pe:!0),onSuccess:te=>{var de;w(te),(de=F==null?void 0:F.onSuccess)==null||de.call(F,te)}},meta:h(L,I),metaData:h(L,I),liveMode:"off",dataProviderName:S}),Ce=(0,ze.useCallback)(te=>{s(te.data.map(de=>({label:(0,zt.default)(de,c),value:(0,zt.default)(de,g)})))},[c,g]),Ee=kt({resource:B,sorters:h(p,l),filters:d.concat(t),pagination:{current:D==null?void 0:D.current,pageSize:(st=D==null?void 0:D.pageSize)!=null?st:R,mode:D==null?void 0:D.mode},hasPagination:v,queryOptions:{...y,onSuccess:te=>{var de;Ce(te),(de=y==null?void 0:y.onSuccess)==null||de.call(y,te)}},successNotification:U,errorNotification:T,meta:h(L,I),metaData:h(L,I),liveMode:m,liveParams:E,onLiveEvent:C,dataProviderName:S}),_=te=>{if(P){r(P(te));return}if(te)r([{field:c,operator:"contains",value:te}]);else{r([]);return}};return{queryResult:Ee,defaultValueQueryResult:$,options:(0,ze.useMemo)(()=>(0,vn.default)([...o,...a],"value"),[o,a]),onSearch:(0,Dn.default)(_,x)}};var Ne=A(b("react")),Ho=A(b("qs")),_t=A(b("lodash/differenceWith")),jt=A(b("lodash/isEqual"));var Ln=A(b("warn-once")),Un=[],En=[];function sy({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:o,initialSorter:s,permanentSorter:a=En,defaultSetFilterBehavior:n,initialFilter:i,permanentFilter:l=Un,filters:p,sorters:d,syncWithLocation:c,resource:g,successNotification:x,errorNotification:U,queryOptions:T,liveMode:u,onLiveEvent:y,liveParams:R,meta:D,metaData:v,dataProviderName:m}={}){var Ze,Lt,jo,Yo,Jo,Xo,Zo,qo,es,ts;let{syncWithLocation:f}=Qo(),C=c!=null?c:f,P=Fs(u),E=H(),{useLocation:L}=G(),{search:I,pathname:S}=L(),M=Y(),k=r===!1?"off":"server",B=((Ze=o==null?void 0:o.mode)!=null?Ze:k)!=="off",O=h(o==null?void 0:o.current,e),w=h(o==null?void 0:o.pageSize,t),F=h(D,v),{parsedCurrent:$,parsedPageSize:Ce,parsedSorter:Ee,parsedFilters:_}=ar(I!=null?I:"?"),Oe=h(p==null?void 0:p.initial,i),pe=(Lt=h(p==null?void 0:p.permanent,l))!=null?Lt:Un,st=h(d==null?void 0:d.initial,s),te=(jo=h(d==null?void 0:d.permanent,a))!=null?jo:En,de=(Yo=h(p==null?void 0:p.defaultBehavior,n))!=null?Yo:"merge",nt,ft,Le,Ie;C?(nt=((Jo=M==null?void 0:M.params)==null?void 0:Jo.current)||$||O||1,ft=((Xo=M==null?void 0:M.params)==null?void 0:Xo.pageSize)||Ce||w||10,Le=((Zo=M==null?void 0:M.params)==null?void 0:Zo.sorters)||(Ee.length?Ee:st),Ie=((qo=M==null?void 0:M.params)==null?void 0:qo.filters)||(_.length?_:Oe)):(nt=O||1,ft=w||10,Le=st,Ie=Oe);let{replace:yt}=oe(),Xt=se(),{resource:Et}=V(g),gt=Et==null?void 0:Et.name;Ne.default.useEffect(()=>{(0,Ln.default)(typeof gt>"u","useTable: `resource` is not defined.")},[gt]);let[Me,Zt]=(0,Ne.useState)(pr(te,Le!=null?Le:[])),[_e,je]=(0,Ne.useState)(cr(pe,Ie!=null?Ie:[])),[Tt,Nr]=(0,Ne.useState)(nt),[Ye,Fr]=(0,Ne.useState)(ft),_o=({pagination:{current:ae,pageSize:be},sorter:qt,filters:er})=>{var tr;if(E==="new")return(tr=Xt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...B?{current:ae,pageSize:be}:{},sorters:qt,filters:er,...ue()}}))!=null?tr:"";{let It=Ho.default.parse(I==null?void 0:I.substring(1)),Or=ir({pagination:{pageSize:be,current:ae},sorters:Me!=null?Me:qt,filters:er,...It});return`${S!=null?S:""}?${Or!=null?Or:""}`}};(0,Ne.useEffect)(()=>{I===""&&(Nr(nt),Fr(ft),Zt(pr(te,Le!=null?Le:[])),je(cr(pe,Ie!=null?Ie:[])))},[I]);let ue=()=>{var ae;if(E==="new"){let{sorters:be,filters:qt,pageSize:er,current:tr,...It}=(ae=M==null?void 0:M.params)!=null?ae:{};return It}else{let{sorter:be,filters:qt,pageSize:er,current:tr,...It}=Ho.default.parse(I,{ignoreQueryPrefix:!0});return It}};(0,Ne.useEffect)(()=>{if(C){let ae=ue();if(E==="new")Xt({type:"replace",options:{keepQuery:!0},query:{...B?{pageSize:Ye,current:Tt}:{},sorters:(0,_t.default)(Me,te,jt.default),filters:(0,_t.default)(_e,pe,jt.default)}});else{let be=ir({...B?{pagination:{pageSize:Ye,current:Tt}}:{},sorters:(0,_t.default)(Me,te,jt.default),filters:(0,_t.default)(_e,pe,jt.default),...ae});return yt==null?void 0:yt(`${S}?${be}`,void 0,{shallow:!0})}}},[C,Tt,Ye,Me,_e]);let Ae=kt({resource:gt,hasPagination:r,pagination:{current:Tt,pageSize:Ye,mode:o==null?void 0:o.mode},filters:Ct(pe,_e),sorters:ur(te,Me),queryOptions:T,successNotification:x,errorNotification:U,meta:F,metaData:F,liveMode:P,liveParams:R,onLiveEvent:y,dataProviderName:m}),He=ae=>{je(be=>Ct(pe,ae,be))},Rt=ae=>{je(Ct(pe,ae))},Se=ae=>{je(be=>Ct(pe,ae(be)))},Je=(ae,be=de)=>{typeof ae=="function"?Se(ae):be==="replace"?Rt(ae):He(ae)},Xe=ae=>{Zt(()=>ur(te,ae))};return{tableQueryResult:Ae,sorters:Me,setSorters:Xe,sorter:Me,setSorter:Xe,filters:_e,setFilters:Je,current:Tt,setCurrent:Nr,pageSize:Ye,setPageSize:Fr,pageCount:Ye?Math.ceil(((ts=(es=Ae.data)==null?void 0:es.total)!=null?ts:0)/Ye):1,createLinkForSyncWithLocation:_o}}var Wo=b("react"),Yt=b("@tanstack/react-query");var $o=A(b("react")),lt=$o.default.createContext({}),In=({create:e,get:t,update:r,children:o})=>$o.default.createElement(lt.Provider,{value:{create:e,get:t,update:r}},o);var ve=({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=(0,Yt.useQueryClient)(),o=(0,Wo.useContext)(lt),s=W(),{resources:a}=(0,Wo.useContext)(et),{data:n,refetch:i,isLoading:l}=Wr({v3LegacyAuthProviderCompatible:Boolean(s==null?void 0:s.isLegacy),queryOptions:{enabled:!!o}}),p=(0,Yt.useMutation)(async c=>{var T,u,y,R,D;let g=K(c.resource,a),x=h((T=g==null?void 0:g.meta)==null?void 0:T.audit,(u=g==null?void 0:g.options)==null?void 0:u.audit,(R=(y=g==null?void 0:g.options)==null?void 0:y.auditLog)==null?void 0:R.permissions);if(x&&!co(x,c.action))return;let U;return l&&(U=await i()),await((D=o.create)==null?void 0:D.call(o,{...c,author:n!=null?n:U==null?void 0:U.data}))},e),d=(0,Yt.useMutation)(async c=>{var g;return await((g=o.update)==null?void 0:g.call(o,c))},{onSuccess:c=>{if(c!=null&&c.resource){let g=J(c==null?void 0:c.resource);r.invalidateQueries(g.logList())}},...t});return{log:p,rename:d}};var Mn=b("react"),An=b("@tanstack/react-query");var Cy=({resource:e,action:t,meta:r,author:o,metaData:s,queryOptions:a})=>{let{get:n}=(0,Mn.useContext)(lt),i=J(e,void 0,s);return(0,An.useQuery)(i.logList(r),()=>{var p;return(p=n==null?void 0:n({resource:e,action:t,author:o,meta:r,metaData:s}))!=null?p:Promise.resolve([])},{enabled:typeof n<"u",...a,retry:!1})};var Sn=b("react"),wn=b("@tanstack/react-query");var De=()=>{let{resources:e}=V(),t=(0,wn.useQueryClient)();return(0,Sn.useCallback)(({resource:o,dataProviderName:s,invalidates:a,id:n})=>{if(a===!1)return;let i=J(o,Q(o,s,e));a.forEach(l=>{switch(l){case"all":t.invalidateQueries(i.all);break;case"list":t.invalidateQueries(i.list());break;case"many":t.invalidateQueries(i.many());break;case"resourceAll":t.invalidateQueries(i.resourceAll);break;case"detail":t.invalidateQueries(i.detail(n||""));break;default:break}})},[])};var kn=b("react"),Vn=A(b("warn-once"));var By=({meta:e={}}={})=>{let t=H(),{i18nProvider:r}=(0,kn.useContext)(ke),o=Y(),s=N(),{resources:a,resource:n,action:i}=V(),l=[];if(!(n!=null&&n.name))return{breadcrumbs:l};let p=d=>{var g,x,U,T,u,y,R,D;let c=typeof d=="string"?(g=K(d,a,t==="legacy"))!=null?g:{name:d}:d;if(c){let v=h((x=c==null?void 0:c.meta)==null?void 0:x.parent,c==null?void 0:c.parentName);v&&p(v);let m=ce(c,a,t==="legacy").find(P=>P.action==="list"),f=(U=m==null?void 0:m.resource)!=null&&U.list?m==null?void 0:m.route:void 0,C=f?t==="legacy"?f:me(f,o,e):void 0;l.push({label:(y=h((T=c.meta)==null?void 0:T.label,(u=c.options)==null?void 0:u.label))!=null?y:s(`${c.name}.${c.name}`,it(c.name)),href:C,icon:h((R=c.meta)==null?void 0:R.icon,(D=c.options)==null?void 0:D.icon,c.icon)})}};if(p(n),i&&i!=="list"){let d=`actions.${i}`,c=s(d);typeof r<"u"&&c===d?((0,Vn.default)(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${i}" action. Please add "actions.${i}" key to your translation file.
For more information, see https://refine.dev/docs/core/hooks/useBreadcrumb/#i18n-support`),l.push({label:s(`buttons.${i}`,it(i))})):l.push({label:s(d,it(i))})}return{breadcrumbs:l}};var Qr=A(b("react"));var Dt=(e,t,r=!1)=>{let o=[],s=Pe(e,t);for(;s;)o.push(s),s=Pe(s,t);return o.reverse(),`/${[...o,e].map(n=>{var i,l;return le((l=(i=r?n.route:void 0)!=null?i:n.identifier)!=null?l:n.name)}).join("/").replace(/^\//,"")}`};var Qn=(e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{var p,d;let a=[],n=Pe(s,e);for(;n;)a.push(n),n=Pe(n,e);a.reverse();let i=r;a.forEach(c=>{var x,U;let g=(U=(x=t?c.route:void 0)!=null?x:c.identifier)!=null?U:c.name;i.children[g]||(i.children[g]={item:c,children:{}}),i=i.children[g]});let l=(d=(p=t?s.route:void 0)!=null?p:s.identifier)!=null?d:s.name;i.children[l]||(i.children[l]={item:s,children:{}})});let o=s=>{let a=[];return Object.keys(s.children).forEach(n=>{let i=Dt(s.children[n].item,e,t),l={...s.children[n].item,key:i,children:o(s.children[n])};a.push(l)}),a};return o(r)};var Bn=e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),va=({meta:e,hideOnMissingParameter:t}={hideOnMissingParameter:!0})=>{let r=N(),o=Kt(),s=H(),{resource:a,resources:n}=V(),{pathname:i}=Y(),{useLocation:l}=G(),{pathname:p}=l(),d=s==="legacy"?Bn(p):i?Bn(i):void 0,c=`/${(d!=null?d:"").replace(/^\//,"")}`,g=a?Dt(a,n,s==="legacy"):c!=null?c:"",x=Qr.default.useMemo(()=>{if(!a)return[];let u=Pe(a,n),y=[Dt(a,n)];for(;u;)y.push(Dt(u,n)),u=Pe(u,n);return y},[]),U=Qr.default.useCallback(u=>{var R,D,v,m,f,C,P,E;if(((v=(R=u==null?void 0:u.meta)==null?void 0:R.hide)!=null?v:(D=u==null?void 0:u.options)==null?void 0:D.hide)||!(u!=null&&u.list)&&u.children.length===0)return;let y=u.list?o({resource:u,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&y&&y.match(/(\/|^):(.+?)(\/|$){1}/)))return{...u,route:y,icon:h((m=u.meta)==null?void 0:m.icon,(f=u.options)==null?void 0:f.icon,u.icon),label:(E=h((C=u==null?void 0:u.meta)==null?void 0:C.label,(P=u==null?void 0:u.options)==null?void 0:P.label))!=null?E:r(`${u.name}.${u.name}`,Pt(u.name,"plural"))}},[s,e,r,t]),T=Qr.default.useMemo(()=>{let u=Qn(n,s==="legacy"),y=R=>R.flatMap(D=>{let v=y(D.children),m=U({...D,children:v});return m?[m]:[]});return y(u)},[n,s,U]);return{defaultOpenKeys:x,selectedKey:g,menuItems:T}};var Da=()=>{let[e,t]=(0,Fe.useState)(),r=N(),{push:o}=oe(),s=se(),a=H(),{resource:n,action:i}=V();return(0,Fe.useEffect)(()=>{n&&i&&t(r("pages.error.info",{action:i,resource:n==null?void 0:n.name},`You may have forgotten to add the "${i}" component to "${n==null?void 0:n.name}" resource.`))},[n,i]),Fe.default.createElement(Fe.default.Fragment,null,Fe.default.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Fe.default.createElement("p",null,e),Fe.default.createElement("button",{onClick:()=>{a==="legacy"?o("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))};var ie=A(b("react"));var To=()=>{let[e,t]=(0,ie.useState)(""),[r,o]=(0,ie.useState)(""),s=N(),a=W(),{mutate:n}=Mt({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy)});return ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("h1",null,s("pages.login.title","Sign in your account")),ie.default.createElement("form",{onSubmit:i=>{i.preventDefault(),n({username:e,password:r})}},ie.default.createElement("table",null,ie.default.createElement("tbody",null,ie.default.createElement("tr",null,ie.default.createElement("td",null,s("pages.login.username",void 0,"username"),":"),ie.default.createElement("td",null,ie.default.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:i=>t(i.target.value)}))),ie.default.createElement("tr",null,ie.default.createElement("td",null,s("pages.login.password",void 0,"password"),":"),ie.default.createElement("td",null,ie.default.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:i=>o(i.target.value)}))))),ie.default.createElement("br",null),ie.default.createElement("input",{type:"submit",value:"login"})))};var dt=A(b("react"));var j=A(b("react"));var Nn=({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:o,contentProps:s,wrapperProps:a,renderContent:n,formProps:i})=>{let l=H(),p=ct(),{Link:d}=G(),c=l==="legacy"?d:p,[g,x]=(0,j.useState)(""),[U,T]=(0,j.useState)(""),[u,y]=(0,j.useState)(!1),R=N(),D=W(),{mutate:v}=Mt({v3LegacyAuthProviderCompatible:Boolean(D==null?void 0:D.isLegacy)}),m=(P,E)=>P?typeof P=="string"?j.default.createElement(c,{to:P},E):P:null,f=()=>e?e.map(P=>{var E;return j.default.createElement("div",{key:P.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},j.default.createElement("button",{onClick:()=>v({providerName:P.name}),style:{display:"flex",alignItems:"center"}},P==null?void 0:P.icon,(E=P.label)!=null?E:j.default.createElement("label",null,P.label)))}):null,C=j.default.createElement("div",{...s},j.default.createElement("h1",{style:{textAlign:"center"}},R("pages.login.title","Sign in to your account")),f(),j.default.createElement("hr",null),j.default.createElement("form",{onSubmit:P=>{P.preventDefault(),v({email:g,password:U,remember:u})},...i},j.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},j.default.createElement("label",null,R("pages.login.fields.email","Email")),j.default.createElement("input",{name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:g,onChange:P=>x(P.target.value)}),j.default.createElement("label",null,R("pages.login.fields.password","Password")),j.default.createElement("input",{type:"password",name:"password",required:!0,size:20,value:U,onChange:P=>T(P.target.value)}),o!=null?o:j.default.createElement(j.default.Fragment,null,j.default.createElement("label",null,R("pages.login.buttons.rememberMe","Remember me"),j.default.createElement("input",{name:"remember",type:"checkbox",size:20,checked:u,value:u.toString(),onChange:()=>{y(!u)}}))),j.default.createElement("br",null),r!=null?r:m("/forgot-password",R("pages.login.buttons.forgotPassword","Forgot password?")),j.default.createElement("input",{type:"submit",value:R("pages.login.signin","Sign in")}),t!=null?t:j.default.createElement("span",null,R("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",m("/register",R("pages.login.register","Sign up"))))));return j.default.createElement("div",{...a},n?n(C):C)};var ne=A(b("react"));var Fn=({providers:e,loginLink:t,wrapperProps:r,contentProps:o,renderContent:s,formProps:a})=>{let n=H(),i=ct(),{Link:l}=G(),p=n==="legacy"?l:i,[d,c]=(0,ne.useState)(""),[g,x]=(0,ne.useState)(""),U=N(),T=W(),{mutate:u,isLoading:y}=Jr({v3LegacyAuthProviderCompatible:Boolean(T==null?void 0:T.isLegacy)}),R=(m,f)=>m?typeof m=="string"?ne.default.createElement(p,{to:m},f):m:null,D=()=>e?e.map(m=>{var f;return ne.default.createElement("div",{key:m.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},ne.default.createElement("button",{onClick:()=>u({providerName:m.name}),style:{display:"flex",alignItems:"center"}},m==null?void 0:m.icon,(f=m.label)!=null?f:ne.default.createElement("label",null,m.label)))}):null,v=ne.default.createElement("div",{...o},ne.default.createElement("h1",{style:{textAlign:"center"}},U("pages.register.title","Sign up for your account")),D(),ne.default.createElement("hr",null),ne.default.createElement("form",{onSubmit:m=>{m.preventDefault(),u({email:d,password:g})},...a},ne.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ne.default.createElement("label",null,U("pages.register.fields.email","Email")),ne.default.createElement("input",{name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:m=>c(m.target.value)}),ne.default.createElement("label",null,U("pages.register.fields.password","Password")),ne.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:g,onChange:m=>x(m.target.value)}),ne.default.createElement("input",{type:"submit",value:U("pages.register.buttons.submit","Sign up"),disabled:y}),t!=null?t:ne.default.createElement(ne.default.Fragment,null,ne.default.createElement("span",null,U("pages.login.buttons.haveAccount","Have an account?")," ",R("/login",U("pages.login.signin","Sign in")))))));return ne.default.createElement("div",{...r},s?s(v):v)};var ye=A(b("react"));var On=({loginLink:e,wrapperProps:t,contentProps:r,renderContent:o,formProps:s})=>{let a=N(),n=H(),i=ct(),{Link:l}=G(),p=n==="legacy"?l:i,[d,c]=(0,ye.useState)(""),{mutate:g,isLoading:x}=qr(),U=(u,y)=>u?typeof u=="string"?ye.default.createElement(p,{to:u},y):u:null,T=ye.default.createElement("div",{...r},ye.default.createElement("h1",{style:{textAlign:"center"}},a("pages.forgotPassword.title","Forgot your password?")),ye.default.createElement("hr",null),ye.default.createElement("form",{onSubmit:u=>{u.preventDefault(),g({email:d})},...s},ye.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ye.default.createElement("label",null,a("pages.forgotPassword.fields.email","Email")),ye.default.createElement("input",{name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:d,onChange:u=>c(u.target.value)}),ye.default.createElement("input",{type:"submit",disabled:x,value:a("pages.forgotPassword.buttons.submit","Send reset instructions")}),ye.default.createElement("br",null),e!=null?e:ye.default.createElement("span",null,a("pages.register.buttons.haveAccount","Have an account? ")," ",U("/login",a("pages.login.signin","Sign in"))))));return ye.default.createElement("div",{...t},o?o(T):T)};var ge=A(b("react"));var Hn=({wrapperProps:e,contentProps:t,renderContent:r,formProps:o})=>{let s=N(),a=W(),{mutate:n,isLoading:i}=ro({v3LegacyAuthProviderCompatible:Boolean(a==null?void 0:a.isLegacy)}),[l,p]=(0,ge.useState)(""),[d,c]=(0,ge.useState)(""),g=ge.default.createElement("div",{...t},ge.default.createElement("h1",{style:{textAlign:"center"}},s("pages.updatePassword.title","Update Password")),ge.default.createElement("hr",null),ge.default.createElement("form",{onSubmit:x=>{x.preventDefault(),n({password:l,confirmPassword:d})},...o},ge.default.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ge.default.createElement("label",null,s("pages.updatePassword.fields.password","New Password")),ge.default.createElement("input",{name:"password",type:"password",required:!0,size:20,value:l,onChange:x=>p(x.target.value)}),ge.default.createElement("label",null,s("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ge.default.createElement("input",{name:"confirmPassword",type:"password",required:!0,size:20,value:d,onChange:x=>c(x.target.value)}),ge.default.createElement("input",{type:"submit",disabled:i,value:s("pages.updatePassword.buttons.submit","Update")}))));return ge.default.createElement("div",{...e},r?r(g):g)};var Ua=e=>{let{type:t}=e;return dt.default.createElement(dt.default.Fragment,null,(()=>{switch(t){case"register":return dt.default.createElement(Fn,{...e});case"forgotPassword":return dt.default.createElement(On,{...e});case"updatePassword":return dt.default.createElement(Hn,{...e});default:return dt.default.createElement(Nn,{...e})}})())};var Te=A(b("react")),Ko=()=>Te.default.createElement(Te.default.Fragment,null,Te.default.createElement("h1",null,"Welcome on board"),Te.default.createElement("p",null,"Your configuration is completed."),Te.default.createElement("p",null,"Now you can get started by adding your resources to the"," ",Te.default.createElement("code",null,"`resources`")," property of ",Te.default.createElement("code",null,"`<Refine>`")),Te.default.createElement("div",{style:{display:"flex",gap:8}},Te.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Te.default.createElement("button",null,"Documentation")),Te.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Te.default.createElement("button",null,"Examples")),Te.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Te.default.createElement("button",null,"Community"))));var Ue=A(b("react")),Ea=()=>Ue.default.createElement(Ue.default.Fragment,null,Ue.default.createElement("h1",null,"Welcome on board"),Ue.default.createElement("p",null,"Your configuration is completed."),Ue.default.createElement("div",{style:{display:"flex",gap:8}},Ue.default.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ue.default.createElement("button",null,"Documentation")),Ue.default.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ue.default.createElement("button",null,"Examples")),Ue.default.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ue.default.createElement("button",null,"Community"))));var X=A(b("react")),Jt=b("@tanstack/react-query"),_n=b("@tanstack/react-query-devtools");var Wn=b("react");var rt=b("react");var La="4.3.0",$n=()=>{let e=no(),t=(0,rt.useContext)(lt),r=(0,rt.useContext)(We),o=(0,rt.useContext)(Gt),s=(0,rt.useContext)(Bt),{i18nProvider:a}=(0,rt.useContext)(ke),n=(0,rt.useContext)(Ft),i=(0,rt.useContext)(pt),{resources:l}=V(),p=!!t.create||!!t.get||!!t.update,d=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),c=!!o.useHistory||!!o.Link||!!o.Prompt||!!o.useLocation||!!o.useParams,g=!!s,x=!!(a!=null&&a.changeLocale)||!!(a!=null&&a.getLocale)||!!(a!=null&&a.translate),U=!!n.close||!!n.open,T=!!i.can;return{providers:{auth:e,auditLog:p,live:d,router:c,data:g,i18n:x,notification:U,accessControl:T},version:La,resourceCount:l.length}};var Ia=e=>{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")},Kn=()=>{let e=$n();return(0,Wn.useEffect)(()=>{if(typeof window>"u"&&!Image)return;let t=new Image;t.src=`https://telemetry.refine.dev/telemetry?payload=${Ia(e)}`},[]),null};var Gn=e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1};var Go=A(b("react")),zn=e=>{let t=Go.default.useRef(!1);Go.default.useEffect(()=>{t.current===!1&&e&&Gn(e)&&(t.current=!0)},[e])};var Ma=({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:o,routerProvider:s,notificationProvider:a,accessControlProvider:n,auditLogProvider:i,resources:l,DashboardPage:p,ReadyPage:d,LoginPage:c,catchAll:g,children:x,liveProvider:U,i18nProvider:T,Title:u,Layout:y,Sider:R,Header:D,Footer:v,OffLayoutArea:m,onLiveEvent:f,options:C})=>{let{optionsWithDefaults:P,disableTelemetryWithDefault:E,reactQueryWithDefaults:L}=Ro({options:C}),I=vr(()=>{var B;return L.clientConfig instanceof Jt.QueryClient?L.clientConfig:new Jt.QueryClient({...L.clientConfig,defaultOptions:{...L.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(B=L.clientConfig.defaultOptions)==null?void 0:B.queries}}})},[L.clientConfig]),M=X.default.useMemo(()=>typeof a=="function"?a:()=>a!=null?a:{},[a])();if(zn(s),o&&!s&&(l!=null?l:[]).length===0)return d?X.default.createElement(d,null):X.default.createElement(Ko,null);let{RouterComponent:k=X.default.Fragment}=s?{}:o!=null?o:{};return X.default.createElement(Jt.QueryClientProvider,{client:I},X.default.createElement(qs,{...M},X.default.createElement(ss,{...e!=null?e:{},isProvided:Boolean(e)},X.default.createElement(as,{...t!=null?t:{},isProvided:Boolean(t)},X.default.createElement(ks,{...r},X.default.createElement(Qs,{liveProvider:U},X.default.createElement(_s,{value:o&&!s?"legacy":"new"},X.default.createElement(Ys,{router:s},X.default.createElement(gn,{...o},X.default.createElement(Gs,{resources:l!=null?l:[]},X.default.createElement(rn,{i18nProvider:T},X.default.createElement(Rn,{...n!=null?n:{}},X.default.createElement(In,{...i!=null?i:{}},X.default.createElement(Po,null,X.default.createElement(Ps,{mutationMode:P.mutationMode,warnWhenUnsavedChanges:P.warnWhenUnsavedChanges,syncWithLocation:P.syncWithLocation,Title:u,undoableTimeout:P.undoableTimeout,catchAll:g,DashboardPage:p,LoginPage:c,Layout:y,Sider:R,Footer:v,Header:D,OffLayoutArea:m,hasDashboard:!!p,liveMode:P.liveMode,onLiveEvent:f,options:P},X.default.createElement(sn,null,X.default.createElement(k,null,x,!E&&X.default.createElement(Kn,null),X.default.createElement(zo,null))))))))))))))))),L.devtoolConfig===!1?null:X.default.createElement(_n.ReactQueryDevtools,{initialIsOpen:!1,position:"bottom-right",...L.devtoolConfig}))};var Br=b("react");var Es=({notification:e})=>{let t=N(),{notificationDispatch:r}=Be(),{open:o}=Re(),[s,a]=(0,Br.useState)(),n=()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||o==null||o({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:At(e.seconds)},`You have ${At(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:At(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let i=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);a(i)}};return(0,Br.useEffect)(()=>{n()},[e]),null};var Ut=A(b("react"));var Aa=({children:e,Layout:t,Sider:r,Header:o,Title:s,Footer:a,OffLayoutArea:n})=>{let{Layout:i,Footer:l,Header:p,Sider:d,Title:c,OffLayoutArea:g}=$t(),x=t!=null?t:i;return Ut.default.createElement(x,{Sider:r!=null?r:d,Header:o!=null?o:p,Footer:a!=null?a:l,Title:s!=null?s:c,OffLayoutArea:n!=null?n:g},e,Ut.default.createElement(Sa,null))},Sa=()=>{let{Prompt:e}=G(),t=N(),{warnWhen:r,setWarnWhen:o}=Ht(),s=a=>(a.preventDefault(),a.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue);return(0,Ut.useEffect)(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),Ut.default.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:o})};var xe=A(b("react"));var wa=()=>{let e=se(),[t,r]=xe.default.useState(void 0);return xe.default.useEffect(()=>{t&&e(t)},[t]),xe.default.useCallback(s=>{t||r(s)},[t])};function ka({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:o,loading:s}){var P;let a=W(),n=H(),i=Boolean(a==null?void 0:a.isProvided),l=Boolean(a==null?void 0:a.isLegacy),p=n==="legacy",d=Y(),c=se(),g=wa(),{replace:x}=oe(),{useLocation:U}=G(),T=U(),{isLoading:u,isFetching:y,isSuccess:R,data:{authenticated:D,redirectTo:v}={},refetch:m}=or({v3LegacyAuthProviderCompatible:l});xe.default.useEffect(()=>{m()},[r,o]);let f=xe.default.useRef({status:u?"initial":"pending",content:s!=null?s:null});y?f.current.status="pending":y||(f.current.status="settled");let C=i?l?R:D:!0;if(f.current.status==="settled")if(C)f.current.content=xe.default.createElement(xe.default.Fragment,null,r!=null?r:null);else if(typeof o<"u")f.current.content=xe.default.createElement(xe.default.Fragment,null,o);else{let E=`${p?T==null?void 0:T.pathname:d.pathname}`.replace(/(\?.*|#.*)$/,""),L=l?typeof e=="string"?e:"/login":typeof e=="string"?e:v;if(L)if(p){let I=t?`?to=${encodeURIComponent(E)}`:"";x(`${L}${I}`)}else g({to:L,query:t?{to:(P=d.params)!=null&&P.to?d.params.to:c({to:E,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"})}return i?xe.default.createElement(xe.default.Fragment,null,f.current.content):xe.default.createElement(xe.default.Fragment,null,r!=null?r:null)}var jn=b("react");var zo=()=>{let{useLocation:e}=G(),{checkAuth:t}=Z(),r=e();return(0,jn.useEffect)(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null};var mt=A(b("react"));var Va=({resource:e,action:t,params:r,fallback:o,children:s,...a})=>{var m,f;let n=H(),{resources:i}=V(),{useParams:l}=G(),{resource:p,id:d,action:c}=Y(),{resource:g,id:x,action:U}=l(),T=p==null?void 0:p.name,u=!e||e===(n==="legacy"?g:T)?(m=r==null?void 0:r.id)!=null?m:n==="legacy"?x:d:r==null?void 0:r.id,y=e!=null?e:n==="legacy"?g:T,R,D=tt();if(n==="legacy")y&&(R=D(y));else if(e){let C=K(e,i);C?R=C:R={name:e,route:e}}else if(typeof p=="string"){let C=K(p,i);C?R=C:R={name:p,route:p}}else R=p;let{data:v}=bn({resource:e!=null?e:R==null?void 0:R.name,action:(f=t!=null?t:n==="legacy"?U:c)!=null?f:"",params:r!=null?r:{id:u,resource:R}});return v!=null&&v.can?mt.default.isValidElement(s)?mt.default.cloneElement(s,a):mt.default.createElement(mt.default.Fragment,null,s):(v==null?void 0:v.can)===!1?mt.default.createElement(mt.default.Fragment,null,o!=null?o:null):null};var ot=A(b("react"));var Yn=[`
    .banner::before,
    .banner::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    `,`
    .banner::before {
        background-image: linear-gradient(
            270deg,
            rgba(255, 76, 77, 0.35) 0%,
            rgba(255, 153, 51, 0.35) 12.5%,
            rgba(255, 191, 0, 0.35) 25%,
            rgba(38, 217, 127, 0.35) 37.5%,
            rgba(71, 235, 235, 0.35) 50%,
            rgba(0, 128, 255, 0.35) 62.5%,
            rgba(51, 51, 255, 0.35) 75%,
            rgba(128, 0, 255, 0.35) 87.5%,
            rgba(237, 94, 201, 0.35) 100%
        );
        background-position: 0 0;
        background-size: 200% 100%;
        background-repeat: repeat-x;
        animation: bgpos 4s linear infinite;
      }
    `,`
    .banner::after {
        background: linear-gradient(
          180deg,
          rgba(13, 13, 13, 0.85) 0%,
          rgba(13, 13, 13, 0) 100%
        );
    }
    `,`
    @keyframes bgpos {
        0% {
            background-position: 0 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
    `,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `];var Qa=()=>((0,ot.useEffect)(()=>{let e=document.createElement("style");document.head.appendChild(e),Yn.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),ot.default.createElement("div",{className:"banner",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",padding:"8px 16px",backgroundColor:"#0d0d0d",borderBottom:"1px solid rgba(255, 255, 255, 0.15)"}},ot.default.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer"},ot.default.createElement("div",{className:"content",style:{position:"relative",zIndex:2,color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},ot.default.createElement("span",{className:"wizard",style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"32px",lineHeight:"32px"}},"\u{1F9D9}\u200D\u2642\uFE0F"),ot.default.createElement("span",{className:"text",style:{padding:"4px 0",fontSize:"16px",lineHeight:"24px",textShadow:"0px 0px 4px rgba(255, 255, 255, 0.5)"}},"Refine grants your wishes! Please give us a \u2B50\uFE0F on GitHub to keep the magic going.")))));})();
//# sourceMappingURL=index.js.map