{"version":3,"sources":["../../src/useForm/index.ts","../../src/useStepsForm/index.ts","../../src/useModalForm/index.ts"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n    useForm as useHookForm,\n    UseFormProps as UseHookFormProps,\n    UseFormReturn,\n    FieldValues,\n    UseFormHandleSubmit,\n    SubmitHandler,\n    SubmitErrorHandler,\n} from \"react-hook-form\";\nimport {\n    BaseRecord,\n    HttpError,\n    useForm as useFormCore,\n    useWarnAboutChange,\n    UseFormProps as UseFormCoreProps,\n    UseFormReturnType as UseFormReturnTypeCore,\n} from \"@refinedev/core\";\n\nexport type UseFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturn<TVariables, TContext> & {\n    refineCore: UseFormReturnTypeCore<TData, TError, TVariables>;\n    saveButtonProps: {\n        disabled: boolean;\n        onClick: (e: React.BaseSyntheticEvent) => void;\n    };\n};\n\nexport type UseFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = {\n    /**\n     * Configuration object for the core of the [useForm](/docs/api-reference/core/hooks/useForm/)\n     * @type [`UseFormCoreProps<TData, TError, TVariables>`](/docs/api-reference/core/hooks/useForm/#properties)\n     */\n    refineCoreProps?: UseFormCoreProps<TData, TError, TVariables>;\n    /**\n     * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n     * @default `false*`\n     */\n    warnWhenUnsavedChanges?: boolean;\n} & UseHookFormProps<TVariables, TContext>;\n\nexport const useForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    refineCoreProps,\n    warnWhenUnsavedChanges: warnWhenUnsavedChangesProp,\n    ...rest\n}: UseFormProps<TData, TError, TVariables, TContext> = {}): UseFormReturnType<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> => {\n    const {\n        warnWhenUnsavedChanges: warnWhenUnsavedChangesRefine,\n        setWarnWhen,\n    } = useWarnAboutChange();\n    const warnWhenUnsavedChanges =\n        warnWhenUnsavedChangesProp ?? warnWhenUnsavedChangesRefine;\n\n    const useFormCoreResult = useFormCore<TData, TError, TVariables>({\n        ...refineCoreProps,\n    });\n\n    const { queryResult, onFinish, formLoading } = useFormCoreResult;\n\n    const useHookFormResult = useHookForm<TVariables, TContext>({\n        ...rest,\n    });\n\n    const {\n        watch,\n        reset,\n        getValues,\n        handleSubmit: handleSubmitReactHookForm,\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (typeof queryResult?.data !== \"undefined\") {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data || {}).forEach(\n                ([key, value]) => {\n                    if (registeredFields.includes(key)) {\n                        fields[key] = value;\n                    }\n                },\n            );\n\n            reset(fields as any);\n        }\n    }, [queryResult?.data]);\n\n    useEffect(() => {\n        const subscription = watch((values: any, { type }: { type?: any }) => {\n            if (type === \"change\") {\n                onValuesChange(values);\n            }\n        });\n        return () => subscription.unsubscribe();\n    }, [watch]);\n\n    const onValuesChange = (changeValues: Record<string, any>) => {\n        if (warnWhenUnsavedChanges) {\n            setWarnWhen(true);\n        }\n        return changeValues;\n    };\n\n    const handleSubmit: UseFormHandleSubmit<TVariables> =\n        (onValid, onInvalid) => async (e) => {\n            setWarnWhen(false);\n            return await handleSubmitReactHookForm(onValid, onInvalid)(e);\n        };\n\n    const saveButtonProps = {\n        disabled: formLoading,\n        onClick: (e: React.BaseSyntheticEvent) => {\n            handleSubmit(onFinish, () => false)(e);\n        },\n    };\n\n    return {\n        ...useHookFormResult,\n        handleSubmit,\n        refineCore: useFormCoreResult,\n        saveButtonProps,\n    };\n};\n","import { useEffect, useState } from \"react\";\nimport { FieldValues } from \"react-hook-form\";\nimport { BaseRecord, HttpError } from \"@refinedev/core\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\n\nexport type UseStepsFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    steps: {\n        currentStep: number;\n        gotoStep: (step: number) => void;\n    };\n};\n\nexport type UseStepsFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the steps.\n     * `defaultStep`: Allows you to set the initial step.\n     * \n     * `isBackValidate`: Whether to validation the current step when going back.\n     * @type `{\n      defaultStep?: number;\n      isBackValidate?: boolean;\n      }`\n     * @default `defaultStep = 0` `isBackValidate = false`\n     */\n    stepsProps?: {\n        defaultStep?: number;\n        isBackValidate?: boolean;\n    };\n};\n\nexport const useStepsForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    stepsProps,\n    ...rest\n}: UseStepsFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseStepsFormReturnType<TData, TError, TVariables, TContext> => {\n    const { defaultStep = 0, isBackValidate = false } = stepsProps ?? {};\n    const [current, setCurrent] = useState(defaultStep);\n\n    const useHookFormResult = useForm({\n        ...rest,\n    });\n    const {\n        trigger,\n        getValues,\n        reset,\n        formState: { dirtyFields },\n        refineCore: { queryResult },\n    } = useHookFormResult;\n\n    useEffect(() => {\n        if (queryResult?.data) {\n            const fields: any = {};\n            const registeredFields = Object.keys(getValues());\n            Object.entries(queryResult?.data?.data).forEach(([key, value]) => {\n                if (registeredFields.includes(key)) {\n                    if (dirtyFields[key]) {\n                        fields[key] = getValues(key as any);\n                    } else {\n                        fields[key] = value;\n                    }\n                }\n            });\n\n            reset(fields as any, {\n                keepDirty: true,\n                keepDirtyValues: true,\n            });\n        }\n    }, [queryResult?.data, current]);\n\n    const go = (step: number) => {\n        let targetStep = step;\n\n        if (step < 0) {\n            targetStep = 0;\n        }\n\n        setCurrent(targetStep);\n    };\n\n    const gotoStep = async (step: number) => {\n        if (step === current) {\n            return;\n        }\n\n        if (step < current && !isBackValidate) {\n            go(step);\n            return;\n        }\n\n        const isValid = await trigger();\n        if (isValid) {\n            go(step);\n        }\n    };\n\n    return {\n        ...useHookFormResult,\n        steps: {\n            currentStep: current,\n            gotoStep,\n        },\n    };\n};\n","import { useCallback } from \"react\";\nimport {\n    BaseKey,\n    BaseRecord,\n    FormWithSyncWithLocationParams,\n    HttpError,\n    useGo,\n    useModal,\n    useParsed,\n    useResource,\n    userFriendlyResourceName,\n    useTranslate,\n    useWarnAboutChange,\n} from \"@refinedev/core\";\nimport { FieldValues } from \"react-hook-form\";\n\nimport { useForm, UseFormProps, UseFormReturnType } from \"../useForm\";\nimport React from \"react\";\n\nexport type UseModalFormReturnType<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormReturnType<TData, TError, TVariables, TContext> & {\n    modal: {\n        submit: (values: TVariables) => void;\n        close: () => void;\n        show: (id?: BaseKey) => void;\n        visible: boolean;\n        title: string;\n    };\n};\n\nexport type UseModalFormProps<\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n> = UseFormProps<TData, TError, TVariables, TContext> & {\n    /**\n     * @description Configuration object for the modal.\n     * `defaultVisible`: Initial visibility state of the modal.\n     * \n     * `autoSubmitClose`: Whether the form should be submitted when the modal is closed.\n     * \n     * `autoResetForm`: Whether the form should be reset when the form is submitted.\n     * @type `{\n      defaultVisible?: boolean;\n      autoSubmitClose?: boolean;\n      autoResetForm?: boolean;\n      }`\n     * @default `defaultVisible = false` `autoSubmitClose = true` `autoResetForm = true`\n     */\n    modalProps?: {\n        defaultVisible?: boolean;\n        autoSubmitClose?: boolean;\n        autoResetForm?: boolean;\n    };\n} & FormWithSyncWithLocationParams;\n\nexport const useModalForm = <\n    TData extends BaseRecord = BaseRecord,\n    TError extends HttpError = HttpError,\n    TVariables extends FieldValues = FieldValues,\n    TContext extends object = {},\n>({\n    modalProps,\n    refineCoreProps,\n    syncWithLocation,\n    ...rest\n}: UseModalFormProps<\n    TData,\n    TError,\n    TVariables,\n    TContext\n> = {}): UseModalFormReturnType<TData, TError, TVariables, TContext> => {\n    const initiallySynced = React.useRef(false);\n\n    const translate = useTranslate();\n\n    const { resource: resourceProp, action: actionProp } =\n        refineCoreProps ?? {};\n\n    const { resource, action: actionFromParams } = useResource(resourceProp);\n\n    const parsed = useParsed();\n    const go = useGo();\n\n    const action = actionProp ?? actionFromParams ?? \"\";\n\n    const syncingId =\n        typeof syncWithLocation === \"object\" && syncWithLocation.syncId;\n\n    const syncWithLocationKey =\n        typeof syncWithLocation === \"object\" && \"key\" in syncWithLocation\n            ? syncWithLocation.key\n            : resource && action && syncWithLocation\n            ? `modal-${resource?.identifier ?? resource?.name}-${action}`\n            : undefined;\n\n    const {\n        defaultVisible = false,\n        autoSubmitClose = true,\n        autoResetForm = true,\n    } = modalProps ?? {};\n\n    const useHookFormResult = useForm<TData, TError, TVariables, TContext>({\n        refineCoreProps,\n        ...rest,\n    });\n\n    const {\n        reset,\n        refineCore: { onFinish, id, setId },\n        saveButtonProps,\n        handleSubmit,\n    } = useHookFormResult;\n\n    const { visible, show, close } = useModal({\n        defaultVisible,\n    });\n\n    React.useEffect(() => {\n        if (initiallySynced.current === false && syncWithLocationKey) {\n            const openStatus = parsed?.params?.[syncWithLocationKey]?.open;\n            if (typeof openStatus === \"boolean\") {\n                if (openStatus) {\n                    show();\n                }\n            } else if (typeof openStatus === \"string\") {\n                if (openStatus === \"true\") {\n                    show();\n                }\n            }\n\n            if (syncingId) {\n                const idFromParams = parsed?.params?.[syncWithLocationKey]?.id;\n                if (idFromParams) {\n                    setId?.(idFromParams);\n                }\n            }\n\n            initiallySynced.current = true;\n        }\n    }, [syncWithLocationKey, parsed, syncingId, setId]);\n\n    React.useEffect(() => {\n        if (initiallySynced.current === true) {\n            if (visible && syncWithLocationKey) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: {\n                            ...parsed?.params?.[syncWithLocationKey],\n                            open: true,\n                            ...(syncingId && id && { id }),\n                        },\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            } else if (syncWithLocationKey && !visible) {\n                go({\n                    query: {\n                        [syncWithLocationKey]: undefined,\n                    },\n                    options: { keepQuery: true },\n                    type: \"replace\",\n                });\n            }\n        }\n    }, [id, visible, show, syncWithLocationKey, syncingId]);\n\n    const submit = async (values: TVariables) => {\n        await onFinish(values);\n\n        if (autoSubmitClose) {\n            close();\n        }\n\n        if (autoResetForm) {\n            reset();\n        }\n    };\n\n    const { warnWhen, setWarnWhen } = useWarnAboutChange();\n    const handleClose = useCallback(() => {\n        if (warnWhen) {\n            const warnWhenConfirm = window.confirm(\n                translate(\n                    \"warnWhenUnsavedChanges\",\n                    \"Are you sure you want to leave? You have unsaved changes.\",\n                ),\n            );\n\n            if (warnWhenConfirm) {\n                setWarnWhen(false);\n            } else {\n                return;\n            }\n        }\n\n        setId?.(undefined);\n        close();\n    }, [warnWhen]);\n\n    const handleShow = useCallback((id?: BaseKey) => {\n        setId?.(id);\n\n        show();\n    }, []);\n\n    const title = translate(\n        `${resource?.name}.titles.${actionProp}`,\n        undefined,\n        `${userFriendlyResourceName(\n            `${actionProp} ${\n                resource?.meta?.label ??\n                resource?.options?.label ??\n                resource?.label ??\n                resource?.name\n            }`,\n            \"singular\",\n        )}`,\n    );\n\n    return {\n        modal: {\n            submit,\n            close: handleClose,\n            show: handleShow,\n            visible,\n            title,\n        },\n        ...useHookFormResult,\n        saveButtonProps: {\n            ...saveButtonProps,\n            onClick: (e) => handleSubmit(submit)(e),\n        },\n    };\n};\n"],"mappings":"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","names":["useEffect","useHookForm","useFormCore","useWarnAboutChange","useForm","refineCoreProps","warnWhenUnsavedChangesProp","rest","warnWhenUnsavedChangesRefine","setWarnWhen","warnWhenUnsavedChanges","useFormCoreResult","queryResult","onFinish","formLoading","useHookFormResult","watch","reset","getValues","handleSubmitReactHookForm","_a","fields","registeredFields","key","value","subscription","values","type","onValuesChange","changeValues","handleSubmit","onValid","onInvalid","e","useEffect","useState","useStepsForm","stepsProps","rest","defaultStep","isBackValidate","current","setCurrent","useState","useHookFormResult","useForm","trigger","getValues","reset","dirtyFields","queryResult","useEffect","_a","fields","registeredFields","key","value","go","step","targetStep","useCallback","useGo","useModal","useParsed","useResource","userFriendlyResourceName","useTranslate","useWarnAboutChange","React","useModalForm","modalProps","refineCoreProps","syncWithLocation","rest","_a","_b","_c","_d","_e","_f","_g","initiallySynced","translate","useTranslate","resourceProp","actionProp","resource","actionFromParams","useResource","parsed","useParsed","go","useGo","action","syncingId","syncWithLocationKey","defaultVisible","autoSubmitClose","autoResetForm","useHookFormResult","useForm","reset","onFinish","id","setId","saveButtonProps","handleSubmit","visible","show","close","useModal","openStatus","idFromParams","submit","values","warnWhen","setWarnWhen","useWarnAboutChange","handleClose","useCallback","handleShow","title","userFriendlyResourceName","e"]}